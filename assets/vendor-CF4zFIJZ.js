var D2=Object.defineProperty;var L2=(t,e,n)=>e in t?D2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Se=(t,e,n)=>L2(t,typeof e!="symbol"?e+"":e,n);import{c as Ku,i as as,k as qr,f as jt,b as W,d as vt,e as P2,v as Mt,r as sn,h as Et,j as In,a as me,l as Io,n as fb,o as Do,p as wa,q as Be,s as db,t as kr,w as os,z as F2,x as il,y as mf,A as ni,B as $2,m as A0,C as $d,D as U2,E as B2,F as Ud,G as _n,H as Nr,I as ai,J as Sr,K as us,L as FT,M as sr,N as Jr,O as Sn,P as pb,Q as sl,R as Bd,S as L_,T as Gd,U as ri,V as P_,W as gn,X as Nc,Y as Ar,Z as G2,_ as z2,$ as q2}from"./vendor-utils-DoespHfZ.js";function H2(t){let e=0;for(let n=0;n<t.length;++n)t[n]==="&"&&++e;return e}const $T=/\s*,(?![^(]*\))\s*/g,W2=/\s+/g;function Y2(t,e){const n=[];return e.split($T).forEach(r=>{let i=H2(r);if(i){if(i===1){t.forEach(a=>{n.push(r.replace("&",a))});return}}else{t.forEach(a=>{n.push((a&&a+" ")+r)});return}let s=[r];for(;i--;){const a=[];s.forEach(o=>{t.forEach(u=>{a.push(o.replace("&",u))})}),s=a}s.forEach(a=>n.push(a))}),n}function V2(t,e){const n=[];return e.split($T).forEach(r=>{t.forEach(i=>{n.push((i&&i+" ")+r)})}),n}function X2(t){let e=[""];return t.forEach(n=>{n=n&&n.trim(),n&&(n.includes("&")?e=Y2(e,n):e=V2(e,n))}),e.join(", ").replace(W2," ")}function F_(t){if(!t)return;const e=t.parentElement;e&&e.removeChild(t)}function zd(t,e){return(e??document.head).querySelector(`style[cssr-id="${t}"]`)}function j2(t){const e=document.createElement("style");return e.setAttribute("cssr-id",t),e}function Pl(t){return t?/^\s*@(s|m)/.test(t):!1}const K2=/[A-Z]/g;function UT(t){return t.replace(K2,e=>"-"+e.toLowerCase())}function Z2(t,e="  "){return typeof t=="object"&&t!==null?` {
`+Object.entries(t).map(n=>e+`  ${UT(n[0])}: ${n[1]};`).join(`
`)+`
`+e+"}":`: ${t};`}function Q2(t,e,n){return typeof t=="function"?t({context:e.context,props:n}):t}function $_(t,e,n,r){if(!e)return"";const i=Q2(e,n,r);if(!i)return"";if(typeof i=="string")return`${t} {
${i}
}`;const s=Object.keys(i);if(s.length===0)return n.config.keepEmptyBlock?t+` {
}`:"";const a=t?[t+" {"]:[];return s.forEach(o=>{const u=i[o];if(o==="raw"){a.push(`
`+u+`
`);return}o=UT(o),u!=null&&a.push(`  ${o}${Z2(u)}`)}),t&&a.push("}"),a.join(`
`)}function N0(t,e,n){t&&t.forEach(r=>{if(Array.isArray(r))N0(r,e,n);else if(typeof r=="function"){const i=r(e);Array.isArray(i)?N0(i,e,n):i&&n(i)}else r&&n(r)})}function BT(t,e,n,r,i){const s=t.$;let a="";if(!s||typeof s=="string")Pl(s)?a=s:e.push(s);else if(typeof s=="function"){const c=s({context:r.context,props:i});Pl(c)?a=c:e.push(c)}else if(s.before&&s.before(r.context),!s.$||typeof s.$=="string")Pl(s.$)?a=s.$:e.push(s.$);else if(s.$){const c=s.$({context:r.context,props:i});Pl(c)?a=c:e.push(c)}const o=X2(e),u=$_(o,t.props,r,i);a?n.push(`${a} {`):u.length&&n.push(u),t.children&&N0(t.children,{context:r.context,props:i},c=>{if(typeof c=="string"){const l=$_(o,{raw:c},r,i);n.push(l)}else BT(c,e,n,r,i)}),e.pop(),a&&n.push("}"),s&&s.after&&s.after(r.context)}function J2(t,e,n){const r=[];return BT(t,[],r,e,n),r.join(`

`)}function eM(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}typeof window<"u"&&(window.__cssrContext={});function tM(t,e,n,r){const{els:i}=e;if(n===void 0)i.forEach(F_),e.els=[];else{const s=zd(n,r);s&&i.includes(s)&&(F_(s),e.els=i.filter(a=>a!==s))}}function U_(t,e){t.push(e)}function nM(t,e,n,r,i,s,a,o,u){let c;if(n===void 0&&(c=e.render(r),n=eM(c)),u){u.adapter(n,c??e.render(r));return}o===void 0&&(o=document.head);const l=zd(n,o);if(l!==null&&!s)return l;const h=l??j2(n);if(c===void 0&&(c=e.render(r)),h.textContent=c,l!==null)return l;if(a){const d=o.querySelector(`meta[name="${a}"]`);if(d)return o.insertBefore(h,d),U_(e.els,h),h}return i?o.insertBefore(h,o.querySelector("style, link")):o.appendChild(h),U_(e.els,h),h}function rM(t){return J2(this,this.instance,t)}function iM(t={}){const{id:e,ssr:n,props:r,head:i=!1,force:s=!1,anchorMetaName:a,parent:o}=t;return nM(this.instance,this,e,r,i,s,a,o,n)}function sM(t={}){const{id:e,parent:n}=t;tM(this.instance,this,e,n)}const Fl=function(t,e,n,r){return{instance:t,$:e,props:n,children:r,els:[],render:rM,mount:iM,unmount:sM}},aM=function(t,e,n,r){return Array.isArray(e)?Fl(t,{$:null},null,e):Array.isArray(n)?Fl(t,e,null,n):Array.isArray(r)?Fl(t,e,n,r):Fl(t,e,n,null)};function sZ(t={}){const e={c:((...n)=>aM(e,...n)),use:(n,...r)=>n.install(e,...r),find:zd,context:{},config:t};return e}function aZ(t,e){if(t===void 0)return!1;if(e){const{context:{ids:n}}=e;return n.has(t)}return zd(t)!==null}let yf=[];const GT=new WeakMap;function oM(){yf.forEach(t=>t(...GT.get(t))),yf=[]}function oZ(t,...e){GT.set(t,e),!yf.includes(t)&&yf.push(t)===1&&requestAnimationFrame(oM)}function uZ(t,e){let{target:n}=t;for(;n;){if(n.dataset&&n.dataset[e]!==void 0)return!0;n=n.parentElement}return!1}function cZ(t){return t.composedPath()[0]||null}function lZ(t){return typeof t=="string"?t.endsWith("px")?Number(t.slice(0,t.length-2)):Number(t):t}function hZ(t){if(t!=null)return typeof t=="number"?`${t}px`:t.endsWith("px")?t:`${t}px`}function fZ(t,e){const n=t.trim().split(/\s+/g),r={top:n[0]};switch(n.length){case 1:r.right=n[0],r.bottom=n[0],r.left=n[0];break;case 2:r.right=n[1],r.left=n[1],r.bottom=n[0];break;case 3:r.right=n[1],r.bottom=n[2],r.left=n[1];break;case 4:r.right=n[1],r.bottom=n[2],r.left=n[3];break;default:throw new Error("[seemly/getMargin]:"+t+" is not a valid value.")}return e===void 0?r:r[e]}const B_={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32",transparent:"#0000"};function uM(t,e,n){e/=100,n/=100;let r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5)*255,r(3)*255,r(1)*255]}function cM(t,e,n){e/=100,n/=100;let r=e*Math.min(n,1-n),i=(s,a=(s+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0)*255,i(8)*255,i(4)*255]}const Ci="^\\s*",Mi="\\s*$",Rs="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))%\\s*",wr="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",ha="([0-9A-Fa-f])",fa="([0-9A-Fa-f]{2})",zT=new RegExp(`${Ci}hsl\\s*\\(${wr},${Rs},${Rs}\\)${Mi}`),qT=new RegExp(`${Ci}hsv\\s*\\(${wr},${Rs},${Rs}\\)${Mi}`),HT=new RegExp(`${Ci}hsla\\s*\\(${wr},${Rs},${Rs},${wr}\\)${Mi}`),WT=new RegExp(`${Ci}hsva\\s*\\(${wr},${Rs},${Rs},${wr}\\)${Mi}`),lM=new RegExp(`${Ci}rgb\\s*\\(${wr},${wr},${wr}\\)${Mi}`),hM=new RegExp(`${Ci}rgba\\s*\\(${wr},${wr},${wr},${wr}\\)${Mi}`),fM=new RegExp(`${Ci}#${ha}${ha}${ha}${Mi}`),dM=new RegExp(`${Ci}#${fa}${fa}${fa}${Mi}`),pM=new RegExp(`${Ci}#${ha}${ha}${ha}${ha}${Mi}`),gM=new RegExp(`${Ci}#${fa}${fa}${fa}${fa}${Mi}`);function ar(t){return parseInt(t,16)}function mM(t){try{let e;if(e=HT.exec(t))return[bf(e[1]),xs(e[5]),xs(e[9]),ba(e[13])];if(e=zT.exec(t))return[bf(e[1]),xs(e[5]),xs(e[9]),1];throw new Error(`[seemly/hsla]: Invalid color value ${t}.`)}catch(e){throw e}}function yM(t){try{let e;if(e=WT.exec(t))return[bf(e[1]),xs(e[5]),xs(e[9]),ba(e[13])];if(e=qT.exec(t))return[bf(e[1]),xs(e[5]),xs(e[9]),1];throw new Error(`[seemly/hsva]: Invalid color value ${t}.`)}catch(e){throw e}}function Sc(t){try{let e;if(e=dM.exec(t))return[ar(e[1]),ar(e[2]),ar(e[3]),1];if(e=lM.exec(t))return[zn(e[1]),zn(e[5]),zn(e[9]),1];if(e=hM.exec(t))return[zn(e[1]),zn(e[5]),zn(e[9]),ba(e[13])];if(e=fM.exec(t))return[ar(e[1]+e[1]),ar(e[2]+e[2]),ar(e[3]+e[3]),1];if(e=gM.exec(t))return[ar(e[1]),ar(e[2]),ar(e[3]),ba(ar(e[4])/255)];if(e=pM.exec(t))return[ar(e[1]+e[1]),ar(e[2]+e[2]),ar(e[3]+e[3]),ba(ar(e[4]+e[4])/255)];if(t in B_)return Sc(B_[t]);if(zT.test(t)||HT.test(t)){const[n,r,i,s]=mM(t);return[...cM(n,r,i),s]}else if(qT.test(t)||WT.test(t)){const[n,r,i,s]=yM(t);return[...uM(n,r,i),s]}throw new Error(`[seemly/rgba]: Invalid color value ${t}.`)}catch(e){throw e}}function bM(t){return t>1?1:t<0?0:t}function S0(t,e,n,r){return`rgba(${zn(t)}, ${zn(e)}, ${zn(n)}, ${bM(r)})`}function Kp(t,e,n,r,i){return zn((t*e*(1-r)+n*r)/i)}function dZ(t,e){Array.isArray(t)||(t=Sc(t)),Array.isArray(e)||(e=Sc(e));const n=t[3],r=e[3],i=ba(n+r-n*r);return S0(Kp(t[0],n,e[0],r,i),Kp(t[1],n,e[1],r,i),Kp(t[2],n,e[2],r,i),i)}function pZ(t,e){const[n,r,i,s=1]=Array.isArray(t)?t:Sc(t);return typeof e.alpha=="number"?S0(n,r,i,e.alpha):S0(n,r,i,s)}function gZ(t,e){const[n,r,i,s=1]=Array.isArray(t)?t:Sc(t),{lightness:a=1,alpha:o=1}=e;return vM([n*a,r*a,i*a,s*o])}function ba(t){const e=Math.round(Number(t)*100)/100;return e>1?1:e<0?0:e}function bf(t){const e=Math.round(Number(t));return e>=360||e<0?0:e}function zn(t){const e=Math.round(Number(t));return e>255?255:e<0?0:e}function xs(t){const e=Math.round(Number(t));return e>100?100:e<0?0:e}function vM(t){const[e,n,r]=t;return 3 in t?`rgba(${zn(e)}, ${zn(n)}, ${zn(r)}, ${ba(t[3])})`:`rgba(${zn(e)}, ${zn(n)}, ${zn(r)}, 1)`}function mZ(t=8){return Math.random().toString(16).slice(2,2+t)}function Ch(t){return t.composedPath()[0]}const _M={mousemoveoutside:new WeakMap,clickoutside:new WeakMap};function EM(t,e,n){if(t==="mousemoveoutside"){const r=i=>{e.contains(Ch(i))||n(i)};return{mousemove:r,touchstart:r}}else if(t==="clickoutside"){let r=!1;const i=a=>{r=!e.contains(Ch(a))},s=a=>{r&&(e.contains(Ch(a))||n(a))};return{mousedown:i,mouseup:s,touchstart:i,touchend:s}}return console.error(`[evtd/create-trap-handler]: name \`${t}\` is invalid. This could be a bug of evtd.`),{}}function YT(t,e,n){const r=_M[t];let i=r.get(e);i===void 0&&r.set(e,i=new WeakMap);let s=i.get(n);return s===void 0&&i.set(n,s=EM(t,e,n)),s}function wM(t,e,n,r){if(t==="mousemoveoutside"||t==="clickoutside"){const i=YT(t,e,n);return Object.keys(i).forEach(s=>{kM(s,document,i[s],r)}),!0}return!1}function xM(t,e,n,r){if(t==="mousemoveoutside"||t==="clickoutside"){const i=YT(t,e,n);return Object.keys(i).forEach(s=>{AM(s,document,i[s],r)}),!0}return!1}function TM(){if(typeof window>"u")return{on:()=>{},off:()=>{}};const t=new WeakMap,e=new WeakMap;function n(){t.set(this,!0)}function r(){t.set(this,!0),e.set(this,!0)}function i(x,S,O){const D=x[S];return x[S]=function(){return O.apply(x,arguments),D.apply(x,arguments)},x}function s(x,S){x[S]=Event.prototype[S]}const a=new WeakMap,o=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function u(){var x;return(x=a.get(this))!==null&&x!==void 0?x:null}function c(x,S){o!==void 0&&Object.defineProperty(x,"currentTarget",{configurable:!0,enumerable:!0,get:S??o.get})}const l={bubble:{},capture:{}},h={};function d(){const x=function(S){const{type:O,eventPhase:D,bubbles:I}=S,M=Ch(S);if(D===2)return;const R=D===1?"capture":"bubble";let E=M;const w=[];for(;E===null&&(E=window),w.push(E),E!==window;)E=E.parentNode||null;const T=l.capture[O],A=l.bubble[O];if(i(S,"stopPropagation",n),i(S,"stopImmediatePropagation",r),c(S,u),R==="capture"){if(T===void 0)return;for(let N=w.length-1;N>=0&&!t.has(S);--N){const P=w[N],F=T.get(P);if(F!==void 0){a.set(S,P);for(const B of F){if(e.has(S))break;B(S)}}if(N===0&&!I&&A!==void 0){const B=A.get(P);if(B!==void 0)for(const H of B){if(e.has(S))break;H(S)}}}}else if(R==="bubble"){if(A===void 0)return;for(let N=0;N<w.length&&!t.has(S);++N){const P=w[N],F=A.get(P);if(F!==void 0){a.set(S,P);for(const B of F){if(e.has(S))break;B(S)}}}}s(S,"stopPropagation"),s(S,"stopImmediatePropagation"),c(S)};return x.displayName="evtdUnifiedHandler",x}function f(){const x=function(S){const{type:O,eventPhase:D}=S;if(D!==2)return;const I=h[O];I!==void 0&&I.forEach(M=>M(S))};return x.displayName="evtdUnifiedWindowEventHandler",x}const p=d(),g=f();function m(x,S){const O=l[x];return O[S]===void 0&&(O[S]=new Map,window.addEventListener(S,p,x==="capture")),O[S]}function y(x){return h[x]===void 0&&(h[x]=new Set,window.addEventListener(x,g)),h[x]}function v(x,S){let O=x.get(S);return O===void 0&&x.set(S,O=new Set),O}function b(x,S,O,D){const I=l[S][O];if(I!==void 0){const M=I.get(x);if(M!==void 0&&M.has(D))return!0}return!1}function _(x,S){const O=h[x];return!!(O!==void 0&&O.has(S))}function k(x,S,O,D){let I;if(typeof D=="object"&&D.once===!0?I=T=>{C(x,S,I,D),O(T)}:I=O,wM(x,S,I,D))return;const R=D===!0||typeof D=="object"&&D.capture===!0?"capture":"bubble",E=m(R,x),w=v(E,S);if(w.has(I)||w.add(I),S===window){const T=y(x);T.has(I)||T.add(I)}}function C(x,S,O,D){if(xM(x,S,O,D))return;const M=D===!0||typeof D=="object"&&D.capture===!0,R=M?"capture":"bubble",E=m(R,x),w=v(E,S);if(S===window&&!b(S,M?"bubble":"capture",x,O)&&_(x,O)){const A=h[x];A.delete(O),A.size===0&&(window.removeEventListener(x,g),h[x]=void 0)}w.has(O)&&w.delete(O),w.size===0&&E.delete(S),E.size===0&&(window.removeEventListener(x,p,R==="capture"),l[R][x]=void 0)}return{on:k,off:C}}const{on:kM,off:AM}=TM();function Zp(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}function hu(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}function fu(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(o)?SM(o,h=>h.test(a)):NM(o,h=>h.test(a));let c;c=t.valueCallback?t.valueCallback(u):u,c=n.valueCallback?n.valueCallback(c):c;const l=e.slice(a.length);return{value:c,rest:l}}}function NM(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function SM(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function RM(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const CM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},MM=(t,e,n)=>{let r;const i=CM[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},OM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},IM=(t,e,n,r)=>OM[t],DM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},LM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},PM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},FM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$M={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},UM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},BM=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},GM={ordinalNumber:BM,era:hu({values:DM,defaultWidth:"wide"}),quarter:hu({values:LM,defaultWidth:"wide",argumentCallback:t=>t-1}),month:hu({values:PM,defaultWidth:"wide"}),day:hu({values:FM,defaultWidth:"wide"}),dayPeriod:hu({values:$M,defaultWidth:"wide",formattingValues:UM,defaultFormattingWidth:"wide"})},zM=/^(\d+)(th|st|nd|rd)?/i,qM=/\d+/i,HM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},WM={any:[/^b/i,/^(a|c)/i]},YM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},VM={any:[/1/i,/2/i,/3/i,/4/i]},XM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},KM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ZM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},QM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},JM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},eO={ordinalNumber:RM({matchPattern:zM,parsePattern:qM,valueCallback:t=>parseInt(t,10)}),era:fu({matchPatterns:HM,defaultMatchWidth:"wide",parsePatterns:WM,defaultParseWidth:"any"}),quarter:fu({matchPatterns:YM,defaultMatchWidth:"wide",parsePatterns:VM,defaultParseWidth:"any",valueCallback:t=>t+1}),month:fu({matchPatterns:XM,defaultMatchWidth:"wide",parsePatterns:jM,defaultParseWidth:"any"}),day:fu({matchPatterns:KM,defaultMatchWidth:"wide",parsePatterns:ZM,defaultParseWidth:"any"}),dayPeriod:fu({matchPatterns:QM,defaultMatchWidth:"any",parsePatterns:JM,defaultParseWidth:"any"})},tO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},iO={date:Zp({formats:tO,defaultWidth:"full"}),time:Zp({formats:nO,defaultWidth:"full"}),dateTime:Zp({formats:rO,defaultWidth:"full"})},yZ={code:"en-US",formatDistance:MM,formatLong:iO,formatRelative:IM,localize:GM,match:eO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function G_(t){return Array.isArray(t)?t:[t]}const R0={STOP:"STOP"};function VT(t,e){const n=e(t);t.children!==void 0&&n!==R0.STOP&&t.children.forEach(r=>VT(r,e))}function sO(t,e={}){const{preserveGroup:n=!1}=e,r=[],i=n?a=>{a.isLeaf||(r.push(a.key),s(a.children))}:a=>{a.isLeaf||(a.isGroup||r.push(a.key),s(a.children))};function s(a){a.forEach(i)}return s(t),r}function aO(t,e){const{isLeaf:n}=t;return n!==void 0?n:!e(t)}function oO(t){return t.children}function uO(t){return t.key}function cO(){return!1}function lO(t,e){const{isLeaf:n}=t;return!(n===!1&&!Array.isArray(e(t)))}function hO(t){return t.disabled===!0}function fO(t,e){return t.isLeaf===!1&&!Array.isArray(e(t))}function Qp(t){var e;return t==null?[]:Array.isArray(t)?t:(e=t.checkedKeys)!==null&&e!==void 0?e:[]}function Jp(t){var e;return t==null||Array.isArray(t)?[]:(e=t.indeterminateKeys)!==null&&e!==void 0?e:[]}function dO(t,e){const n=new Set(t);return e.forEach(r=>{n.has(r)||n.add(r)}),Array.from(n)}function pO(t,e){const n=new Set(t);return e.forEach(r=>{n.has(r)&&n.delete(r)}),Array.from(n)}function gO(t){return(t==null?void 0:t.type)==="group"}function bZ(t){const e=new Map;return t.forEach((n,r)=>{e.set(n.key,r)}),n=>{var r;return(r=e.get(n))!==null&&r!==void 0?r:null}}class mO extends Error{constructor(){super(),this.message="SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded."}}function yO(t,e,n,r){return vf(e.concat(t),n,r,!1)}function bO(t,e){const n=new Set;return t.forEach(r=>{const i=e.treeNodeMap.get(r);if(i!==void 0){let s=i.parent;for(;s!==null&&!(s.disabled||n.has(s.key));)n.add(s.key),s=s.parent}}),n}function vO(t,e,n,r){const i=vf(e,n,r,!1),s=vf(t,n,r,!0),a=bO(t,n),o=[];return i.forEach(u=>{(s.has(u)||a.has(u))&&o.push(u)}),o.forEach(u=>i.delete(u)),i}function eg(t,e){const{checkedKeys:n,keysToCheck:r,keysToUncheck:i,indeterminateKeys:s,cascade:a,leafOnly:o,checkStrategy:u,allowNotLoaded:c}=t;if(!a)return r!==void 0?{checkedKeys:dO(n,r),indeterminateKeys:Array.from(s)}:i!==void 0?{checkedKeys:pO(n,i),indeterminateKeys:Array.from(s)}:{checkedKeys:Array.from(n),indeterminateKeys:Array.from(s)};const{levelTreeNodeMap:l}=e;let h;i!==void 0?h=vO(i,n,e,c):r!==void 0?h=yO(r,n,e,c):h=vf(n,e,c,!1);const d=u==="parent",f=u==="child"||o,p=h,g=new Set,m=Math.max.apply(null,Array.from(l.keys()));for(let y=m;y>=0;y-=1){const v=y===0,b=l.get(y);for(const _ of b){if(_.isLeaf)continue;const{key:k,shallowLoaded:C}=_;if(f&&C&&_.children.forEach(D=>{!D.disabled&&!D.isLeaf&&D.shallowLoaded&&p.has(D.key)&&p.delete(D.key)}),_.disabled||!C)continue;let x=!0,S=!1,O=!0;for(const D of _.children){const I=D.key;if(!D.disabled){if(O&&(O=!1),p.has(I))S=!0;else if(g.has(I)){S=!0,x=!1;break}else if(x=!1,S)break}}x&&!O?(d&&_.children.forEach(D=>{!D.disabled&&p.has(D.key)&&p.delete(D.key)}),p.add(k)):S&&g.add(k),v&&f&&p.has(k)&&p.delete(k)}}return{checkedKeys:Array.from(p),indeterminateKeys:Array.from(g)}}function vf(t,e,n,r){const{treeNodeMap:i,getChildren:s}=e,a=new Set,o=new Set(t);return t.forEach(u=>{const c=i.get(u);c!==void 0&&VT(c,l=>{if(l.disabled)return R0.STOP;const{key:h}=l;if(!a.has(h)&&(a.add(h),o.add(h),fO(l.rawNode,s))){if(r)return R0.STOP;if(!n)throw new mO}})}),o}function _O(t,{includeGroup:e=!1,includeSelf:n=!0},r){var i;const s=r.treeNodeMap;let a=t==null?null:(i=s.get(t))!==null&&i!==void 0?i:null;const o={keyPath:[],treeNodePath:[],treeNode:a};if(a!=null&&a.ignored)return o.treeNode=null,o;for(;a;)!a.ignored&&(e||!a.isGroup)&&o.treeNodePath.push(a),a=a.parent;return o.treeNodePath.reverse(),n||o.treeNodePath.pop(),o.keyPath=o.treeNodePath.map(u=>u.key),o}function EO(t){if(t.length===0)return null;const e=t[0];return e.isGroup||e.ignored||e.disabled?e.getNext():e}function wO(t,e){const n=t.siblings,r=n.length,{index:i}=t;return e?n[(i+1)%r]:i===n.length-1?null:n[i+1]}function z_(t,e,{loop:n=!1,includeDisabled:r=!1}={}){const i=e==="prev"?xO:wO,s={reverse:e==="prev"};let a=!1,o=null;function u(c){if(c!==null){if(c===t){if(!a)a=!0;else if(!t.disabled&&!t.isGroup){o=t;return}}else if((!c.disabled||r)&&!c.ignored&&!c.isGroup){o=c;return}if(c.isGroup){const l=gb(c,s);l!==null?o=l:u(i(c,n))}else{const l=i(c,!1);if(l!==null)u(l);else{const h=TO(c);h!=null&&h.isGroup?u(i(h,n)):n&&u(i(c,!0))}}}}return u(t),o}function xO(t,e){const n=t.siblings,r=n.length,{index:i}=t;return e?n[(i-1+r)%r]:i===0?null:n[i-1]}function TO(t){return t.parent}function gb(t,e={}){const{reverse:n=!1}=e,{children:r}=t;if(r){const{length:i}=r,s=n?i-1:0,a=n?-1:i,o=n?-1:1;for(let u=s;u!==a;u+=o){const c=r[u];if(!c.disabled&&!c.ignored)if(c.isGroup){const l=gb(c,e);if(l!==null)return l}else return c}}return null}const kO={getChild(){return this.ignored?null:gb(this)},getParent(){const{parent:t}=this;return t!=null&&t.isGroup?t.getParent():t},getNext(t={}){return z_(this,"next",t)},getPrev(t={}){return z_(this,"prev",t)}};function AO(t,e){const n=e?new Set(e):void 0,r=[];function i(s){s.forEach(a=>{r.push(a),!(a.isLeaf||!a.children||a.ignored)&&(a.isGroup||n===void 0||n.has(a.key))&&i(a.children)})}return i(t),r}function NO(t,e){const n=t.key;for(;e;){if(e.key===n)return!0;e=e.parent}return!1}function XT(t,e,n,r,i,s=null,a=0){const o=[];return t.forEach((u,c)=>{var l;const h=Object.create(r);if(h.rawNode=u,h.siblings=o,h.level=a,h.index=c,h.isFirstChild=c===0,h.isLastChild=c+1===t.length,h.parent=s,!h.ignored){const d=i(u);Array.isArray(d)&&(h.children=XT(d,e,n,r,i,h,a+1))}o.push(h),e.set(h.key,h),n.has(a)||n.set(a,[]),(l=n.get(a))===null||l===void 0||l.push(h)}),o}function vZ(t,e={}){var n;const r=new Map,i=new Map,{getDisabled:s=hO,getIgnored:a=cO,getIsGroup:o=gO,getKey:u=uO}=e,c=(n=e.getChildren)!==null&&n!==void 0?n:oO,l=e.ignoreEmptyChildren?_=>{const k=c(_);return Array.isArray(k)?k.length?k:null:k}:c,h=Object.assign({get key(){return u(this.rawNode)},get disabled(){return s(this.rawNode)},get isGroup(){return o(this.rawNode)},get isLeaf(){return aO(this.rawNode,l)},get shallowLoaded(){return lO(this.rawNode,l)},get ignored(){return a(this.rawNode)},contains(_){return NO(this,_)}},kO),d=XT(t,r,i,h,l);function f(_){if(_==null)return null;const k=r.get(_);return k&&!k.isGroup&&!k.ignored?k:null}function p(_){if(_==null)return null;const k=r.get(_);return k&&!k.ignored?k:null}function g(_,k){const C=p(_);return C?C.getPrev(k):null}function m(_,k){const C=p(_);return C?C.getNext(k):null}function y(_){const k=p(_);return k?k.getParent():null}function v(_){const k=p(_);return k?k.getChild():null}const b={treeNodes:d,treeNodeMap:r,levelTreeNodeMap:i,maxLevel:Math.max(...i.keys()),getChildren:l,getFlattenedNodes(_){return AO(d,_)},getNode:f,getPrev:g,getNext:m,getParent:y,getChild:v,getFirstAvailableNode(){return EO(d)},getPath(_,k={}){return _O(_,k,b)},getCheckedKeys(_,k={}){const{cascade:C=!0,leafOnly:x=!1,checkStrategy:S="all",allowNotLoaded:O=!1}=k;return eg({checkedKeys:Qp(_),indeterminateKeys:Jp(_),cascade:C,leafOnly:x,checkStrategy:S,allowNotLoaded:O},b)},check(_,k,C={}){const{cascade:x=!0,leafOnly:S=!1,checkStrategy:O="all",allowNotLoaded:D=!1}=C;return eg({checkedKeys:Qp(k),indeterminateKeys:Jp(k),keysToCheck:_==null?[]:G_(_),cascade:x,leafOnly:S,checkStrategy:O,allowNotLoaded:D},b)},uncheck(_,k,C={}){const{cascade:x=!0,leafOnly:S=!1,checkStrategy:O="all",allowNotLoaded:D=!1}=C;return eg({checkedKeys:Qp(k),indeterminateKeys:Jp(k),keysToUncheck:_==null?[]:G_(_),cascade:x,leafOnly:S,checkStrategy:O,allowNotLoaded:D},b)},getNonLeafKeys(_={}){return sO(d,_)}};return b}function da(){return da=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},da.apply(this,arguments)}function SO(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Rc(t,e)}function C0(t){return C0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},C0(t)}function Rc(t,e){return Rc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Rc(t,e)}function RO(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mh(t,e,n){return RO()?Mh=Reflect.construct.bind():Mh=function(i,s,a){var o=[null];o.push.apply(o,s);var u=Function.bind.apply(i,o),c=new u;return a&&Rc(c,a.prototype),c},Mh.apply(null,arguments)}function CO(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function M0(t){var e=typeof Map=="function"?new Map:void 0;return M0=function(r){if(r===null||!CO(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return Mh(r,arguments,C0(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Rc(i,r)},M0(t)}var MO=/%[sdj%]/g,OO=function(){};function O0(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function xr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,s=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var a=t.replace(MO,function(o){if(o==="%%")return"%";if(i>=s)return o;switch(o){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return o}});return a}return t}function IO(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function ln(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||IO(e)&&typeof t=="string"&&!t)}function DO(t,e,n){var r=[],i=0,s=t.length;function a(o){r.push.apply(r,o||[]),i++,i===s&&n(r)}t.forEach(function(o){e(o,a)})}function q_(t,e,n){var r=0,i=t.length;function s(a){if(a&&a.length){n(a);return}var o=r;r=r+1,o<i?e(t[o],s):n([])}s([])}function LO(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var H_=(function(t){SO(e,t);function e(n,r){var i;return i=t.call(this,"Async Validation Error")||this,i.errors=n,i.fields=r,i}return e})(M0(Error));function PO(t,e,n,r,i){if(e.first){var s=new Promise(function(d,f){var p=function(y){return r(y),y.length?f(new H_(y,O0(y))):d(i)},g=LO(t);q_(g,n,p)});return s.catch(function(d){return d}),s}var a=e.firstFields===!0?Object.keys(t):e.firstFields||[],o=Object.keys(t),u=o.length,c=0,l=[],h=new Promise(function(d,f){var p=function(m){if(l.push.apply(l,m),c++,c===u)return r(l),l.length?f(new H_(l,O0(l))):d(i)};o.length||(r(l),d(i)),o.forEach(function(g){var m=t[g];a.indexOf(g)!==-1?q_(m,n,p):DO(m,n,p)})});return h.catch(function(d){return d}),h}function FO(t){return!!(t&&t.message!==void 0)}function $O(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function W_(t,e){return function(n){var r;return t.fullFields?r=$O(e,t.fullFields):r=e[n.field||t.fullField],FO(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function Y_(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];typeof r=="object"&&typeof t[n]=="object"?t[n]=da({},t[n],r):t[n]=r}}return t}var jT=function(e,n,r,i,s,a){e.required&&(!r.hasOwnProperty(e.field)||ln(n,a||e.type))&&i.push(xr(s.messages.required,e.fullField))},UO=function(e,n,r,i,s){(/^\s+$/.test(n)||n==="")&&i.push(xr(s.messages.whitespace,e.fullField))},$l,BO=(function(){if($l)return $l;var t="[a-fA-F\\d:]",e=function(_){return _&&_.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),s=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),a=new RegExp("^"+n+"$"),o=new RegExp("^"+i+"$"),u=function(_){return _&&_.exact?s:new RegExp("(?:"+e(_)+n+e(_)+")|(?:"+e(_)+i+e(_)+")","g")};u.v4=function(b){return b&&b.exact?a:new RegExp(""+e(b)+n+e(b),"g")},u.v6=function(b){return b&&b.exact?o:new RegExp(""+e(b)+i+e(b),"g")};var c="(?:(?:[a-z]+:)?//)",l="(?:\\S+(?::\\S*)?@)?",h=u.v4().source,d=u.v6().source,f="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",p="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",g="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",m="(?::\\d{2,5})?",y='(?:[/?#][^\\s"]*)?',v="(?:"+c+"|www\\.)"+l+"(?:localhost|"+h+"|"+d+"|"+f+p+g+")"+m+y;return $l=new RegExp("(?:^"+v+"$)","i"),$l}),V_={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Zu={integer:function(e){return Zu.number(e)&&parseInt(e,10)===e},float:function(e){return Zu.number(e)&&!Zu.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!Zu.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(V_.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(BO())},hex:function(e){return typeof e=="string"&&!!e.match(V_.hex)}},GO=function(e,n,r,i,s){if(e.required&&n===void 0){jT(e,n,r,i,s);return}var a=["integer","float","array","regexp","object","method","email","number","date","url","hex"],o=e.type;a.indexOf(o)>-1?Zu[o](n)||i.push(xr(s.messages.types[o],e.fullField,e.type)):o&&typeof n!==e.type&&i.push(xr(s.messages.types[o],e.fullField,e.type))},zO=function(e,n,r,i,s){var a=typeof e.len=="number",o=typeof e.min=="number",u=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=n,h=null,d=typeof n=="number",f=typeof n=="string",p=Array.isArray(n);if(d?h="number":f?h="string":p&&(h="array"),!h)return!1;p&&(l=n.length),f&&(l=n.replace(c,"_").length),a?l!==e.len&&i.push(xr(s.messages[h].len,e.fullField,e.len)):o&&!u&&l<e.min?i.push(xr(s.messages[h].min,e.fullField,e.min)):u&&!o&&l>e.max?i.push(xr(s.messages[h].max,e.fullField,e.max)):o&&u&&(l<e.min||l>e.max)&&i.push(xr(s.messages[h].range,e.fullField,e.min,e.max))},Ya="enum",qO=function(e,n,r,i,s){e[Ya]=Array.isArray(e[Ya])?e[Ya]:[],e[Ya].indexOf(n)===-1&&i.push(xr(s.messages[Ya],e.fullField,e[Ya].join(", ")))},HO=function(e,n,r,i,s){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||i.push(xr(s.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var a=new RegExp(e.pattern);a.test(n)||i.push(xr(s.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},ut={required:jT,whitespace:UO,type:GO,range:zO,enum:qO,pattern:HO},WO=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(ln(n,"string")&&!e.required)return r();ut.required(e,n,i,a,s,"string"),ln(n,"string")||(ut.type(e,n,i,a,s),ut.range(e,n,i,a,s),ut.pattern(e,n,i,a,s),e.whitespace===!0&&ut.whitespace(e,n,i,a,s))}r(a)},YO=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(ln(n)&&!e.required)return r();ut.required(e,n,i,a,s),n!==void 0&&ut.type(e,n,i,a,s)}r(a)},VO=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(n===""&&(n=void 0),ln(n)&&!e.required)return r();ut.required(e,n,i,a,s),n!==void 0&&(ut.type(e,n,i,a,s),ut.range(e,n,i,a,s))}r(a)},XO=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(ln(n)&&!e.required)return r();ut.required(e,n,i,a,s),n!==void 0&&ut.type(e,n,i,a,s)}r(a)},jO=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(ln(n)&&!e.required)return r();ut.required(e,n,i,a,s),ln(n)||ut.type(e,n,i,a,s)}r(a)},KO=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(ln(n)&&!e.required)return r();ut.required(e,n,i,a,s),n!==void 0&&(ut.type(e,n,i,a,s),ut.range(e,n,i,a,s))}r(a)},ZO=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(ln(n)&&!e.required)return r();ut.required(e,n,i,a,s),n!==void 0&&(ut.type(e,n,i,a,s),ut.range(e,n,i,a,s))}r(a)},QO=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(n==null&&!e.required)return r();ut.required(e,n,i,a,s,"array"),n!=null&&(ut.type(e,n,i,a,s),ut.range(e,n,i,a,s))}r(a)},JO=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(ln(n)&&!e.required)return r();ut.required(e,n,i,a,s),n!==void 0&&ut.type(e,n,i,a,s)}r(a)},eI="enum",tI=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(ln(n)&&!e.required)return r();ut.required(e,n,i,a,s),n!==void 0&&ut[eI](e,n,i,a,s)}r(a)},nI=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(ln(n,"string")&&!e.required)return r();ut.required(e,n,i,a,s),ln(n,"string")||ut.pattern(e,n,i,a,s)}r(a)},rI=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(ln(n,"date")&&!e.required)return r();if(ut.required(e,n,i,a,s),!ln(n,"date")){var u;n instanceof Date?u=n:u=new Date(n),ut.type(e,u,i,a,s),u&&ut.range(e,u.getTime(),i,a,s)}}r(a)},iI=function(e,n,r,i,s){var a=[],o=Array.isArray(n)?"array":typeof n;ut.required(e,n,i,a,s,o),r(a)},tg=function(e,n,r,i,s){var a=e.type,o=[],u=e.required||!e.required&&i.hasOwnProperty(e.field);if(u){if(ln(n,a)&&!e.required)return r();ut.required(e,n,i,o,s,a),ln(n,a)||ut.type(e,n,i,o,s)}r(o)},sI=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(ln(n)&&!e.required)return r();ut.required(e,n,i,a,s)}r(a)},vc={string:WO,method:YO,number:VO,boolean:XO,regexp:jO,integer:KO,float:ZO,array:QO,object:JO,enum:tI,pattern:nI,date:rI,url:tg,hex:tg,email:tg,required:iI,any:sI};function I0(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var D0=I0(),qd=(function(){function t(n){this.rules=null,this._messages=D0,this.define(n)}var e=t.prototype;return e.define=function(r){var i=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(s){var a=r[s];i.rules[s]=Array.isArray(a)?a:[a]})},e.messages=function(r){return r&&(this._messages=Y_(I0(),r)),this._messages},e.validate=function(r,i,s){var a=this;i===void 0&&(i={}),s===void 0&&(s=function(){});var o=r,u=i,c=s;if(typeof u=="function"&&(c=u,u={}),!this.rules||Object.keys(this.rules).length===0)return c&&c(null,o),Promise.resolve(o);function l(g){var m=[],y={};function v(_){if(Array.isArray(_)){var k;m=(k=m).concat.apply(k,_)}else m.push(_)}for(var b=0;b<g.length;b++)v(g[b]);m.length?(y=O0(m),c(m,y)):c(null,o)}if(u.messages){var h=this.messages();h===D0&&(h=I0()),Y_(h,u.messages),u.messages=h}else u.messages=this.messages();var d={},f=u.keys||Object.keys(this.rules);f.forEach(function(g){var m=a.rules[g],y=o[g];m.forEach(function(v){var b=v;typeof b.transform=="function"&&(o===r&&(o=da({},o)),y=o[g]=b.transform(y)),typeof b=="function"?b={validator:b}:b=da({},b),b.validator=a.getValidationMethod(b),b.validator&&(b.field=g,b.fullField=b.fullField||g,b.type=a.getType(b),d[g]=d[g]||[],d[g].push({rule:b,value:y,source:o,field:g}))})});var p={};return PO(d,u,function(g,m){var y=g.rule,v=(y.type==="object"||y.type==="array")&&(typeof y.fields=="object"||typeof y.defaultField=="object");v=v&&(y.required||!y.required&&g.value),y.field=g.field;function b(C,x){return da({},x,{fullField:y.fullField+"."+C,fullFields:y.fullFields?[].concat(y.fullFields,[C]):[C]})}function _(C){C===void 0&&(C=[]);var x=Array.isArray(C)?C:[C];!u.suppressWarning&&x.length&&t.warning("async-validator:",x),x.length&&y.message!==void 0&&(x=[].concat(y.message));var S=x.map(W_(y,o));if(u.first&&S.length)return p[y.field]=1,m(S);if(!v)m(S);else{if(y.required&&!g.value)return y.message!==void 0?S=[].concat(y.message).map(W_(y,o)):u.error&&(S=[u.error(y,xr(u.messages.required,y.field))]),m(S);var O={};y.defaultField&&Object.keys(g.value).map(function(M){O[M]=y.defaultField}),O=da({},O,g.rule.fields);var D={};Object.keys(O).forEach(function(M){var R=O[M],E=Array.isArray(R)?R:[R];D[M]=E.map(b.bind(null,M))});var I=new t(D);I.messages(u.messages),g.rule.options&&(g.rule.options.messages=u.messages,g.rule.options.error=u.error),I.validate(g.value,g.rule.options||u,function(M){var R=[];S&&S.length&&R.push.apply(R,S),M&&M.length&&R.push.apply(R,M),m(R.length?R:null)})}}var k;if(y.asyncValidator)k=y.asyncValidator(y,g.value,_,g.source,u);else if(y.validator){try{k=y.validator(y,g.value,_,g.source,u)}catch(C){console.error==null||console.error(C),u.suppressValidatorError||setTimeout(function(){throw C},0),_(C.message)}k===!0?_():k===!1?_(typeof y.message=="function"?y.message(y.fullField||y.field):y.message||(y.fullField||y.field)+" fails"):k instanceof Array?_(k):k instanceof Error&&_(k.message)}k&&k.then&&k.then(function(){return _()},function(C){return _(C)})},function(g){l(g)},o)},e.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!vc.hasOwnProperty(r.type))throw new Error(xr("Unknown rule type %s",r.type));return r.type||"string"},e.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var i=Object.keys(r),s=i.indexOf("message");return s!==-1&&i.splice(s,1),i.length===1&&i[0]==="required"?vc.required:vc[this.getType(r)]||void 0},t})();qd.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");vc[e]=n};qd.warning=OO;qd.messages=D0;qd.validators=vc;const L0="RFC3986",P0={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},aI="RFC1738",oI=Array.isArray,hi=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),ng=1024,uI=(t,e,n,r,i)=>{if(t.length===0)return t;let s=t;if(typeof t=="symbol"?s=Symbol.prototype.toString.call(t):typeof t!="string"&&(s=String(t)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(o){return"%26%23"+parseInt(o.slice(2),16)+"%3B"});let a="";for(let o=0;o<s.length;o+=ng){const u=s.length>=ng?s.slice(o,o+ng):s,c=[];for(let l=0;l<u.length;++l){let h=u.charCodeAt(l);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||i===aI&&(h===40||h===41)){c[c.length]=u.charAt(l);continue}if(h<128){c[c.length]=hi[h];continue}if(h<2048){c[c.length]=hi[192|h>>6]+hi[128|h&63];continue}if(h<55296||h>=57344){c[c.length]=hi[224|h>>12]+hi[128|h>>6&63]+hi[128|h&63];continue}l+=1,h=65536+((h&1023)<<10|u.charCodeAt(l)&1023),c[c.length]=hi[240|h>>18]+hi[128|h>>12&63]+hi[128|h>>6&63]+hi[128|h&63]}a+=c.join("")}return a};function cI(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function X_(t,e){if(oI(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}const lI=Object.prototype.hasOwnProperty,KT={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},vi=Array.isArray,hI=Array.prototype.push,ZT=function(t,e){hI.apply(t,vi(e)?e:[e])},fI=Date.prototype.toISOString,cn={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:uI,encodeValuesOnly:!1,format:L0,formatter:P0[L0],indices:!1,serializeDate(t){return fI.call(t)},skipNulls:!1,strictNullHandling:!1};function dI(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const rg={};function QT(t,e,n,r,i,s,a,o,u,c,l,h,d,f,p,g,m,y){let v=t,b=y,_=0,k=!1;for(;(b=b.get(rg))!==void 0&&!k;){const D=b.get(t);if(_+=1,typeof D<"u"){if(D===_)throw new RangeError("Cyclic object value");k=!0}typeof b.get(rg)>"u"&&(_=0)}if(typeof c=="function"?v=c(e,v):v instanceof Date?v=d==null?void 0:d(v):n==="comma"&&vi(v)&&(v=X_(v,function(D){return D instanceof Date?d==null?void 0:d(D):D})),v===null){if(s)return u&&!g?u(e,cn.encoder,m,"key",f):e;v=""}if(dI(v)||cI(v)){if(u){const D=g?e:u(e,cn.encoder,m,"key",f);return[(p==null?void 0:p(D))+"="+(p==null?void 0:p(u(v,cn.encoder,m,"value",f)))]}return[(p==null?void 0:p(e))+"="+(p==null?void 0:p(String(v)))]}const C=[];if(typeof v>"u")return C;let x;if(n==="comma"&&vi(v))g&&u&&(v=X_(v,u)),x=[{value:v.length>0?v.join(",")||null:void 0}];else if(vi(c))x=c;else{const D=Object.keys(v);x=l?D.sort(l):D}const S=o?String(e).replace(/\./g,"%2E"):String(e),O=r&&vi(v)&&v.length===1?S+"[]":S;if(i&&vi(v)&&v.length===0)return O+"[]";for(let D=0;D<x.length;++D){const I=x[D],M=typeof I=="object"&&typeof I.value<"u"?I.value:v[I];if(a&&M===null)continue;const R=h&&o?I.replace(/\./g,"%2E"):I,E=vi(v)?typeof n=="function"?n(O,R):O:O+(h?"."+R:"["+R+"]");y.set(t,_);const w=new WeakMap;w.set(rg,y),ZT(C,QT(M,E,n,r,i,s,a,o,n==="comma"&&g&&vi(v)?null:u,c,l,h,d,f,p,g,m,w))}return C}function pI(t=cn){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||cn.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=L0;if(typeof t.format<"u"){if(!lI.call(P0,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=P0[n];let i=cn.filter;(typeof t.filter=="function"||vi(t.filter))&&(i=t.filter);let s;if(t.arrayFormat&&t.arrayFormat in KT?s=t.arrayFormat:"indices"in t?s=t.indices?"indices":"repeat":s=cn.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:cn.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:cn.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:cn.allowEmptyArrays,arrayFormat:s,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:cn.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?cn.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:cn.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:cn.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:cn.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:cn.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:cn.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:cn.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:cn.strictNullHandling}}function gI(t,e={}){let n=t;const r=pI(e);let i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):vi(r.filter)&&(s=r.filter,i=s);const a=[];if(typeof n!="object"||n===null)return"";const o=KT[r.arrayFormat],u=o==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);const c=new WeakMap;for(let d=0;d<i.length;++d){const f=i[d];r.skipNulls&&n[f]===null||ZT(a,QT(n[f],f,o,u,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}const l=a.join(r.delimiter);let h=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),l.length>0?h+l:""}const io="4.104.0";let j_=!1,_c,JT,ek,F0,tk,nk,rk,ik,sk;function mI(t,e={auto:!1}){if(j_)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(_c)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${_c}'\``);j_=e.auto,_c=t.kind,JT=t.fetch,ek=t.FormData,F0=t.File,tk=t.ReadableStream,nk=t.getMultipartRequestOptions,rk=t.getDefaultAgent,ik=t.fileFromPath,sk=t.isFsReadStream}class yI{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function bI({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,i,s;try{n=fetch,r=Request,i=Response,s=Headers}catch(a){throw new Error(`this environment is missing the following Web Fetch API type: ${a.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:i,Headers:s,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(a,o)=>({...o,body:new yI(a)}),getDefaultAgent:a=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:a=>!1}}const ak=()=>{_c||mI(bI(),{auto:!0})};ak();class ze extends Error{}class Ln extends ze{constructor(e,n,r,i){super(`${Ln.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.request_id=i==null?void 0:i["x-request-id"],this.error=n;const s=n;this.code=s==null?void 0:s.code,this.param=s==null?void 0:s.param,this.type=s==null?void 0:s.type}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Hd({message:r,cause:U0(n)});const s=n==null?void 0:n.error;return e===400?new ok(e,s,r,i):e===401?new uk(e,s,r,i):e===403?new ck(e,s,r,i):e===404?new lk(e,s,r,i):e===409?new hk(e,s,r,i):e===422?new fk(e,s,r,i):e===429?new dk(e,s,r,i):e>=500?new pk(e,s,r,i):new Ln(e,s,r,i)}}class Dr extends Ln{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Hd extends Ln{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class mb extends Hd{constructor({message:e}={}){super({message:e??"Request timed out."})}}class ok extends Ln{}class uk extends Ln{}class ck extends Ln{}class lk extends Ln{}class hk extends Ln{}class fk extends Ln{}class dk extends Ln{}class pk extends Ln{}class gk extends ze{constructor(){super("Could not parse response content as the length limit was reached")}}class mk extends ze{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var Ul=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},zs=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},br;class Wd{constructor(){br.set(this,void 0),this.buffer=new Uint8Array,Ul(this,br,null,"f")}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?new TextEncoder().encode(e):e;let r=new Uint8Array(this.buffer.length+n.length);r.set(this.buffer),r.set(n,this.buffer.length),this.buffer=r;const i=[];let s;for(;(s=vI(this.buffer,zs(this,br,"f")))!=null;){if(s.carriage&&zs(this,br,"f")==null){Ul(this,br,s.index,"f");continue}if(zs(this,br,"f")!=null&&(s.index!==zs(this,br,"f")+1||s.carriage)){i.push(this.decodeText(this.buffer.slice(0,zs(this,br,"f")-1))),this.buffer=this.buffer.slice(zs(this,br,"f")),Ul(this,br,null,"f");continue}const a=zs(this,br,"f")!==null?s.preceding-1:s.preceding,o=this.decodeText(this.buffer.slice(0,a));i.push(o),this.buffer=this.buffer.slice(s.index),Ul(this,br,null,"f")}return i}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new ze(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new ze(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new ze("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}br=new WeakMap;Wd.NEWLINE_CHARS=new Set([`
`,"\r"]);Wd.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function vI(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function _I(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}function yk(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Ti{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{for await(const a of EI(e,n))if(!s){if(a.data.startsWith("[DONE]")){s=!0;continue}if(a.event===null||a.event.startsWith("response.")||a.event.startsWith("transcript.")){let o;try{o=JSON.parse(a.data)}catch(u){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),u}if(o&&o.error)throw new Ln(void 0,o.error,void 0,Tk(e.headers));yield o}else{let o;try{o=JSON.parse(a.data)}catch(u){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),u}if(a.event=="error")throw new Ln(void 0,o.error,o.message,void 0);yield{event:a.event,data:o}}}s=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{s||n.abort()}}return new Ti(i,n)}static fromReadableStream(e,n){let r=!1;async function*i(){const a=new Wd,o=yk(e);for await(const u of o)for(const c of a.decode(u))yield c;for(const u of a.flush())yield u}async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{for await(const o of i())a||o&&(yield JSON.parse(o));a=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{a||n.abort()}}return new Ti(s,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const a=r.next();e.push(a),n.push(a)}return s.shift()}});return[new Ti(()=>i(e),this.controller),new Ti(()=>i(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new tk({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:s,done:a}=await n.next();if(a)return i.close();const o=r.encode(JSON.stringify(s)+`
`);i.enqueue(o)}catch(s){i.error(s)}},async cancel(){var i;await((i=n.return)==null?void 0:i.call(n))}})}}async function*EI(t,e){if(!t.body)throw e.abort(),new ze("Attempted to iterate over a response with no body");const n=new xI,r=new Wd,i=yk(t.body);for await(const s of wI(i))for(const a of r.decode(s)){const o=n.decode(a);o&&(yield o)}for(const s of r.flush()){const a=n.decode(s);a&&(yield a)}}async function*wI(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let i=new Uint8Array(e.length+r.length);i.set(e),i.set(r,e.length),e=i;let s;for(;(s=_I(e))!==-1;)yield e.slice(0,s),e=e.slice(s)}e.length>0&&(yield e)}class xI{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=TI(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function TI(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}const bk=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",vk=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Yd(t),Yd=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",kI=t=>vk(t)||bk(t)||sk(t);async function _k(t,e,n){var i;if(t=await t,vk(t))return t;if(bk(t)){const s=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const a=Yd(s)?[await s.arrayBuffer()]:[s];return new F0(a,e,n)}const r=await AI(t);if(e||(e=SI(t)??"unknown_file"),!(n!=null&&n.type)){const s=(i=r[0])==null?void 0:i.type;typeof s=="string"&&(n={...n,type:s})}return new F0(r,e,n)}async function AI(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(Yd(t))e.push(await t.arrayBuffer());else if(RI(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${NI(t)}`);return e}function NI(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function SI(t){var e;return ig(t.name)||ig(t.filename)||((e=ig(t.path))==null?void 0:e.split(/[\\/]/).pop())}const ig=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},RI=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",K_=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",xa=async t=>{const e=await CI(t.body);return nk(e,t)},CI=async t=>{const e=new ek;return await Promise.all(Object.entries(t||{}).map(([n,r])=>$0(e,n,r))),e},$0=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(kI(n)){const r=await _k(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>$0(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>$0(t,`${e}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var xo={},MI=function(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},OI=function(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Bl;ak();async function Ek(t){var a;const{response:e}=t;if(t.options.stream)return As("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):Ti.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type"),r=(a=n==null?void 0:n.split(";")[0])==null?void 0:a.trim();if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.endsWith("+json"))){const o=await e.json();return As("response",e.status,e.url,e.headers,o),wk(o,e)}const s=await e.text();return As("response",e.status,e.url,e.headers,s),s}function wk(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class Vd extends Promise{constructor(e,n=Ek){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new Vd(this.responsePromise,async n=>wk(e(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class II{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e5,httpAgent:i,fetch:s}){this.baseURL=e,this.maxRetries=sg("maxRetries",n),this.timeout=sg("timeout",r),this.httpAgent=i,this.fetch=s??JT}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...$I(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${zI()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async i=>{const s=i&&Yd(i==null?void 0:i.body)?new DataView(await i.body.arrayBuffer()):(i==null?void 0:i.body)instanceof DataView?i.body:(i==null?void 0:i.body)instanceof ArrayBuffer?new DataView(i.body):i&&ArrayBuffer.isView(i==null?void 0:i.body)?new DataView(i.body.buffer):i==null?void 0:i.body;return{method:e,path:n,...i,body:s}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){var g;const r={...e},{method:i,path:s,query:a,headers:o={}}=r,u=ArrayBuffer.isView(r.body)||r.__binaryRequest&&typeof r.body=="string"?r.body:K_(r.body)?r.body.body:r.body?JSON.stringify(r.body,null,2):null,c=this.calculateContentLength(u),l=this.buildURL(s,a);"timeout"in r&&sg("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const h=r.httpAgent??this.httpAgent??rk(l),d=r.timeout+1e3;typeof((g=h==null?void 0:h.options)==null?void 0:g.timeout)=="number"&&d>(h.options.timeout??0)&&(h.options.timeout=d),this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const f=this.buildHeaders({options:r,headers:o,contentLength:c,retryCount:n});return{req:{method:i,...u&&{body:u},headers:f,...h&&{agent:h},signal:r.signal??null},url:l,timeout:r.timeout}}buildHeaders({options:e,headers:n,contentLength:r,retryCount:i}){const s={};r&&(s["content-length"]=r);const a=this.defaultHeaders(e);return e1(s,a),e1(s,n),K_(e.body)&&_c!=="node"&&delete s["content-type"],zl(a,"x-stainless-retry-count")===void 0&&zl(n,"x-stainless-retry-count")===void 0&&(s["x-stainless-retry-count"]=String(i)),zl(a,"x-stainless-timeout")===void 0&&zl(n,"x-stainless-timeout")===void 0&&e.timeout&&(s["x-stainless-timeout"]=String(Math.trunc(e.timeout/1e3))),this.validateHeaders(s,n),s}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,i){return Ln.generate(e,n,r,i)}request(e,n=null){return new Vd(this.makeRequest(e,n))}async makeRequest(e,n){var h,d;const r=await e,i=r.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(r);const{req:s,url:a,timeout:o}=this.buildRequest(r,{retryCount:i-n});if(await this.prepareRequest(s,{url:a,options:r}),As("request",a,r,s.headers),(h=r.signal)!=null&&h.aborted)throw new Dr;const u=new AbortController,c=await this.fetchWithTimeout(a,s,o,u).catch(U0);if(c instanceof Error){if((d=r.signal)!=null&&d.aborted)throw new Dr;if(n)return this.retryRequest(r,n);throw c.name==="AbortError"?new mb:new Hd({cause:c})}const l=Tk(c.headers);if(!c.ok){if(n&&this.shouldRetry(c)){const v=`retrying, ${n} attempts remaining`;return As(`response (error; ${v})`,c.status,a,l),this.retryRequest(r,n,l)}const f=await c.text().catch(v=>U0(v).message),p=UI(f),g=p?void 0:f;throw As(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,c.status,a,l,g),this.makeStatusError(c.status,p,g,l)}return{response:c,options:r,controller:u}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new DI(this,r,e)}buildURL(e,n){const r=GI(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return kk(i)||(n={...i,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new ze(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,i){const{signal:s,...a}=n||{};s&&s.addEventListener("abort",()=>i.abort());const o=setTimeout(()=>i.abort(),r),u={signal:i.signal,...a};return u.method&&(u.method=u.method.toUpperCase()),this.fetch.call(void 0,e,u).finally(()=>{clearTimeout(o)})}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let i;const s=r==null?void 0:r["retry-after-ms"];if(s){const o=parseFloat(s);Number.isNaN(o)||(i=o)}const a=r==null?void 0:r["retry-after"];if(a&&!i){const o=parseFloat(a);Number.isNaN(o)?i=Date.parse(a)-Date.now():i=o*1e3}if(!(i&&0<=i&&i<60*1e3)){const o=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,o)}return await al(i),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,a=Math.min(.5*Math.pow(2,s),8),o=1-Math.random()*.25;return a*o*1e3}getUserAgent(){return`${this.constructor.name}/JS ${io}`}}class xk{constructor(e,n,r,i){Bl.set(this,void 0),MI(this,Bl,e),this.options=i,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new ze("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const r=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[i,s]of r)e.url.searchParams.set(i,s);n.query=void 0,n.path=e.url.toString()}return await OI(this,Bl,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Bl=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class DI extends Vd{constructor(e,n,r){super(n,async i=>new r(e,i.response,await Ek(i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const Tk=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),LI={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Ht=t=>typeof t=="object"&&t!==null&&!kk(t)&&Object.keys(t).every(e=>Ak(LI,e)),PI=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":io,"X-Stainless-OS":Q_(Deno.build.os),"X-Stainless-Arch":Z_(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":io,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":io,"X-Stainless-OS":Q_(process.platform),"X-Stainless-Arch":Z_(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=FI();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":io,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":io,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function FI(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,a=r[3]||0;return{browser:e,version:`${i}.${s}.${a}`}}}return null}const Z_=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Q_=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let J_;const $I=()=>J_??(J_=PI()),UI=t=>{try{return JSON.parse(t)}catch{return}},BI=/^[a-z][a-z0-9+.-]*:/i,GI=t=>BI.test(t),al=t=>new Promise(e=>setTimeout(e,t)),sg=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ze(`${t} must be an integer`);if(e<0)throw new ze(`${t} must be a positive integer`);return e},U0=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},Gl=t=>{var e,n,r,i;if(typeof process<"u")return((e=xo==null?void 0:xo[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(i=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:i.trim()};function kk(t){if(!t)return!0;for(const e in t)return!1;return!0}function Ak(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function e1(t,e){for(const n in e){if(!Ak(e,n))continue;const r=n.toLowerCase();if(!r)continue;const i=e[n];i===null?delete t[r]:i!==void 0&&(t[r]=i)}}const t1=new Set(["authorization","api-key"]);function As(t,...e){if(typeof process<"u"&&(xo==null?void 0:xo.DEBUG)==="true"){const n=e.map(r=>{if(!r)return r;if(r.headers){const s={...r,headers:{...r.headers}};for(const a in r.headers)t1.has(a.toLowerCase())&&(s.headers[a]="REDACTED");return s}let i=null;for(const s in r)t1.has(s.toLowerCase())&&(i??(i={...r}),i[s]="REDACTED");return i??r});console.log(`OpenAI:DEBUG:${t}`,...n)}}const zI=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),qI=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",HI=t=>typeof(t==null?void 0:t.get)=="function",zl=(t,e)=>{var r;const n=e.toLowerCase();if(HI(t)){const i=((r=e[0])==null?void 0:r.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(s,a,o)=>a+o.toUpperCase());for(const s of[e,n,e.toUpperCase(),i]){const a=t.get(s);if(a)return a}}for(const[i,s]of Object.entries(t))if(i.toLowerCase()===n)return Array.isArray(s)?(s.length<=1||console.warn(`Received ${s.length} entries for the ${e} header, using the first entry.`),s[0]):s},WI=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.charCodeAt(i);return Array.from(new Float32Array(r.buffer))}};function ag(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class Xd extends xk{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class hn extends xk{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const e=this.getPaginatedItems();if(!e.length)return null;const n=(r=e[e.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class Ye{constructor(e){this._client=e}}let Nk=class extends Ye{list(e,n={},r){return Ht(n)?this.list(e,{},n):this._client.getAPIList(`/chat/completions/${e}/messages`,YI,{query:n,...r})}},jd=class extends Ye{constructor(){super(...arguments),this.messages=new Nk(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(`/chat/completions/${e}`,n)}update(e,n,r){return this._client.post(`/chat/completions/${e}`,{body:n,...r})}list(e={},n){return Ht(e)?this.list({},e):this._client.getAPIList("/chat/completions",Kd,{query:e,...n})}del(e,n){return this._client.delete(`/chat/completions/${e}`,n)}};class Kd extends hn{}class YI extends hn{}jd.ChatCompletionsPage=Kd;jd.Messages=Nk;let Zd=class extends Ye{constructor(){super(...arguments),this.completions=new jd(this._client)}};Zd.Completions=jd;Zd.ChatCompletionsPage=Kd;class Sk extends Ye{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class Rk extends Ye{create(e,n){return this._client.post("/audio/transcriptions",xa({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}}))}}class Ck extends Ye{create(e,n){return this._client.post("/audio/translations",xa({body:e,...n,__metadata:{model:e.model}}))}}class ol extends Ye{constructor(){super(...arguments),this.transcriptions=new Rk(this._client),this.translations=new Ck(this._client),this.speech=new Sk(this._client)}}ol.Transcriptions=Rk;ol.Translations=Ck;ol.Speech=Sk;class yb extends Ye{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/batches/${e}`,n)}list(e={},n){return Ht(e)?this.list({},e):this._client.getAPIList("/batches",bb,{query:e,...n})}cancel(e,n){return this._client.post(`/batches/${e}/cancel`,n)}}class bb extends hn{}yb.BatchesPage=bb;var Br=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Ut=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},B0,Oh,Ih,Qu,Ju,Dh,ec,ji,tc,_f,Ef,so,Mk;class vb{constructor(){B0.add(this),this.controller=new AbortController,Oh.set(this,void 0),Ih.set(this,()=>{}),Qu.set(this,()=>{}),Ju.set(this,void 0),Dh.set(this,()=>{}),ec.set(this,()=>{}),ji.set(this,{}),tc.set(this,!1),_f.set(this,!1),Ef.set(this,!1),so.set(this,!1),Br(this,Oh,new Promise((e,n)=>{Br(this,Ih,e,"f"),Br(this,Qu,n,"f")}),"f"),Br(this,Ju,new Promise((e,n)=>{Br(this,Dh,e,"f"),Br(this,ec,n,"f")}),"f"),Ut(this,Oh,"f").catch(()=>{}),Ut(this,Ju,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},Ut(this,B0,"m",Mk).bind(this))},0)}_connected(){this.ended||(Ut(this,Ih,"f").call(this),this._emit("connect"))}get ended(){return Ut(this,tc,"f")}get errored(){return Ut(this,_f,"f")}get aborted(){return Ut(this,Ef,"f")}abort(){this.controller.abort()}on(e,n){return(Ut(this,ji,"f")[e]||(Ut(this,ji,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=Ut(this,ji,"f")[e];if(!r)return this;const i=r.findIndex(s=>s.listener===n);return i>=0&&r.splice(i,1),this}once(e,n){return(Ut(this,ji,"f")[e]||(Ut(this,ji,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{Br(this,so,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){Br(this,so,!0,"f"),await Ut(this,Ju,"f")}_emit(e,...n){if(Ut(this,tc,"f"))return;e==="end"&&(Br(this,tc,!0,"f"),Ut(this,Dh,"f").call(this));const r=Ut(this,ji,"f")[e];if(r&&(Ut(this,ji,"f")[e]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),e==="abort"){const i=n[0];!Ut(this,so,"f")&&!(r!=null&&r.length)&&Promise.reject(i),Ut(this,Qu,"f").call(this,i),Ut(this,ec,"f").call(this,i),this._emit("end");return}if(e==="error"){const i=n[0];!Ut(this,so,"f")&&!(r!=null&&r.length)&&Promise.reject(i),Ut(this,Qu,"f").call(this,i),Ut(this,ec,"f").call(this,i),this._emit("end")}}_emitFinal(){}}Oh=new WeakMap,Ih=new WeakMap,Qu=new WeakMap,Ju=new WeakMap,Dh=new WeakMap,ec=new WeakMap,ji=new WeakMap,tc=new WeakMap,_f=new WeakMap,Ef=new WeakMap,so=new WeakMap,B0=new WeakSet,Mk=function(e){if(Br(this,_f,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new Dr),e instanceof Dr)return Br(this,Ef,!0,"f"),this._emit("abort",e);if(e instanceof ze)return this._emit("error",e);if(e instanceof Error){const n=new ze(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new ze(String(e)))};var Fe=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},gr=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Rn,G0,_i,Lh,zr,pa,yo,ca,wf,_r,Ph,Fh,Ec,nc,rc,n1,r1,i1,s1,a1,o1,u1;class Zr extends vb{constructor(){super(...arguments),Rn.add(this),G0.set(this,[]),_i.set(this,{}),Lh.set(this,{}),zr.set(this,void 0),pa.set(this,void 0),yo.set(this,void 0),ca.set(this,void 0),wf.set(this,void 0),_r.set(this,void 0),Ph.set(this,void 0),Fh.set(this,void 0),Ec.set(this,void 0)}[(G0=new WeakMap,_i=new WeakMap,Lh=new WeakMap,zr=new WeakMap,pa=new WeakMap,yo=new WeakMap,ca=new WeakMap,wf=new WeakMap,_r=new WeakMap,Ph=new WeakMap,Fh=new WeakMap,Ec=new WeakMap,Rn=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,a)=>n.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Zr;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var s;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=Ti.fromReadableStream(e,this.controller);for await(const a of i)Fe(this,Rn,"m",nc).call(this,a);if((s=i.controller.signal)!=null&&s.aborted)throw new Dr;return this._addRun(Fe(this,Rn,"m",rc).call(this))}toReadableStream(){return new Ti(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,i,s){const a=new Zr;return a._run(()=>a._runToolAssistantStream(e,n,r,i,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(e,n,r,i,s){var c;const a=s==null?void 0:s.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const o={...i,stream:!0},u=await e.submitToolOutputs(n,r,o,{...s,signal:this.controller.signal});this._connected();for await(const l of u)Fe(this,Rn,"m",nc).call(this,l);if((c=u.controller.signal)!=null&&c.aborted)throw new Dr;return this._addRun(Fe(this,Rn,"m",rc).call(this))}static createThreadAssistantStream(e,n,r){const i=new Zr;return i._run(()=>i._threadAssistantStream(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(e,n,r,i){const s=new Zr;return s._run(()=>s._runAssistantStream(e,n,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),s}currentEvent(){return Fe(this,Ph,"f")}currentRun(){return Fe(this,Fh,"f")}currentMessageSnapshot(){return Fe(this,zr,"f")}currentRunStepSnapshot(){return Fe(this,Ec,"f")}async finalRunSteps(){return await this.done(),Object.values(Fe(this,_i,"f"))}async finalMessages(){return await this.done(),Object.values(Fe(this,Lh,"f"))}async finalRun(){if(await this.done(),!Fe(this,pa,"f"))throw Error("Final run was not received.");return Fe(this,pa,"f")}async _createThreadAssistantStream(e,n,r){var o;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const s={...n,stream:!0},a=await e.createAndRun(s,{...r,signal:this.controller.signal});this._connected();for await(const u of a)Fe(this,Rn,"m",nc).call(this,u);if((o=a.controller.signal)!=null&&o.aborted)throw new Dr;return this._addRun(Fe(this,Rn,"m",rc).call(this))}async _createAssistantStream(e,n,r,i){var u;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},o=await e.create(n,a,{...i,signal:this.controller.signal});this._connected();for await(const c of o)Fe(this,Rn,"m",nc).call(this,c);if((u=o.controller.signal)!=null&&u.aborted)throw new Dr;return this._addRun(Fe(this,Rn,"m",rc).call(this))}static accumulateDelta(e,n){for(const[r,i]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=i;continue}let s=e[r];if(s==null){e[r]=i;continue}if(r==="index"||r==="type"){e[r]=i;continue}if(typeof s=="string"&&typeof i=="string")s+=i;else if(typeof s=="number"&&typeof i=="number")s+=i;else if(ag(s)&&ag(i))s=this.accumulateDelta(s,i);else if(Array.isArray(s)&&Array.isArray(i)){if(s.every(a=>typeof a=="string"||typeof a=="number")){s.push(...i);continue}for(const a of i){if(!ag(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const o=a.index;if(o==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof o!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${o}`);const u=s[o];u==null?s.push(a):s[o]=this.accumulateDelta(u,a)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${i}, accValue: ${s}`);e[r]=s}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,i){return await this._createAssistantStream(n,e,r,i)}async _runToolAssistantStream(e,n,r,i,s){return await this._createToolAssistantStream(r,e,n,i,s)}}nc=function(e){if(!this.ended)switch(gr(this,Ph,e,"f"),Fe(this,Rn,"m",i1).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":Fe(this,Rn,"m",u1).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Fe(this,Rn,"m",r1).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":Fe(this,Rn,"m",n1).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},rc=function(){if(this.ended)throw new ze("stream has ended, this shouldn't happen");if(!Fe(this,pa,"f"))throw Error("Final run has not been received");return Fe(this,pa,"f")},n1=function(e){const[n,r]=Fe(this,Rn,"m",a1).call(this,e,Fe(this,zr,"f"));gr(this,zr,n,"f"),Fe(this,Lh,"f")[n.id]=n;for(const i of r){const s=n.content[i.index];(s==null?void 0:s.type)=="text"&&this._emit("textCreated",s.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const i of e.data.delta.content){if(i.type=="text"&&i.text){let s=i.text,a=n.content[i.index];if(a&&a.type=="text")this._emit("textDelta",s,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=Fe(this,yo,"f")){if(Fe(this,ca,"f"))switch(Fe(this,ca,"f").type){case"text":this._emit("textDone",Fe(this,ca,"f").text,Fe(this,zr,"f"));break;case"image_file":this._emit("imageFileDone",Fe(this,ca,"f").image_file,Fe(this,zr,"f"));break}gr(this,yo,i.index,"f")}gr(this,ca,n.content[i.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(Fe(this,yo,"f")!==void 0){const i=e.data.content[Fe(this,yo,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,Fe(this,zr,"f"));break;case"text":this._emit("textDone",i.text,Fe(this,zr,"f"));break}}Fe(this,zr,"f")&&this._emit("messageDone",e.data),gr(this,zr,void 0,"f")}},r1=function(e){const n=Fe(this,Rn,"m",s1).call(this,e);switch(gr(this,Ec,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const s of r.step_details.tool_calls)s.index==Fe(this,wf,"f")?this._emit("toolCallDelta",s,n.step_details.tool_calls[s.index]):(Fe(this,_r,"f")&&this._emit("toolCallDone",Fe(this,_r,"f")),gr(this,wf,s.index,"f"),gr(this,_r,n.step_details.tool_calls[s.index],"f"),Fe(this,_r,"f")&&this._emit("toolCallCreated",Fe(this,_r,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":gr(this,Ec,void 0,"f"),e.data.step_details.type=="tool_calls"&&Fe(this,_r,"f")&&(this._emit("toolCallDone",Fe(this,_r,"f")),gr(this,_r,void 0,"f")),this._emit("runStepDone",e.data,n);break}},i1=function(e){Fe(this,G0,"f").push(e),this._emit("event",e)},s1=function(e){switch(e.event){case"thread.run.step.created":return Fe(this,_i,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=Fe(this,_i,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const i=Zr.accumulateDelta(n,r.delta);Fe(this,_i,"f")[e.data.id]=i}return Fe(this,_i,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":Fe(this,_i,"f")[e.data.id]=e.data;break}if(Fe(this,_i,"f")[e.data.id])return Fe(this,_i,"f")[e.data.id];throw new Error("No snapshot available")},a1=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=e.data;if(i.delta.content)for(const s of i.delta.content)if(s.index in n.content){let a=n.content[s.index];n.content[s.index]=Fe(this,Rn,"m",o1).call(this,s,a)}else n.content[s.index]=s,r.push(s);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},o1=function(e,n){return Zr.accumulateDelta(n,e)},u1=function(e){switch(gr(this,Fh,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":gr(this,pa,e.data,"f"),Fe(this,_r,"f")&&(this._emit("toolCallDone",Fe(this,_r,"f")),gr(this,_r,void 0,"f"));break}};class _b extends Ye{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/assistants/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return Ht(e)?this.list({},e):this._client.getAPIList("/assistants",Eb,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Eb extends hn{}_b.AssistantsPage=Eb;function c1(t){return typeof t.parse=="function"}const To=t=>(t==null?void 0:t.role)==="assistant",Ok=t=>(t==null?void 0:t.role)==="function",Ik=t=>(t==null?void 0:t.role)==="tool";function wb(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function ul(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function VI(t,e){return!e||!Dk(e)?{...t,choices:t.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:xb(t,e)}function xb(t,e){const n=t.choices.map(r=>{var i;if(r.finish_reason==="length")throw new gk;if(r.finish_reason==="content_filter")throw new mk;return{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((i=r.message.tool_calls)==null?void 0:i.map(s=>jI(e,s)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?XI(e,r.message.content):null}}});return{...t,choices:n}}function XI(t,e){var n,r;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=t.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function jI(t,e){var r;const n=(r=t.tools)==null?void 0:r.find(i=>{var s;return((s=i.function)==null?void 0:s.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:ul(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function KI(t,e){var r;if(!t)return!1;const n=(r=t.tools)==null?void 0:r.find(i=>{var s;return((s=i.function)==null?void 0:s.name)===e.function.name});return ul(n)||(n==null?void 0:n.function.strict)||!1}function Dk(t){var e;return wb(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>ul(n)||n.type==="function"&&n.function.strict===!0))??!1}function ZI(t){for(const e of t??[]){if(e.type!=="function")throw new ze(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new ze(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var ur=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Un,z0,xf,q0,H0,W0,Lk,Y0;const l1=10;class Pk extends vb{constructor(){super(...arguments),Un.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(r=e.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(Ok(e)||Ik(e))&&e.content)this._emit("functionCallResult",e.content);else if(To(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(To(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new ze("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),ur(this,Un,"m",z0).call(this)}async finalMessage(){return await this.done(),ur(this,Un,"m",xf).call(this)}async finalFunctionCall(){return await this.done(),ur(this,Un,"m",q0).call(this)}async finalFunctionCallResult(){return await this.done(),ur(this,Un,"m",H0).call(this)}async totalUsage(){return await this.done(),ur(this,Un,"m",W0).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=ur(this,Un,"m",xf).call(this);n&&this._emit("finalMessage",n);const r=ur(this,Un,"m",z0).call(this);r&&this._emit("finalContent",r);const i=ur(this,Un,"m",q0).call(this);i&&this._emit("finalFunctionCall",i);const s=ur(this,Un,"m",H0).call(this);s!=null&&this._emit("finalFunctionCallResult",s),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",ur(this,Un,"m",W0).call(this))}async _createChatCompletion(e,n,r){const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),ur(this,Un,"m",Lk).call(this,n);const s=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(xb(s,n))}async _runChatCompletion(e,n,r){for(const i of n.messages)this._addMessage(i,!1);return await this._createChatCompletion(e,n,r)}async _runFunctions(e,n,r){var d;const i="function",{function_call:s="auto",stream:a,...o}=n,u=typeof s!="string"&&(s==null?void 0:s.name),{maxChatCompletions:c=l1}=r||{},l={};for(const f of n.functions)l[f.name||f.function.name]=f;const h=n.functions.map(f=>({name:f.name||f.function.name,parameters:f.parameters,description:f.description}));for(const f of n.messages)this._addMessage(f,!1);for(let f=0;f<c;++f){const g=(d=(await this._createChatCompletion(e,{...o,function_call:s,functions:h,messages:[...this.messages]},r)).choices[0])==null?void 0:d.message;if(!g)throw new ze("missing message in ChatCompletion response");if(!g.function_call)return;const{name:m,arguments:y}=g.function_call,v=l[m];if(v){if(u&&u!==m){const C=`Invalid function_call: ${JSON.stringify(m)}. ${JSON.stringify(u)} requested. Please try again`;this._addMessage({role:i,name:m,content:C});continue}}else{const C=`Invalid function_call: ${JSON.stringify(m)}. Available options are: ${h.map(x=>JSON.stringify(x.name)).join(", ")}. Please try again`;this._addMessage({role:i,name:m,content:C});continue}let b;try{b=c1(v)?await v.parse(y):y}catch(C){this._addMessage({role:i,name:m,content:C instanceof Error?C.message:String(C)});continue}const _=await v.function(b,this),k=ur(this,Un,"m",Y0).call(this,_);if(this._addMessage({role:i,name:m,content:k}),u)return}}async _runTools(e,n,r){var f,p,g;const i="tool",{tool_choice:s="auto",stream:a,...o}=n,u=typeof s!="string"&&((f=s==null?void 0:s.function)==null?void 0:f.name),{maxChatCompletions:c=l1}=r||{},l=n.tools.map(m=>{if(ul(m)){if(!m.$callback)throw new ze("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:m.$callback,name:m.function.name,description:m.function.description||"",parameters:m.function.parameters,parse:m.$parseRaw,strict:!0}}}return m}),h={};for(const m of l)m.type==="function"&&(h[m.function.name||m.function.function.name]=m.function);const d="tools"in n?l.map(m=>m.type==="function"?{type:"function",function:{name:m.function.name||m.function.function.name,parameters:m.function.parameters,description:m.function.description,strict:m.function.strict}}:m):void 0;for(const m of n.messages)this._addMessage(m,!1);for(let m=0;m<c;++m){const v=(p=(await this._createChatCompletion(e,{...o,tool_choice:s,tools:d,messages:[...this.messages]},r)).choices[0])==null?void 0:p.message;if(!v)throw new ze("missing message in ChatCompletion response");if(!((g=v.tool_calls)!=null&&g.length))return;for(const b of v.tool_calls){if(b.type!=="function")continue;const _=b.id,{name:k,arguments:C}=b.function,x=h[k];if(x){if(u&&u!==k){const I=`Invalid tool_call: ${JSON.stringify(k)}. ${JSON.stringify(u)} requested. Please try again`;this._addMessage({role:i,tool_call_id:_,content:I});continue}}else{const I=`Invalid tool_call: ${JSON.stringify(k)}. Available options are: ${Object.keys(h).map(M=>JSON.stringify(M)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:_,content:I});continue}let S;try{S=c1(x)?await x.parse(C):C}catch(I){const M=I instanceof Error?I.message:String(I);this._addMessage({role:i,tool_call_id:_,content:M});continue}const O=await x.function(S,this),D=ur(this,Un,"m",Y0).call(this,O);if(this._addMessage({role:i,tool_call_id:_,content:D}),u)return}}}}Un=new WeakSet,z0=function(){return ur(this,Un,"m",xf).call(this).content??null},xf=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(To(n)){const{function_call:r,...i}=n,s={...i,content:n.content??null,refusal:n.refusal??null};return r&&(s.function_call=r),s}}throw new ze("stream ended without producing a ChatCompletionMessage with role=assistant")},q0=function(){var e,n;for(let r=this.messages.length-1;r>=0;r--){const i=this.messages[r];if(To(i)&&(i!=null&&i.function_call))return i.function_call;if(To(i)&&((e=i==null?void 0:i.tool_calls)!=null&&e.length))return(n=i.tool_calls.at(-1))==null?void 0:n.function}},H0=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(Ok(n)&&n.content!=null||Ik(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var i;return r.role==="assistant"&&((i=r.tool_calls)==null?void 0:i.some(s=>s.type==="function"&&s.id===n.tool_call_id))}))return n.content}},W0=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},Lk=function(e){if(e.n!=null&&e.n>1)throw new ze("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Y0=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Cc extends Pk{static runFunctions(e,n,r){const i=new Cc,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(e,n,s)),i}static runTools(e,n,r){const i=new Cc,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}_addMessage(e,n=!0){super._addMessage(e,n),To(e)&&e.content&&this._emit("content",e.content)}}const Fk=1,$k=2,Uk=4,Bk=8,Gk=16,zk=32,qk=64,Hk=128,Wk=256,Yk=Hk|Wk,Vk=Gk|zk|Yk|qk,Xk=Fk|$k|Vk,jk=Uk|Bk,QI=Xk|jk,mn={STR:Fk,NUM:$k,ARR:Uk,OBJ:Bk,NULL:Gk,BOOL:zk,NAN:qk,INFINITY:Hk,MINUS_INFINITY:Wk,INF:Yk,SPECIAL:Vk,ATOM:Xk,COLLECTION:jk,ALL:QI};class JI extends Error{}class eD extends Error{}function tD(t,e=mn.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return nD(t.trim(),e)}const nD=(t,e)=>{const n=t.length;let r=0;const i=d=>{throw new JI(`${d} at position ${r}`)},s=d=>{throw new eD(`${d} at position ${r}`)},a=()=>(h(),r>=n&&i("Unexpected end of input"),t[r]==='"'?o():t[r]==="{"?u():t[r]==="["?c():t.substring(r,r+4)==="null"||mn.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||mn.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||mn.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||mn.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||mn.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||mn.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):l()),o=()=>{const d=r;let f=!1;for(r++;r<n&&(t[r]!=='"'||f&&t[r-1]==="\\");)f=t[r]==="\\"?!f:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(d,++r-Number(f)))}catch(p){s(String(p))}else if(mn.STR&e)try{return JSON.parse(t.substring(d,r-Number(f))+'"')}catch{return JSON.parse(t.substring(d,t.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},u=()=>{r++,h();const d={};try{for(;t[r]!=="}";){if(h(),r>=n&&mn.OBJ&e)return d;const f=o();h(),r++;try{const p=a();Object.defineProperty(d,f,{value:p,writable:!0,enumerable:!0,configurable:!0})}catch(p){if(mn.OBJ&e)return d;throw p}h(),t[r]===","&&r++}}catch{if(mn.OBJ&e)return d;i("Expected '}' at end of object")}return r++,d},c=()=>{r++;const d=[];try{for(;t[r]!=="]";)d.push(a()),h(),t[r]===","&&r++}catch{if(mn.ARR&e)return d;i("Expected ']' at end of array")}return r++,d},l=()=>{if(r===0){t==="-"&&mn.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t)}catch(f){if(mn.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}s(String(f))}}const d=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(mn.NUM&e)&&i("Unterminated number literal");try{return JSON.parse(t.substring(d,r))}catch{t.substring(d,r)==="-"&&mn.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t.substring(d,t.lastIndexOf("e")))}catch(p){s(String(p))}}},h=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return a()},h1=t=>tD(t,mn.ALL^mn.NUM);var Va=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Tt=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},on,$i,Xa,ms,og,ql,ug,cg,lg,Hl,hg,f1;class Mc extends Pk{constructor(e){super(),on.add(this),$i.set(this,void 0),Xa.set(this,void 0),ms.set(this,void 0),Va(this,$i,e,"f"),Va(this,Xa,[],"f")}get currentChatCompletionSnapshot(){return Tt(this,ms,"f")}static fromReadableStream(e){const n=new Mc(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const i=new Mc(n);return i._run(()=>i._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(e,n,r){var a;super._createChatCompletion;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),Tt(this,on,"m",og).call(this);const s=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const o of s)Tt(this,on,"m",ug).call(this,o);if((a=s.controller.signal)!=null&&a.aborted)throw new Dr;return this._addChatCompletion(Tt(this,on,"m",Hl).call(this))}async _fromReadableStream(e,n){var a;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Tt(this,on,"m",og).call(this),this._connected();const i=Ti.fromReadableStream(e,this.controller);let s;for await(const o of i)s&&s!==o.id&&this._addChatCompletion(Tt(this,on,"m",Hl).call(this)),Tt(this,on,"m",ug).call(this,o),s=o.id;if((a=i.controller.signal)!=null&&a.aborted)throw new Dr;return this._addChatCompletion(Tt(this,on,"m",Hl).call(this))}[($i=new WeakMap,Xa=new WeakMap,ms=new WeakMap,on=new WeakSet,og=function(){this.ended||Va(this,ms,void 0,"f")},ql=function(n){let r=Tt(this,Xa,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Tt(this,Xa,"f")[n.index]=r,r)},ug=function(n){var i,s,a,o,u,c,l,h,d,f,p,g,m,y,v;if(this.ended)return;const r=Tt(this,on,"m",f1).call(this,n);this._emit("chunk",n,r);for(const b of n.choices){const _=r.choices[b.index];b.delta.content!=null&&((i=_.message)==null?void 0:i.role)==="assistant"&&((s=_.message)!=null&&s.content)&&(this._emit("content",b.delta.content,_.message.content),this._emit("content.delta",{delta:b.delta.content,snapshot:_.message.content,parsed:_.message.parsed})),b.delta.refusal!=null&&((a=_.message)==null?void 0:a.role)==="assistant"&&((o=_.message)!=null&&o.refusal)&&this._emit("refusal.delta",{delta:b.delta.refusal,snapshot:_.message.refusal}),((u=b.logprobs)==null?void 0:u.content)!=null&&((c=_.message)==null?void 0:c.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(l=b.logprobs)==null?void 0:l.content,snapshot:((h=_.logprobs)==null?void 0:h.content)??[]}),((d=b.logprobs)==null?void 0:d.refusal)!=null&&((f=_.message)==null?void 0:f.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(p=b.logprobs)==null?void 0:p.refusal,snapshot:((g=_.logprobs)==null?void 0:g.refusal)??[]});const k=Tt(this,on,"m",ql).call(this,_);_.finish_reason&&(Tt(this,on,"m",lg).call(this,_),k.current_tool_call_index!=null&&Tt(this,on,"m",cg).call(this,_,k.current_tool_call_index));for(const C of b.delta.tool_calls??[])k.current_tool_call_index!==C.index&&(Tt(this,on,"m",lg).call(this,_),k.current_tool_call_index!=null&&Tt(this,on,"m",cg).call(this,_,k.current_tool_call_index)),k.current_tool_call_index=C.index;for(const C of b.delta.tool_calls??[]){const x=(m=_.message.tool_calls)==null?void 0:m[C.index];x!=null&&x.type&&((x==null?void 0:x.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(y=x.function)==null?void 0:y.name,index:C.index,arguments:x.function.arguments,parsed_arguments:x.function.parsed_arguments,arguments_delta:((v=C.function)==null?void 0:v.arguments)??""}):(x==null||x.type,void 0))}}},cg=function(n,r){var a,o,u;if(Tt(this,on,"m",ql).call(this,n).done_tool_calls.has(r))return;const s=(a=n.message.tool_calls)==null?void 0:a[r];if(!s)throw new Error("no tool call snapshot");if(!s.type)throw new Error("tool call snapshot missing `type`");if(s.type==="function"){const c=(u=(o=Tt(this,$i,"f"))==null?void 0:o.tools)==null?void 0:u.find(l=>l.type==="function"&&l.function.name===s.function.name);this._emit("tool_calls.function.arguments.done",{name:s.function.name,index:r,arguments:s.function.arguments,parsed_arguments:ul(c)?c.$parseRaw(s.function.arguments):c!=null&&c.function.strict?JSON.parse(s.function.arguments):null})}else s.type},lg=function(n){var i,s;const r=Tt(this,on,"m",ql).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const a=Tt(this,on,"m",hg).call(this);this._emit("content.done",{content:n.message.content,parsed:a?a.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(i=n.logprobs)!=null&&i.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(s=n.logprobs)!=null&&s.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Hl=function(){if(this.ended)throw new ze("stream has ended, this shouldn't happen");const n=Tt(this,ms,"f");if(!n)throw new ze("request ended without sending any chunks");return Va(this,ms,void 0,"f"),Va(this,Xa,[],"f"),rD(n,Tt(this,$i,"f"))},hg=function(){var r;const n=(r=Tt(this,$i,"f"))==null?void 0:r.response_format;return wb(n)?n:null},f1=function(n){var r,i,s,a;let o=Tt(this,ms,"f");const{choices:u,...c}=n;o?Object.assign(o,c):o=Va(this,ms,{...c,choices:[]},"f");for(const{delta:l,finish_reason:h,index:d,logprobs:f=null,...p}of n.choices){let g=o.choices[d];if(g||(g=o.choices[d]={finish_reason:h,index:d,message:{},logprobs:f,...p}),f)if(!g.logprobs)g.logprobs=Object.assign({},f);else{const{content:C,refusal:x,...S}=f;Object.assign(g.logprobs,S),C&&((r=g.logprobs).content??(r.content=[]),g.logprobs.content.push(...C)),x&&((i=g.logprobs).refusal??(i.refusal=[]),g.logprobs.refusal.push(...x))}if(h&&(g.finish_reason=h,Tt(this,$i,"f")&&Dk(Tt(this,$i,"f")))){if(h==="length")throw new gk;if(h==="content_filter")throw new mk}if(Object.assign(g,p),!l)continue;const{content:m,refusal:y,function_call:v,role:b,tool_calls:_,...k}=l;if(Object.assign(g.message,k),y&&(g.message.refusal=(g.message.refusal||"")+y),b&&(g.message.role=b),v&&(g.message.function_call?(v.name&&(g.message.function_call.name=v.name),v.arguments&&((s=g.message.function_call).arguments??(s.arguments=""),g.message.function_call.arguments+=v.arguments)):g.message.function_call=v),m&&(g.message.content=(g.message.content||"")+m,!g.message.refusal&&Tt(this,on,"m",hg).call(this)&&(g.message.parsed=h1(g.message.content))),_){g.message.tool_calls||(g.message.tool_calls=[]);for(const{index:C,id:x,type:S,function:O,...D}of _){const I=(a=g.message.tool_calls)[C]??(a[C]={});Object.assign(I,D),x&&(I.id=x),S&&(I.type=S),O&&(I.function??(I.function={name:O.name??"",arguments:""})),O!=null&&O.name&&(I.function.name=O.name),O!=null&&O.arguments&&(I.function.arguments+=O.arguments,KI(Tt(this,$i,"f"),I)&&(I.function.parsed_arguments=h1(I.function.arguments)))}}}return o},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,a)=>n.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Ti(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function rD(t,e){const{id:n,choices:r,created:i,model:s,system_fingerprint:a,...o}=t,u={...o,id:n,choices:r.map(({message:c,finish_reason:l,index:h,logprobs:d,...f})=>{if(!l)throw new ze(`missing finish_reason for choice ${h}`);const{content:p=null,function_call:g,tool_calls:m,...y}=c,v=c.role;if(!v)throw new ze(`missing role for choice ${h}`);if(g){const{arguments:b,name:_}=g;if(b==null)throw new ze(`missing function_call.arguments for choice ${h}`);if(!_)throw new ze(`missing function_call.name for choice ${h}`);return{...f,message:{content:p,function_call:{arguments:b,name:_},role:v,refusal:c.refusal??null},finish_reason:l,index:h,logprobs:d}}return m?{...f,index:h,finish_reason:l,logprobs:d,message:{...y,role:v,content:p,refusal:c.refusal??null,tool_calls:m.map((b,_)=>{const{function:k,type:C,id:x,...S}=b,{arguments:O,name:D,...I}=k||{};if(x==null)throw new ze(`missing choices[${h}].tool_calls[${_}].id
${Wl(t)}`);if(C==null)throw new ze(`missing choices[${h}].tool_calls[${_}].type
${Wl(t)}`);if(D==null)throw new ze(`missing choices[${h}].tool_calls[${_}].function.name
${Wl(t)}`);if(O==null)throw new ze(`missing choices[${h}].tool_calls[${_}].function.arguments
${Wl(t)}`);return{...S,id:x,type:C,function:{...I,name:D,arguments:O}}})}}:{...f,message:{...y,content:p,role:v,refusal:c.refusal??null},finish_reason:l,index:h,logprobs:d}}),created:i,model:s,object:"chat.completion",...a?{system_fingerprint:a}:{}};return VI(u,e)}function Wl(t){return JSON.stringify(t)}class ko extends Mc{static fromReadableStream(e){const n=new ko(null);return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,r){const i=new ko(null),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(e,n,s)),i}static runTools(e,n,r){const i=new ko(n),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}}let Kk=class extends Ye{parse(e,n){return ZI(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>xb(r,e))}runFunctions(e,n){return e.stream?ko.runFunctions(this._client,e,n):Cc.runFunctions(this._client,e,n)}runTools(e,n){return e.stream?ko.runTools(this._client,e,n):Cc.runTools(this._client,e,n)}stream(e,n){return Mc.createChatCompletion(this._client,e,n)}};class V0 extends Ye{constructor(){super(...arguments),this.completions=new Kk(this._client)}}(function(t){t.Completions=Kk})(V0||(V0={}));class Zk extends Ye{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Qk extends Ye{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Qd extends Ye{constructor(){super(...arguments),this.sessions=new Zk(this._client),this.transcriptionSessions=new Qk(this._client)}}Qd.Sessions=Zk;Qd.TranscriptionSessions=Qk;class Tb extends Ye{create(e,n,r){return this._client.post(`/threads/${e}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,i){return this._client.post(`/threads/${e}/messages/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n={},r){return Ht(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,kb,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class kb extends hn{}Tb.MessagesPage=kb;class Ab extends Ye{retrieve(e,n,r,i={},s){return Ht(i)?this.retrieve(e,n,r,{},i):this._client.get(`/threads/${e}/runs/${n}/steps/${r}`,{query:i,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n,r={},i){return Ht(r)?this.list(e,n,{},r):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,Nb,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}}class Nb extends hn{}Ab.RunStepsPage=Nb;let cl=class extends Ye{constructor(){super(...arguments),this.steps=new Ab(this._client)}create(e,n,r){const{include:i,...s}=n;return this._client.post(`/threads/${e}/runs`,{query:{include:i},body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(e,n,r){return this._client.get(`/threads/${e}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,i){return this._client.post(`/threads/${e}/runs/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n={},r){return Ht(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,Sb,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(e,i.id,r)}createAndStream(e,n,r){return Zr.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:a}=await this.retrieve(e,n,{...r,headers:{...r==null?void 0:r.headers,...i}}).withResponse();switch(s.status){case"queued":case"in_progress":case"cancelling":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const u=a.headers.get("openai-poll-after-ms");if(u){const c=parseInt(u);isNaN(c)||(o=c)}}await al(o);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return s}}}stream(e,n,r){return Zr.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r,i){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(e,n,r,i){const s=await this.submitToolOutputs(e,n,r,i);return await this.poll(e,s.id,i)}submitToolOutputsStream(e,n,r,i){return Zr.createToolAssistantStream(e,n,this._client.beta.threads.runs,r,i)}};class Sb extends hn{}cl.RunsPage=Sb;cl.Steps=Ab;cl.RunStepsPage=Nb;class Zo extends Ye{constructor(){super(...arguments),this.runs=new cl(this._client),this.messages=new Tb(this._client)}create(e={},n){return Ht(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/threads/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(e,n){return Zr.createThreadAssistantStream(e,this._client.beta.threads,n)}}Zo.Runs=cl;Zo.RunsPage=Sb;Zo.Messages=Tb;Zo.MessagesPage=kb;class Qo extends Ye{constructor(){super(...arguments),this.realtime=new Qd(this._client),this.chat=new V0(this._client),this.assistants=new _b(this._client),this.threads=new Zo(this._client)}}Qo.Realtime=Qd;Qo.Assistants=_b;Qo.AssistantsPage=Eb;Qo.Threads=Zo;class Jk extends Ye{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class eA extends Ye{retrieve(e,n,r){return this._client.get(`/containers/${e}/files/${n}/content`,{...r,headers:{Accept:"application/binary",...r==null?void 0:r.headers},__binaryResponse:!0})}}let Jd=class extends Ye{constructor(){super(...arguments),this.content=new eA(this._client)}create(e,n,r){return this._client.post(`/containers/${e}/files`,xa({body:n,...r}))}retrieve(e,n,r){return this._client.get(`/containers/${e}/files/${n}`,r)}list(e,n={},r){return Ht(n)?this.list(e,{},n):this._client.getAPIList(`/containers/${e}/files`,Rb,{query:n,...r})}del(e,n,r){return this._client.delete(`/containers/${e}/files/${n}`,{...r,headers:{Accept:"*/*",...r==null?void 0:r.headers}})}};class Rb extends hn{}Jd.FileListResponsesPage=Rb;Jd.Content=eA;class ll extends Ye{constructor(){super(...arguments),this.files=new Jd(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get(`/containers/${e}`,n)}list(e={},n){return Ht(e)?this.list({},e):this._client.getAPIList("/containers",Cb,{query:e,...n})}del(e,n){return this._client.delete(`/containers/${e}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}}class Cb extends hn{}ll.ContainerListResponsesPage=Cb;ll.Files=Jd;ll.FileListResponsesPage=Rb;class tA extends Ye{create(e,n){const r=!!e.encoding_format;let i=r?e.encoding_format:"base64";r&&As("Request","User defined encoding_format:",e.encoding_format);const s=this._client.post("/embeddings",{body:{...e,encoding_format:i},...n});return r?s:(As("response","Decoding base64 embeddings to float32 array"),s._thenUnwrap(a=>(a&&a.data&&a.data.forEach(o=>{const u=o.embedding;o.embedding=WI(u)}),a)))}}class Mb extends Ye{retrieve(e,n,r,i){return this._client.get(`/evals/${e}/runs/${n}/output_items/${r}`,i)}list(e,n,r={},i){return Ht(r)?this.list(e,n,{},r):this._client.getAPIList(`/evals/${e}/runs/${n}/output_items`,Ob,{query:r,...i})}}class Ob extends hn{}Mb.OutputItemListResponsesPage=Ob;class hl extends Ye{constructor(){super(...arguments),this.outputItems=new Mb(this._client)}create(e,n,r){return this._client.post(`/evals/${e}/runs`,{body:n,...r})}retrieve(e,n,r){return this._client.get(`/evals/${e}/runs/${n}`,r)}list(e,n={},r){return Ht(n)?this.list(e,{},n):this._client.getAPIList(`/evals/${e}/runs`,Ib,{query:n,...r})}del(e,n,r){return this._client.delete(`/evals/${e}/runs/${n}`,r)}cancel(e,n,r){return this._client.post(`/evals/${e}/runs/${n}`,r)}}class Ib extends hn{}hl.RunListResponsesPage=Ib;hl.OutputItems=Mb;hl.OutputItemListResponsesPage=Ob;class fl extends Ye{constructor(){super(...arguments),this.runs=new hl(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(`/evals/${e}`,n)}update(e,n,r){return this._client.post(`/evals/${e}`,{body:n,...r})}list(e={},n){return Ht(e)?this.list({},e):this._client.getAPIList("/evals",Db,{query:e,...n})}del(e,n){return this._client.delete(`/evals/${e}`,n)}}class Db extends hn{}fl.EvalListResponsesPage=Db;fl.Runs=hl;fl.RunListResponsesPage=Ib;let Lb=class extends Ye{create(e,n){return this._client.post("/files",xa({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return Ht(e)?this.list({},e):this._client.getAPIList("/files",Pb,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,n)}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=1800*1e3}={}){const i=new Set(["processed","error","deleted"]),s=Date.now();let a=await this.retrieve(e);for(;!a.status||!i.has(a.status);)if(await al(n),a=await this.retrieve(e),Date.now()-s>r)throw new mb({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return a}};class Pb extends hn{}Lb.FileObjectsPage=Pb;class nA extends Ye{}let rA=class extends Ye{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class Fb extends Ye{constructor(){super(...arguments),this.graders=new rA(this._client)}}Fb.Graders=rA;class $b extends Ye{create(e,n,r){return this._client.getAPIList(`/fine_tuning/checkpoints/${e}/permissions`,Ub,{body:n,method:"post",...r})}retrieve(e,n={},r){return Ht(n)?this.retrieve(e,{},n):this._client.get(`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...r})}del(e,n,r){return this._client.delete(`/fine_tuning/checkpoints/${e}/permissions/${n}`,r)}}class Ub extends Xd{}$b.PermissionCreateResponsesPage=Ub;let ep=class extends Ye{constructor(){super(...arguments),this.permissions=new $b(this._client)}};ep.Permissions=$b;ep.PermissionCreateResponsesPage=Ub;class Bb extends Ye{list(e,n={},r){return Ht(n)?this.list(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,Gb,{query:n,...r})}}class Gb extends hn{}Bb.FineTuningJobCheckpointsPage=Gb;class Jo extends Ye{constructor(){super(...arguments),this.checkpoints=new Bb(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return Ht(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",zb,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return Ht(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,qb,{query:n,...r})}pause(e,n){return this._client.post(`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(`/fine_tuning/jobs/${e}/resume`,n)}}class zb extends hn{}class qb extends hn{}Jo.FineTuningJobsPage=zb;Jo.FineTuningJobEventsPage=qb;Jo.Checkpoints=Bb;Jo.FineTuningJobCheckpointsPage=Gb;class Fs extends Ye{constructor(){super(...arguments),this.methods=new nA(this._client),this.jobs=new Jo(this._client),this.checkpoints=new ep(this._client),this.alpha=new Fb(this._client)}}Fs.Methods=nA;Fs.Jobs=Jo;Fs.FineTuningJobsPage=zb;Fs.FineTuningJobEventsPage=qb;Fs.Checkpoints=ep;Fs.Alpha=Fb;class iA extends Ye{}class Hb extends Ye{constructor(){super(...arguments),this.graderModels=new iA(this._client)}}Hb.GraderModels=iA;class sA extends Ye{createVariation(e,n){return this._client.post("/images/variations",xa({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",xa({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}class Wb extends Ye{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",Yb,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}}class Yb extends Xd{}Wb.ModelsPage=Yb;class aA extends Ye{create(e,n){return this._client.post("/moderations",{body:e,...n})}}function iD(t,e){return!e||!aD(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:oA(t,e)}function oA(t,e){const n=t.output.map(i=>{if(i.type==="function_call")return{...i,parsed_arguments:cD(e,i)};if(i.type==="message"){const s=i.content.map(a=>a.type==="output_text"?{...a,parsed:sD(e,a.text)}:a);return{...i,content:s}}return i}),r=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||uA(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const i of r.output)if(i.type==="message"){for(const s of i.content)if(s.type==="output_text"&&s.parsed!==null)return s.parsed}return null}}),r}function sD(t,e){var n,r,i,s;return((r=(n=t.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((i=t.text)==null?void 0:i.format)?((s=t.text)==null?void 0:s.format).$parseRaw(e):JSON.parse(e)}function aD(t){var e;return!!wb((e=t.text)==null?void 0:e.format)}function oD(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function uD(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function cD(t,e){const n=uD(t.tools??[],e.name);return{...e,...e,parsed_arguments:oD(n)?n.$parseRaw(e.arguments):n!=null&&n.strict?JSON.parse(e.arguments):null}}function uA(t){const e=[];for(const n of t.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&e.push(r.text);t.output_text=e.join("")}class cA extends Ye{list(e,n={},r){return Ht(n)?this.list(e,{},n):this._client.getAPIList(`/responses/${e}/input_items`,hD,{query:n,...r})}}var ja=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},ys=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Ka,Yl,bs,Vl,d1,p1,g1,m1;class Vb extends vb{constructor(e){super(),Ka.add(this),Yl.set(this,void 0),bs.set(this,void 0),Vl.set(this,void 0),ja(this,Yl,e,"f")}static createResponse(e,n,r){const i=new Vb(n);return i._run(()=>i._createOrRetrieveResponse(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createOrRetrieveResponse(e,n,r){var o;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),ys(this,Ka,"m",d1).call(this);let s,a=null;"response_id"in n?(s=await e.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),a=n.starting_after??null):s=await e.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const u of s)ys(this,Ka,"m",p1).call(this,u,a);if((o=s.controller.signal)!=null&&o.aborted)throw new Dr;return ys(this,Ka,"m",g1).call(this)}[(Yl=new WeakMap,bs=new WeakMap,Vl=new WeakMap,Ka=new WeakSet,d1=function(){this.ended||ja(this,bs,void 0,"f")},p1=function(n,r){if(this.ended)return;const i=(a,o)=>{(r==null||o.sequence_number>r)&&this._emit(a,o)},s=ys(this,Ka,"m",m1).call(this,n);switch(i("event",n),n.type){case"response.output_text.delta":{const a=s.output[n.output_index];if(!a)throw new ze(`missing output at index ${n.output_index}`);if(a.type==="message"){const o=a.content[n.content_index];if(!o)throw new ze(`missing content at index ${n.content_index}`);if(o.type!=="output_text")throw new ze(`expected content to be 'output_text', got ${o.type}`);i("response.output_text.delta",{...n,snapshot:o.text})}break}case"response.function_call_arguments.delta":{const a=s.output[n.output_index];if(!a)throw new ze(`missing output at index ${n.output_index}`);a.type==="function_call"&&i("response.function_call_arguments.delta",{...n,snapshot:a.arguments});break}default:i(n.type,n);break}},g1=function(){if(this.ended)throw new ze("stream has ended, this shouldn't happen");const n=ys(this,bs,"f");if(!n)throw new ze("request ended without sending any events");ja(this,bs,void 0,"f");const r=lD(n,ys(this,Yl,"f"));return ja(this,Vl,r,"f"),r},m1=function(n){let r=ys(this,bs,"f");if(!r){if(n.type!=="response.created")throw new ze(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=ja(this,bs,n.response,"f"),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const i=r.output[n.output_index];if(!i)throw new ze(`missing output at index ${n.output_index}`);i.type==="message"&&i.content.push(n.part);break}case"response.output_text.delta":{const i=r.output[n.output_index];if(!i)throw new ze(`missing output at index ${n.output_index}`);if(i.type==="message"){const s=i.content[n.content_index];if(!s)throw new ze(`missing content at index ${n.content_index}`);if(s.type!=="output_text")throw new ze(`expected content to be 'output_text', got ${s.type}`);s.text+=n.delta}break}case"response.function_call_arguments.delta":{const i=r.output[n.output_index];if(!i)throw new ze(`missing output at index ${n.output_index}`);i.type==="function_call"&&(i.arguments+=n.delta);break}case"response.completed":{ja(this,bs,n.response,"f");break}}return r},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,a)=>n.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=ys(this,Vl,"f");if(!e)throw new ze("stream ended without producing a ChatCompletion");return e}}function lD(t,e){return iD(t,e)}class Xb extends Ye{constructor(){super(...arguments),this.inputItems=new cA(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&uA(r),r))}retrieve(e,n={},r){return this._client.get(`/responses/${e}`,{query:n,...r,stream:(n==null?void 0:n.stream)??!1})}del(e,n){return this._client.delete(`/responses/${e}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(r=>oA(r,e))}stream(e,n){return Vb.createResponse(this._client,e,n)}cancel(e,n){return this._client.post(`/responses/${e}/cancel`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}}class hD extends hn{}Xb.InputItems=cA;class lA extends Ye{create(e,n,r){return this._client.post(`/uploads/${e}/parts`,xa({body:n,...r}))}}class jb extends Ye{constructor(){super(...arguments),this.parts=new lA(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post(`/uploads/${e}/complete`,{body:n,...r})}}jb.Parts=lA;const fD=async t=>{const e=await Promise.allSettled(t),n=e.filter(i=>i.status==="rejected");if(n.length){for(const i of n)console.error(i.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const i of e)i.status==="fulfilled"&&r.push(i.value);return r};class tp extends Ye{create(e,n,r){return this._client.post(`/vector_stores/${e}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,i){return this._client.post(`/vector_stores/${e}/files/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n={},r){return Ht(n)?this.list(e,{},n):this._client.getAPIList(`/vector_stores/${e}/files`,np,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(e,i.id,r)}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const s=await this.retrieve(e,n,{...r,headers:i}).withResponse(),a=s.data;switch(a.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const u=s.response.headers.get("openai-poll-after-ms");if(u){const c=parseInt(u);isNaN(c)||(o=c)}}await al(o);break;case"failed":case"completed":return a}}}async upload(e,n,r){const i=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:i.id},r)}async uploadAndPoll(e,n,r){const i=await this.upload(e,n,r);return await this.poll(e,i.id,r)}content(e,n,r){return this._client.getAPIList(`/vector_stores/${e}/files/${n}/content`,Kb,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class np extends hn{}class Kb extends Xd{}tp.VectorStoreFilesPage=np;tp.FileContentResponsesPage=Kb;class hA extends Ye{create(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n);return await this.poll(e,i.id,r)}listFiles(e,n,r={},i){return Ht(r)?this.listFiles(e,n,{},r):this._client.getAPIList(`/vector_stores/${e}/file_batches/${n}/files`,np,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:a}=await this.retrieve(e,n,{...r,headers:i}).withResponse();switch(s.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const u=a.headers.get("openai-poll-after-ms");if(u){const c=parseInt(u);isNaN(c)||(o=c)}}await al(o);break;case"failed":case"cancelled":case"completed":return s}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},i){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const s=(i==null?void 0:i.maxConcurrency)??5,a=Math.min(s,n.length),o=this._client,u=n.values(),c=[...r];async function l(d){for(let f of d){const p=await o.files.create({file:f,purpose:"assistants"},i);c.push(p.id)}}const h=Array(a).fill(u).map(l);return await fD(h),await this.createAndPoll(e,{file_ids:c})}}class $s extends Ye{constructor(){super(...arguments),this.files=new tp(this._client),this.fileBatches=new hA(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/vector_stores/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return Ht(e)?this.list({},e):this._client.getAPIList("/vector_stores",Zb,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}search(e,n,r){return this._client.getAPIList(`/vector_stores/${e}/search`,Qb,{body:n,method:"post",...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Zb extends hn{}class Qb extends Xd{}$s.VectorStoresPage=Zb;$s.VectorStoreSearchResponsesPage=Qb;$s.Files=tp;$s.VectorStoreFilesPage=np;$s.FileContentResponsesPage=Kb;$s.FileBatches=hA;var fA;class Ke extends II{constructor({baseURL:e=Gl("OPENAI_BASE_URL"),apiKey:n=Gl("OPENAI_API_KEY"),organization:r=Gl("OPENAI_ORG_ID")??null,project:i=Gl("OPENAI_PROJECT_ID")??null,...s}={}){if(n===void 0)throw new ze("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const a={apiKey:n,organization:r,project:i,...s,baseURL:e||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&qI())throw new ze(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:a.baseURL,timeout:a.timeout??6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new Jk(this),this.chat=new Zd(this),this.embeddings=new tA(this),this.files=new Lb(this),this.images=new sA(this),this.audio=new ol(this),this.moderations=new aA(this),this.models=new Wb(this),this.fineTuning=new Fs(this),this.graders=new Hb(this),this.vectorStores=new $s(this),this.beta=new Qo(this),this.batches=new yb(this),this.uploads=new jb(this),this.responses=new Xb(this),this.evals=new fl(this),this.containers=new ll(this),this._options=a,this.apiKey=n,this.organization=r,this.project=i}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return gI(e,{arrayFormat:"brackets"})}}fA=Ke;Ke.OpenAI=fA;Ke.DEFAULT_TIMEOUT=6e5;Ke.OpenAIError=ze;Ke.APIError=Ln;Ke.APIConnectionError=Hd;Ke.APIConnectionTimeoutError=mb;Ke.APIUserAbortError=Dr;Ke.NotFoundError=lk;Ke.ConflictError=hk;Ke.RateLimitError=dk;Ke.BadRequestError=ok;Ke.AuthenticationError=uk;Ke.InternalServerError=pk;Ke.PermissionDeniedError=ck;Ke.UnprocessableEntityError=fk;Ke.toFile=_k;Ke.fileFromPath=ik;Ke.Completions=Jk;Ke.Chat=Zd;Ke.ChatCompletionsPage=Kd;Ke.Embeddings=tA;Ke.Files=Lb;Ke.FileObjectsPage=Pb;Ke.Images=sA;Ke.Audio=ol;Ke.Moderations=aA;Ke.Models=Wb;Ke.ModelsPage=Yb;Ke.FineTuning=Fs;Ke.Graders=Hb;Ke.VectorStores=$s;Ke.VectorStoresPage=Zb;Ke.VectorStoreSearchResponsesPage=Qb;Ke.Beta=Qo;Ke.Batches=yb;Ke.BatchesPage=bb;Ke.Uploads=jb;Ke.Responses=Xb;Ke.Evals=fl;Ke.EvalListResponsesPage=Db;Ke.Containers=ll;Ke.ContainerListResponsesPage=Cb;const y1={};function dD(t){let e=y1[t];if(e)return e;e=y1[t]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);e.push(r)}for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2)}return e}function Lo(t,e){typeof e!="string"&&(e=Lo.defaultChars);const n=dD(e);return t.replace(/(%[a-f0-9]{2})+/gi,function(r){let i="";for(let s=0,a=r.length;s<a;s+=3){const o=parseInt(r.slice(s+1,s+3),16);if(o<128){i+=n[o];continue}if((o&224)===192&&s+3<a){const u=parseInt(r.slice(s+4,s+6),16);if((u&192)===128){const c=o<<6&1984|u&63;c<128?i+="":i+=String.fromCharCode(c),s+=3;continue}}if((o&240)===224&&s+6<a){const u=parseInt(r.slice(s+4,s+6),16),c=parseInt(r.slice(s+7,s+9),16);if((u&192)===128&&(c&192)===128){const l=o<<12&61440|u<<6&4032|c&63;l<2048||l>=55296&&l<=57343?i+="":i+=String.fromCharCode(l),s+=6;continue}}if((o&248)===240&&s+9<a){const u=parseInt(r.slice(s+4,s+6),16),c=parseInt(r.slice(s+7,s+9),16),l=parseInt(r.slice(s+10,s+12),16);if((u&192)===128&&(c&192)===128&&(l&192)===128){let h=o<<18&1835008|u<<12&258048|c<<6&4032|l&63;h<65536||h>1114111?i+="":(h-=65536,i+=String.fromCharCode(55296+(h>>10),56320+(h&1023))),s+=9;continue}}i+=""}return i})}Lo.defaultChars=";/?:@&=+$,#";Lo.componentChars="";const b1={};function pD(t){let e=b1[t];if(e)return e;e=b1[t]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);/^[0-9a-z]$/i.test(r)?e.push(r):e.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<t.length;n++)e[t.charCodeAt(n)]=t[n];return e}function dl(t,e,n){typeof e!="string"&&(n=e,e=dl.defaultChars),typeof n>"u"&&(n=!0);const r=pD(e);let i="";for(let s=0,a=t.length;s<a;s++){const o=t.charCodeAt(s);if(n&&o===37&&s+2<a&&/^[0-9a-f]{2}$/i.test(t.slice(s+1,s+3))){i+=t.slice(s,s+3),s+=2;continue}if(o<128){i+=r[o];continue}if(o>=55296&&o<=57343){if(o>=55296&&o<=56319&&s+1<a){const u=t.charCodeAt(s+1);if(u>=56320&&u<=57343){i+=encodeURIComponent(t[s]+t[s+1]),s++;continue}}i+="%EF%BF%BD";continue}i+=encodeURIComponent(t[s])}return i}dl.defaultChars=";/?:@&=+$,-_.!~*'()#";dl.componentChars="-_.!~*'()";function Jb(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function Tf(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const gD=/^([a-z0-9.+-]+:)/i,mD=/:[0-9]*$/,yD=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,bD=["<",">",'"',"`"," ","\r",`
`,"	"],vD=["{","}","|","\\","^","`"].concat(bD),_D=["'"].concat(vD),v1=["%","/","?",";","#"].concat(_D),_1=["/","?","#"],ED=255,E1=/^[+a-z0-9A-Z_-]{0,63}$/,wD=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,w1={javascript:!0,"javascript:":!0},x1={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function ev(t,e){if(t&&t instanceof Tf)return t;const n=new Tf;return n.parse(t,e),n}Tf.prototype.parse=function(t,e){let n,r,i,s=t;if(s=s.trim(),!e&&t.split("#").length===1){const c=yD.exec(s);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}let a=gD.exec(s);if(a&&(a=a[0],n=a.toLowerCase(),this.protocol=a,s=s.substr(a.length)),(e||a||s.match(/^\/\/[^@\/]+@[^@\/]+/))&&(i=s.substr(0,2)==="//",i&&!(a&&w1[a])&&(s=s.substr(2),this.slashes=!0)),!w1[a]&&(i||a&&!x1[a])){let c=-1;for(let p=0;p<_1.length;p++)r=s.indexOf(_1[p]),r!==-1&&(c===-1||r<c)&&(c=r);let l,h;c===-1?h=s.lastIndexOf("@"):h=s.lastIndexOf("@",c),h!==-1&&(l=s.slice(0,h),s=s.slice(h+1),this.auth=l),c=-1;for(let p=0;p<v1.length;p++)r=s.indexOf(v1[p]),r!==-1&&(c===-1||r<c)&&(c=r);c===-1&&(c=s.length),s[c-1]===":"&&c--;const d=s.slice(0,c);s=s.slice(c),this.parseHost(d),this.hostname=this.hostname||"";const f=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!f){const p=this.hostname.split(/\./);for(let g=0,m=p.length;g<m;g++){const y=p[g];if(y&&!y.match(E1)){let v="";for(let b=0,_=y.length;b<_;b++)y.charCodeAt(b)>127?v+="x":v+=y[b];if(!v.match(E1)){const b=p.slice(0,g),_=p.slice(g+1),k=y.match(wD);k&&(b.push(k[1]),_.unshift(k[2])),_.length&&(s=_.join(".")+s),this.hostname=b.join(".");break}}}}this.hostname.length>ED&&(this.hostname=""),f&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const o=s.indexOf("#");o!==-1&&(this.hash=s.substr(o),s=s.slice(0,o));const u=s.indexOf("?");return u!==-1&&(this.search=s.substr(u),s=s.slice(0,u)),s&&(this.pathname=s),x1[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Tf.prototype.parseHost=function(t){let e=mD.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const xD=Object.freeze(Object.defineProperty({__proto__:null,decode:Lo,encode:dl,format:Jb,parse:ev},Symbol.toStringTag,{value:"Module"})),dA=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,pA=/[\0-\x1F\x7F-\x9F]/,TD=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,tv=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,gA=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,mA=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,kD=Object.freeze(Object.defineProperty({__proto__:null,Any:dA,Cc:pA,Cf:TD,P:tv,S:gA,Z:mA},Symbol.toStringTag,{value:"Module"})),AD=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),ND=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(t=>t.charCodeAt(0)));var fg;const SD=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),RD=(fg=String.fromCodePoint)!==null&&fg!==void 0?fg:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function CD(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=SD.get(t))!==null&&e!==void 0?e:t}var bn;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(bn||(bn={}));const MD=32;var Ts;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(Ts||(Ts={}));function X0(t){return t>=bn.ZERO&&t<=bn.NINE}function OD(t){return t>=bn.UPPER_A&&t<=bn.UPPER_F||t>=bn.LOWER_A&&t<=bn.LOWER_F}function ID(t){return t>=bn.UPPER_A&&t<=bn.UPPER_Z||t>=bn.LOWER_A&&t<=bn.LOWER_Z||X0(t)}function DD(t){return t===bn.EQUALS||ID(t)}var pn;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(pn||(pn={}));var ws;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(ws||(ws={}));class LD{constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=pn.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=ws.Strict}startEntity(e){this.decodeMode=e,this.state=pn.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case pn.EntityStart:return e.charCodeAt(n)===bn.NUM?(this.state=pn.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=pn.NamedEntity,this.stateNamedEntity(e,n));case pn.NumericStart:return this.stateNumericStart(e,n);case pn.NumericDecimal:return this.stateNumericDecimal(e,n);case pn.NumericHex:return this.stateNumericHex(e,n);case pn.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|MD)===bn.LOWER_X?(this.state=pn.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=pn.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(e.substr(n,s),i),this.consumed+=s}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(X0(i)||OD(i))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(X0(i))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===bn.SEMI)this.consumed+=1;else if(this.decodeMode===ws.Strict)return 0;return this.emitCodePoint(CD(this.result),this.consumed),this.errors&&(e!==bn.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&Ts.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const a=e.charCodeAt(n);if(this.treeIndex=PD(r,i,this.treeIndex+Math.max(1,s),a),this.treeIndex<0)return this.result===0||this.decodeMode===ws.Attribute&&(s===0||DD(a))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&Ts.VALUE_LENGTH)>>14,s!==0){if(a===bn.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==ws.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,i=(r[n]&Ts.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[e]&~Ts.VALUE_LENGTH:i[e+1],r),n===3&&this.emitCodePoint(i[e+2],r),r}end(){var e;switch(this.state){case pn.NamedEntity:return this.result!==0&&(this.decodeMode!==ws.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case pn.NumericDecimal:return this.emitNumericEntity(0,2);case pn.NumericHex:return this.emitNumericEntity(0,3);case pn.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case pn.EntityStart:return 0}}}function yA(t){let e="";const n=new LD(t,r=>e+=RD(r));return function(i,s){let a=0,o=0;for(;(o=i.indexOf("&",o))>=0;){e+=i.slice(a,o),n.startEntity(s);const c=n.write(i,o+1);if(c<0){a=o+n.end();break}a=o+c,o=c===0?a+1:a}const u=e+i.slice(a);return e="",u}}function PD(t,e,n,r){const i=(e&Ts.BRANCH_LENGTH)>>7,s=e&Ts.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const u=r-s;return u<0||u>=i?-1:t[n+u]-1}let a=n,o=a+i-1;for(;a<=o;){const u=a+o>>>1,c=t[u];if(c<r)a=u+1;else if(c>r)o=u-1;else return t[u+i]}return-1}const FD=yA(AD);yA(ND);function bA(t,e=ws.Legacy){return FD(t,e)}function $D(t){return Object.prototype.toString.call(t)}function nv(t){return $D(t)==="[object String]"}const UD=Object.prototype.hasOwnProperty;function BD(t,e){return UD.call(t,e)}function rp(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(r){t[r]=n[r]})}}),t}function vA(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))}function rv(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534||t>=0&&t<=8||t===11||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function kf(t){if(t>65535){t-=65536;const e=55296+(t>>10),n=56320+(t&1023);return String.fromCharCode(e,n)}return String.fromCharCode(t)}const _A=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,GD=/&([a-z#][a-z0-9]{1,31});/gi,zD=new RegExp(_A.source+"|"+GD.source,"gi"),qD=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function HD(t,e){if(e.charCodeAt(0)===35&&qD.test(e)){const r=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return rv(r)?kf(r):t}const n=bA(t);return n!==t?n:t}function WD(t){return t.indexOf("\\")<0?t:t.replace(_A,"$1")}function Po(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(zD,function(e,n,r){return n||HD(e,r)})}const YD=/[&<>"]/,VD=/[&<>"]/g,XD={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function jD(t){return XD[t]}function Cs(t){return YD.test(t)?t.replace(VD,jD):t}const KD=/[.?*+^$[\]\\(){}|-]/g;function ZD(t){return t.replace(KD,"\\$&")}function Dt(t){switch(t){case 9:case 32:return!0}return!1}function Oc(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function Ic(t){return tv.test(t)||gA.test(t)}function Dc(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function ip(t){return t=t.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(t=t.replace(//g,"")),t.toLowerCase().toUpperCase()}const QD={mdurl:xD,ucmicro:kD},JD=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:vA,assign:rp,escapeHtml:Cs,escapeRE:ZD,fromCodePoint:kf,has:BD,isMdAsciiPunct:Dc,isPunctChar:Ic,isSpace:Dt,isString:nv,isValidEntityCode:rv,isWhiteSpace:Oc,lib:QD,normalizeReference:ip,unescapeAll:Po,unescapeMd:WD},Symbol.toStringTag,{value:"Module"}));function eL(t,e,n){let r,i,s,a;const o=t.posMax,u=t.pos;for(t.pos=e+1,r=1;t.pos<o;){if(s=t.src.charCodeAt(t.pos),s===93&&(r--,r===0)){i=!0;break}if(a=t.pos,t.md.inline.skipToken(t),s===91){if(a===t.pos-1)r++;else if(n)return t.pos=u,-1}}let c=-1;return i&&(c=t.pos),t.pos=u,c}function tL(t,e,n){let r,i=e;const s={ok:!1,pos:0,str:""};if(t.charCodeAt(i)===60){for(i++;i<n;){if(r=t.charCodeAt(i),r===10||r===60)return s;if(r===62)return s.pos=i+1,s.str=Po(t.slice(e+1,i)),s.ok=!0,s;if(r===92&&i+1<n){i+=2;continue}i++}return s}let a=0;for(;i<n&&(r=t.charCodeAt(i),!(r===32||r<32||r===127));){if(r===92&&i+1<n){if(t.charCodeAt(i+1)===32)break;i+=2;continue}if(r===40&&(a++,a>32))return s;if(r===41){if(a===0)break;a--}i++}return e===i||a!==0||(s.str=Po(t.slice(e,i)),s.pos=i,s.ok=!0),s}function nL(t,e,n,r){let i,s=e;const a={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(r)a.str=r.str,a.marker=r.marker;else{if(s>=n)return a;let o=t.charCodeAt(s);if(o!==34&&o!==39&&o!==40)return a;e++,s++,o===40&&(o=41),a.marker=o}for(;s<n;){if(i=t.charCodeAt(s),i===a.marker)return a.pos=s+1,a.str+=Po(t.slice(e,s)),a.ok=!0,a;if(i===40&&a.marker===41)return a;i===92&&s+1<n&&s++,s++}return a.can_continue=!0,a.str+=Po(t.slice(e,s)),a}const rL=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:tL,parseLinkLabel:eL,parseLinkTitle:nL},Symbol.toStringTag,{value:"Module"})),Oi={};Oi.code_inline=function(t,e,n,r,i){const s=t[e];return"<code"+i.renderAttrs(s)+">"+Cs(s.content)+"</code>"};Oi.code_block=function(t,e,n,r,i){const s=t[e];return"<pre"+i.renderAttrs(s)+"><code>"+Cs(t[e].content)+`</code></pre>
`};Oi.fence=function(t,e,n,r,i){const s=t[e],a=s.info?Po(s.info).trim():"";let o="",u="";if(a){const l=a.split(/(\s+)/g);o=l[0],u=l.slice(2).join("")}let c;if(n.highlight?c=n.highlight(s.content,o,u)||Cs(s.content):c=Cs(s.content),c.indexOf("<pre")===0)return c+`
`;if(a){const l=s.attrIndex("class"),h=s.attrs?s.attrs.slice():[];l<0?h.push(["class",n.langPrefix+o]):(h[l]=h[l].slice(),h[l][1]+=" "+n.langPrefix+o);const d={attrs:h};return`<pre><code${i.renderAttrs(d)}>${c}</code></pre>
`}return`<pre><code${i.renderAttrs(s)}>${c}</code></pre>
`};Oi.image=function(t,e,n,r,i){const s=t[e];return s.attrs[s.attrIndex("alt")][1]=i.renderInlineAsText(s.children,n,r),i.renderToken(t,e,n)};Oi.hardbreak=function(t,e,n){return n.xhtmlOut?`<br />
`:`<br>
`};Oi.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};Oi.text=function(t,e){return Cs(t[e].content)};Oi.html_block=function(t,e){return t[e].content};Oi.html_inline=function(t,e){return t[e].content};function eu(){this.rules=rp({},Oi)}eu.prototype.renderAttrs=function(e){let n,r,i;if(!e.attrs)return"";for(i="",n=0,r=e.attrs.length;n<r;n++)i+=" "+Cs(e.attrs[n][0])+'="'+Cs(e.attrs[n][1])+'"';return i};eu.prototype.renderToken=function(e,n,r){const i=e[n];let s="";if(i.hidden)return"";i.block&&i.nesting!==-1&&n&&e[n-1].hidden&&(s+=`
`),s+=(i.nesting===-1?"</":"<")+i.tag,s+=this.renderAttrs(i),i.nesting===0&&r.xhtmlOut&&(s+=" /");let a=!1;if(i.block&&(a=!0,i.nesting===1&&n+1<e.length)){const o=e[n+1];(o.type==="inline"||o.hidden||o.nesting===-1&&o.tag===i.tag)&&(a=!1)}return s+=a?`>
`:">",s};eu.prototype.renderInline=function(t,e,n){let r="";const i=this.rules;for(let s=0,a=t.length;s<a;s++){const o=t[s].type;typeof i[o]<"u"?r+=i[o](t,s,e,n,this):r+=this.renderToken(t,s,e)}return r};eu.prototype.renderInlineAsText=function(t,e,n){let r="";for(let i=0,s=t.length;i<s;i++)switch(t[i].type){case"text":r+=t[i].content;break;case"image":r+=this.renderInlineAsText(t[i].children,e,n);break;case"html_inline":case"html_block":r+=t[i].content;break;case"softbreak":case"hardbreak":r+=`
`;break}return r};eu.prototype.render=function(t,e,n){let r="";const i=this.rules;for(let s=0,a=t.length;s<a;s++){const o=t[s].type;o==="inline"?r+=this.renderInline(t[s].children,e,n):typeof i[o]<"u"?r+=i[o](t,s,e,n,this):r+=this.renderToken(t,s,e,n)}return r};function lr(){this.__rules__=[],this.__cache__=null}lr.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};lr.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(r){e.indexOf(r)<0&&e.push(r)})}),t.__cache__={},e.forEach(function(n){t.__cache__[n]=[],t.__rules__.forEach(function(r){r.enabled&&(n&&r.alt.indexOf(n)<0||t.__cache__[n].push(r.fn))})})};lr.prototype.at=function(t,e,n){const r=this.__find__(t),i=n||{};if(r===-1)throw new Error("Parser rule not found: "+t);this.__rules__[r].fn=e,this.__rules__[r].alt=i.alt||[],this.__cache__=null};lr.prototype.before=function(t,e,n,r){const i=this.__find__(t),s=r||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i,0,{name:e,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};lr.prototype.after=function(t,e,n,r){const i=this.__find__(t),s=r||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i+1,0,{name:e,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};lr.prototype.push=function(t,e,n){const r=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:r.alt||[]}),this.__cache__=null};lr.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(r){const i=this.__find__(r);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[i].enabled=!0,n.push(r)},this),this.__cache__=null,n};lr.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(t,e)};lr.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(r){const i=this.__find__(r);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[i].enabled=!1,n.push(r)},this),this.__cache__=null,n};lr.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};function oi(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}oi.prototype.attrIndex=function(e){if(!this.attrs)return-1;const n=this.attrs;for(let r=0,i=n.length;r<i;r++)if(n[r][0]===e)return r;return-1};oi.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};oi.prototype.attrSet=function(e,n){const r=this.attrIndex(e),i=[e,n];r<0?this.attrPush(i):this.attrs[r]=i};oi.prototype.attrGet=function(e){const n=this.attrIndex(e);let r=null;return n>=0&&(r=this.attrs[n][1]),r};oi.prototype.attrJoin=function(e,n){const r=this.attrIndex(e);r<0?this.attrPush([e,n]):this.attrs[r][1]=this.attrs[r][1]+" "+n};function EA(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}EA.prototype.Token=oi;const iL=/\r\n?|\n/g,sL=/\0/g;function aL(t){let e;e=t.src.replace(iL,`
`),e=e.replace(sL,""),t.src=e}function oL(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}function uL(t){const e=t.tokens;for(let n=0,r=e.length;n<r;n++){const i=e[n];i.type==="inline"&&t.md.inline.parse(i.content,t.md,t.env,i.children)}}function cL(t){return/^<a[>\s]/i.test(t)}function lL(t){return/^<\/a\s*>/i.test(t)}function hL(t){const e=t.tokens;if(t.md.options.linkify)for(let n=0,r=e.length;n<r;n++){if(e[n].type!=="inline"||!t.md.linkify.pretest(e[n].content))continue;let i=e[n].children,s=0;for(let a=i.length-1;a>=0;a--){const o=i[a];if(o.type==="link_close"){for(a--;i[a].level!==o.level&&i[a].type!=="link_open";)a--;continue}if(o.type==="html_inline"&&(cL(o.content)&&s>0&&s--,lL(o.content)&&s++),!(s>0)&&o.type==="text"&&t.md.linkify.test(o.content)){const u=o.content;let c=t.md.linkify.match(u);const l=[];let h=o.level,d=0;c.length>0&&c[0].index===0&&a>0&&i[a-1].type==="text_special"&&(c=c.slice(1));for(let f=0;f<c.length;f++){const p=c[f].url,g=t.md.normalizeLink(p);if(!t.md.validateLink(g))continue;let m=c[f].text;c[f].schema?c[f].schema==="mailto:"&&!/^mailto:/i.test(m)?m=t.md.normalizeLinkText("mailto:"+m).replace(/^mailto:/,""):m=t.md.normalizeLinkText(m):m=t.md.normalizeLinkText("http://"+m).replace(/^http:\/\//,"");const y=c[f].index;if(y>d){const k=new t.Token("text","",0);k.content=u.slice(d,y),k.level=h,l.push(k)}const v=new t.Token("link_open","a",1);v.attrs=[["href",g]],v.level=h++,v.markup="linkify",v.info="auto",l.push(v);const b=new t.Token("text","",0);b.content=m,b.level=h,l.push(b);const _=new t.Token("link_close","a",-1);_.level=--h,_.markup="linkify",_.info="auto",l.push(_),d=c[f].lastIndex}if(d<u.length){const f=new t.Token("text","",0);f.content=u.slice(d),f.level=h,l.push(f)}e[n].children=i=vA(i,a,l)}}}}const wA=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,fL=/\((c|tm|r)\)/i,dL=/\((c|tm|r)\)/ig,pL={c:"",r:"",tm:""};function gL(t,e){return pL[e.toLowerCase()]}function mL(t){let e=0;for(let n=t.length-1;n>=0;n--){const r=t[n];r.type==="text"&&!e&&(r.content=r.content.replace(dL,gL)),r.type==="link_open"&&r.info==="auto"&&e--,r.type==="link_close"&&r.info==="auto"&&e++}}function yL(t){let e=0;for(let n=t.length-1;n>=0;n--){const r=t[n];r.type==="text"&&!e&&wA.test(r.content)&&(r.content=r.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),r.type==="link_open"&&r.info==="auto"&&e--,r.type==="link_close"&&r.info==="auto"&&e++}}function bL(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)t.tokens[e].type==="inline"&&(fL.test(t.tokens[e].content)&&mL(t.tokens[e].children),wA.test(t.tokens[e].content)&&yL(t.tokens[e].children))}const vL=/['"]/,T1=/['"]/g,k1="";function Xl(t,e,n){return t.slice(0,e)+n+t.slice(e+1)}function _L(t,e){let n;const r=[];for(let i=0;i<t.length;i++){const s=t[i],a=t[i].level;for(n=r.length-1;n>=0&&!(r[n].level<=a);n--);if(r.length=n+1,s.type!=="text")continue;let o=s.content,u=0,c=o.length;e:for(;u<c;){T1.lastIndex=u;const l=T1.exec(o);if(!l)break;let h=!0,d=!0;u=l.index+1;const f=l[0]==="'";let p=32;if(l.index-1>=0)p=o.charCodeAt(l.index-1);else for(n=i-1;n>=0&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n--)if(t[n].content){p=t[n].content.charCodeAt(t[n].content.length-1);break}let g=32;if(u<c)g=o.charCodeAt(u);else for(n=i+1;n<t.length&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n++)if(t[n].content){g=t[n].content.charCodeAt(0);break}const m=Dc(p)||Ic(String.fromCharCode(p)),y=Dc(g)||Ic(String.fromCharCode(g)),v=Oc(p),b=Oc(g);if(b?h=!1:y&&(v||m||(h=!1)),v?d=!1:m&&(b||y||(d=!1)),g===34&&l[0]==='"'&&p>=48&&p<=57&&(d=h=!1),h&&d&&(h=m,d=y),!h&&!d){f&&(s.content=Xl(s.content,l.index,k1));continue}if(d)for(n=r.length-1;n>=0;n--){let _=r[n];if(r[n].level<a)break;if(_.single===f&&r[n].level===a){_=r[n];let k,C;f?(k=e.md.options.quotes[2],C=e.md.options.quotes[3]):(k=e.md.options.quotes[0],C=e.md.options.quotes[1]),s.content=Xl(s.content,l.index,C),t[_.token].content=Xl(t[_.token].content,_.pos,k),u+=C.length-1,_.token===i&&(u+=k.length-1),o=s.content,c=o.length,r.length=n;continue e}}h?r.push({token:i,pos:l.index,single:f,level:a}):d&&f&&(s.content=Xl(s.content,l.index,k1))}}}function EL(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)t.tokens[e].type!=="inline"||!vL.test(t.tokens[e].content)||_L(t.tokens[e].children,t)}function wL(t){let e,n;const r=t.tokens,i=r.length;for(let s=0;s<i;s++){if(r[s].type!=="inline")continue;const a=r[s].children,o=a.length;for(e=0;e<o;e++)a[e].type==="text_special"&&(a[e].type="text");for(e=n=0;e<o;e++)a[e].type==="text"&&e+1<o&&a[e+1].type==="text"?a[e+1].content=a[e].content+a[e+1].content:(e!==n&&(a[n]=a[e]),n++);e!==n&&(a.length=n)}}const dg=[["normalize",aL],["block",oL],["inline",uL],["linkify",hL],["replacements",bL],["smartquotes",EL],["text_join",wL]];function iv(){this.ruler=new lr;for(let t=0;t<dg.length;t++)this.ruler.push(dg[t][0],dg[t][1])}iv.prototype.process=function(t){const e=this.ruler.getRules("");for(let n=0,r=e.length;n<r;n++)e[n](t)};iv.prototype.State=EA;function Ii(t,e,n,r){this.src=t,this.md=e,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const i=this.src;for(let s=0,a=0,o=0,u=0,c=i.length,l=!1;a<c;a++){const h=i.charCodeAt(a);if(!l)if(Dt(h)){o++,h===9?u+=4-u%4:u++;continue}else l=!0;(h===10||a===c-1)&&(h!==10&&a++,this.bMarks.push(s),this.eMarks.push(a),this.tShift.push(o),this.sCount.push(u),this.bsCount.push(0),l=!1,o=0,u=0,s=a+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Ii.prototype.push=function(t,e,n){const r=new oi(t,e,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r};Ii.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};Ii.prototype.skipEmptyLines=function(e){for(let n=this.lineMax;e<n&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};Ii.prototype.skipSpaces=function(e){for(let n=this.src.length;e<n;e++){const r=this.src.charCodeAt(e);if(!Dt(r))break}return e};Ii.prototype.skipSpacesBack=function(e,n){if(e<=n)return e;for(;e>n;)if(!Dt(this.src.charCodeAt(--e)))return e+1;return e};Ii.prototype.skipChars=function(e,n){for(let r=this.src.length;e<r&&this.src.charCodeAt(e)===n;e++);return e};Ii.prototype.skipCharsBack=function(e,n,r){if(e<=r)return e;for(;e>r;)if(n!==this.src.charCodeAt(--e))return e+1;return e};Ii.prototype.getLines=function(e,n,r,i){if(e>=n)return"";const s=new Array(n-e);for(let a=0,o=e;o<n;o++,a++){let u=0;const c=this.bMarks[o];let l=c,h;for(o+1<n||i?h=this.eMarks[o]+1:h=this.eMarks[o];l<h&&u<r;){const d=this.src.charCodeAt(l);if(Dt(d))d===9?u+=4-(u+this.bsCount[o])%4:u++;else if(l-c<this.tShift[o])u++;else break;l++}u>r?s[a]=new Array(u-r+1).join(" ")+this.src.slice(l,h):s[a]=this.src.slice(l,h)}return s.join("")};Ii.prototype.Token=oi;const xL=65536;function pg(t,e){const n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];return t.src.slice(n,r)}function A1(t){const e=[],n=t.length;let r=0,i=t.charCodeAt(r),s=!1,a=0,o="";for(;r<n;)i===124&&(s?(o+=t.substring(a,r-1),a=r):(e.push(o+t.substring(a,r)),o="",a=r+1)),s=i===92,r++,i=t.charCodeAt(r);return e.push(o+t.substring(a)),e}function TL(t,e,n,r){if(e+2>n)return!1;let i=e+1;if(t.sCount[i]<t.blkIndent||t.sCount[i]-t.blkIndent>=4)return!1;let s=t.bMarks[i]+t.tShift[i];if(s>=t.eMarks[i])return!1;const a=t.src.charCodeAt(s++);if(a!==124&&a!==45&&a!==58||s>=t.eMarks[i])return!1;const o=t.src.charCodeAt(s++);if(o!==124&&o!==45&&o!==58&&!Dt(o)||a===45&&Dt(o))return!1;for(;s<t.eMarks[i];){const _=t.src.charCodeAt(s);if(_!==124&&_!==45&&_!==58&&!Dt(_))return!1;s++}let u=pg(t,e+1),c=u.split("|");const l=[];for(let _=0;_<c.length;_++){const k=c[_].trim();if(!k){if(_===0||_===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(k))return!1;k.charCodeAt(k.length-1)===58?l.push(k.charCodeAt(0)===58?"center":"right"):k.charCodeAt(0)===58?l.push("left"):l.push("")}if(u=pg(t,e).trim(),u.indexOf("|")===-1||t.sCount[e]-t.blkIndent>=4)return!1;c=A1(u),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop();const h=c.length;if(h===0||h!==l.length)return!1;if(r)return!0;const d=t.parentType;t.parentType="table";const f=t.md.block.ruler.getRules("blockquote"),p=t.push("table_open","table",1),g=[e,0];p.map=g;const m=t.push("thead_open","thead",1);m.map=[e,e+1];const y=t.push("tr_open","tr",1);y.map=[e,e+1];for(let _=0;_<c.length;_++){const k=t.push("th_open","th",1);l[_]&&(k.attrs=[["style","text-align:"+l[_]]]);const C=t.push("inline","",0);C.content=c[_].trim(),C.children=[],t.push("th_close","th",-1)}t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let v,b=0;for(i=e+2;i<n&&!(t.sCount[i]<t.blkIndent);i++){let _=!1;for(let C=0,x=f.length;C<x;C++)if(f[C](t,i,n,!0)){_=!0;break}if(_||(u=pg(t,i).trim(),!u)||t.sCount[i]-t.blkIndent>=4||(c=A1(u),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop(),b+=h-c.length,b>xL))break;if(i===e+2){const C=t.push("tbody_open","tbody",1);C.map=v=[e+2,0]}const k=t.push("tr_open","tr",1);k.map=[i,i+1];for(let C=0;C<h;C++){const x=t.push("td_open","td",1);l[C]&&(x.attrs=[["style","text-align:"+l[C]]]);const S=t.push("inline","",0);S.content=c[C]?c[C].trim():"",S.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return v&&(t.push("tbody_close","tbody",-1),v[1]=i),t.push("table_close","table",-1),g[1]=i,t.parentType=d,t.line=i,!0}function kL(t,e,n){if(t.sCount[e]-t.blkIndent<4)return!1;let r=e+1,i=r;for(;r<n;){if(t.isEmpty(r)){r++;continue}if(t.sCount[r]-t.blkIndent>=4){r++,i=r;continue}break}t.line=i;const s=t.push("code_block","code",0);return s.content=t.getLines(e,i,4+t.blkIndent,!1)+`
`,s.map=[e,t.line],!0}function AL(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||i+3>s)return!1;const a=t.src.charCodeAt(i);if(a!==126&&a!==96)return!1;let o=i;i=t.skipChars(i,a);let u=i-o;if(u<3)return!1;const c=t.src.slice(o,i),l=t.src.slice(i,s);if(a===96&&l.indexOf(String.fromCharCode(a))>=0)return!1;if(r)return!0;let h=e,d=!1;for(;h++,!(h>=n||(i=o=t.bMarks[h]+t.tShift[h],s=t.eMarks[h],i<s&&t.sCount[h]<t.blkIndent));)if(t.src.charCodeAt(i)===a&&!(t.sCount[h]-t.blkIndent>=4)&&(i=t.skipChars(i,a),!(i-o<u)&&(i=t.skipSpaces(i),!(i<s)))){d=!0;break}u=t.sCount[e],t.line=h+(d?1:0);const f=t.push("fence","code",0);return f.info=l,f.content=t.getLines(e+1,h,u,!0),f.markup=c,f.map=[e,t.line],!0}function NL(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];const a=t.lineMax;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(i)!==62)return!1;if(r)return!0;const o=[],u=[],c=[],l=[],h=t.md.block.ruler.getRules("blockquote"),d=t.parentType;t.parentType="blockquote";let f=!1,p;for(p=e;p<n;p++){const b=t.sCount[p]<t.blkIndent;if(i=t.bMarks[p]+t.tShift[p],s=t.eMarks[p],i>=s)break;if(t.src.charCodeAt(i++)===62&&!b){let k=t.sCount[p]+1,C,x;t.src.charCodeAt(i)===32?(i++,k++,x=!1,C=!0):t.src.charCodeAt(i)===9?(C=!0,(t.bsCount[p]+k)%4===3?(i++,k++,x=!1):x=!0):C=!1;let S=k;for(o.push(t.bMarks[p]),t.bMarks[p]=i;i<s;){const O=t.src.charCodeAt(i);if(Dt(O))O===9?S+=4-(S+t.bsCount[p]+(x?1:0))%4:S++;else break;i++}f=i>=s,u.push(t.bsCount[p]),t.bsCount[p]=t.sCount[p]+1+(C?1:0),c.push(t.sCount[p]),t.sCount[p]=S-k,l.push(t.tShift[p]),t.tShift[p]=i-t.bMarks[p];continue}if(f)break;let _=!1;for(let k=0,C=h.length;k<C;k++)if(h[k](t,p,n,!0)){_=!0;break}if(_){t.lineMax=p,t.blkIndent!==0&&(o.push(t.bMarks[p]),u.push(t.bsCount[p]),l.push(t.tShift[p]),c.push(t.sCount[p]),t.sCount[p]-=t.blkIndent);break}o.push(t.bMarks[p]),u.push(t.bsCount[p]),l.push(t.tShift[p]),c.push(t.sCount[p]),t.sCount[p]=-1}const g=t.blkIndent;t.blkIndent=0;const m=t.push("blockquote_open","blockquote",1);m.markup=">";const y=[e,0];m.map=y,t.md.block.tokenize(t,e,p);const v=t.push("blockquote_close","blockquote",-1);v.markup=">",t.lineMax=a,t.parentType=d,y[1]=t.line;for(let b=0;b<l.length;b++)t.bMarks[b+e]=o[b],t.tShift[b+e]=l[b],t.sCount[b+e]=c[b],t.bsCount[b+e]=u[b];return t.blkIndent=g,!0}function SL(t,e,n,r){const i=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let s=t.bMarks[e]+t.tShift[e];const a=t.src.charCodeAt(s++);if(a!==42&&a!==45&&a!==95)return!1;let o=1;for(;s<i;){const c=t.src.charCodeAt(s++);if(c!==a&&!Dt(c))return!1;c===a&&o++}if(o<3)return!1;if(r)return!0;t.line=e+1;const u=t.push("hr","hr",0);return u.map=[e,t.line],u.markup=Array(o+1).join(String.fromCharCode(a)),!0}function N1(t,e){const n=t.eMarks[e];let r=t.bMarks[e]+t.tShift[e];const i=t.src.charCodeAt(r++);if(i!==42&&i!==45&&i!==43)return-1;if(r<n){const s=t.src.charCodeAt(r);if(!Dt(s))return-1}return r}function S1(t,e){const n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];let i=n;if(i+1>=r)return-1;let s=t.src.charCodeAt(i++);if(s<48||s>57)return-1;for(;;){if(i>=r)return-1;if(s=t.src.charCodeAt(i++),s>=48&&s<=57){if(i-n>=10)return-1;continue}if(s===41||s===46)break;return-1}return i<r&&(s=t.src.charCodeAt(i),!Dt(s))?-1:i}function RL(t,e){const n=t.level+2;for(let r=e+2,i=t.tokens.length-2;r<i;r++)t.tokens[r].level===n&&t.tokens[r].type==="paragraph_open"&&(t.tokens[r+2].hidden=!0,t.tokens[r].hidden=!0,r+=2)}function CL(t,e,n,r){let i,s,a,o,u=e,c=!0;if(t.sCount[u]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[u]-t.listIndent>=4&&t.sCount[u]<t.blkIndent)return!1;let l=!1;r&&t.parentType==="paragraph"&&t.sCount[u]>=t.blkIndent&&(l=!0);let h,d,f;if((f=S1(t,u))>=0){if(h=!0,a=t.bMarks[u]+t.tShift[u],d=Number(t.src.slice(a,f-1)),l&&d!==1)return!1}else if((f=N1(t,u))>=0)h=!1;else return!1;if(l&&t.skipSpaces(f)>=t.eMarks[u])return!1;if(r)return!0;const p=t.src.charCodeAt(f-1),g=t.tokens.length;h?(o=t.push("ordered_list_open","ol",1),d!==1&&(o.attrs=[["start",d]])):o=t.push("bullet_list_open","ul",1);const m=[u,0];o.map=m,o.markup=String.fromCharCode(p);let y=!1;const v=t.md.block.ruler.getRules("list"),b=t.parentType;for(t.parentType="list";u<n;){s=f,i=t.eMarks[u];const _=t.sCount[u]+f-(t.bMarks[u]+t.tShift[u]);let k=_;for(;s<i;){const w=t.src.charCodeAt(s);if(w===9)k+=4-(k+t.bsCount[u])%4;else if(w===32)k++;else break;s++}const C=s;let x;C>=i?x=1:x=k-_,x>4&&(x=1);const S=_+x;o=t.push("list_item_open","li",1),o.markup=String.fromCharCode(p);const O=[u,0];o.map=O,h&&(o.info=t.src.slice(a,f-1));const D=t.tight,I=t.tShift[u],M=t.sCount[u],R=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=S,t.tight=!0,t.tShift[u]=C-t.bMarks[u],t.sCount[u]=k,C>=i&&t.isEmpty(u+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,u,n,!0),(!t.tight||y)&&(c=!1),y=t.line-u>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=R,t.tShift[u]=I,t.sCount[u]=M,t.tight=D,o=t.push("list_item_close","li",-1),o.markup=String.fromCharCode(p),u=t.line,O[1]=u,u>=n||t.sCount[u]<t.blkIndent||t.sCount[u]-t.blkIndent>=4)break;let E=!1;for(let w=0,T=v.length;w<T;w++)if(v[w](t,u,n,!0)){E=!0;break}if(E)break;if(h){if(f=S1(t,u),f<0)break;a=t.bMarks[u]+t.tShift[u]}else if(f=N1(t,u),f<0)break;if(p!==t.src.charCodeAt(f-1))break}return h?o=t.push("ordered_list_close","ol",-1):o=t.push("bullet_list_close","ul",-1),o.markup=String.fromCharCode(p),m[1]=u,t.line=u,t.parentType=b,c&&RL(t,g),!0}function ML(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e],a=e+1;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(i)!==91)return!1;function o(v){const b=t.lineMax;if(v>=b||t.isEmpty(v))return null;let _=!1;if(t.sCount[v]-t.blkIndent>3&&(_=!0),t.sCount[v]<0&&(_=!0),!_){const x=t.md.block.ruler.getRules("reference"),S=t.parentType;t.parentType="reference";let O=!1;for(let D=0,I=x.length;D<I;D++)if(x[D](t,v,b,!0)){O=!0;break}if(t.parentType=S,O)return null}const k=t.bMarks[v]+t.tShift[v],C=t.eMarks[v];return t.src.slice(k,C+1)}let u=t.src.slice(i,s+1);s=u.length;let c=-1;for(i=1;i<s;i++){const v=u.charCodeAt(i);if(v===91)return!1;if(v===93){c=i;break}else if(v===10){const b=o(a);b!==null&&(u+=b,s=u.length,a++)}else if(v===92&&(i++,i<s&&u.charCodeAt(i)===10)){const b=o(a);b!==null&&(u+=b,s=u.length,a++)}}if(c<0||u.charCodeAt(c+1)!==58)return!1;for(i=c+2;i<s;i++){const v=u.charCodeAt(i);if(v===10){const b=o(a);b!==null&&(u+=b,s=u.length,a++)}else if(!Dt(v))break}const l=t.md.helpers.parseLinkDestination(u,i,s);if(!l.ok)return!1;const h=t.md.normalizeLink(l.str);if(!t.md.validateLink(h))return!1;i=l.pos;const d=i,f=a,p=i;for(;i<s;i++){const v=u.charCodeAt(i);if(v===10){const b=o(a);b!==null&&(u+=b,s=u.length,a++)}else if(!Dt(v))break}let g=t.md.helpers.parseLinkTitle(u,i,s);for(;g.can_continue;){const v=o(a);if(v===null)break;u+=v,i=s,s=u.length,a++,g=t.md.helpers.parseLinkTitle(u,i,s,g)}let m;for(i<s&&p!==i&&g.ok?(m=g.str,i=g.pos):(m="",i=d,a=f);i<s;){const v=u.charCodeAt(i);if(!Dt(v))break;i++}if(i<s&&u.charCodeAt(i)!==10&&m)for(m="",i=d,a=f;i<s;){const v=u.charCodeAt(i);if(!Dt(v))break;i++}if(i<s&&u.charCodeAt(i)!==10)return!1;const y=ip(u.slice(1,c));return y?(r||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[y]>"u"&&(t.env.references[y]={title:m,href:h}),t.line=a),!0):!1}const OL=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],IL="[a-zA-Z_:][a-zA-Z0-9:._-]*",DL="[^\"'=<>`\\x00-\\x20]+",LL="'[^']*'",PL='"[^"]*"',FL="(?:"+DL+"|"+LL+"|"+PL+")",$L="(?:\\s+"+IL+"(?:\\s*=\\s*"+FL+")?)",xA="<[A-Za-z][A-Za-z0-9\\-]*"+$L+"*\\s*\\/?>",TA="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",UL="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",BL="<[?][\\s\\S]*?[?]>",GL="<![A-Za-z][^>]*>",zL="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",qL=new RegExp("^(?:"+xA+"|"+TA+"|"+UL+"|"+BL+"|"+GL+"|"+zL+")"),HL=new RegExp("^(?:"+xA+"|"+TA+")"),Za=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+OL.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(HL.source+"\\s*$"),/^$/,!1]];function WL(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(i)!==60)return!1;let a=t.src.slice(i,s),o=0;for(;o<Za.length&&!Za[o][0].test(a);o++);if(o===Za.length)return!1;if(r)return Za[o][2];let u=e+1;if(!Za[o][1].test(a)){for(;u<n&&!(t.sCount[u]<t.blkIndent);u++)if(i=t.bMarks[u]+t.tShift[u],s=t.eMarks[u],a=t.src.slice(i,s),Za[o][1].test(a)){a.length!==0&&u++;break}}t.line=u;const c=t.push("html_block","",0);return c.map=[e,u],c.content=t.getLines(e,u,t.blkIndent,!0),!0}function YL(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let a=t.src.charCodeAt(i);if(a!==35||i>=s)return!1;let o=1;for(a=t.src.charCodeAt(++i);a===35&&i<s&&o<=6;)o++,a=t.src.charCodeAt(++i);if(o>6||i<s&&!Dt(a))return!1;if(r)return!0;s=t.skipSpacesBack(s,i);const u=t.skipCharsBack(s,35,i);u>i&&Dt(t.src.charCodeAt(u-1))&&(s=u),t.line=e+1;const c=t.push("heading_open","h"+String(o),1);c.markup="########".slice(0,o),c.map=[e,t.line];const l=t.push("inline","",0);l.content=t.src.slice(i,s).trim(),l.map=[e,t.line],l.children=[];const h=t.push("heading_close","h"+String(o),-1);return h.markup="########".slice(0,o),!0}function VL(t,e,n){const r=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const i=t.parentType;t.parentType="paragraph";let s=0,a,o=e+1;for(;o<n&&!t.isEmpty(o);o++){if(t.sCount[o]-t.blkIndent>3)continue;if(t.sCount[o]>=t.blkIndent){let f=t.bMarks[o]+t.tShift[o];const p=t.eMarks[o];if(f<p&&(a=t.src.charCodeAt(f),(a===45||a===61)&&(f=t.skipChars(f,a),f=t.skipSpaces(f),f>=p))){s=a===61?1:2;break}}if(t.sCount[o]<0)continue;let d=!1;for(let f=0,p=r.length;f<p;f++)if(r[f](t,o,n,!0)){d=!0;break}if(d)break}if(!s)return!1;const u=t.getLines(e,o,t.blkIndent,!1).trim();t.line=o+1;const c=t.push("heading_open","h"+String(s),1);c.markup=String.fromCharCode(a),c.map=[e,t.line];const l=t.push("inline","",0);l.content=u,l.map=[e,t.line-1],l.children=[];const h=t.push("heading_close","h"+String(s),-1);return h.markup=String.fromCharCode(a),t.parentType=i,!0}function XL(t,e,n){const r=t.md.block.ruler.getRules("paragraph"),i=t.parentType;let s=e+1;for(t.parentType="paragraph";s<n&&!t.isEmpty(s);s++){if(t.sCount[s]-t.blkIndent>3||t.sCount[s]<0)continue;let c=!1;for(let l=0,h=r.length;l<h;l++)if(r[l](t,s,n,!0)){c=!0;break}if(c)break}const a=t.getLines(e,s,t.blkIndent,!1).trim();t.line=s;const o=t.push("paragraph_open","p",1);o.map=[e,t.line];const u=t.push("inline","",0);return u.content=a,u.map=[e,t.line],u.children=[],t.push("paragraph_close","p",-1),t.parentType=i,!0}const jl=[["table",TL,["paragraph","reference"]],["code",kL],["fence",AL,["paragraph","reference","blockquote","list"]],["blockquote",NL,["paragraph","reference","blockquote","list"]],["hr",SL,["paragraph","reference","blockquote","list"]],["list",CL,["paragraph","reference","blockquote"]],["reference",ML],["html_block",WL,["paragraph","reference","blockquote"]],["heading",YL,["paragraph","reference","blockquote"]],["lheading",VL],["paragraph",XL]];function sp(){this.ruler=new lr;for(let t=0;t<jl.length;t++)this.ruler.push(jl[t][0],jl[t][1],{alt:(jl[t][2]||[]).slice()})}sp.prototype.tokenize=function(t,e,n){const r=this.ruler.getRules(""),i=r.length,s=t.md.options.maxNesting;let a=e,o=!1;for(;a<n&&(t.line=a=t.skipEmptyLines(a),!(a>=n||t.sCount[a]<t.blkIndent));){if(t.level>=s){t.line=n;break}const u=t.line;let c=!1;for(let l=0;l<i;l++)if(c=r[l](t,a,n,!1),c){if(u>=t.line)throw new Error("block rule didn't increment state.line");break}if(!c)throw new Error("none of the block rules matched");t.tight=!o,t.isEmpty(t.line-1)&&(o=!0),a=t.line,a<n&&t.isEmpty(a)&&(o=!0,a++,t.line=a)}};sp.prototype.parse=function(t,e,n,r){if(!t)return;const i=new this.State(t,e,n,r);this.tokenize(i,i.line,i.lineMax)};sp.prototype.State=Ii;function pl(t,e,n,r){this.src=t,this.env=n,this.md=e,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}pl.prototype.pushPending=function(){const t=new oi("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};pl.prototype.push=function(t,e,n){this.pending&&this.pushPending();const r=new oi(t,e,n);let i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(i),r};pl.prototype.scanDelims=function(t,e){const n=this.posMax,r=this.src.charCodeAt(t),i=t>0?this.src.charCodeAt(t-1):32;let s=t;for(;s<n&&this.src.charCodeAt(s)===r;)s++;const a=s-t,o=s<n?this.src.charCodeAt(s):32,u=Dc(i)||Ic(String.fromCharCode(i)),c=Dc(o)||Ic(String.fromCharCode(o)),l=Oc(i),h=Oc(o),d=!h&&(!c||l||u),f=!l&&(!u||h||c);return{can_open:d&&(e||!f||u),can_close:f&&(e||!d||c),length:a}};pl.prototype.Token=oi;function jL(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function KL(t,e){let n=t.pos;for(;n<t.posMax&&!jL(t.src.charCodeAt(n));)n++;return n===t.pos?!1:(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}const ZL=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function QL(t,e){if(!t.md.options.linkify||t.linkLevel>0)return!1;const n=t.pos,r=t.posMax;if(n+3>r||t.src.charCodeAt(n)!==58||t.src.charCodeAt(n+1)!==47||t.src.charCodeAt(n+2)!==47)return!1;const i=t.pending.match(ZL);if(!i)return!1;const s=i[1],a=t.md.linkify.matchAtStart(t.src.slice(n-s.length));if(!a)return!1;let o=a.url;if(o.length<=s.length)return!1;let u=o.length;for(;u>0&&o.charCodeAt(u-1)===42;)u--;u!==o.length&&(o=o.slice(0,u));const c=t.md.normalizeLink(o);if(!t.md.validateLink(c))return!1;if(!e){t.pending=t.pending.slice(0,-s.length);const l=t.push("link_open","a",1);l.attrs=[["href",c]],l.markup="linkify",l.info="auto";const h=t.push("text","",0);h.content=t.md.normalizeLinkText(o);const d=t.push("link_close","a",-1);d.markup="linkify",d.info="auto"}return t.pos+=o.length-s.length,!0}function JL(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==10)return!1;const r=t.pending.length-1,i=t.posMax;if(!e)if(r>=0&&t.pending.charCodeAt(r)===32)if(r>=1&&t.pending.charCodeAt(r-1)===32){let s=r-1;for(;s>=1&&t.pending.charCodeAt(s-1)===32;)s--;t.pending=t.pending.slice(0,s),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(n++;n<i&&Dt(t.src.charCodeAt(n));)n++;return t.pos=n,!0}const sv=[];for(let t=0;t<256;t++)sv.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){sv[t.charCodeAt(0)]=1});function e3(t,e){let n=t.pos;const r=t.posMax;if(t.src.charCodeAt(n)!==92||(n++,n>=r))return!1;let i=t.src.charCodeAt(n);if(i===10){for(e||t.push("hardbreak","br",0),n++;n<r&&(i=t.src.charCodeAt(n),!!Dt(i));)n++;return t.pos=n,!0}let s=t.src[n];if(i>=55296&&i<=56319&&n+1<r){const o=t.src.charCodeAt(n+1);o>=56320&&o<=57343&&(s+=t.src[n+1],n++)}const a="\\"+s;if(!e){const o=t.push("text_special","",0);i<256&&sv[i]!==0?o.content=s:o.content=a,o.markup=a,o.info="escape"}return t.pos=n+1,!0}function t3(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==96)return!1;const i=n;n++;const s=t.posMax;for(;n<s&&t.src.charCodeAt(n)===96;)n++;const a=t.src.slice(i,n),o=a.length;if(t.backticksScanned&&(t.backticks[o]||0)<=i)return e||(t.pending+=a),t.pos+=o,!0;let u=n,c;for(;(c=t.src.indexOf("`",u))!==-1;){for(u=c+1;u<s&&t.src.charCodeAt(u)===96;)u++;const l=u-c;if(l===o){if(!e){const h=t.push("code_inline","code",0);h.markup=a,h.content=t.src.slice(n,c).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=u,!0}t.backticks[l]=c}return t.backticksScanned=!0,e||(t.pending+=a),t.pos+=o,!0}function n3(t,e){const n=t.pos,r=t.src.charCodeAt(n);if(e||r!==126)return!1;const i=t.scanDelims(t.pos,!0);let s=i.length;const a=String.fromCharCode(r);if(s<2)return!1;let o;s%2&&(o=t.push("text","",0),o.content=a,s--);for(let u=0;u<s;u+=2)o=t.push("text","",0),o.content=a+a,t.delimiters.push({marker:r,length:0,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0}function R1(t,e){let n;const r=[],i=e.length;for(let s=0;s<i;s++){const a=e[s];if(a.marker!==126||a.end===-1)continue;const o=e[a.end];n=t.tokens[a.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=t.tokens[o.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",t.tokens[o.token-1].type==="text"&&t.tokens[o.token-1].content==="~"&&r.push(o.token-1)}for(;r.length;){const s=r.pop();let a=s+1;for(;a<t.tokens.length&&t.tokens[a].type==="s_close";)a++;a--,s!==a&&(n=t.tokens[a],t.tokens[a]=t.tokens[s],t.tokens[s]=n)}}function r3(t){const e=t.tokens_meta,n=t.tokens_meta.length;R1(t,t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&R1(t,e[r].delimiters)}const kA={tokenize:n3,postProcess:r3};function i3(t,e){const n=t.pos,r=t.src.charCodeAt(n);if(e||r!==95&&r!==42)return!1;const i=t.scanDelims(t.pos,r===42);for(let s=0;s<i.length;s++){const a=t.push("text","",0);a.content=String.fromCharCode(r),t.delimiters.push({marker:r,length:i.length,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close})}return t.pos+=i.length,!0}function C1(t,e){const n=e.length;for(let r=n-1;r>=0;r--){const i=e[r];if(i.marker!==95&&i.marker!==42||i.end===-1)continue;const s=e[i.end],a=r>0&&e[r-1].end===i.end+1&&e[r-1].marker===i.marker&&e[r-1].token===i.token-1&&e[i.end+1].token===s.token+1,o=String.fromCharCode(i.marker),u=t.tokens[i.token];u.type=a?"strong_open":"em_open",u.tag=a?"strong":"em",u.nesting=1,u.markup=a?o+o:o,u.content="";const c=t.tokens[s.token];c.type=a?"strong_close":"em_close",c.tag=a?"strong":"em",c.nesting=-1,c.markup=a?o+o:o,c.content="",a&&(t.tokens[e[r-1].token].content="",t.tokens[e[i.end+1].token].content="",r--)}}function s3(t){const e=t.tokens_meta,n=t.tokens_meta.length;C1(t,t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&C1(t,e[r].delimiters)}const AA={tokenize:i3,postProcess:s3};function a3(t,e){let n,r,i,s,a="",o="",u=t.pos,c=!0;if(t.src.charCodeAt(t.pos)!==91)return!1;const l=t.pos,h=t.posMax,d=t.pos+1,f=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(f<0)return!1;let p=f+1;if(p<h&&t.src.charCodeAt(p)===40){for(c=!1,p++;p<h&&(n=t.src.charCodeAt(p),!(!Dt(n)&&n!==10));p++);if(p>=h)return!1;if(u=p,i=t.md.helpers.parseLinkDestination(t.src,p,t.posMax),i.ok){for(a=t.md.normalizeLink(i.str),t.md.validateLink(a)?p=i.pos:a="",u=p;p<h&&(n=t.src.charCodeAt(p),!(!Dt(n)&&n!==10));p++);if(i=t.md.helpers.parseLinkTitle(t.src,p,t.posMax),p<h&&u!==p&&i.ok)for(o=i.str,p=i.pos;p<h&&(n=t.src.charCodeAt(p),!(!Dt(n)&&n!==10));p++);}(p>=h||t.src.charCodeAt(p)!==41)&&(c=!0),p++}if(c){if(typeof t.env.references>"u")return!1;if(p<h&&t.src.charCodeAt(p)===91?(u=p+1,p=t.md.helpers.parseLinkLabel(t,p),p>=0?r=t.src.slice(u,p++):p=f+1):p=f+1,r||(r=t.src.slice(d,f)),s=t.env.references[ip(r)],!s)return t.pos=l,!1;a=s.href,o=s.title}if(!e){t.pos=d,t.posMax=f;const g=t.push("link_open","a",1),m=[["href",a]];g.attrs=m,o&&m.push(["title",o]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=p,t.posMax=h,!0}function o3(t,e){let n,r,i,s,a,o,u,c,l="";const h=t.pos,d=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91)return!1;const f=t.pos+2,p=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(p<0)return!1;if(s=p+1,s<d&&t.src.charCodeAt(s)===40){for(s++;s<d&&(n=t.src.charCodeAt(s),!(!Dt(n)&&n!==10));s++);if(s>=d)return!1;for(c=s,o=t.md.helpers.parseLinkDestination(t.src,s,t.posMax),o.ok&&(l=t.md.normalizeLink(o.str),t.md.validateLink(l)?s=o.pos:l=""),c=s;s<d&&(n=t.src.charCodeAt(s),!(!Dt(n)&&n!==10));s++);if(o=t.md.helpers.parseLinkTitle(t.src,s,t.posMax),s<d&&c!==s&&o.ok)for(u=o.str,s=o.pos;s<d&&(n=t.src.charCodeAt(s),!(!Dt(n)&&n!==10));s++);else u="";if(s>=d||t.src.charCodeAt(s)!==41)return t.pos=h,!1;s++}else{if(typeof t.env.references>"u")return!1;if(s<d&&t.src.charCodeAt(s)===91?(c=s+1,s=t.md.helpers.parseLinkLabel(t,s),s>=0?i=t.src.slice(c,s++):s=p+1):s=p+1,i||(i=t.src.slice(f,p)),a=t.env.references[ip(i)],!a)return t.pos=h,!1;l=a.href,u=a.title}if(!e){r=t.src.slice(f,p);const g=[];t.md.inline.parse(r,t.md,t.env,g);const m=t.push("image","img",0),y=[["src",l],["alt",""]];m.attrs=y,m.children=g,m.content=r,u&&y.push(["title",u])}return t.pos=s,t.posMax=d,!0}const u3=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,c3=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function l3(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==60)return!1;const r=t.pos,i=t.posMax;for(;;){if(++n>=i)return!1;const a=t.src.charCodeAt(n);if(a===60)return!1;if(a===62)break}const s=t.src.slice(r+1,n);if(c3.test(s)){const a=t.md.normalizeLink(s);if(!t.md.validateLink(a))return!1;if(!e){const o=t.push("link_open","a",1);o.attrs=[["href",a]],o.markup="autolink",o.info="auto";const u=t.push("text","",0);u.content=t.md.normalizeLinkText(s);const c=t.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return t.pos+=s.length+2,!0}if(u3.test(s)){const a=t.md.normalizeLink("mailto:"+s);if(!t.md.validateLink(a))return!1;if(!e){const o=t.push("link_open","a",1);o.attrs=[["href",a]],o.markup="autolink",o.info="auto";const u=t.push("text","",0);u.content=t.md.normalizeLinkText(s);const c=t.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return t.pos+=s.length+2,!0}return!1}function h3(t){return/^<a[>\s]/i.test(t)}function f3(t){return/^<\/a\s*>/i.test(t)}function d3(t){const e=t|32;return e>=97&&e<=122}function p3(t,e){if(!t.md.options.html)return!1;const n=t.posMax,r=t.pos;if(t.src.charCodeAt(r)!==60||r+2>=n)return!1;const i=t.src.charCodeAt(r+1);if(i!==33&&i!==63&&i!==47&&!d3(i))return!1;const s=t.src.slice(r).match(qL);if(!s)return!1;if(!e){const a=t.push("html_inline","",0);a.content=s[0],h3(a.content)&&t.linkLevel++,f3(a.content)&&t.linkLevel--}return t.pos+=s[0].length,!0}const g3=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,m3=/^&([a-z][a-z0-9]{1,31});/i;function y3(t,e){const n=t.pos,r=t.posMax;if(t.src.charCodeAt(n)!==38||n+1>=r)return!1;if(t.src.charCodeAt(n+1)===35){const s=t.src.slice(n).match(g3);if(s){if(!e){const a=s[1][0].toLowerCase()==="x"?parseInt(s[1].slice(1),16):parseInt(s[1],10),o=t.push("text_special","",0);o.content=rv(a)?kf(a):kf(65533),o.markup=s[0],o.info="entity"}return t.pos+=s[0].length,!0}}else{const s=t.src.slice(n).match(m3);if(s){const a=bA(s[0]);if(a!==s[0]){if(!e){const o=t.push("text_special","",0);o.content=a,o.markup=s[0],o.info="entity"}return t.pos+=s[0].length,!0}}}return!1}function M1(t){const e={},n=t.length;if(!n)return;let r=0,i=-2;const s=[];for(let a=0;a<n;a++){const o=t[a];if(s.push(0),(t[r].marker!==o.marker||i!==o.token-1)&&(r=a),i=o.token,o.length=o.length||0,!o.close)continue;e.hasOwnProperty(o.marker)||(e[o.marker]=[-1,-1,-1,-1,-1,-1]);const u=e[o.marker][(o.open?3:0)+o.length%3];let c=r-s[r]-1,l=c;for(;c>u;c-=s[c]+1){const h=t[c];if(h.marker===o.marker&&h.open&&h.end<0){let d=!1;if((h.close||o.open)&&(h.length+o.length)%3===0&&(h.length%3!==0||o.length%3!==0)&&(d=!0),!d){const f=c>0&&!t[c-1].open?s[c-1]+1:0;s[a]=a-c+f,s[c]=f,o.open=!1,h.end=a,h.close=!1,l=-1,i=-2;break}}}l!==-1&&(e[o.marker][(o.open?3:0)+(o.length||0)%3]=l)}}function b3(t){const e=t.tokens_meta,n=t.tokens_meta.length;M1(t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&M1(e[r].delimiters)}function v3(t){let e,n,r=0;const i=t.tokens,s=t.tokens.length;for(e=n=0;e<s;e++)i[e].nesting<0&&r--,i[e].level=r,i[e].nesting>0&&r++,i[e].type==="text"&&e+1<s&&i[e+1].type==="text"?i[e+1].content=i[e].content+i[e+1].content:(e!==n&&(i[n]=i[e]),n++);e!==n&&(i.length=n)}const gg=[["text",KL],["linkify",QL],["newline",JL],["escape",e3],["backticks",t3],["strikethrough",kA.tokenize],["emphasis",AA.tokenize],["link",a3],["image",o3],["autolink",l3],["html_inline",p3],["entity",y3]],mg=[["balance_pairs",b3],["strikethrough",kA.postProcess],["emphasis",AA.postProcess],["fragments_join",v3]];function gl(){this.ruler=new lr;for(let t=0;t<gg.length;t++)this.ruler.push(gg[t][0],gg[t][1]);this.ruler2=new lr;for(let t=0;t<mg.length;t++)this.ruler2.push(mg[t][0],mg[t][1])}gl.prototype.skipToken=function(t){const e=t.pos,n=this.ruler.getRules(""),r=n.length,i=t.md.options.maxNesting,s=t.cache;if(typeof s[e]<"u"){t.pos=s[e];return}let a=!1;if(t.level<i){for(let o=0;o<r;o++)if(t.level++,a=n[o](t,!0),t.level--,a){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;a||t.pos++,s[e]=t.pos};gl.prototype.tokenize=function(t){const e=this.ruler.getRules(""),n=e.length,r=t.posMax,i=t.md.options.maxNesting;for(;t.pos<r;){const s=t.pos;let a=!1;if(t.level<i){for(let o=0;o<n;o++)if(a=e[o](t,!1),a){if(s>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}if(a){if(t.pos>=r)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};gl.prototype.parse=function(t,e,n,r){const i=new this.State(t,e,n,r);this.tokenize(i);const s=this.ruler2.getRules(""),a=s.length;for(let o=0;o<a;o++)s[o](i)};gl.prototype.State=pl;function _3(t){const e={};t=t||{},e.src_Any=dA.source,e.src_Cc=pA.source,e.src_Z=mA.source,e.src_P=tv.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function j0(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(r){t[r]=n[r]})}),t}function ap(t){return Object.prototype.toString.call(t)}function E3(t){return ap(t)==="[object String]"}function w3(t){return ap(t)==="[object Object]"}function x3(t){return ap(t)==="[object RegExp]"}function O1(t){return ap(t)==="[object Function]"}function T3(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const NA={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function k3(t){return Object.keys(t||{}).reduce(function(e,n){return e||NA.hasOwnProperty(n)},!1)}const A3={"http:":{validate:function(t,e,n){const r=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){const r=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){const r=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},N3="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",S3="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function R3(t){t.__index__=-1,t.__text_cache__=""}function C3(t){return function(e,n){const r=e.slice(n);return t.test(r)?r.match(t)[0].length:0}}function I1(){return function(t,e){e.normalize(t)}}function Af(t){const e=t.re=_3(t.__opts__),n=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||n.push(N3),n.push(e.src_xn),e.src_tlds=n.join("|");function r(o){return o.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(r(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(r(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(r(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(r(e.tpl_host_fuzzy_test),"i");const i=[];t.__compiled__={};function s(o,u){throw new Error('(LinkifyIt) Invalid schema "'+o+'": '+u)}Object.keys(t.__schemas__).forEach(function(o){const u=t.__schemas__[o];if(u===null)return;const c={validate:null,link:null};if(t.__compiled__[o]=c,w3(u)){x3(u.validate)?c.validate=C3(u.validate):O1(u.validate)?c.validate=u.validate:s(o,u),O1(u.normalize)?c.normalize=u.normalize:u.normalize?s(o,u):c.normalize=I1();return}if(E3(u)){i.push(o);return}s(o,u)}),i.forEach(function(o){t.__compiled__[t.__schemas__[o]]&&(t.__compiled__[o].validate=t.__compiled__[t.__schemas__[o]].validate,t.__compiled__[o].normalize=t.__compiled__[t.__schemas__[o]].normalize)}),t.__compiled__[""]={validate:null,normalize:I1()};const a=Object.keys(t.__compiled__).filter(function(o){return o.length>0&&t.__compiled__[o]}).map(T3).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+a+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+a+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),R3(t)}function M3(t,e){const n=t.__index__,r=t.__last_index__,i=t.__text_cache__.slice(n,r);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=r+e,this.raw=i,this.text=i,this.url=i}function K0(t,e){const n=new M3(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function Rr(t,e){if(!(this instanceof Rr))return new Rr(t,e);e||k3(t)&&(e=t,t={}),this.__opts__=j0({},NA,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=j0({},A3,t),this.__compiled__={},this.__tlds__=S3,this.__tlds_replaced__=!1,this.re={},Af(this)}Rr.prototype.add=function(e,n){return this.__schemas__[e]=n,Af(this),this};Rr.prototype.set=function(e){return this.__opts__=j0(this.__opts__,e),this};Rr.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let n,r,i,s,a,o,u,c,l;if(this.re.schema_test.test(e)){for(u=this.re.schema_search,u.lastIndex=0;(n=u.exec(e))!==null;)if(s=this.testSchemaAt(e,n[2],u.lastIndex),s){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(a=r.index+r[1].length,(this.__index__<0||a<this.__index__)&&(this.__schema__="",this.__index__=a,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(l=e.indexOf("@"),l>=0&&(i=e.match(this.re.email_fuzzy))!==null&&(a=i.index+i[1].length,o=i.index+i[0].length,(this.__index__<0||a<this.__index__||a===this.__index__&&o>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=a,this.__last_index__=o))),this.__index__>=0};Rr.prototype.pretest=function(e){return this.re.pretest.test(e)};Rr.prototype.testSchemaAt=function(e,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,r,this):0};Rr.prototype.match=function(e){const n=[];let r=0;this.__index__>=0&&this.__text_cache__===e&&(n.push(K0(this,r)),r=this.__last_index__);let i=r?e.slice(r):e;for(;this.test(i);)n.push(K0(this,r)),i=i.slice(this.__last_index__),r+=this.__last_index__;return n.length?n:null};Rr.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const n=this.re.schema_at_start.exec(e);if(!n)return null;const r=this.testSchemaAt(e,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,K0(this,0)):null};Rr.prototype.tlds=function(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(r,i,s){return r!==s[i-1]}).reverse(),Af(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,Af(this),this)};Rr.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};Rr.prototype.onCompile=function(){};const Ao=2147483647,ki=36,av=1,Lc=26,O3=38,I3=700,SA=72,RA=128,CA="-",D3=/^xn--/,L3=/[^\0-\x7F]/,P3=/[\x2E\u3002\uFF0E\uFF61]/g,F3={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},yg=ki-av,Ai=Math.floor,bg=String.fromCharCode;function Es(t){throw new RangeError(F3[t])}function $3(t,e){const n=[];let r=t.length;for(;r--;)n[r]=e(t[r]);return n}function MA(t,e){const n=t.split("@");let r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(P3,".");const i=t.split("."),s=$3(i,e).join(".");return r+s}function OA(t){const e=[];let n=0;const r=t.length;for(;n<r;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}const U3=t=>String.fromCodePoint(...t),B3=function(t){return t>=48&&t<58?26+(t-48):t>=65&&t<91?t-65:t>=97&&t<123?t-97:ki},D1=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},IA=function(t,e,n){let r=0;for(t=n?Ai(t/I3):t>>1,t+=Ai(t/e);t>yg*Lc>>1;r+=ki)t=Ai(t/yg);return Ai(r+(yg+1)*t/(t+O3))},DA=function(t){const e=[],n=t.length;let r=0,i=RA,s=SA,a=t.lastIndexOf(CA);a<0&&(a=0);for(let o=0;o<a;++o)t.charCodeAt(o)>=128&&Es("not-basic"),e.push(t.charCodeAt(o));for(let o=a>0?a+1:0;o<n;){const u=r;for(let l=1,h=ki;;h+=ki){o>=n&&Es("invalid-input");const d=B3(t.charCodeAt(o++));d>=ki&&Es("invalid-input"),d>Ai((Ao-r)/l)&&Es("overflow"),r+=d*l;const f=h<=s?av:h>=s+Lc?Lc:h-s;if(d<f)break;const p=ki-f;l>Ai(Ao/p)&&Es("overflow"),l*=p}const c=e.length+1;s=IA(r-u,c,u==0),Ai(r/c)>Ao-i&&Es("overflow"),i+=Ai(r/c),r%=c,e.splice(r++,0,i)}return String.fromCodePoint(...e)},LA=function(t){const e=[];t=OA(t);const n=t.length;let r=RA,i=0,s=SA;for(const u of t)u<128&&e.push(bg(u));const a=e.length;let o=a;for(a&&e.push(CA);o<n;){let u=Ao;for(const l of t)l>=r&&l<u&&(u=l);const c=o+1;u-r>Ai((Ao-i)/c)&&Es("overflow"),i+=(u-r)*c,r=u;for(const l of t)if(l<r&&++i>Ao&&Es("overflow"),l===r){let h=i;for(let d=ki;;d+=ki){const f=d<=s?av:d>=s+Lc?Lc:d-s;if(h<f)break;const p=h-f,g=ki-f;e.push(bg(D1(f+p%g,0))),h=Ai(p/g)}e.push(bg(D1(h,0))),s=IA(i,c,o===a),i=0,++o}++i,++r}return e.join("")},G3=function(t){return MA(t,function(e){return D3.test(e)?DA(e.slice(4).toLowerCase()):e})},z3=function(t){return MA(t,function(e){return L3.test(e)?"xn--"+LA(e):e})},PA={version:"2.3.1",ucs2:{decode:OA,encode:U3},decode:DA,encode:LA,toASCII:z3,toUnicode:G3},q3={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},H3={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},W3={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},Y3={default:q3,zero:H3,commonmark:W3},V3=/^(vbscript|javascript|file|data):/,X3=/^data:image\/(gif|png|jpeg|webp);/;function j3(t){const e=t.trim().toLowerCase();return V3.test(e)?X3.test(e):!0}const FA=["http:","https:","mailto:"];function K3(t){const e=ev(t,!0);if(e.hostname&&(!e.protocol||FA.indexOf(e.protocol)>=0))try{e.hostname=PA.toASCII(e.hostname)}catch{}return dl(Jb(e))}function Z3(t){const e=ev(t,!0);if(e.hostname&&(!e.protocol||FA.indexOf(e.protocol)>=0))try{e.hostname=PA.toUnicode(e.hostname)}catch{}return Lo(Jb(e),Lo.defaultChars+"%")}function ii(t,e){if(!(this instanceof ii))return new ii(t,e);e||nv(t)||(e=t||{},t="default"),this.inline=new gl,this.block=new sp,this.core=new iv,this.renderer=new eu,this.linkify=new Rr,this.validateLink=j3,this.normalizeLink=K3,this.normalizeLinkText=Z3,this.utils=JD,this.helpers=rp({},rL),this.options={},this.configure(t),e&&this.set(e)}ii.prototype.set=function(t){return rp(this.options,t),this};ii.prototype.configure=function(t){const e=this;if(nv(t)){const n=t;if(t=Y3[n],!t)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(n){t.components[n].rules&&e[n].ruler.enableOnly(t.components[n].rules),t.components[n].rules2&&e[n].ruler2.enableOnly(t.components[n].rules2)}),this};ii.prototype.enable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(i){n=n.concat(this[i].ruler.enable(t,!0))},this),n=n.concat(this.inline.ruler2.enable(t,!0));const r=t.filter(function(i){return n.indexOf(i)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this};ii.prototype.disable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(i){n=n.concat(this[i].ruler.disable(t,!0))},this),n=n.concat(this.inline.ruler2.disable(t,!0));const r=t.filter(function(i){return n.indexOf(i)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this};ii.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};ii.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");const n=new this.core.State(t,this,e);return this.core.process(n),n.tokens};ii.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};ii.prototype.parseInline=function(t,e){const n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens};ii.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};function Kn(t){this.content=t}Kn.prototype={constructor:Kn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new Kn(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Kn(n)},addToStart:function(t,e){return new Kn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Kn(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new Kn(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Kn.from(t),t.size?new Kn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Kn.from(t),t.size?new Kn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Kn.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Kn.from=function(t){if(t instanceof Kn)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Kn(e)};var Ta={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Nf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Q3=typeof navigator<"u"&&/Mac/.test(navigator.platform),J3=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Mn=0;Mn<10;Mn++)Ta[48+Mn]=Ta[96+Mn]=String(Mn);for(var Mn=1;Mn<=24;Mn++)Ta[Mn+111]="F"+Mn;for(var Mn=65;Mn<=90;Mn++)Ta[Mn]=String.fromCharCode(Mn+32),Nf[Mn]=String.fromCharCode(Mn);for(var vg in Ta)Nf.hasOwnProperty(vg)||(Nf[vg]=Ta[vg]);function IZ(t){var e=Q3&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||J3&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Nf:Ta)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function ov(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var $a=ov();function $A(t){$a=t}var la={exec:()=>null};function lt(t,e=""){let n=typeof t=="string"?t:t.source,r={replace:(i,s)=>{let a=typeof s=="string"?s:s.source;return a=a.replace(Jn.caret,"$1"),n=n.replace(i,a),r},getRegex:()=>new RegExp(n,e)};return r}var eP=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),Jn={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i"),blockquoteBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}>`)},tP=/^(?:[ \t]*(?:\n|$))+/,nP=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,rP=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ml=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,iP=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,uv=/ {0,3}(?:[*+-]|\d{1,9}[.)])/,UA=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,BA=lt(UA).replace(/bull/g,uv).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),sP=lt(UA).replace(/bull/g,uv).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),cv=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,aP=/^[^\n]+/,lv=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,oP=lt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",lv).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),uP=lt(/^(bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,uv).getRegex(),op="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",hv=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,cP=lt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",hv).replace("tag",op).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),GA=lt(cv).replace("hr",ml).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)])[ \\t]").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",op).getRegex(),lP=lt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",GA).getRegex(),fv={blockquote:lP,code:nP,def:oP,fences:rP,heading:iP,hr:ml,html:cP,lheading:BA,list:uP,newline:tP,paragraph:GA,table:la,text:aP},L1=lt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ml).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)])[ \\t]").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",op).getRegex(),hP={...fv,lheading:sP,table:L1,paragraph:lt(cv).replace("hr",ml).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",L1).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)])[ \\t]").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",op).getRegex()},fP={...fv,html:lt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",hv).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:la,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:lt(cv).replace("hr",ml).replace("heading",` *#{1,6} *[^
]`).replace("lheading",BA).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},dP=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,pP=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,zA=/^( {2,}|\\)\n(?!\s*$)/,gP=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,up=/[\p{P}\p{S}]/u,dv=/[\s\p{P}\p{S}]/u,qA=/[^\s\p{P}\p{S}]/u,mP=lt(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,dv).getRegex(),HA=/(?!~)[\p{P}\p{S}]/u,yP=/(?!~)[\s\p{P}\p{S}]/u,bP=/(?:[^\s\p{P}\p{S}]|~)/u,WA=/(?![*_])[\p{P}\p{S}]/u,vP=/(?![*_])[\s\p{P}\p{S}]/u,_P=/(?:[^\s\p{P}\p{S}]|[*_])/u,EP=lt(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",eP?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),YA=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,wP=lt(YA,"u").replace(/punct/g,up).getRegex(),xP=lt(YA,"u").replace(/punct/g,HA).getRegex(),VA="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",TP=lt(VA,"gu").replace(/notPunctSpace/g,qA).replace(/punctSpace/g,dv).replace(/punct/g,up).getRegex(),kP=lt(VA,"gu").replace(/notPunctSpace/g,bP).replace(/punctSpace/g,yP).replace(/punct/g,HA).getRegex(),AP=lt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,qA).replace(/punctSpace/g,dv).replace(/punct/g,up).getRegex(),NP=lt(/^~~?(?:((?!~)punct)|[^\s~])/,"u").replace(/punct/g,WA).getRegex(),SP="^[^~]+(?=[^~])|(?!~)punct(~~?)(?=[\\s]|$)|notPunctSpace(~~?)(?!~)(?=punctSpace|$)|(?!~)punctSpace(~~?)(?=notPunctSpace)|[\\s](~~?)(?!~)(?=punct)|(?!~)punct(~~?)(?!~)(?=punct)|notPunctSpace(~~?)(?=notPunctSpace)",RP=lt(SP,"gu").replace(/notPunctSpace/g,_P).replace(/punctSpace/g,vP).replace(/punct/g,WA).getRegex(),CP=lt(/\\(punct)/,"gu").replace(/punct/g,up).getRegex(),MP=lt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),OP=lt(hv).replace("(?:-->|$)","-->").getRegex(),IP=lt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",OP).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Sf=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,DP=lt(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Sf).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),XA=lt(/^!?\[(label)\]\[(ref)\]/).replace("label",Sf).replace("ref",lv).getRegex(),jA=lt(/^!?\[(ref)\](?:\[\])?/).replace("ref",lv).getRegex(),LP=lt("reflink|nolink(?!\\()","g").replace("reflink",XA).replace("nolink",jA).getRegex(),P1=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,pv={_backpedal:la,anyPunctuation:CP,autolink:MP,blockSkip:EP,br:zA,code:pP,del:la,delLDelim:la,delRDelim:la,emStrongLDelim:wP,emStrongRDelimAst:TP,emStrongRDelimUnd:AP,escape:dP,link:DP,nolink:jA,punctuation:mP,reflink:XA,reflinkSearch:LP,tag:IP,text:gP,url:la},PP={...pv,link:lt(/^!?\[(label)\]\((.*?)\)/).replace("label",Sf).getRegex(),reflink:lt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Sf).getRegex()},Z0={...pv,emStrongRDelimAst:kP,emStrongLDelim:xP,delLDelim:NP,delRDelim:RP,url:lt(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",P1).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:lt(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",P1).getRegex()},FP={...Z0,br:lt(zA).replace("{2,}","*").getRegex(),text:lt(Z0.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Kl={normal:fv,gfm:hP,pedantic:fP},du={normal:pv,gfm:Z0,breaks:FP,pedantic:PP},$P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},F1=t=>$P[t];function pi(t,e){if(e){if(Jn.escapeTest.test(t))return t.replace(Jn.escapeReplace,F1)}else if(Jn.escapeTestNoEncode.test(t))return t.replace(Jn.escapeReplaceNoEncode,F1);return t}function $1(t){try{t=encodeURI(t).replace(Jn.percentDecode,"%")}catch{return null}return t}function U1(t,e){var s;let n=t.replace(Jn.findPipe,(a,o,u)=>{let c=!1,l=o;for(;--l>=0&&u[l]==="\\";)c=!c;return c?"|":" |"}),r=n.split(Jn.splitPipe),i=0;if(r[0].trim()||r.shift(),r.length>0&&!((s=r.at(-1))!=null&&s.trim())&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(Jn.slashPipe,"|");return r}function pu(t,e,n){let r=t.length;if(r===0)return"";let i=0;for(;i<r&&t.charAt(r-i-1)===e;)i++;return t.slice(0,r-i)}function UP(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function BP(t,e=0){let n=e,r="";for(let i of t)if(i==="	"){let s=4-n%4;r+=" ".repeat(s),n+=s}else r+=i,n++;return r}function B1(t,e,n,r,i){let s=e.href,a=e.title||null,o=t[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;let u={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:a,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,u}function GP(t,e,n){let r=t.match(n.other.indentCodeCompensation);if(r===null)return e;let i=r[1];return e.split(`
`).map(s=>{let a=s.match(n.other.beginningSpace);if(a===null)return s;let[o]=a;return o.length>=i.length?s.slice(i.length):s}).join(`
`)}var Rf=class{constructor(e){Se(this,"options");Se(this,"rules");Se(this,"lexer");this.options=e||$a}space(e){let n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){let n=this.rules.block.code.exec(e);if(n){let r=n[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:pu(r,`
`)}}}fences(e){let n=this.rules.block.fences.exec(e);if(n){let r=n[0],i=GP(r,n[3]||"",this.rules);return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:i}}}heading(e){let n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(this.rules.other.endingHash.test(r)){let i=pu(r,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){let n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:pu(n[0],`
`)}}blockquote(e){let n=this.rules.block.blockquote.exec(e);if(n){let r=pu(n[0],`
`).split(`
`),i="",s="",a=[];for(;r.length>0;){let o=!1,u=[],c;for(c=0;c<r.length;c++)if(this.rules.other.blockquoteStart.test(r[c]))u.push(r[c]),o=!0;else if(!o)u.push(r[c]);else break;r=r.slice(c);let l=u.join(`
`),h=l.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${l}`:l,s=s?`${s}
${h}`:h;let d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,a,!0),this.lexer.state.top=d,r.length===0)break;let f=a.at(-1);if((f==null?void 0:f.type)==="code")break;if((f==null?void 0:f.type)==="blockquote"){let p=f,g=p.raw+`
`+r.join(`
`),m=this.blockquote(g);a[a.length-1]=m,i=i.substring(0,i.length-p.raw.length)+m.raw,s=s.substring(0,s.length-p.text.length)+m.text;break}else if((f==null?void 0:f.type)==="list"){let p=f,g=p.raw+`
`+r.join(`
`),m=this.list(g);a[a.length-1]=m,i=i.substring(0,i.length-f.raw.length)+m.raw,s=s.substring(0,s.length-p.raw.length)+m.raw,r=g.substring(a.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:a,text:s}}}list(e){var r,i;let n=this.rules.block.list.exec(e);if(n){let s=n[1].trim(),a=s.length>1,o={type:"list",raw:"",ordered:a,start:a?+s.slice(0,-1):"",loose:!1,items:[]};s=a?`\\d{1,9}\\${s.slice(-1)}`:`\\${s}`,this.options.pedantic&&(s=a?s:"[*+-]");let u=this.rules.other.listItemRegex(s),c=!1;for(;e;){let h=!1,d="",f="";if(!(n=u.exec(e))||this.rules.block.hr.test(e))break;d=n[0],e=e.substring(d.length);let p=BP(n[2].split(`
`,1)[0],n[1].length),g=e.split(`
`,1)[0],m=!p.trim(),y=0;if(this.options.pedantic?(y=2,f=p.trimStart()):m?y=n[1].length+1:(y=p.search(this.rules.other.nonSpaceChar),y=y>4?1:y,f=p.slice(y),y+=n[1].length),m&&this.rules.other.blankLine.test(g)&&(d+=g+`
`,e=e.substring(g.length+1),h=!0),!h){let v=this.rules.other.nextBulletRegex(y),b=this.rules.other.hrRegex(y),_=this.rules.other.fencesBeginRegex(y),k=this.rules.other.headingBeginRegex(y),C=this.rules.other.htmlBeginRegex(y),x=this.rules.other.blockquoteBeginRegex(y);for(;e;){let S=e.split(`
`,1)[0],O;if(g=S,this.options.pedantic?(g=g.replace(this.rules.other.listReplaceNesting,"  "),O=g):O=g.replace(this.rules.other.tabCharGlobal,"    "),_.test(g)||k.test(g)||C.test(g)||x.test(g)||v.test(g)||b.test(g))break;if(O.search(this.rules.other.nonSpaceChar)>=y||!g.trim())f+=`
`+O.slice(y);else{if(m||p.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||_.test(p)||k.test(p)||b.test(p))break;f+=`
`+g}m=!g.trim(),d+=S+`
`,e=e.substring(S.length+1),p=O.slice(y)}}o.loose||(c?o.loose=!0:this.rules.other.doubleBlankLine.test(d)&&(c=!0)),o.items.push({type:"list_item",raw:d,task:!!this.options.gfm&&this.rules.other.listIsTask.test(f),loose:!1,text:f,tokens:[]}),o.raw+=d}let l=o.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;o.raw=o.raw.trimEnd();for(let h of o.items){if(this.lexer.state.top=!1,h.tokens=this.lexer.blockTokens(h.text,[]),h.task){if(h.text=h.text.replace(this.rules.other.listReplaceTask,""),((r=h.tokens[0])==null?void 0:r.type)==="text"||((i=h.tokens[0])==null?void 0:i.type)==="paragraph"){h.tokens[0].raw=h.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),h.tokens[0].text=h.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let f=this.lexer.inlineQueue.length-1;f>=0;f--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[f].src)){this.lexer.inlineQueue[f].src=this.lexer.inlineQueue[f].src.replace(this.rules.other.listReplaceTask,"");break}}let d=this.rules.other.listTaskCheckbox.exec(h.raw);if(d){let f={type:"checkbox",raw:d[0]+" ",checked:d[0]!=="[ ]"};h.checked=f.checked,o.loose?h.tokens[0]&&["paragraph","text"].includes(h.tokens[0].type)&&"tokens"in h.tokens[0]&&h.tokens[0].tokens?(h.tokens[0].raw=f.raw+h.tokens[0].raw,h.tokens[0].text=f.raw+h.tokens[0].text,h.tokens[0].tokens.unshift(f)):h.tokens.unshift({type:"paragraph",raw:f.raw,text:f.raw,tokens:[f]}):h.tokens.unshift(f)}}if(!o.loose){let d=h.tokens.filter(p=>p.type==="space"),f=d.length>0&&d.some(p=>this.rules.other.anyLine.test(p.raw));o.loose=f}}if(o.loose)for(let h of o.items){h.loose=!0;for(let d of h.tokens)d.type==="text"&&(d.type="paragraph")}return o}}html(e){let n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){let n=this.rules.block.def.exec(e);if(n){let r=n[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=n[2]?n[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:s}}}table(e){var o;let n=this.rules.block.table.exec(e);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;let r=U1(n[1]),i=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=(o=n[3])!=null&&o.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],a={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===i.length){for(let u of i)this.rules.other.tableAlignRight.test(u)?a.align.push("right"):this.rules.other.tableAlignCenter.test(u)?a.align.push("center"):this.rules.other.tableAlignLeft.test(u)?a.align.push("left"):a.align.push(null);for(let u=0;u<r.length;u++)a.header.push({text:r[u],tokens:this.lexer.inline(r[u]),header:!0,align:a.align[u]});for(let u of s)a.rows.push(U1(u,a.header.length).map((c,l)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:a.align[l]})));return a}}lheading(e){let n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){let n=this.rules.block.paragraph.exec(e);if(n){let r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){let n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){let n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:n[1]}}tag(e){let n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&this.rules.other.startATag.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){let n=this.rules.inline.link.exec(e);if(n){let r=n[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let a=pu(r.slice(0,-1),"\\");if((r.length-a.length)%2===0)return}else{let a=UP(n[2],"()");if(a===-2)return;if(a>-1){let o=(n[0].indexOf("!")===0?5:4)+n[1].length+a;n[2]=n[2].substring(0,a),n[0]=n[0].substring(0,o).trim(),n[3]=""}}let i=n[2],s="";if(this.options.pedantic){let a=this.rules.other.pedanticHrefTitle.exec(i);a&&(i=a[1],s=a[3])}else s=n[3]?n[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?i=i.slice(1):i=i.slice(1,-1)),B1(n,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer,this.rules)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=n[i.toLowerCase()];if(!s){let a=r[0].charAt(0);return{type:"text",raw:a,text:a}}return B1(r,s,r[0],this.lexer,this.rules)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!(!i||i[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!r||this.rules.inline.punctuation.exec(r))){let s=[...i[0]].length-1,a,o,u=s,c=0,l=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,n=n.slice(-1*e.length+s);(i=l.exec(n))!=null;){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(o=[...a].length,i[3]||i[4]){u+=o;continue}else if((i[5]||i[6])&&s%3&&!((s+o)%3)){c+=o;continue}if(u-=o,u>0)continue;o=Math.min(o,o+u+c);let h=[...i[0]][0].length,d=e.slice(0,s+i.index+h+o);if(Math.min(s,o)%2){let p=d.slice(1,-1);return{type:"em",raw:d,text:p,tokens:this.lexer.inlineTokens(p)}}let f=d.slice(2,-2);return{type:"strong",raw:d,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(e){let n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(r),s=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return i&&s&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:n[0],text:r}}}br(e){let n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e,n,r=""){let i=this.rules.inline.delLDelim.exec(e);if(i&&(!i[1]||!r||this.rules.inline.punctuation.exec(r))){let s=[...i[0]].length-1,a,o,u=s,c=this.rules.inline.delRDelim;for(c.lastIndex=0,n=n.slice(-1*e.length+s);(i=c.exec(n))!=null;){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a||(o=[...a].length,o!==s))continue;if(i[3]||i[4]){u+=o;continue}if(u-=o,u>0)continue;o=Math.min(o,o+u);let l=[...i[0]][0].length,h=e.slice(0,s+i.index+l+o),d=h.slice(s,-s);return{type:"del",raw:h,text:d,tokens:this.lexer.inlineTokens(d)}}}}autolink(e){let n=this.rules.inline.autolink.exec(e);if(n){let r,i;return n[2]==="@"?(r=n[1],i="mailto:"+r):(r=n[1],i=r),{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e){var r;let n;if(n=this.rules.inline.url.exec(e)){let i,s;if(n[2]==="@")i=n[0],s="mailto:"+i;else{let a;do a=n[0],n[0]=((r=this.rules.inline._backpedal.exec(n[0]))==null?void 0:r[0])??"";while(a!==n[0]);i=n[0],n[1]==="www."?s="http://"+n[0]:s=n[0]}return{type:"link",raw:n[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){let n=this.rules.inline.text.exec(e);if(n){let r=this.lexer.state.inRawBlock;return{type:"text",raw:n[0],text:n[0],escaped:r}}}},Hr=class Q0{constructor(e){Se(this,"tokens");Se(this,"options");Se(this,"state");Se(this,"inlineQueue");Se(this,"tokenizer");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||$a,this.options.tokenizer=this.options.tokenizer||new Rf,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:Jn,block:Kl.normal,inline:du.normal};this.options.pedantic?(n.block=Kl.pedantic,n.inline=du.pedantic):this.options.gfm&&(n.block=Kl.gfm,this.options.breaks?n.inline=du.breaks:n.inline=du.gfm),this.tokenizer.rules=n}static get rules(){return{block:Kl,inline:du}}static lex(e,n){return new Q0(n).lex(e)}static lexInline(e,n){return new Q0(n).inlineTokens(e)}lex(e){e=e.replace(Jn.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){var i,s,a;for(this.options.pedantic&&(e=e.replace(Jn.tabCharGlobal,"    ").replace(Jn.spaceLine,""));e;){let o;if((s=(i=this.options.extensions)==null?void 0:i.block)!=null&&s.some(c=>(o=c.call({lexer:this},e,n))?(e=e.substring(o.raw.length),n.push(o),!0):!1))continue;if(o=this.tokenizer.space(e)){e=e.substring(o.raw.length);let c=n.at(-1);o.raw.length===1&&c!==void 0?c.raw+=`
`:n.push(o);continue}if(o=this.tokenizer.code(e)){e=e.substring(o.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+o.raw,c.text+=`
`+o.text,this.inlineQueue.at(-1).src=c.text):n.push(o);continue}if(o=this.tokenizer.fences(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.heading(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.hr(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.blockquote(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.list(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.html(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.def(e)){e=e.substring(o.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+o.raw,c.text+=`
`+o.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title},n.push(o));continue}if(o=this.tokenizer.table(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.lheading(e)){e=e.substring(o.raw.length),n.push(o);continue}let u=e;if((a=this.options.extensions)!=null&&a.startBlock){let c=1/0,l=e.slice(1),h;this.options.extensions.startBlock.forEach(d=>{h=d.call({lexer:this},l),typeof h=="number"&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(u=e.substring(0,c+1))}if(this.state.top&&(o=this.tokenizer.paragraph(u))){let c=n.at(-1);r&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+o.raw,c.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(o),r=u.length!==e.length,e=e.substring(o.raw.length);continue}if(o=this.tokenizer.text(e)){e=e.substring(o.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+o.raw,c.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(o);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){var u,c,l,h,d;let r=e,i=null;if(this.tokens.links){let f=Object.keys(this.tokens.links);if(f.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)f.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)s=i[2]?i[2].length:0,r=r.slice(0,i.index+s)+"["+"a".repeat(i[0].length-s-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=((c=(u=this.options.hooks)==null?void 0:u.emStrongMask)==null?void 0:c.call({lexer:this},r))??r;let a=!1,o="";for(;e;){a||(o=""),a=!1;let f;if((h=(l=this.options.extensions)==null?void 0:l.inline)!=null&&h.some(g=>(f=g.call({lexer:this},e,n))?(e=e.substring(f.raw.length),n.push(f),!0):!1))continue;if(f=this.tokenizer.escape(e)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.tag(e)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.link(e)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(f.raw.length);let g=n.at(-1);f.type==="text"&&(g==null?void 0:g.type)==="text"?(g.raw+=f.raw,g.text+=f.text):n.push(f);continue}if(f=this.tokenizer.emStrong(e,r,o)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.codespan(e)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.br(e)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.del(e,r,o)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.autolink(e)){e=e.substring(f.raw.length),n.push(f);continue}if(!this.state.inLink&&(f=this.tokenizer.url(e))){e=e.substring(f.raw.length),n.push(f);continue}let p=e;if((d=this.options.extensions)!=null&&d.startInline){let g=1/0,m=e.slice(1),y;this.options.extensions.startInline.forEach(v=>{y=v.call({lexer:this},m),typeof y=="number"&&y>=0&&(g=Math.min(g,y))}),g<1/0&&g>=0&&(p=e.substring(0,g+1))}if(f=this.tokenizer.inlineText(p)){e=e.substring(f.raw.length),f.raw.slice(-1)!=="_"&&(o=f.raw.slice(-1)),a=!0;let g=n.at(-1);(g==null?void 0:g.type)==="text"?(g.raw+=f.raw,g.text+=f.text):n.push(f);continue}if(e){let g="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(g);break}else throw new Error(g)}}return n}},Cf=class{constructor(e){Se(this,"options");Se(this,"parser");this.options=e||$a}space(e){return""}code({text:e,lang:n,escaped:r}){var a;let i=(a=(n||"").match(Jn.notSpaceStart))==null?void 0:a[0],s=e.replace(Jn.endingNewline,"")+`
`;return i?'<pre><code class="language-'+pi(i)+'">'+(r?s:pi(s,!0))+`</code></pre>
`:"<pre><code>"+(r?s:pi(s,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:n}){return`<h${n}>${this.parser.parseInline(e)}</h${n}>
`}hr(e){return`<hr>
`}list(e){let n=e.ordered,r=e.start,i="";for(let o=0;o<e.items.length;o++){let u=e.items[o];i+=this.listitem(u)}let s=n?"ol":"ul",a=n&&r!==1?' start="'+r+'"':"";return"<"+s+a+`>
`+i+"</"+s+`>
`}listitem(e){return`<li>${this.parser.parse(e.tokens)}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let n="",r="";for(let s=0;s<e.header.length;s++)r+=this.tablecell(e.header[s]);n+=this.tablerow({text:r});let i="";for(let s=0;s<e.rows.length;s++){let a=e.rows[s];r="";for(let o=0;o<a.length;o++)r+=this.tablecell(a[o]);i+=this.tablerow({text:r})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let n=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+n+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${pi(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:n,tokens:r}){let i=this.parser.parseInline(r),s=$1(e);if(s===null)return i;e=s;let a='<a href="'+e+'"';return n&&(a+=' title="'+pi(n)+'"'),a+=">"+i+"</a>",a}image({href:e,title:n,text:r,tokens:i}){i&&(r=this.parser.parseInline(i,this.parser.textRenderer));let s=$1(e);if(s===null)return pi(r);e=s;let a=`<img src="${e}" alt="${pi(r)}"`;return n&&(a+=` title="${pi(n)}"`),a+=">",a}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:pi(e.text)}},gv=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}checkbox({raw:e}){return e}},Wr=class J0{constructor(e){Se(this,"options");Se(this,"renderer");Se(this,"textRenderer");this.options=e||$a,this.options.renderer=this.options.renderer||new Cf,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new gv}static parse(e,n){return new J0(n).parse(e)}static parseInline(e,n){return new J0(n).parseInline(e)}parse(e){var r,i;let n="";for(let s=0;s<e.length;s++){let a=e[s];if((i=(r=this.options.extensions)==null?void 0:r.renderers)!=null&&i[a.type]){let u=a,c=this.options.extensions.renderers[u.type].call({parser:this},u);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(u.type)){n+=c||"";continue}}let o=a;switch(o.type){case"space":{n+=this.renderer.space(o);break}case"hr":{n+=this.renderer.hr(o);break}case"heading":{n+=this.renderer.heading(o);break}case"code":{n+=this.renderer.code(o);break}case"table":{n+=this.renderer.table(o);break}case"blockquote":{n+=this.renderer.blockquote(o);break}case"list":{n+=this.renderer.list(o);break}case"checkbox":{n+=this.renderer.checkbox(o);break}case"html":{n+=this.renderer.html(o);break}case"def":{n+=this.renderer.def(o);break}case"paragraph":{n+=this.renderer.paragraph(o);break}case"text":{n+=this.renderer.text(o);break}default:{let u='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return n}parseInline(e,n=this.renderer){var i,s;let r="";for(let a=0;a<e.length;a++){let o=e[a];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[o.type]){let c=this.options.extensions.renderers[o.type].call({parser:this},o);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){r+=c||"";continue}}let u=o;switch(u.type){case"escape":{r+=n.text(u);break}case"html":{r+=n.html(u);break}case"link":{r+=n.link(u);break}case"image":{r+=n.image(u);break}case"checkbox":{r+=n.checkbox(u);break}case"strong":{r+=n.strong(u);break}case"em":{r+=n.em(u);break}case"codespan":{r+=n.codespan(u);break}case"br":{r+=n.br(u);break}case"del":{r+=n.del(u);break}case"text":{r+=n.text(u);break}default:{let c='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}},Sh,ic=(Sh=class{constructor(e){Se(this,"options");Se(this,"block");this.options=e||$a}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?Hr.lex:Hr.lexInline}provideParser(){return this.block?Wr.parse:Wr.parseInline}},Se(Sh,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),Se(Sh,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),Sh),zP=class{constructor(...e){Se(this,"defaults",ov());Se(this,"options",this.setOptions);Se(this,"parse",this.parseMarkdown(!0));Se(this,"parseInline",this.parseMarkdown(!1));Se(this,"Parser",Wr);Se(this,"Renderer",Cf);Se(this,"TextRenderer",gv);Se(this,"Lexer",Hr);Se(this,"Tokenizer",Rf);Se(this,"Hooks",ic);this.use(...e)}walkTokens(e,n){var i,s;let r=[];for(let a of e)switch(r=r.concat(n.call(this,a)),a.type){case"table":{let o=a;for(let u of o.header)r=r.concat(this.walkTokens(u.tokens,n));for(let u of o.rows)for(let c of u)r=r.concat(this.walkTokens(c.tokens,n));break}case"list":{let o=a;r=r.concat(this.walkTokens(o.items,n));break}default:{let o=a;(s=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&s[o.type]?this.defaults.extensions.childTokens[o.type].forEach(u=>{let c=o[u].flat(1/0);r=r.concat(this.walkTokens(c,n))}):o.tokens&&(r=r.concat(this.walkTokens(o.tokens,n)))}}return r}use(...e){let n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{let i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let a=n.renderers[s.name];a?n.renderers[s.name]=function(...o){let u=s.renderer.apply(this,o);return u===!1&&(u=a.apply(this,o)),u}:n.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let a=n[s.level];a?a.unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),i.extensions=n),r.renderer){let s=this.defaults.renderer||new Cf(this.defaults);for(let a in r.renderer){if(!(a in s))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;let o=a,u=r.renderer[o],c=s[o];s[o]=(...l)=>{let h=u.apply(s,l);return h===!1&&(h=c.apply(s,l)),h||""}}i.renderer=s}if(r.tokenizer){let s=this.defaults.tokenizer||new Rf(this.defaults);for(let a in r.tokenizer){if(!(a in s))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;let o=a,u=r.tokenizer[o],c=s[o];s[o]=(...l)=>{let h=u.apply(s,l);return h===!1&&(h=c.apply(s,l)),h}}i.tokenizer=s}if(r.hooks){let s=this.defaults.hooks||new ic;for(let a in r.hooks){if(!(a in s))throw new Error(`hook '${a}' does not exist`);if(["options","block"].includes(a))continue;let o=a,u=r.hooks[o],c=s[o];ic.passThroughHooks.has(a)?s[o]=l=>{if(this.defaults.async&&ic.passThroughHooksRespectAsync.has(a))return(async()=>{let d=await u.call(s,l);return c.call(s,d)})();let h=u.call(s,l);return c.call(s,h)}:s[o]=(...l)=>{if(this.defaults.async)return(async()=>{let d=await u.apply(s,l);return d===!1&&(d=await c.apply(s,l)),d})();let h=u.apply(s,l);return h===!1&&(h=c.apply(s,l)),h}}i.hooks=s}if(r.walkTokens){let s=this.defaults.walkTokens,a=r.walkTokens;i.walkTokens=function(o){let u=[];return u.push(a.call(this,o)),s&&(u=u.concat(s.call(this,o))),u}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return Hr.lex(e,n??this.defaults)}parser(e,n){return Wr.parse(e,n??this.defaults)}parseMarkdown(e){return(n,r)=>{let i={...r},s={...this.defaults,...i},a=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=e),s.async)return(async()=>{let o=s.hooks?await s.hooks.preprocess(n):n,u=await(s.hooks?await s.hooks.provideLexer():e?Hr.lex:Hr.lexInline)(o,s),c=s.hooks?await s.hooks.processAllTokens(u):u;s.walkTokens&&await Promise.all(this.walkTokens(c,s.walkTokens));let l=await(s.hooks?await s.hooks.provideParser():e?Wr.parse:Wr.parseInline)(c,s);return s.hooks?await s.hooks.postprocess(l):l})().catch(a);try{s.hooks&&(n=s.hooks.preprocess(n));let o=(s.hooks?s.hooks.provideLexer():e?Hr.lex:Hr.lexInline)(n,s);s.hooks&&(o=s.hooks.processAllTokens(o)),s.walkTokens&&this.walkTokens(o,s.walkTokens);let u=(s.hooks?s.hooks.provideParser():e?Wr.parse:Wr.parseInline)(o,s);return s.hooks&&(u=s.hooks.postprocess(u)),u}catch(o){return a(o)}}}onError(e,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let i="<p>An error occurred:</p><pre>"+pi(r.message+"",!0)+"</pre>";return n?Promise.resolve(i):i}if(n)return Promise.reject(r);throw r}}},ka=new zP;function At(t,e){return ka.parse(t,e)}At.options=At.setOptions=function(t){return ka.setOptions(t),At.defaults=ka.defaults,$A(At.defaults),At};At.getDefaults=ov;At.defaults=$a;At.use=function(...t){return ka.use(...t),At.defaults=ka.defaults,$A(At.defaults),At};At.walkTokens=function(t,e){return ka.walkTokens(t,e)};At.parseInline=ka.parseInline;At.Parser=Wr;At.parser=Wr.parse;At.Renderer=Cf;At.TextRenderer=gv;At.Lexer=Hr;At.lexer=Hr.lex;At.Tokenizer=Rf;At.Hooks=ic;At.parse=At;At.options;At.setOptions;At.use;At.walkTokens;At.parseInline;Wr.parse;Hr.lex;const Ns=()=>new Map,UZ=t=>{const e=Ns();return t.forEach((n,r)=>{e.set(r,n)}),e},qP=(t,e,n)=>{let r=t.get(e);return r===void 0&&t.set(e,r=n()),r},HP=(t,e)=>{const n=[];for(const[r,i]of t)n.push(e(i,r));return n},BZ=(t,e)=>{for(const[n,r]of t)if(e(r,n))return!0;return!1},KA=()=>new Set,GZ=t=>t[t.length-1],zZ=(t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n])},WP=Array.from,mv=(t,e)=>{for(let n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0},ZA=(t,e)=>{for(let n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1},YP=(t,e)=>{const n=new Array(t);for(let r=0;r<t;r++)n[r]=e(r,n);return n},cp=Array.isArray;class qZ{constructor(){this._observers=Ns()}on(e,n){return qP(this._observers,e,KA).add(n),n}once(e,n){const r=(...i)=>{this.off(e,r),n(...i)};this.on(e,r)}off(e,n){const r=this._observers.get(e);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(e))}emit(e,n){return WP((this._observers.get(e)||Ns()).values()).forEach(r=>r(...n))}destroy(){this._observers=Ns()}}const Aa=Math.floor,VP=Math.abs,XP=(t,e)=>t<e?t:e,QA=(t,e)=>t>e?t:e,JA=t=>t!==0?t<0:1/t<0,HZ=1,WZ=2,YZ=4,VZ=8,XZ=32,eN=64,Fo=128,jZ=31,em=63,va=127,jP=2147483647,Mf=Number.MAX_SAFE_INTEGER,G1=Number.MIN_SAFE_INTEGER,KP=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&Aa(t)===t),ZP=String.fromCharCode,QP=t=>t.toLowerCase(),JP=/^\s*/g,eF=t=>t.replace(JP,""),tF=/([A-Z])/g,z1=(t,e)=>eF(t.replace(tF,n=>`${e}${QP(n)}`)),nF=t=>{const e=unescape(encodeURIComponent(t)),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.codePointAt(i);return r},Pc=typeof TextEncoder<"u"?new TextEncoder:null,rF=t=>Pc.encode(t),iF=Pc?rF:nF;let wc=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});wc&&wc.decode(new Uint8Array).length===1&&(wc=null);const sF=(t,e)=>YP(e,()=>t).join("");class yl{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const KZ=()=>new yl,aF=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},yv=t=>{const e=new Uint8Array(aF(t));let n=0;for(let r=0;r<t.bufs.length;r++){const i=t.bufs[r];e.set(i,n),n+=i.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},oF=(t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(QA(n,e)*2),t.cpos=0)},yn=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},ZZ=yn,Ms=(t,e)=>{for(;e>va;)yn(t,Fo|va&e),e=Aa(e/128);yn(t,va&e)},bv=(t,e)=>{const n=JA(e);for(n&&(e=-e),yn(t,(e>em?Fo:0)|(n?eN:0)|em&e),e=Aa(e/64);e>0;)yn(t,(e>va?Fo:0)|va&e),e=Aa(e/128)},tm=new Uint8Array(3e4),uF=tm.length/3,cF=(t,e)=>{if(e.length<uF){const n=Pc.encodeInto(e,tm).written||0;Ms(t,n);for(let r=0;r<n;r++)yn(t,tm[r])}else nN(t,iF(e))},lF=(t,e)=>{const n=unescape(encodeURIComponent(e)),r=n.length;Ms(t,r);for(let i=0;i<r;i++)yn(t,n.codePointAt(i))},nm=Pc&&Pc.encodeInto?cF:lF,tN=(t,e)=>{const n=t.cbuf.length,r=t.cpos,i=XP(n-r,e.length),s=e.length-i;t.cbuf.set(e.subarray(0,i),r),t.cpos+=i,s>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(QA(n*2,s)),t.cbuf.set(e.subarray(i)),t.cpos=s)},nN=(t,e)=>{Ms(t,e.byteLength),tN(t,e)},vv=(t,e)=>{oF(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},hF=(t,e)=>vv(t,4).setFloat32(0,e,!1),fF=(t,e)=>vv(t,8).setFloat64(0,e,!1),dF=(t,e)=>vv(t,8).setBigInt64(0,e,!1),q1=new DataView(new ArrayBuffer(4)),pF=t=>(q1.setFloat32(0,t),q1.getFloat32(0)===t),H1=(t,e)=>{switch(typeof e){case"string":yn(t,119),nm(t,e);break;case"number":KP(e)&&VP(e)<=jP?(yn(t,125),bv(t,e)):pF(e)?(yn(t,124),hF(t,e)):(yn(t,123),fF(t,e));break;case"bigint":yn(t,122),dF(t,e);break;case"object":if(e===null)yn(t,126);else if(cp(e)){yn(t,117),Ms(t,e.length);for(let n=0;n<e.length;n++)H1(t,e[n])}else if(e instanceof Uint8Array)yn(t,116),nN(t,e);else{yn(t,118);const n=Object.keys(e);Ms(t,n.length);for(let r=0;r<n.length;r++){const i=n[r];nm(t,i),H1(t,e[i])}}break;case"boolean":yn(t,e?120:121);break;default:yn(t,127)}};class QZ extends yl{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&Ms(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const W1=t=>{t.count>0&&(bv(t.encoder,t.count===1?t.s:-t.s),t.count>1&&Ms(t.encoder,t.count-2))};class gF{constructor(){this.encoder=new yl,this.s=0,this.count=0}write(e){this.s===e?this.count++:(W1(this),this.count=1,this.s=e)}toUint8Array(){return W1(this),yv(this.encoder)}}const Y1=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);bv(t.encoder,e),t.count>1&&Ms(t.encoder,t.count-2)}};class JZ{constructor(){this.encoder=new yl,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(Y1(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return Y1(this),yv(this.encoder)}}class eQ{constructor(){this.sarr=[],this.s="",this.lensE=new gF}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new yl;return this.sarr.push(this.s),this.s="",nm(e,this.sarr.join("")),tN(e,this.lensE.toUint8Array()),yv(e)}}const tu=t=>new Error(t),mF=()=>{throw tu("Method unimplemented")},rN=()=>{throw tu("Unexpected case")},iN=tu("Unexpected end of array"),sN=tu("Integer out of Range");class lp{constructor(e){this.arr=e,this.pos=0}}const tQ=t=>new lp(t),yF=t=>t.pos!==t.arr.length,bF=(t,e)=>{const n=new Uint8Array(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,n},aN=t=>bF(t,Na(t)),rm=t=>t.arr[t.pos++],Na=t=>{let e=0,n=1;const r=t.arr.length;for(;t.pos<r;){const i=t.arr[t.pos++];if(e=e+(i&va)*n,n*=128,i<Fo)return e;if(e>Mf)throw sN}throw iN},_v=t=>{let e=t.arr[t.pos++],n=e&em,r=64;const i=(e&eN)>0?-1:1;if((e&Fo)===0)return i*n;const s=t.arr.length;for(;t.pos<s;){if(e=t.arr[t.pos++],n=n+(e&va)*r,r*=128,e<Fo)return i*n;if(n>Mf)throw sN}throw iN},vF=t=>{let e=Na(t);if(e===0)return"";{let n=String.fromCodePoint(rm(t));if(--e<100)for(;e--;)n+=String.fromCodePoint(rm(t));else for(;e>0;){const r=e<1e4?e:1e4,i=t.arr.subarray(t.pos,t.pos+r);t.pos+=r,n+=String.fromCodePoint.apply(null,i),e-=r}return decodeURIComponent(escape(n))}},_F=t=>wc.decode(aN(t)),im=wc?_F:vF,Ev=(t,e)=>{const n=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,n},EF=t=>Ev(t,4).getFloat32(0,!1),wF=t=>Ev(t,8).getFloat64(0,!1),xF=t=>Ev(t,8).getBigInt64(0,!1),TF=[t=>{},t=>null,_v,EF,wF,xF,t=>!1,t=>!0,im,t=>{const e=Na(t),n={};for(let r=0;r<e;r++){const i=im(t);n[i]=V1(t)}return n},t=>{const e=Na(t),n=[];for(let r=0;r<e;r++)n.push(V1(t));return n},aN],V1=t=>TF[127-rm(t)](t);class nQ extends lp{constructor(e,n){super(e),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),yF(this)?this.count=Na(this)+1:this.count=-1),this.count--,this.s}}class kF extends lp{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=_v(this);const e=JA(this.s);this.count=1,e&&(this.s=-this.s,this.count=Na(this)+2)}return this.count--,this.s}}class rQ extends lp{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=_v(this),n=e&1;this.diff=Aa(e/2),this.count=1,n&&(this.count=Na(this)+2)}return this.s+=this.diff,this.count--,this.s}}class iQ{constructor(e){this.decoder=new kF(e),this.str=im(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),n=this.str.slice(this.spos,e);return this.spos=e,n}}const AF=crypto.getRandomValues.bind(crypto),NF=()=>AF(new Uint32Array(1))[0],SF="10000000-1000-4000-8000"+-1e11,sQ=()=>SF.replace(/[018]/g,t=>(t^NF()&15>>t/4).toString(16)),aQ=Date.now,oQ=t=>new Promise(t);Promise.all.bind(Promise);const X1=t=>t===void 0?null:t;class RF{constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let oN=new RF,CF=!0;try{typeof localStorage<"u"&&localStorage&&(oN=localStorage,CF=!1)}catch{}const MF=oN,Fc=Symbol("Equality"),uN=(t,e)=>{var n;return t===e||!!((n=t==null?void 0:t[Fc])!=null&&n.call(t,e))||!1},OF=t=>typeof t=="object",uQ=Object.assign,IF=Object.keys,cQ=(t,e)=>{for(const n in t)e(t[n],n)},Of=t=>IF(t).length,lQ=t=>{for(const e in t)return!1;return!0},bl=(t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},wv=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),hQ=(t,e)=>t===e||Of(t)===Of(e)&&bl(t,(n,r)=>(n!==void 0||wv(e,r))&&uN(e[r],n)),DF=Object.freeze,LF=t=>{for(const e in t){const n=t[e];(typeof n=="object"||typeof n=="function")&&LF(t[e])}return DF(t)},PF=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&PF(t,e,n+1)}},fQ=t=>t,$h=(t,e)=>{if(t===e)return!0;if(t==null||e==null||t.constructor!==e.constructor&&(t.constructor||Object)!==(e.constructor||Object))return!1;if(t[Fc]!=null)return t[Fc](e);switch(t.constructor){case ArrayBuffer:t=new Uint8Array(t),e=new Uint8Array(e);case Uint8Array:{if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;break}case Set:{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;break}case Map:{if(t.size!==e.size)return!1;for(const n of t.keys())if(!e.has(n)||!$h(t.get(n),e.get(n)))return!1;break}case void 0:case Object:if(Of(t)!==Of(e))return!1;for(const n in t)if(!wv(t,n)||!$h(t[n],e[n]))return!1;break;case Array:if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!$h(t[n],e[n]))return!1;break;default:return!1}return!0},FF=(t,e)=>e.includes(t);var cN={};const $c=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";let fi;const $F=()=>{if(fi===void 0)if($c){fi=Ns();const t=process.argv;let e=null;for(let n=0;n<t.length;n++){const r=t[n];r[0]==="-"?(e!==null&&fi.set(e,""),e=r):e!==null&&(fi.set(e,r),e=null)}e!==null&&fi.set(e,"")}else typeof location=="object"?(fi=Ns(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");fi.set(`--${z1(e,"-")}`,n),fi.set(`-${z1(e,"-")}`,n)}})):fi=Ns();return fi},sm=t=>$F().has(t),am=t=>X1($c?cN[t.toUpperCase().replaceAll("-","_")]:MF.getItem(t)),lN=t=>sm("--"+t)||am(t)!==null,UF=lN("production"),BF=$c&&FF(cN.FORCE_COLOR,["true","1","2"]),GF=BF||!sm("--no-colors")&&!lN("no-color")&&(!$c||process.stdout.isTTY)&&(!$c||sm("--color")||am("COLORTERM")!==null||(am("TERM")||"").includes("color")),zF=t=>new Uint8Array(t),dQ=t=>{const e=zF(t.byteLength);return e.set(t),e};class qF{constructor(e,n){this.left=e,this.right=n}}const Ui=(t,e)=>new qF(t,e),j1=t=>t.next()>=.5,_g=(t,e,n)=>Aa(t.next()*(n+1-e)+e),hN=(t,e,n)=>Aa(t.next()*(n+1-e)+e),xv=(t,e,n)=>hN(t,e,n),HF=t=>ZP(xv(t,97,122)),WF=(t,e=0,n=20)=>{const r=xv(t,e,n);let i="";for(let s=0;s<r;s++)i+=HF(t);return i},Eg=(t,e)=>e[xv(t,0,e.length-1)],YF=Symbol("0schema");class VF{constructor(){this._rerrs=[]}extend(e,n,r,i=null){this._rerrs.push({path:e,expected:n,has:r,message:i})}toString(){const e=[];for(let n=this._rerrs.length-1;n>0;n--){const r=this._rerrs[n];e.push(sF(" ",(this._rerrs.length-n)*2)+`${r.path!=null?`[${r.path}] `:""}${r.has} doesn't match ${r.expected}. ${r.message}`)}return e.join(`
`)}}const om=(t,e)=>t===e?!0:t==null||e==null||t.constructor!==e.constructor?!1:t[Fc]?uN(t,e):cp(t)?mv(t,n=>ZA(e,r=>om(n,r))):OF(t)?bl(t,(n,r)=>om(n,e[r])):!1;class Yn{extends(e){let[n,r]=[this.shape,e.shape];return this.constructor._dilutes&&([r,n]=[n,r]),om(n,r)}equals(e){return this.constructor===e.constructor&&$h(this.shape,e.shape)}[YF](){return!0}[Fc](e){return this.equals(e)}validate(e){return this.check(e)}check(e,n){mF()}get nullable(){return nu(this,gp)}get optional(){return new pN(this)}cast(e){return K1(e,this),e}expect(e){return K1(e,this),e}}Se(Yn,"_dilutes",!1);class Tv extends Yn{constructor(e,n){super(),this.shape=e,this._c=n}check(e,n=void 0){const r=(e==null?void 0:e.constructor)===this.shape&&(this._c==null||this._c(e));return!r&&(n==null||n.extend(null,this.shape.name,e==null?void 0:e.constructor.name,(e==null?void 0:e.constructor)!==this.shape?"Constructor match failed":"Check failed")),r}}const an=(t,e=null)=>new Tv(t,e);an(Tv);class kv extends Yn{constructor(e){super(),this.shape=e}check(e,n){const r=this.shape(e);return!r&&(n==null||n.extend(null,"custom prop",e==null?void 0:e.constructor.name,"failed to check custom prop")),r}}const En=t=>new kv(t);an(kv);class hp extends Yn{constructor(e){super(),this.shape=e}check(e,n){const r=this.shape.some(i=>i===e);return!r&&(n==null||n.extend(null,this.shape.join(" | "),e.toString())),r}}const fp=(...t)=>new hp(t),fN=an(hp),XF=RegExp.escape||(t=>t.replace(/[().|&,$^[\]]/g,e=>"\\"+e)),dN=t=>{if($o.check(t))return[XF(t)];if(fN.check(t))return t.shape.map(e=>e+"");if(xN.check(t))return["[+-]?\\d+.?\\d*"];if(TN.check(t))return[".*"];if(Df.check(t))return t.shape.map(dN).flat(1);rN()};class jF extends Yn{constructor(e){super(),this.shape=e,this._r=new RegExp("^"+e.map(dN).map(n=>`(${n.join("|")})`).join("")+"$")}check(e,n){const r=this._r.exec(e)!=null;return!r&&(n==null||n.extend(null,this._r.toString(),e.toString(),"String doesn't match string template.")),r}}an(jF);const KF=Symbol("optional");class pN extends Yn{constructor(e){super(),this.shape=e}check(e,n){const r=e===void 0||this.shape.check(e);return!r&&(n==null||n.extend(null,"undefined (optional)","()")),r}get[KF](){return!0}}const ZF=an(pN);class QF extends Yn{check(e,n){return n==null||n.extend(null,"never",typeof e),!1}}an(QF);const Fd=class Fd extends Yn{constructor(e,n=!1){super(),this.shape=e,this._isPartial=n}get partial(){return new Fd(this.shape,!0)}check(e,n){return e==null?(n==null||n.extend(null,"object","null"),!1):bl(this.shape,(r,i)=>{const s=this._isPartial&&!wv(e,i)||r.check(e[i],n);return!s&&(n==null||n.extend(i.toString(),r.toString(),typeof e[i],"Object property does not match")),s})}};Se(Fd,"_dilutes",!0);let If=Fd;const JF=t=>new If(t),e6=an(If),t6=En(t=>t!=null&&(t.constructor===Object||t.constructor==null));class gN extends Yn{constructor(e,n){super(),this.shape={keys:e,values:n}}check(e,n){return e!=null&&bl(e,(r,i)=>{const s=this.shape.keys.check(i,n);return!s&&(n==null||n.extend(i+"","Record",typeof e,s?"Key doesn't match schema":"Value doesn't match value")),s&&this.shape.values.check(r,n)})}}const mN=(t,e)=>new gN(t,e),n6=an(gN);class yN extends Yn{constructor(e){super(),this.shape=e}check(e,n){return e!=null&&bl(this.shape,(r,i)=>{const s=r.check(e[i],n);return!s&&(n==null||n.extend(i.toString(),"Tuple",typeof r)),s})}}const r6=(...t)=>new yN(t);an(yN);class bN extends Yn{constructor(e){super(),this.shape=e.length===1?e[0]:new dp(e)}check(e,n){const r=cp(e)&&mv(e,i=>this.shape.check(i));return!r&&(n==null||n.extend(null,"Array","")),r}}const vN=(...t)=>new bN(t),i6=an(bN),s6=En(t=>cp(t));class _N extends Yn{constructor(e,n){super(),this.shape=e,this._c=n}check(e,n){const r=e instanceof this.shape&&(this._c==null||this._c(e));return!r&&(n==null||n.extend(null,this.shape.name,e==null?void 0:e.constructor.name)),r}}const a6=(t,e=null)=>new _N(t,e);an(_N);const o6=a6(Yn);class u6 extends Yn{constructor(e){super(),this.len=e.length-1,this.args=r6(...e.slice(-1)),this.res=e[this.len]}check(e,n){const r=e.constructor===Function&&e.length<=this.len;return!r&&(n==null||n.extend(null,"function",typeof e)),r}}const c6=an(u6),l6=En(t=>typeof t=="function");class h6 extends Yn{constructor(e){super(),this.shape=e}check(e,n){const r=mv(this.shape,i=>i.check(e,n));return!r&&(n==null||n.extend(null,"Intersectinon",typeof e)),r}}an(h6,t=>t.shape.length>0);class dp extends Yn{constructor(e){super(),this.shape=e}check(e,n){const r=ZA(this.shape,i=>i.check(e,n));return n==null||n.extend(null,"Union",typeof e),r}}Se(dp,"_dilutes",!0);const nu=(...t)=>t.findIndex(e=>Df.check(e))>=0?nu(...t.map(e=>Uc(e)).map(e=>Df.check(e)?e.shape:[e]).flat(1)):t.length===1?t[0]:new dp(t),Df=an(dp),EN=()=>!0,Lf=En(EN),f6=an(kv,t=>t.shape===EN),Av=En(t=>typeof t=="bigint"),d6=En(t=>t===Av),wN=En(t=>typeof t=="symbol");En(t=>t===wN);const No=En(t=>typeof t=="number"),xN=En(t=>t===No),$o=En(t=>typeof t=="string"),TN=En(t=>t===$o),pp=En(t=>typeof t=="boolean"),p6=En(t=>t===pp),kN=fp(void 0);an(hp,t=>t.shape.length===1&&t.shape[0]===void 0);fp(void 0);const gp=fp(null),g6=an(hp,t=>t.shape.length===1&&t.shape[0]===null);an(Uint8Array);an(Tv,t=>t.shape===Uint8Array);const m6=nu(No,$o,gp,kN,Av,pp,wN);(()=>{const t=vN(Lf),e=mN($o,Lf),n=nu(No,$o,gp,pp,t,e);return t.shape=n,e.shape.values=n,n})();const Uc=t=>{if(o6.check(t))return t;if(t6.check(t)){const e={};for(const n in t)e[n]=Uc(t[n]);return JF(e)}else{if(s6.check(t))return nu(...t.map(Uc));if(m6.check(t))return fp(t);if(l6.check(t))return an(t)}rN()},K1=UF?()=>{}:(t,e)=>{const n=new VF;if(!e.check(t,n))throw tu(`Expected value to be of type ${e.constructor.name}.
${n.toString()}`)};class y6{constructor(e){this.patterns=[],this.$state=e}if(e,n){return this.patterns.push({if:Uc(e),h:n}),this}else(e){return this.if(Lf,e)}done(){return(e,n)=>{for(let r=0;r<this.patterns.length;r++){const i=this.patterns[r];if(i.if.check(e))return i.h(e,n)}throw tu("Unhandled pattern")}}}const b6=t=>new y6(t),AN=b6(Lf).if(xN,(t,e)=>_g(e,G1,Mf)).if(TN,(t,e)=>WF(e)).if(p6,(t,e)=>j1(e)).if(d6,(t,e)=>BigInt(_g(e,G1,Mf))).if(Df,(t,e)=>Qa(e,Eg(e,t.shape))).if(e6,(t,e)=>{const n={};for(const r in t.shape){let i=t.shape[r];if(ZF.check(i)){if(j1(e))continue;i=i.shape}n[r]=AN(i,e)}return n}).if(i6,(t,e)=>{const n=[],r=hN(e,0,42);for(let i=0;i<r;i++)n.push(Qa(e,t.shape));return n}).if(fN,(t,e)=>Eg(e,t.shape)).if(g6,(t,e)=>null).if(c6,(t,e)=>{const n=Qa(e,t.res);return()=>n}).if(f6,(t,e)=>Qa(e,Eg(e,[No,$o,gp,kN,Av,pp,vN(No),mN(nu("a","b","c"),No)]))).if(n6,(t,e)=>{const n={},r=_g(e,0,3);for(let i=0;i<r;i++){const s=Qa(e,t.shape.keys),a=Qa(e,t.shape.values);n[s]=a}return n}).done(),Qa=(t,e)=>AN(Uc(e),t),mp=typeof document<"u"?document:{};En(t=>t.nodeType===x6);typeof DOMParser<"u"&&new DOMParser;En(t=>t.nodeType===_6);En(t=>t.nodeType===E6);const v6=t=>HP(t,(e,n)=>`${n}:${e};`).join(""),_6=mp.ELEMENT_NODE,E6=mp.TEXT_NODE,w6=mp.DOCUMENT_NODE,x6=mp.DOCUMENT_FRAGMENT_NODE;En(t=>t.nodeType===w6);const ds=Symbol,T6=ds(),k6=ds(),A6=ds(),N6=ds(),S6=ds(),R6=ds(),C6=ds(),NN=ds(),M6=ds(),O6=t=>{var i;t.length===1&&((i=t[0])==null?void 0:i.constructor)===Function&&(t=t[0]());const e=[],n=[];let r=0;for(;r<t.length;r++){const s=t[r];if(s===void 0)break;if(s.constructor===String||s.constructor===Number)e.push(s);else if(s.constructor===Object)break}for(r>0&&n.push(e.join(""));r<t.length;r++){const s=t[r];s instanceof Symbol||n.push(s)}return n},I6={[T6]:Ui("font-weight","bold"),[k6]:Ui("font-weight","normal"),[A6]:Ui("color","blue"),[S6]:Ui("color","green"),[N6]:Ui("color","grey"),[R6]:Ui("color","red"),[C6]:Ui("color","purple"),[NN]:Ui("color","orange"),[M6]:Ui("color","black")},D6=t=>{var a;t.length===1&&((a=t[0])==null?void 0:a.constructor)===Function&&(t=t[0]());const e=[],n=[],r=Ns();let i=[],s=0;for(;s<t.length;s++){const o=t[s],u=I6[o];if(u!==void 0)r.set(u.left,u.right);else{if(o===void 0)break;if(o.constructor===String||o.constructor===Number){const c=v6(r);s>0||c.length>0?(e.push("%c"+o),n.push(c)):e.push(o)}else break}}for(s>0&&(i=n,i.unshift(e.join("")));s<t.length;s++){const o=t[s];o instanceof Symbol||i.push(o)}return i},SN=GF?D6:O6,pQ=(...t)=>{console.log(...SN(t)),RN.forEach(e=>e.print(t))},gQ=(...t)=>{console.warn(...SN(t)),t.unshift(NN),RN.forEach(e=>e.print(t))},RN=KA(),CN=t=>({[Symbol.iterator](){return this},next:t}),mQ=(t,e)=>CN(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),yQ=(t,e)=>CN(()=>{const{done:n,value:r}=t.next();return{done:n,value:n?void 0:e(r)}});function L6(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="(?!struct)("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",o={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},l={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},d={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},f=e.optional(i)+t.IDENT_RE+"\\s*\\(",p=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],g=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],m=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],y=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],_={type:g,keyword:p,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:m},k={className:"function.dispatch",relevance:0,keywords:{_hint:y},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},C=[k,h,o,n,t.C_BLOCK_COMMENT_MODE,l,c],x={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:_,contains:C.concat([{begin:/\(/,end:/\)/,keywords:_,contains:C.concat(["self"]),relevance:0}]),relevance:0},S={className:"function",begin:"("+a+"[\\*&\\s]+)+"+f,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:_,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:_,relevance:0},{begin:f,returnBegin:!0,contains:[d],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,l]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:_,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,c,l,o,{begin:/\(/,end:/\)/,keywords:_,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,c,l,o]}]},o,n,t.C_BLOCK_COMMENT_MODE,h]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:_,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(x,S,k,C,[h,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:_,contains:["self",o]},{begin:t.IDENT_RE+"::",keywords:_},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function P6(t){const e={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},n=L6(t),r=n.keywords;return r.type=[...r.type,...e.type],r.literal=[...r.literal,...e.literal],r.built_in=[...r.built_in,...e.built_in],r._hints=e._hints,n.name="Arduino",n.aliases=["ino"],n.supersetOf="cpp",n}function F6(t){const e=t.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:e.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[t.BACKSLASH_ESCAPE]},s=t.inherit(t.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),a={begin:/<<-?\s*(?=\w+)/,starts:{contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},o={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,n,i]};i.contains.push(o);const u={match:/\\"/},c={className:"string",begin:/'/,end:/'/},l={match:/\\'/},h={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},t.NUMBER_MODE,n]},d=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],f=t.SHEBANG({binary:`(${d.join("|")})`,relevance:10}),p={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[t.inherit(t.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},g=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],m=["true","false"],y={match:/(\/[a-z._-]+)+/},v=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],b=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],_=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],k=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:g,literal:m,built_in:[...v,...b,"set","shopt",..._,...k]},contains:[f,t.SHEBANG(),p,h,s,a,y,o,u,c,l,n]}}function $6(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",o={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},l={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},d={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},f=e.optional(i)+t.IDENT_RE+"\\s*\\(",m={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},y=[h,o,n,t.C_BLOCK_COMMENT_MODE,l,c],v={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:m,contains:y.concat([{begin:/\(/,end:/\)/,keywords:m,contains:y.concat(["self"]),relevance:0}]),relevance:0},b={begin:"("+a+"[\\*&\\s]+)+"+f,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:m,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:m,relevance:0},{begin:f,returnBegin:!0,contains:[t.inherit(d,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:m,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,c,l,o,{begin:/\(/,end:/\)/,keywords:m,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,c,l,o]}]},o,n,t.C_BLOCK_COMMENT_MODE,h]};return{name:"C",aliases:["h"],keywords:m,disableAutodetect:!0,illegal:"</",contains:[].concat(v,b,y,[h,{begin:t.IDENT_RE+"::",keywords:m},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},t.TITLE_MODE]}]),exports:{preprocessor:h,strings:c,keywords:m}}}function U6(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="(?!struct)("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",o={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},l={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},d={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},f=e.optional(i)+t.IDENT_RE+"\\s*\\(",p=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],g=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],m=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],y=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],_={type:g,keyword:p,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:m},k={className:"function.dispatch",relevance:0,keywords:{_hint:y},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},C=[k,h,o,n,t.C_BLOCK_COMMENT_MODE,l,c],x={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:_,contains:C.concat([{begin:/\(/,end:/\)/,keywords:_,contains:C.concat(["self"]),relevance:0}]),relevance:0},S={className:"function",begin:"("+a+"[\\*&\\s]+)+"+f,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:_,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:_,relevance:0},{begin:f,returnBegin:!0,contains:[d],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,l]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:_,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,c,l,o,{begin:/\(/,end:/\)/,keywords:_,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,c,l,o]}]},o,n,t.C_BLOCK_COMMENT_MODE,h]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:_,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(x,S,k,C,[h,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:_,contains:["self",o]},{begin:t.IDENT_RE+"::",keywords:_},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function B6(t){const e=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],n=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],r=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],s=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],a={keyword:i.concat(s),built_in:e,literal:r},o=t.inherit(t.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),u={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},c={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},l={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},h=t.inherit(l,{illegal:/\n/}),d={className:"subst",begin:/\{/,end:/\}/,keywords:a},f=t.inherit(d,{illegal:/\n/}),p={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},t.BACKSLASH_ESCAPE,f]},g={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},d]},m=t.inherit(g,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},f]});d.contains=[g,p,l,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,u,t.C_BLOCK_COMMENT_MODE],f.contains=[m,p,h,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,u,t.inherit(t.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const y={variants:[c,g,p,l,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},v={begin:"<",end:">",contains:[{beginKeywords:"in out"},o]},b=t.IDENT_RE+"(<"+t.IDENT_RE+"(\\s*,\\s*"+t.IDENT_RE+")*>)?(\\[\\])?",_={begin:"@"+t.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:a,illegal:/::/,contains:[t.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},y,u,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},o,v,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[o,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[o,v,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+b+"\\s+)+"+t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:a,contains:[{beginKeywords:n.join(" "),relevance:0},{begin:t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[t.TITLE_MODE,v],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,relevance:0,contains:[y,u,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},_]}}const G6=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),z6=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],q6=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],H6=[...z6,...q6],W6=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Y6=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),V6=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),X6=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function j6(t){const e=t.regex,n=G6(t),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",s=/@-?\w[\w]*(-\w+)*/,a="[a-zA-Z-][a-zA-Z0-9_-]*",o=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+a,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Y6.join("|")+")"},{begin:":(:)?("+V6.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+X6.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...o,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...o,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:e.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:W6.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...o,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+H6.join("|")+")\\b"}]}}function K6(t){const e=t.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:e.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:e.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function Z6(t){const s={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:s,illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"string",variants:[t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[t.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:s,illegal:/["']/}]}]}}function Q6(t){const e=t.regex,n=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[t.HASH_COMMENT_MODE,t.QUOTE_STRING_MODE,t.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:e.concat(n,e.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function J6(t){const e=t.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:t.NUMBER_RE}]},r=t.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},s={className:"literal",begin:/\bon|off|true|false|yes|no\b/},a={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},o={begin:/\[/,end:/\]/,contains:[r,s,i,a,n,"self"],relevance:0},u=/[A-Za-z0-9_-]+/,c=/"(\\"|[^"])*"/,l=/'[^']*'/,h=e.either(u,c,l),d=e.concat(h,"(\\s*\\.\\s*",h,")*",e.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:d,className:"attr",starts:{end:/$/,contains:[r,o,s,i,a,n]}}]}}var ao="[0-9](_*[0-9])*",Zl=`\\.(${ao})`,Ql="[0-9a-fA-F](_*[0-9a-fA-F])*",Z1={className:"number",variants:[{begin:`(\\b(${ao})((${Zl})|\\.)?|(${Zl}))[eE][+-]?(${ao})[fFdD]?\\b`},{begin:`\\b(${ao})((${Zl})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Zl})[fFdD]?\\b`},{begin:`\\b(${ao})[fFdD]\\b`},{begin:`\\b0[xX]((${Ql})\\.?|(${Ql})?\\.(${Ql}))[pP][+-]?(${ao})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Ql})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function MN(t,e,n){return n===-1?"":t.replace(e,r=>MN(t,e,n-1))}function e4(t){const e=t.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+MN("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),u={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},c={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},l={className:"params",begin:/\(/,end:/\)/,keywords:u,relevance:0,contains:[t.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:u,illegal:/<\/|#/,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[t.BACKSLASH_ESCAPE]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[e.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[l,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",t.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:u,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:u,relevance:0,contains:[c,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,Z1,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},Z1,c]}}const Q1="[A-Za-z$_][0-9A-Za-z$_]*",t4=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],n4=["true","false","null","undefined","NaN","Infinity"],ON=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],IN=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],DN=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],r4=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],i4=[].concat(DN,ON,IN);function s4(t){const e=t.regex,n=(N,{after:P})=>{const F="</"+N[0].slice(1);return N.input.indexOf(F,P)!==-1},r=Q1,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(N,P)=>{const F=N[0].length+N.index,B=N.input[F];if(B==="<"||B===","){P.ignoreMatch();return}B===">"&&(n(N,{after:F})||P.ignoreMatch());let H;const Y=N.input.substring(F);if(H=Y.match(/^\s*=/)){P.ignoreMatch();return}if((H=Y.match(/^\s+extends\s+/))&&H.index===0){P.ignoreMatch();return}}},o={$pattern:Q1,keyword:t4,literal:n4,built_in:i4,"variable.language":r4},u="[0-9](_?[0-9])*",c=`\\.(${u})`,l="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${l})((${c})|\\.)?|(${c}))[eE][+-]?(${u})\\b`},{begin:`\\b(${l})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},f={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},p={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,d],subLanguage:"css"}},g={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,d],subLanguage:"graphql"}},m={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,d]},v={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},b=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,f,p,g,m,{match:/\$\d+/},h];d.contains=b.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(b)});const _=[].concat(v,d.contains),k=_.concat([{begin:/(\s*)\(/,end:/\)/,keywords:o,contains:["self"].concat(_)}]),C={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:k},x={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},S={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...ON,...IN]}},O={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},D={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[C],illegal:/%/},I={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function M(N){return e.concat("(?!",N.join("|"),")")}const R={match:e.concat(/\b/,M([...DN,"super","import"].map(N=>`${N}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},E={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},w={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},C]},T="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",A={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(T)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[C]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:k,CLASS_REFERENCE:S},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),O,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,f,p,g,m,v,{match:/\$\d+/},h,S,{scope:"attr",match:r+e.lookahead(":"),relevance:0},A,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[v,t.REGEXP_MODE,{className:"function",begin:T,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:k}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},D,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[C,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},E,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[C]},R,I,x,w,{match:/\$[(.]/}]}}function a4(t){const e={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],i={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[e,n,t.QUOTE_STRING_MODE,i,t.C_NUMBER_MODE,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var oo="[0-9](_*[0-9])*",Jl=`\\.(${oo})`,eh="[0-9a-fA-F](_*[0-9a-fA-F])*",o4={className:"number",variants:[{begin:`(\\b(${oo})((${Jl})|\\.)?|(${Jl}))[eE][+-]?(${oo})[fFdD]?\\b`},{begin:`\\b(${oo})((${Jl})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Jl})[fFdD]?\\b`},{begin:`\\b(${oo})[fFdD]\\b`},{begin:`\\b0[xX]((${eh})\\.?|(${eh})?\\.(${eh}))[pP][+-]?(${oo})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${eh})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function u4(t){const e={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},r={className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[t.C_NUMBER_MODE]},s={className:"variable",begin:"\\$"+t.UNDERSCORE_IDENT_RE},a={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[s,i]},{begin:"'",end:"'",illegal:/\n/,contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[t.BACKSLASH_ESCAPE,s,i]}]};i.contains.push(a);const o={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+t.UNDERSCORE_IDENT_RE+")?"},u={className:"meta",begin:"@"+t.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[t.inherit(a,{className:"string"}),"self"]}]},c=o4,l=t.COMMENT("/\\*","\\*/",{contains:[t.C_BLOCK_COMMENT_MODE]}),h={variants:[{className:"type",begin:t.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},d=h;return d.variants[1].contains=[h],h.variants[1].contains=[d],{name:"Kotlin",aliases:["kt","kts"],keywords:e,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),t.C_LINE_COMMENT_MODE,l,n,r,o,u,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:e,relevance:5,contains:[{begin:t.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[t.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:e,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[h,t.C_LINE_COMMENT_MODE,l],relevance:0},t.C_LINE_COMMENT_MODE,l,o,u,a,t.C_NUMBER_MODE]},l]},{begin:[/class|interface|trait/,/\s+/,t.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},t.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},o,u]},a,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},c]}}const c4=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),l4=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],h4=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],f4=[...l4,...h4],d4=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),LN=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),PN=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),p4=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),g4=LN.concat(PN).sort().reverse();function m4(t){const e=c4(t),n=g4,r="and or not only",i="[\\w-]+",s="("+i+"|@\\{"+i+"\\})",a=[],o=[],u=function(b){return{className:"string",begin:"~?"+b+".*?"+b}},c=function(b,_,k){return{className:b,begin:_,relevance:k}},l={$pattern:/[a-z-]+/,keyword:r,attribute:d4.join(" ")},h={begin:"\\(",end:"\\)",contains:o,keywords:l,relevance:0};o.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,u("'"),u('"'),e.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},e.HEXCOLOR,h,c("variable","@@?"+i,10),c("variable","@\\{"+i+"\\}"),c("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},e.IMPORTANT,{beginKeywords:"and not"},e.FUNCTION_DISPATCH);const d=o.concat({begin:/\{/,end:/\}/,contains:a}),f={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(o)},p={begin:s+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+p4.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:o}}]},g={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:l,returnEnd:!0,contains:o,relevance:0}},m={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:d}},y={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:s,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,f,c("keyword","all\\b"),c("variable","@\\{"+i+"\\}"),{begin:"\\b("+f4.join("|")+")\\b",className:"selector-tag"},e.CSS_NUMBER_MODE,c("selector-tag",s,0),c("selector-id","#"+s),c("selector-class","\\."+s,0),c("selector-tag","&",0),e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+LN.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+PN.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:d},{begin:"!important"},e.FUNCTION_DISPATCH]},v={begin:i+`:(:)?(${n.join("|")})`,returnBegin:!0,contains:[y]};return a.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,g,m,v,p,y,f,e.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:a}}function y4(t){const e="\\[=*\\[",n="\\]=*\\]",r={begin:e,end:n,contains:["self"]},i=[t.COMMENT("--(?!"+e+")","$"),t.COMMENT("--"+e,n,{contains:[r],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:t.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[t.inherit(t.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},t.C_NUMBER_MODE,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{className:"string",begin:e,end:n,contains:[r],relevance:5}])}}function b4(t){const e={className:"variable",variants:[{begin:"\\$\\("+t.UNDERSCORE_IDENT_RE+"\\)",contains:[t.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,e]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[e,n]},i={begin:"^"+t.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},s={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},a={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[e]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[t.HASH_COMMENT_MODE,e,n,r,i,s,a]}}function v4(t){const e=t.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},s={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},a={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},o=/[A-Za-z][A-Za-z0-9+.-]*/,u={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:e.concat(/\[.+?\]\(/,o,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},c={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},l={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},h=t.inherit(c,{contains:[]}),d=t.inherit(l,{contains:[]});c.contains.push(d),l.contains.push(h);let f=[n,u];return[c,l,h,d].forEach(y=>{y.contains=y.contains.concat(f)}),f=f.concat(c,l),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:f},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:f}]}]},n,s,c,l,{className:"quote",begin:"^>\\s+",contains:f,end:"$"},i,r,u,a,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function _4(t){const e={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,o={"variable.language":["this","super"],$pattern:n,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},u={$pattern:n,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:o,illegal:"</",contains:[e,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,t.C_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+u.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:u,contains:[t.UNDERSCORE_TITLE_MODE]},{begin:"\\."+t.UNDERSCORE_IDENT_RE,relevance:0}]}}function E4(t){const e=t.regex,n=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],r=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:n.join(" ")},s={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},a={begin:/->\{/,end:/\}/},o={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},u={scope:"variable",variants:[{begin:/\$\d/},{begin:e.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[o]},c={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},l=[t.BACKSLASH_ESCAPE,s,u],h=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],d=(g,m,y="\\1")=>{const v=y==="\\1"?y:e.concat(y,m);return e.concat(e.concat("(?:",g,")"),m,/(?:\\.|[^\\\/])*?/,v,/(?:\\.|[^\\\/])*?/,y,r)},f=(g,m,y)=>e.concat(e.concat("(?:",g,")"),m,/(?:\\.|[^\\\/])*?/,y,r),p=[u,t.HASH_COMMENT_MODE,t.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),a,{className:"string",contains:l,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},c,{begin:"(\\/\\/|"+t.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[t.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:d("s|tr|y",e.either(...h,{capture:!0}))},{begin:d("s|tr|y","\\(","\\)")},{begin:d("s|tr|y","\\[","\\]")},{begin:d("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:f("(?:m|qr)?",/\//,/\//)},{begin:f("m|qr",e.either(...h,{capture:!0}),/\1/)},{begin:f("m|qr",/\(/,/\)/)},{begin:f("m|qr",/\[/,/\]/)},{begin:f("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE,o]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE,o,c]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return s.contains=p,a.contains=p,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:p}}function w4(t){const e=t.regex,n=/(?![A-Za-z0-9])(?![$])/,r=e.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),i=e.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),s=e.concat(/[A-Z]+/,n),a={scope:"variable",match:"\\$+"+r},o={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},u={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},c=t.inherit(t.APOS_STRING_MODE,{illegal:null}),l=t.inherit(t.QUOTE_STRING_MODE,{illegal:null,contains:t.QUOTE_STRING_MODE.contains.concat(u)}),h={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:t.QUOTE_STRING_MODE.contains.concat(u),"on:begin":(E,w)=>{w.data._beginMatch=E[1]||E[2]},"on:end":(E,w)=>{w.data._beginMatch!==E[1]&&w.ignoreMatch()}},d=t.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),f=`[ 	
]`,p={scope:"string",variants:[l,c,h,d]},g={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},m=["false","null","true"],y=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],v=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],_={keyword:y,literal:(E=>{const w=[];return E.forEach(T=>{w.push(T),T.toLowerCase()===T?w.push(T.toUpperCase()):w.push(T.toLowerCase())}),w})(m),built_in:v},k=E=>E.map(w=>w.replace(/\|\d+$/,"")),C={variants:[{match:[/new/,e.concat(f,"+"),e.concat("(?!",k(v).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},x=e.concat(r,"\\b(?!\\()"),S={variants:[{match:[e.concat(/::/,e.lookahead(/(?!class\b)/)),x],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,e.concat(/::/,e.lookahead(/(?!class\b)/)),x],scope:{1:"title.class",3:"variable.constant"}},{match:[i,e.concat("::",e.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},O={scope:"attr",match:e.concat(r,e.lookahead(":"),e.lookahead(/(?!::)/))},D={relevance:0,begin:/\(/,end:/\)/,keywords:_,contains:[O,a,S,t.C_BLOCK_COMMENT_MODE,p,g,C]},I={relevance:0,match:[/\b/,e.concat("(?!fn\\b|function\\b|",k(y).join("\\b|"),"|",k(v).join("\\b|"),"\\b)"),r,e.concat(f,"*"),e.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[D]};D.contains.push(I);const M=[O,S,t.C_BLOCK_COMMENT_MODE,p,g,C],R={begin:e.concat(/#\[\s*\\?/,e.either(i,s)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:m,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:m,keyword:["new","array"]},contains:["self",...M]},...M,{scope:"meta",variants:[{match:i},{match:s}]}]};return{case_insensitive:!1,keywords:_,contains:[R,t.HASH_COMMENT_MODE,t.COMMENT("//","$"),t.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:t.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},o,{scope:"variable.language",match:/\$this\b/},a,I,S,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},C,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},t.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:_,contains:["self",R,a,S,t.C_BLOCK_COMMENT_MODE,p,g]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[t.inherit(t.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},t.UNDERSCORE_TITLE_MODE]},p,g]}}function x4(t){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},t.inherit(t.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),t.inherit(t.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function T4(t){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function k4(t){const e=t.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],o={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},u={className:"meta",begin:/^(>>>|\.\.\.) /},c={className:"subst",begin:/\{/,end:/\}/,keywords:o,illegal:/#/},l={begin:/\{\{/,relevance:0},h={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,u],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,u],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,u,l,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,u,l,c]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[t.BACKSLASH_ESCAPE,l,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,l,c]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},d="[0-9](_?[0-9])*",f=`(\\b(${d}))?\\.(${d})|\\b(${d})\\.`,p=`\\b|${r.join("|")}`,g={className:"number",relevance:0,variants:[{begin:`(\\b(${d})|(${f}))[eE][+-]?(${d})[jJ]?(?=${p})`},{begin:`(${f})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${p})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${p})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${p})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${p})`},{begin:`\\b(${d})[jJ](?=${p})`}]},m={className:"comment",begin:e.lookahead(/# type:/),end:/$/,keywords:o,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},y={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:["self",u,g,h,t.HASH_COMMENT_MODE]}]};return c.contains=[h,g,u],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:o,illegal:/(<\/|\?)|=>/,contains:[u,g,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},h,m,t.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[y]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[g,y,h]}]}}function A4(t){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function N4(t){const e=t.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=e.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,s=e.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[t.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:e.lookahead(e.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),t.HASH_COMMENT_MODE,{scope:"string",contains:[t.BACKSLASH_ESCAPE],variants:[t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[s,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:s},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function S4(t){const e=t.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=e.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=e.concat(r,/(::\w+)*/),a={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},o={className:"doctag",begin:"@[A-Za-z]+"},u={begin:"#<",end:">"},c=[t.COMMENT("#","$",{contains:[o]}),t.COMMENT("^=begin","^=end",{contains:[o],relevance:10}),t.COMMENT("^__END__",t.MATCH_NOTHING_RE)],l={className:"subst",begin:/#\{/,end:/\}/,keywords:a},h={className:"string",contains:[t.BACKSLASH_ESCAPE,l],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:e.concat(/<<[-~]?'?/,e.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[t.BACKSLASH_ESCAPE,l]})]}]},d="[1-9](_?[0-9])*|0",f="[0-9](_?[0-9])*",p={className:"number",relevance:0,variants:[{begin:`\\b(${d})(\\.(${f}))?([eE][+-]?(${f})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},g={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:a}]},C=[h,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:a},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:a},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[g]},{begin:t.IDENT_RE+"::"},{className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[h,{begin:n}],relevance:0},p,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:a},{begin:"("+t.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[t.BACKSLASH_ESCAPE,l],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(u,c),relevance:0}].concat(u,c);l.contains=C,g.contains=C;const D=[{begin:/^\s*=>/,starts:{end:"$",contains:C}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:a,contains:C}}];return c.unshift(u),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:a,illegal:/\/\*/,contains:[t.SHEBANG({binary:"ruby"})].concat(D).concat(c).concat(C)}}function R4(t){const e=t.regex,n=/(r#)?/,r=e.concat(n,t.UNDERSCORE_IDENT_RE),i=e.concat(n,t.IDENT_RE),s={className:"title.function.invoke",relevance:0,begin:e.concat(/\b/,/(?!let|for|while|if|else|match\b)/,i,e.lookahead(/\s*\(/))},a="([ui](8|16|32|64|128|size)|f(32|64))?",o=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],u=["true","false","Some","None","Ok","Err"],c=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],l=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:t.IDENT_RE+"!?",type:l,keyword:o,literal:u,built_in:c},illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.COMMENT("/\\*","\\*/",{contains:["self"]}),t.inherit(t.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+a},{begin:"\\b0o([0-7_]+)"+a},{begin:"\\b0x([A-Fa-f0-9_]+)"+a},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+a}],relevance:0},{begin:[/fn/,/\s+/,r],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,r],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,r,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:t.IDENT_RE+"::",keywords:{keyword:"Self",built_in:c,type:l}},{className:"punctuation",begin:"->"},s]}}const C4=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),M4=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],O4=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],I4=[...M4,...O4],D4=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),L4=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),P4=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),F4=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function $4(t){const e=C4(t),n=P4,r=L4,i="@[a-z-]+",s="and or not only",o={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,e.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+I4.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},o,{begin:/\(/,end:/\)/,contains:[e.CSS_NUMBER_MODE]},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+F4.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[e.BLOCK_COMMENT,o,e.HEXCOLOR,e.CSS_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.IMPORTANT,e.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:D4.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},o,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.HEXCOLOR,e.CSS_NUMBER_MODE]},e.FUNCTION_DISPATCH]}}function U4(t){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function B4(t){const e=t.regex,n=t.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},i={begin:/"/,end:/"/,contains:[{match:/""/}]},s=["true","false","unknown"],a=["double precision","large object","with timezone","without timezone"],o=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],u=["add","asc","collation","desc","final","first","last","view"],c=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],l=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],h=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],d=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],f=l,p=[...c,...u].filter(k=>!l.includes(k)),g={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},m={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},y={match:e.concat(/\b/,e.either(...f),/\s*\(/),relevance:0,keywords:{built_in:f}};function v(k){return e.concat(/\b/,e.either(...k.map(C=>C.replace(/\s+/,"\\s+"))),/\b/)}const b={scope:"keyword",match:v(d),relevance:0};function _(k,{exceptions:C,when:x}={}){const S=x;return C=C||[],k.map(O=>O.match(/\|\d+$/)||C.includes(O)?O:S(O)?`${O}|0`:O)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:_(p,{when:k=>k.length<3}),literal:s,type:o,built_in:h},contains:[{scope:"type",match:v(a)},b,y,g,r,i,t.C_NUMBER_MODE,t.C_BLOCK_COMMENT_MODE,n,m]}}function FN(t){return t?typeof t=="string"?t:t.source:null}function gu(t){return kt("(?=",t,")")}function kt(...t){return t.map(n=>FN(n)).join("")}function G4(t){const e=t[t.length-1];return typeof e=="object"&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}function Zn(...t){return"("+(G4(t).capture?"":"?:")+t.map(r=>FN(r)).join("|")+")"}const Nv=t=>kt(/\b/,t,/\w$/.test(t)?/\b/:/\B/),z4=["Protocol","Type"].map(Nv),J1=["init","self"].map(Nv),q4=["Any","Self"],wg=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],eE=["false","nil","true"],H4=["assignment","associativity","higherThan","left","lowerThan","none","right"],W4=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],tE=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],$N=Zn(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),UN=Zn($N,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),xg=kt($N,UN,"*"),BN=Zn(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),Pf=Zn(BN,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),gi=kt(BN,Pf,"*"),th=kt(/[A-Z]/,Pf,"*"),Y4=["attached","autoclosure",kt(/convention\(/,Zn("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",kt(/objc\(/,gi,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],V4=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function X4(t){const e={match:/\s+/,relevance:0},n=t.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[t.C_LINE_COMMENT_MODE,n],i={match:[/\./,Zn(...z4,...J1)],className:{2:"keyword"}},s={match:kt(/\./,Zn(...wg)),relevance:0},a=wg.filter(ge=>typeof ge=="string").concat(["_|0"]),o=wg.filter(ge=>typeof ge!="string").concat(q4).map(Nv),u={variants:[{className:"keyword",match:Zn(...o,...J1)}]},c={$pattern:Zn(/\b\w+/,/#\w+/),keyword:a.concat(W4),literal:eE},l=[i,s,u],h={match:kt(/\./,Zn(...tE)),relevance:0},d={className:"built_in",match:kt(/\b/,Zn(...tE),/(?=\()/)},f=[h,d],p={match:/->/,relevance:0},g={className:"operator",relevance:0,variants:[{match:xg},{match:`\\.(\\.|${UN})+`}]},m=[p,g],y="([0-9]_*)+",v="([0-9a-fA-F]_*)+",b={className:"number",relevance:0,variants:[{match:`\\b(${y})(\\.(${y}))?([eE][+-]?(${y}))?\\b`},{match:`\\b0x(${v})(\\.(${v}))?([pP][+-]?(${y}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},_=(ge="")=>({className:"subst",variants:[{match:kt(/\\/,ge,/[0\\tnr"']/)},{match:kt(/\\/,ge,/u\{[0-9a-fA-F]{1,8}\}/)}]}),k=(ge="")=>({className:"subst",match:kt(/\\/,ge,/[\t ]*(?:[\r\n]|\r\n)/)}),C=(ge="")=>({className:"subst",label:"interpol",begin:kt(/\\/,ge,/\(/),end:/\)/}),x=(ge="")=>({begin:kt(ge,/"""/),end:kt(/"""/,ge),contains:[_(ge),k(ge),C(ge)]}),S=(ge="")=>({begin:kt(ge,/"/),end:kt(/"/,ge),contains:[_(ge),C(ge)]}),O={className:"string",variants:[x(),x("#"),x("##"),x("###"),S(),S("#"),S("##"),S("###")]},D=[t.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[t.BACKSLASH_ESCAPE]}],I={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:D},M=ge=>{const mt=kt(ge,/\//),ht=kt(/\//,ge);return{begin:mt,end:ht,contains:[...D,{scope:"comment",begin:`#(?!.*${ht})`,end:/$/}]}},R={scope:"regexp",variants:[M("###"),M("##"),M("#"),I]},E={match:kt(/`/,gi,/`/)},w={className:"variable",match:/\$\d+/},T={className:"variable",match:`\\$${Pf}+`},A=[E,w,T],N={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:V4,contains:[...m,b,O]}]}},P={scope:"keyword",match:kt(/@/,Zn(...Y4),gu(Zn(/\(/,/\s+/)))},F={scope:"meta",match:kt(/@/,gi)},B=[N,P,F],H={match:gu(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:kt(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,Pf,"+")},{className:"type",match:th,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:kt(/\s+&\s+/,gu(th)),relevance:0}]},Y={begin:/</,end:/>/,keywords:c,contains:[...r,...l,...B,p,H]};H.contains.push(Y);const Q={match:kt(gi,/\s*:/),keywords:"_|0",relevance:0},j={begin:/\(/,end:/\)/,relevance:0,keywords:c,contains:["self",Q,...r,R,...l,...f,...m,b,O,...A,...B,H]},ee={begin:/</,end:/>/,keywords:"repeat each",contains:[...r,H]},ue={begin:Zn(gu(kt(gi,/\s*:/)),gu(kt(gi,/\s+/,gi,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:gi}]},se={begin:/\(/,end:/\)/,keywords:c,contains:[ue,...r,...l,...m,b,O,...B,H,j],endsParent:!0,illegal:/["']/},z={match:[/(func|macro)/,/\s+/,Zn(E.match,gi,xg)],className:{1:"keyword",3:"title.function"},contains:[ee,se,e],illegal:[/\[/,/%/]},X={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[ee,se,e],illegal:/\[|%/},ie={match:[/operator/,/\s+/,xg],className:{1:"keyword",3:"title"}},q={begin:[/precedencegroup/,/\s+/,th],className:{1:"keyword",3:"title"},contains:[H],keywords:[...H4,...eE],end:/}/},be={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},J={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},Ie={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,gi,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:c,contains:[ee,...l,{begin:/:/,end:/\{/,keywords:c,contains:[{scope:"title.class.inherited",match:th},...l],relevance:0}]};for(const ge of O.variants){const mt=ge.contains.find(Je=>Je.label==="interpol");mt.keywords=c;const ht=[...l,...f,...m,b,O,...A];mt.contains=[...ht,{begin:/\(/,end:/\)/,contains:["self",...ht]}]}return{name:"Swift",keywords:c,contains:[...r,z,X,be,J,Ie,ie,q,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},R,...l,...f,...m,b,O,...A,...B,H,j]}}const Ff="[A-Za-z$_][0-9A-Za-z$_]*",GN=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],zN=["true","false","null","undefined","NaN","Infinity"],qN=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],HN=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],WN=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],YN=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],VN=[].concat(WN,qN,HN);function j4(t){const e=t.regex,n=(N,{after:P})=>{const F="</"+N[0].slice(1);return N.input.indexOf(F,P)!==-1},r=Ff,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(N,P)=>{const F=N[0].length+N.index,B=N.input[F];if(B==="<"||B===","){P.ignoreMatch();return}B===">"&&(n(N,{after:F})||P.ignoreMatch());let H;const Y=N.input.substring(F);if(H=Y.match(/^\s*=/)){P.ignoreMatch();return}if((H=Y.match(/^\s+extends\s+/))&&H.index===0){P.ignoreMatch();return}}},o={$pattern:Ff,keyword:GN,literal:zN,built_in:VN,"variable.language":YN},u="[0-9](_?[0-9])*",c=`\\.(${u})`,l="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${l})((${c})|\\.)?|(${c}))[eE][+-]?(${u})\\b`},{begin:`\\b(${l})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},f={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},p={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,d],subLanguage:"css"}},g={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,d],subLanguage:"graphql"}},m={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,d]},v={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},b=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,f,p,g,m,{match:/\$\d+/},h];d.contains=b.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(b)});const _=[].concat(v,d.contains),k=_.concat([{begin:/(\s*)\(/,end:/\)/,keywords:o,contains:["self"].concat(_)}]),C={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:k},x={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},S={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...qN,...HN]}},O={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},D={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[C],illegal:/%/},I={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function M(N){return e.concat("(?!",N.join("|"),")")}const R={match:e.concat(/\b/,M([...WN,"super","import"].map(N=>`${N}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},E={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},w={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},C]},T="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",A={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(T)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[C]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:k,CLASS_REFERENCE:S},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),O,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,f,p,g,m,v,{match:/\$\d+/},h,S,{scope:"attr",match:r+e.lookahead(":"),relevance:0},A,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[v,t.REGEXP_MODE,{className:"function",begin:T,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:k}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},D,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[C,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},E,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[C]},R,I,x,w,{match:/\$[(.]/}]}}function K4(t){const e=t.regex,n=j4(t),r=Ff,i=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],s={begin:[/namespace/,/\s+/,t.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},a={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[n.exports.CLASS_REFERENCE]},o={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},u=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],c={$pattern:Ff,keyword:GN.concat(u),literal:zN,built_in:VN.concat(i),"variable.language":YN},l={className:"meta",begin:"@"+r},h=(g,m,y)=>{const v=g.contains.findIndex(b=>b.label===m);if(v===-1)throw new Error("can not find mode to replace");g.contains.splice(v,1,y)};Object.assign(n.keywords,c),n.exports.PARAMS_CONTAINS.push(l);const d=n.contains.find(g=>g.scope==="attr"),f=Object.assign({},d,{match:e.concat(r,e.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,d,f]),n.contains=n.contains.concat([l,s,a,f]),h(n,"shebang",t.SHEBANG()),h(n,"use_strict",o);const p=n.contains.find(g=>g.label==="func.def");return p.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function Z4(t){const e=t.regex,n={className:"string",begin:/"(""|[^/n])"C\b/},r={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,s=/\d{4}-\d{1,2}-\d{1,2}/,a=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,o=/\d{1,2}(:\d{1,2}){1,2}/,u={className:"literal",variants:[{begin:e.concat(/# */,e.either(s,i),/ *#/)},{begin:e.concat(/# */,o,/ *#/)},{begin:e.concat(/# */,a,/ *#/)},{begin:e.concat(/# */,e.either(s,i),/ +/,e.either(a,o),/ *#/)}]},c={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},l={className:"label",begin:/^\w+:/},h=t.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),d=t.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[n,r,u,c,l,h,d,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[d]}]}}function Q4(t){t.regex;const e=t.COMMENT(/\(;/,/;\)/);e.contains.push("self");const n=t.COMMENT(/;;/,/$/),r=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},s={className:"variable",begin:/\$[\w_]+/},a={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},o={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},u={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},c={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:r},contains:[n,e,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},s,a,i,t.QUOTE_STRING_MODE,u,c,o]}}function J4(t){const e=t.regex,n=e.concat(/[\p{L}_]/u,e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},a=t.inherit(s,{begin:/\(/,end:/\)/}),o=t.inherit(t.APOS_STRING_MODE,{className:"string"}),u=t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,u,o,a,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,a,u,o]}]}]},t.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[u]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[c],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[c],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(n,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:c}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function e8(t){const e="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},s={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},a={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[t.BACKSLASH_ESCAPE,i]},o=t.inherit(a,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),d={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},f={end:",",endsWithParent:!0,excludeEnd:!0,keywords:e,relevance:0},p={begin:/\{/,end:/\}/,contains:[f],illegal:"\\n",relevance:0},g={begin:"\\[",end:"\\]",contains:[f],illegal:"\\n",relevance:0},m=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+t.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+t.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},t.HASH_COMMENT_MODE,{beginKeywords:e,keywords:{literal:e}},d,{className:"number",begin:t.C_NUMBER_RE+"\\b",relevance:0},p,g,s,a],y=[...m];return y.pop(),y.push(o),f.contains=y,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:m}}const bQ={arduino:P6,bash:F6,c:$6,cpp:U6,csharp:B6,css:j6,diff:K6,go:Z6,graphql:Q6,ini:J6,java:e4,javascript:s4,json:a4,kotlin:u4,less:m4,lua:y4,makefile:b4,markdown:v4,objectivec:_4,perl:E4,php:w4,"php-template":x4,plaintext:T4,python:k4,"python-repl":A4,r:N4,ruby:S4,rust:R4,scss:$4,shell:U4,sql:B4,swift:X4,typescript:K4,vbnet:Z4,wasm:Q4,xml:J4,yaml:e8};var vQ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function t8(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function n8(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Tg,nE;function r8(){if(nE)return Tg;nE=1;function t($){return $ instanceof Map?$.clear=$.delete=$.set=function(){throw new Error("map is read-only")}:$ instanceof Set&&($.add=$.clear=$.delete=function(){throw new Error("set is read-only")}),Object.freeze($),Object.getOwnPropertyNames($).forEach(Z=>{const K=$[Z],ae=typeof K;(ae==="object"||ae==="function")&&!Object.isFrozen(K)&&t(K)}),$}class e{constructor(Z){Z.data===void 0&&(Z.data={}),this.data=Z.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n($){return $.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function r($,...Z){const K=Object.create(null);for(const ae in $)K[ae]=$[ae];return Z.forEach(function(ae){for(const Me in ae)K[Me]=ae[Me]}),K}const i="</span>",s=$=>!!$.scope,a=($,{prefix:Z})=>{if($.startsWith("language:"))return $.replace("language:","language-");if($.includes(".")){const K=$.split(".");return[`${Z}${K.shift()}`,...K.map((ae,Me)=>`${ae}${"_".repeat(Me+1)}`)].join(" ")}return`${Z}${$}`};class o{constructor(Z,K){this.buffer="",this.classPrefix=K.classPrefix,Z.walk(this)}addText(Z){this.buffer+=n(Z)}openNode(Z){if(!s(Z))return;const K=a(Z.scope,{prefix:this.classPrefix});this.span(K)}closeNode(Z){s(Z)&&(this.buffer+=i)}value(){return this.buffer}span(Z){this.buffer+=`<span class="${Z}">`}}const u=($={})=>{const Z={children:[]};return Object.assign(Z,$),Z};class c{constructor(){this.rootNode=u(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(Z){this.top.children.push(Z)}openNode(Z){const K=u({scope:Z});this.add(K),this.stack.push(K)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(Z){return this.constructor._walk(Z,this.rootNode)}static _walk(Z,K){return typeof K=="string"?Z.addText(K):K.children&&(Z.openNode(K),K.children.forEach(ae=>this._walk(Z,ae)),Z.closeNode(K)),Z}static _collapse(Z){typeof Z!="string"&&Z.children&&(Z.children.every(K=>typeof K=="string")?Z.children=[Z.children.join("")]:Z.children.forEach(K=>{c._collapse(K)}))}}class l extends c{constructor(Z){super(),this.options=Z}addText(Z){Z!==""&&this.add(Z)}startScope(Z){this.openNode(Z)}endScope(){this.closeNode()}__addSublanguage(Z,K){const ae=Z.root;K&&(ae.scope=`language:${K}`),this.add(ae)}toHTML(){return new o(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function h($){return $?typeof $=="string"?$:$.source:null}function d($){return g("(?=",$,")")}function f($){return g("(?:",$,")*")}function p($){return g("(?:",$,")?")}function g(...$){return $.map(K=>h(K)).join("")}function m($){const Z=$[$.length-1];return typeof Z=="object"&&Z.constructor===Object?($.splice($.length-1,1),Z):{}}function y(...$){return"("+(m($).capture?"":"?:")+$.map(ae=>h(ae)).join("|")+")"}function v($){return new RegExp($.toString()+"|").exec("").length-1}function b($,Z){const K=$&&$.exec(Z);return K&&K.index===0}const _=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function k($,{joinWith:Z}){let K=0;return $.map(ae=>{K+=1;const Me=K;let ye=h(ae),re="";for(;ye.length>0;){const de=_.exec(ye);if(!de){re+=ye;break}re+=ye.substring(0,de.index),ye=ye.substring(de.index+de[0].length),de[0][0]==="\\"&&de[1]?re+="\\"+String(Number(de[1])+Me):(re+=de[0],de[0]==="("&&K++)}return re}).map(ae=>`(${ae})`).join(Z)}const C=/\b\B/,x="[a-zA-Z]\\w*",S="[a-zA-Z_]\\w*",O="\\b\\d+(\\.\\d+)?",D="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",I="\\b(0b[01]+)",M="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",R=($={})=>{const Z=/^#![ ]*\//;return $.binary&&($.begin=g(Z,/.*\b/,$.binary,/\b.*/)),r({scope:"meta",begin:Z,end:/$/,relevance:0,"on:begin":(K,ae)=>{K.index!==0&&ae.ignoreMatch()}},$)},E={begin:"\\\\[\\s\\S]",relevance:0},w={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[E]},T={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[E]},A={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},N=function($,Z,K={}){const ae=r({scope:"comment",begin:$,end:Z,contains:[]},K);ae.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const Me=y("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return ae.contains.push({begin:g(/[ ]+/,"(",Me,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),ae},P=N("//","$"),F=N("/\\*","\\*/"),B=N("#","$"),H={scope:"number",begin:O,relevance:0},Y={scope:"number",begin:D,relevance:0},Q={scope:"number",begin:I,relevance:0},j={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[E,{begin:/\[/,end:/\]/,relevance:0,contains:[E]}]},ee={scope:"title",begin:x,relevance:0},ue={scope:"title",begin:S,relevance:0},se={begin:"\\.\\s*"+S,relevance:0};var X=Object.freeze({__proto__:null,APOS_STRING_MODE:w,BACKSLASH_ESCAPE:E,BINARY_NUMBER_MODE:Q,BINARY_NUMBER_RE:I,COMMENT:N,C_BLOCK_COMMENT_MODE:F,C_LINE_COMMENT_MODE:P,C_NUMBER_MODE:Y,C_NUMBER_RE:D,END_SAME_AS_BEGIN:function($){return Object.assign($,{"on:begin":(Z,K)=>{K.data._beginMatch=Z[1]},"on:end":(Z,K)=>{K.data._beginMatch!==Z[1]&&K.ignoreMatch()}})},HASH_COMMENT_MODE:B,IDENT_RE:x,MATCH_NOTHING_RE:C,METHOD_GUARD:se,NUMBER_MODE:H,NUMBER_RE:O,PHRASAL_WORDS_MODE:A,QUOTE_STRING_MODE:T,REGEXP_MODE:j,RE_STARTERS_RE:M,SHEBANG:R,TITLE_MODE:ee,UNDERSCORE_IDENT_RE:S,UNDERSCORE_TITLE_MODE:ue});function ie($,Z){$.input[$.index-1]==="."&&Z.ignoreMatch()}function q($,Z){$.className!==void 0&&($.scope=$.className,delete $.className)}function be($,Z){Z&&$.beginKeywords&&($.begin="\\b("+$.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",$.__beforeBegin=ie,$.keywords=$.keywords||$.beginKeywords,delete $.beginKeywords,$.relevance===void 0&&($.relevance=0))}function J($,Z){Array.isArray($.illegal)&&($.illegal=y(...$.illegal))}function Ie($,Z){if($.match){if($.begin||$.end)throw new Error("begin & end are not supported with match");$.begin=$.match,delete $.match}}function ge($,Z){$.relevance===void 0&&($.relevance=1)}const mt=($,Z)=>{if(!$.beforeMatch)return;if($.starts)throw new Error("beforeMatch cannot be used with starts");const K=Object.assign({},$);Object.keys($).forEach(ae=>{delete $[ae]}),$.keywords=K.keywords,$.begin=g(K.beforeMatch,d(K.begin)),$.starts={relevance:0,contains:[Object.assign(K,{endsParent:!0})]},$.relevance=0,delete K.beforeMatch},ht=["of","and","for","in","not","or","if","then","parent","list","value"],Je="keyword";function Ft($,Z,K=Je){const ae=Object.create(null);return typeof $=="string"?Me(K,$.split(" ")):Array.isArray($)?Me(K,$):Object.keys($).forEach(function(ye){Object.assign(ae,Ft($[ye],Z,ye))}),ae;function Me(ye,re){Z&&(re=re.map(de=>de.toLowerCase())),re.forEach(function(de){const le=de.split("|");ae[le[0]]=[ye,St(le[0],le[1])]})}}function St($,Z){return Z?Number(Z):Pn($)?0:1}function Pn($){return ht.includes($.toLowerCase())}const Lt={},$t=$=>{console.error($)},Rt=($,...Z)=>{console.log(`WARN: ${$}`,...Z)},wt=($,Z)=>{Lt[`${$}/${Z}`]||(console.log(`Deprecated as of ${$}. ${Z}`),Lt[`${$}/${Z}`]=!0)},xt=new Error;function dn($,Z,{key:K}){let ae=0;const Me=$[K],ye={},re={};for(let de=1;de<=Z.length;de++)re[de+ae]=Me[de],ye[de+ae]=!0,ae+=v(Z[de-1]);$[K]=re,$[K]._emit=ye,$[K]._multi=!0}function Ct($){if(Array.isArray($.begin)){if($.skip||$.excludeBegin||$.returnBegin)throw $t("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),xt;if(typeof $.beginScope!="object"||$.beginScope===null)throw $t("beginScope must be object"),xt;dn($,$.begin,{key:"beginScope"}),$.begin=k($.begin,{joinWith:""})}}function Jt($){if(Array.isArray($.end)){if($.skip||$.excludeEnd||$.returnEnd)throw $t("skip, excludeEnd, returnEnd not compatible with endScope: {}"),xt;if(typeof $.endScope!="object"||$.endScope===null)throw $t("endScope must be object"),xt;dn($,$.end,{key:"endScope"}),$.end=k($.end,{joinWith:""})}}function Yt($){$.scope&&typeof $.scope=="object"&&$.scope!==null&&($.beginScope=$.scope,delete $.scope)}function oe($){Yt($),typeof $.beginScope=="string"&&($.beginScope={_wrap:$.beginScope}),typeof $.endScope=="string"&&($.endScope={_wrap:$.endScope}),Ct($),Jt($)}function ve($){function Z(re,de){return new RegExp(h(re),"m"+($.case_insensitive?"i":"")+($.unicodeRegex?"u":"")+(de?"g":""))}class K{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(de,le){le.position=this.position++,this.matchIndexes[this.matchAt]=le,this.regexes.push([le,de]),this.matchAt+=v(de)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const de=this.regexes.map(le=>le[1]);this.matcherRe=Z(k(de,{joinWith:"|"}),!0),this.lastIndex=0}exec(de){this.matcherRe.lastIndex=this.lastIndex;const le=this.matcherRe.exec(de);if(!le)return null;const Oe=le.findIndex(($e,Ze)=>Ze>0&&$e!==void 0),L=this.matchIndexes[Oe];return le.splice(0,Oe),Object.assign(le,L)}}class ae{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(de){if(this.multiRegexes[de])return this.multiRegexes[de];const le=new K;return this.rules.slice(de).forEach(([Oe,L])=>le.addRule(Oe,L)),le.compile(),this.multiRegexes[de]=le,le}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(de,le){this.rules.push([de,le]),le.type==="begin"&&this.count++}exec(de){const le=this.getMatcher(this.regexIndex);le.lastIndex=this.lastIndex;let Oe=le.exec(de);if(this.resumingScanAtSamePosition()&&!(Oe&&Oe.index===this.lastIndex)){const L=this.getMatcher(0);L.lastIndex=this.lastIndex+1,Oe=L.exec(de)}return Oe&&(this.regexIndex+=Oe.position+1,this.regexIndex===this.count&&this.considerAll()),Oe}}function Me(re){const de=new ae;return re.contains.forEach(le=>de.addRule(le.begin,{rule:le,type:"begin"})),re.terminatorEnd&&de.addRule(re.terminatorEnd,{type:"end"}),re.illegal&&de.addRule(re.illegal,{type:"illegal"}),de}function ye(re,de){const le=re;if(re.isCompiled)return le;[q,Ie,oe,mt].forEach(L=>L(re,de)),$.compilerExtensions.forEach(L=>L(re,de)),re.__beforeBegin=null,[be,J,ge].forEach(L=>L(re,de)),re.isCompiled=!0;let Oe=null;return typeof re.keywords=="object"&&re.keywords.$pattern&&(re.keywords=Object.assign({},re.keywords),Oe=re.keywords.$pattern,delete re.keywords.$pattern),Oe=Oe||/\w+/,re.keywords&&(re.keywords=Ft(re.keywords,$.case_insensitive)),le.keywordPatternRe=Z(Oe,!0),de&&(re.begin||(re.begin=/\B|\b/),le.beginRe=Z(le.begin),!re.end&&!re.endsWithParent&&(re.end=/\B|\b/),re.end&&(le.endRe=Z(le.end)),le.terminatorEnd=h(le.end)||"",re.endsWithParent&&de.terminatorEnd&&(le.terminatorEnd+=(re.end?"|":"")+de.terminatorEnd)),re.illegal&&(le.illegalRe=Z(re.illegal)),re.contains||(re.contains=[]),re.contains=[].concat(...re.contains.map(function(L){return Re(L==="self"?re:L)})),re.contains.forEach(function(L){ye(L,le)}),re.starts&&ye(re.starts,de),le.matcher=Me(le),le}if($.compilerExtensions||($.compilerExtensions=[]),$.contains&&$.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return $.classNameAliases=r($.classNameAliases||{}),ye($)}function Ne($){return $?$.endsWithParent||Ne($.starts):!1}function Re($){return $.variants&&!$.cachedVariants&&($.cachedVariants=$.variants.map(function(Z){return r($,{variants:null},Z)})),$.cachedVariants?$.cachedVariants:Ne($)?r($,{starts:$.starts?r($.starts):null}):Object.isFrozen($)?r($):$}var Ae="11.11.1";class Ue extends Error{constructor(Z,K){super(Z),this.name="HTMLInjectionError",this.html=K}}const st=n,nt=r,Ce=Symbol("nomatch"),_e=7,et=function($){const Z=Object.create(null),K=Object.create(null),ae=[];let Me=!0;const ye="Could not find the language '{}', did you forget to load/include a language module?",re={disableAutodetect:!0,name:"Plain text",contains:[]};let de={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:l};function le(he){return de.noHighlightRe.test(he)}function Oe(he){let we=he.className+" ";we+=he.parentNode?he.parentNode.className:"";const Pe=de.languageDetectRe.exec(we);if(Pe){const ke=te(Pe[1]);return ke||(Rt(ye.replace("{}",Pe[1])),Rt("Falling back to no-highlight mode for this block.",he)),ke?Pe[1]:"no-highlight"}return we.split(/\s+/).find(ke=>le(ke)||te(ke))}function L(he,we,Pe){let ke="",Ge="";typeof we=="object"?(ke=he,Pe=we.ignoreIllegals,Ge=we.language):(wt("10.7.0","highlight(lang, code, ...args) has been deprecated."),wt("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),Ge=he,ke=we),Pe===void 0&&(Pe=!0);const tn={code:ke,language:Ge};xn("before:highlight",tn);const Kt=tn.result?tn.result:$e(tn.language,tn.code,Pe);return Kt.code=tn.code,xn("after:highlight",Kt),Kt}function $e(he,we,Pe,ke){const Ge=Object.create(null);function tn(Te,De){return Te.keywords[De]}function Kt(){if(!je.keywords){Tn.addText(It);return}let Te=0;je.keywordPatternRe.lastIndex=0;let De=je.keywordPatternRe.exec(It),rt="";for(;De;){rt+=It.substring(Te,De.index);const _t=li.case_insensitive?De[0].toLowerCase():De[0],Fn=tn(je,_t);if(Fn){const[Fi,O2]=Fn;if(Tn.addText(rt),rt="",Ge[_t]=(Ge[_t]||0)+1,Ge[_t]<=_e&&(Ll+=O2),Fi.startsWith("_"))rt+=De[0];else{const I2=li.classNameAliases[Fi]||Fi;ci(De[0],I2)}}else rt+=De[0];Te=je.keywordPatternRe.lastIndex,De=je.keywordPatternRe.exec(It)}rt+=It.substring(Te),Tn.addText(rt)}function Il(){if(It==="")return;let Te=null;if(typeof je.subLanguage=="string"){if(!Z[je.subLanguage]){Tn.addText(It);return}Te=$e(je.subLanguage,It,!0,D_[je.subLanguage]),D_[je.subLanguage]=Te._top}else Te=Ee(It,je.subLanguage.length?je.subLanguage:null);je.relevance>0&&(Ll+=Te.relevance),Tn.__addSublanguage(Te._emitter,Te.language)}function pr(){je.subLanguage!=null?Il():Kt(),It=""}function ci(Te,De){Te!==""&&(Tn.startScope(De),Tn.addText(Te),Tn.endScope())}function C_(Te,De){let rt=1;const _t=De.length-1;for(;rt<=_t;){if(!Te._emit[rt]){rt++;continue}const Fn=li.classNameAliases[Te[rt]]||Te[rt],Fi=De[rt];Fn?ci(Fi,Fn):(It=Fi,Kt(),It=""),rt++}}function M_(Te,De){return Te.scope&&typeof Te.scope=="string"&&Tn.openNode(li.classNameAliases[Te.scope]||Te.scope),Te.beginScope&&(Te.beginScope._wrap?(ci(It,li.classNameAliases[Te.beginScope._wrap]||Te.beginScope._wrap),It=""):Te.beginScope._multi&&(C_(Te.beginScope,De),It="")),je=Object.create(Te,{parent:{value:je}}),je}function O_(Te,De,rt){let _t=b(Te.endRe,rt);if(_t){if(Te["on:end"]){const Fn=new e(Te);Te["on:end"](De,Fn),Fn.isMatchIgnored&&(_t=!1)}if(_t){for(;Te.endsParent&&Te.parent;)Te=Te.parent;return Te}}if(Te.endsWithParent)return O_(Te.parent,De,rt)}function N2(Te){return je.matcher.regexIndex===0?(It+=Te[0],1):(jp=!0,0)}function S2(Te){const De=Te[0],rt=Te.rule,_t=new e(rt),Fn=[rt.__beforeBegin,rt["on:begin"]];for(const Fi of Fn)if(Fi&&(Fi(Te,_t),_t.isMatchIgnored))return N2(De);return rt.skip?It+=De:(rt.excludeBegin&&(It+=De),pr(),!rt.returnBegin&&!rt.excludeBegin&&(It=De)),M_(rt,Te),rt.returnBegin?0:De.length}function R2(Te){const De=Te[0],rt=we.substring(Te.index),_t=O_(je,Te,rt);if(!_t)return Ce;const Fn=je;je.endScope&&je.endScope._wrap?(pr(),ci(De,je.endScope._wrap)):je.endScope&&je.endScope._multi?(pr(),C_(je.endScope,Te)):Fn.skip?It+=De:(Fn.returnEnd||Fn.excludeEnd||(It+=De),pr(),Fn.excludeEnd&&(It=De));do je.scope&&Tn.closeNode(),!je.skip&&!je.subLanguage&&(Ll+=je.relevance),je=je.parent;while(je!==_t.parent);return _t.starts&&M_(_t.starts,Te),Fn.returnEnd?0:De.length}function C2(){const Te=[];for(let De=je;De!==li;De=De.parent)De.scope&&Te.unshift(De.scope);Te.forEach(De=>Tn.openNode(De))}let Dl={};function I_(Te,De){const rt=De&&De[0];if(It+=Te,rt==null)return pr(),0;if(Dl.type==="begin"&&De.type==="end"&&Dl.index===De.index&&rt===""){if(It+=we.slice(De.index,De.index+1),!Me){const _t=new Error(`0 width match regex (${he})`);throw _t.languageName=he,_t.badRule=Dl.rule,_t}return 1}if(Dl=De,De.type==="begin")return S2(De);if(De.type==="illegal"&&!Pe){const _t=new Error('Illegal lexeme "'+rt+'" for mode "'+(je.scope||"<unnamed>")+'"');throw _t.mode=je,_t}else if(De.type==="end"){const _t=R2(De);if(_t!==Ce)return _t}if(De.type==="illegal"&&rt==="")return It+=`
`,1;if(Xp>1e5&&Xp>De.index*3)throw new Error("potential infinite loop, way more iterations than matches");return It+=rt,rt.length}const li=te(he);if(!li)throw $t(ye.replace("{}",he)),new Error('Unknown language: "'+he+'"');const M2=ve(li);let Vp="",je=ke||M2;const D_={},Tn=new de.__emitter(de);C2();let It="",Ll=0,Gs=0,Xp=0,jp=!1;try{if(li.__emitTokens)li.__emitTokens(we,Tn);else{for(je.matcher.considerAll();;){Xp++,jp?jp=!1:je.matcher.considerAll(),je.matcher.lastIndex=Gs;const Te=je.matcher.exec(we);if(!Te)break;const De=we.substring(Gs,Te.index),rt=I_(De,Te);Gs=Te.index+rt}I_(we.substring(Gs))}return Tn.finalize(),Vp=Tn.toHTML(),{language:he,value:Vp,relevance:Ll,illegal:!1,_emitter:Tn,_top:je}}catch(Te){if(Te.message&&Te.message.includes("Illegal"))return{language:he,value:st(we),illegal:!0,relevance:0,_illegalBy:{message:Te.message,index:Gs,context:we.slice(Gs-100,Gs+100),mode:Te.mode,resultSoFar:Vp},_emitter:Tn};if(Me)return{language:he,value:st(we),illegal:!1,relevance:0,errorRaised:Te,_emitter:Tn,_top:je};throw Te}}function Ze(he){const we={value:st(he),illegal:!1,relevance:0,_top:re,_emitter:new de.__emitter(de)};return we._emitter.addText(he),we}function Ee(he,we){we=we||de.languages||Object.keys(Z);const Pe=Ze(he),ke=we.filter(te).filter(Ve).map(pr=>$e(pr,he,!1));ke.unshift(Pe);const Ge=ke.sort((pr,ci)=>{if(pr.relevance!==ci.relevance)return ci.relevance-pr.relevance;if(pr.language&&ci.language){if(te(pr.language).supersetOf===ci.language)return 1;if(te(ci.language).supersetOf===pr.language)return-1}return 0}),[tn,Kt]=Ge,Il=tn;return Il.secondBest=Kt,Il}function U(he,we,Pe){const ke=we&&K[we]||Pe;he.classList.add("hljs"),he.classList.add(`language-${ke}`)}function ne(he){let we=null;const Pe=Oe(he);if(le(Pe))return;if(xn("before:highlightElement",{el:he,language:Pe}),he.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",he);return}if(he.children.length>0&&(de.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(he)),de.throwUnescapedHTML))throw new Ue("One of your code blocks includes unescaped HTML.",he.innerHTML);we=he;const ke=we.textContent,Ge=Pe?L(ke,{language:Pe,ignoreIllegals:!0}):Ee(ke);he.innerHTML=Ge.value,he.dataset.highlighted="yes",U(he,Pe,Ge.language),he.result={language:Ge.language,re:Ge.relevance,relevance:Ge.relevance},Ge.secondBest&&(he.secondBest={language:Ge.secondBest.language,relevance:Ge.secondBest.relevance}),xn("after:highlightElement",{el:he,result:Ge,text:ke})}function fe(he){de=nt(de,he)}const xe=()=>{Qe(),wt("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function at(){Qe(),wt("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let tt=!1;function Qe(){function he(){Qe()}if(document.readyState==="loading"){tt||window.addEventListener("DOMContentLoaded",he,!1),tt=!0;return}document.querySelectorAll(de.cssSelector).forEach(ne)}function bt(he,we){let Pe=null;try{Pe=we($)}catch(ke){if($t("Language definition for '{}' could not be registered.".replace("{}",he)),Me)$t(ke);else throw ke;Pe=re}Pe.name||(Pe.name=he),Z[he]=Pe,Pe.rawDefinition=we.bind(null,$),Pe.aliases&&pe(Pe.aliases,{languageName:he})}function ce(he){delete Z[he];for(const we of Object.keys(K))K[we]===he&&delete K[we]}function G(){return Object.keys(Z)}function te(he){return he=(he||"").toLowerCase(),Z[he]||Z[K[he]]}function pe(he,{languageName:we}){typeof he=="string"&&(he=[he]),he.forEach(Pe=>{K[Pe.toLowerCase()]=we})}function Ve(he){const we=te(he);return we&&!we.disableAutodetect}function ft(he){he["before:highlightBlock"]&&!he["before:highlightElement"]&&(he["before:highlightElement"]=we=>{he["before:highlightBlock"](Object.assign({block:we.el},we))}),he["after:highlightBlock"]&&!he["after:highlightElement"]&&(he["after:highlightElement"]=we=>{he["after:highlightBlock"](Object.assign({block:we.el},we))})}function Ot(he){ft(he),ae.push(he)}function en(he){const we=ae.indexOf(he);we!==-1&&ae.splice(we,1)}function xn(he,we){const Pe=he;ae.forEach(function(ke){ke[Pe]&&ke[Pe](we)})}function $r(he){return wt("10.7.0","highlightBlock will be removed entirely in v12.0"),wt("10.7.0","Please use highlightElement now."),ne(he)}Object.assign($,{highlight:L,highlightAuto:Ee,highlightAll:Qe,highlightElement:ne,highlightBlock:$r,configure:fe,initHighlighting:xe,initHighlightingOnLoad:at,registerLanguage:bt,unregisterLanguage:ce,listLanguages:G,getLanguage:te,registerAliases:pe,autoDetection:Ve,inherit:nt,addPlugin:Ot,removePlugin:en}),$.debugMode=function(){Me=!1},$.safeMode=function(){Me=!0},$.versionString=Ae,$.regex={concat:g,lookahead:d,either:y,optional:p,anyNumberOfTimes:f};for(const he in X)typeof X[he]=="object"&&t(X[he]);return Object.assign($,X),$},Xe=et({});return Xe.newInstance=()=>et({}),Tg=Xe,Xe.HighlightJS=Xe,Xe.default=Xe,Tg}var i8=r8();const s8=t8(i8),rE={},a8="hljs-";function _Q(t){const e=s8.newInstance();return t&&s(t),{highlight:n,highlightAuto:r,listLanguages:i,register:s,registerAlias:a,registered:o};function n(u,c,l){const h=l||rE,d=typeof h.prefix=="string"?h.prefix:a8;if(!e.getLanguage(u))throw new Error("Unknown language: `"+u+"` is not registered");e.configure({__emitter:o8,classPrefix:d});const f=e.highlight(c,{ignoreIllegals:!0,language:u});if(f.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:f.errorRaised});const p=f._emitter.root,g=p.data;return g.language=f.language,g.relevance=f.relevance,p}function r(u,c){const h=(c||rE).subset||i();let d=-1,f=0,p;for(;++d<h.length;){const g=h[d];if(!e.getLanguage(g))continue;const m=n(g,u,c);m.data&&m.data.relevance!==void 0&&m.data.relevance>f&&(f=m.data.relevance,p=m)}return p||{type:"root",children:[],data:{language:void 0,relevance:f}}}function i(){return e.listLanguages()}function s(u,c){if(typeof u=="string")e.registerLanguage(u,c);else{let l;for(l in u)Object.hasOwn(u,l)&&e.registerLanguage(l,u[l])}}function a(u,c){if(typeof u=="string")e.registerAliases(typeof c=="string"?c:[...c],{languageName:u});else{let l;for(l in u)if(Object.hasOwn(u,l)){const h=u[l];e.registerAliases(typeof h=="string"?h:[...h],{languageName:l})}}}function o(u){return!!e.getLanguage(u)}}class o8{constructor(e){this.options=e,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(e){if(e==="")return;const n=this.stack[this.stack.length-1],r=n.children[n.children.length-1];r&&r.type==="text"?r.value+=e:n.children.push({type:"text",value:e})}startScope(e){this.openNode(String(e))}endScope(){this.closeNode()}__addSublanguage(e,n){const r=this.stack[this.stack.length-1],i=e.root.children;n?r.children.push({type:"element",tagName:"span",properties:{className:[n]},children:i}):r.children.push(...i)}openNode(e){const n=this,r=e.split(".").map(function(a,o){return o?a+"_".repeat(o):n.options.classPrefix+a}),i=this.stack[this.stack.length-1],s={type:"element",tagName:"span",properties:{className:r},children:[]};i.children.push(s),this.stack.push(s)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const Uh={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t),hsl2rgb:({h:t,s:e,l:n},r)=>{if(!e)return n*2.55;t/=360,e/=100,n/=100;const i=n<.5?n*(1+e):n+e-n*e,s=2*n-i;switch(r){case"r":return Uh.hue2rgb(s,i,t+1/3)*255;case"g":return Uh.hue2rgb(s,i,t)*255;case"b":return Uh.hue2rgb(s,i,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:n},r)=>{t/=255,e/=255,n/=255;const i=Math.max(t,e,n),s=Math.min(t,e,n),a=(i+s)/2;if(r==="l")return a*100;if(i===s)return 0;const o=i-s,u=a>.5?o/(2-i-s):o/(i+s);if(r==="s")return u*100;switch(i){case t:return((e-n)/o+(e<n?6:0))*60;case e:return((n-t)/o+2)*60;case n:return((t-e)/o+4)*60;default:return-1}}},u8={clamp:(t,e,n)=>e>n?Math.min(e,Math.max(n,t)):Math.min(n,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},c8={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},We={channel:Uh,lang:u8,unit:c8},vs={};for(let t=0;t<=255;t++)vs[t]=We.unit.dec2hex(t);const Bn={ALL:0,RGB:1,HSL:2};let l8=class{constructor(){this.type=Bn.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=Bn.ALL}is(e){return this.type===e}};class h8{constructor(e,n){this.color=n,this.changed=!1,this.data=e,this.type=new l8}set(e,n){return this.color=n,this.changed=!1,this.data=e,this.type.type=Bn.ALL,this}_ensureHSL(){const e=this.data,{h:n,s:r,l:i}=e;n===void 0&&(e.h=We.channel.rgb2hsl(e,"h")),r===void 0&&(e.s=We.channel.rgb2hsl(e,"s")),i===void 0&&(e.l=We.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r:n,g:r,b:i}=e;n===void 0&&(e.r=We.channel.hsl2rgb(e,"r")),r===void 0&&(e.g=We.channel.hsl2rgb(e,"g")),i===void 0&&(e.b=We.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,n=e.r;return!this.type.is(Bn.HSL)&&n!==void 0?n:(this._ensureHSL(),We.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,n=e.g;return!this.type.is(Bn.HSL)&&n!==void 0?n:(this._ensureHSL(),We.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,n=e.b;return!this.type.is(Bn.HSL)&&n!==void 0?n:(this._ensureHSL(),We.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,n=e.h;return!this.type.is(Bn.RGB)&&n!==void 0?n:(this._ensureRGB(),We.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,n=e.s;return!this.type.is(Bn.RGB)&&n!==void 0?n:(this._ensureRGB(),We.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,n=e.l;return!this.type.is(Bn.RGB)&&n!==void 0?n:(this._ensureRGB(),We.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(Bn.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(Bn.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(Bn.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(Bn.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(Bn.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(Bn.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const yp=new h8({r:0,g:0,b:0,a:0},"transparent"),So={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(So.re);if(!e)return;const n=e[1],r=parseInt(n,16),i=n.length,s=i%4===0,a=i>4,o=a?1:17,u=a?8:4,c=s?0:-1,l=a?255:15;return yp.set({r:(r>>u*(c+3)&l)*o,g:(r>>u*(c+2)&l)*o,b:(r>>u*(c+1)&l)*o,a:s?(r&l)*o/255:1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`#${vs[Math.round(e)]}${vs[Math.round(n)]}${vs[Math.round(r)]}${vs[Math.round(i*255)]}`:`#${vs[Math.round(e)]}${vs[Math.round(n)]}${vs[Math.round(r)]}`}},ga={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(ga.hueRe);if(e){const[,n,r]=e;switch(r){case"grad":return We.channel.clamp.h(parseFloat(n)*.9);case"rad":return We.channel.clamp.h(parseFloat(n)*180/Math.PI);case"turn":return We.channel.clamp.h(parseFloat(n)*360)}}return We.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const n=t.match(ga.re);if(!n)return;const[,r,i,s,a,o]=n;return yp.set({h:ga._hue2deg(r),s:We.channel.clamp.s(parseFloat(i)),l:We.channel.clamp.l(parseFloat(s)),a:a?We.channel.clamp.a(o?parseFloat(a)/100:parseFloat(a)):1},t)},stringify:t=>{const{h:e,s:n,l:r,a:i}=t;return i<1?`hsla(${We.lang.round(e)}, ${We.lang.round(n)}%, ${We.lang.round(r)}%, ${i})`:`hsl(${We.lang.round(e)}, ${We.lang.round(n)}%, ${We.lang.round(r)}%)`}},xc={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=xc.colors[t];if(e)return So.parse(e)},stringify:t=>{const e=So.stringify(t);for(const n in xc.colors)if(xc.colors[n]===e)return n}},sc={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const n=t.match(sc.re);if(!n)return;const[,r,i,s,a,o,u,c,l]=n;return yp.set({r:We.channel.clamp.r(i?parseFloat(r)*2.55:parseFloat(r)),g:We.channel.clamp.g(a?parseFloat(s)*2.55:parseFloat(s)),b:We.channel.clamp.b(u?parseFloat(o)*2.55:parseFloat(o)),a:c?We.channel.clamp.a(l?parseFloat(c)/100:parseFloat(c)):1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`rgba(${We.lang.round(e)}, ${We.lang.round(n)}, ${We.lang.round(r)}, ${We.lang.round(i)})`:`rgb(${We.lang.round(e)}, ${We.lang.round(n)}, ${We.lang.round(r)})`}},si={format:{keyword:xc,hex:So,rgb:sc,rgba:sc,hsl:ga,hsla:ga},parse:t=>{if(typeof t!="string")return t;const e=So.parse(t)||sc.parse(t)||ga.parse(t)||xc.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(Bn.HSL)||t.data.r===void 0?ga.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?sc.stringify(t):So.stringify(t)},XN=(t,e)=>{const n=si.parse(t);for(const r in e)n[r]=We.channel.clamp[r](e[r]);return si.stringify(n)},f8=(t,e,n=0,r=1)=>{if(typeof t!="number")return XN(t,{a:e});const i=yp.set({r:We.channel.clamp.r(t),g:We.channel.clamp.g(e),b:We.channel.clamp.b(n),a:We.channel.clamp.a(r)});return si.stringify(i)},wQ=(t,e)=>We.lang.round(si.parse(t)[e]),d8=t=>{const{r:e,g:n,b:r}=si.parse(t),i=.2126*We.channel.toLinear(e)+.7152*We.channel.toLinear(n)+.0722*We.channel.toLinear(r);return We.lang.round(i)},p8=t=>d8(t)>=.5,xQ=t=>!p8(t),jN=(t,e,n)=>{const r=si.parse(t),i=r[e],s=We.channel.clamp[e](i+n);return i!==s&&(r[e]=s),si.stringify(r)},TQ=(t,e)=>jN(t,"l",e),kQ=(t,e)=>jN(t,"l",-e),AQ=(t,e)=>{const n=si.parse(t),r={};for(const i in e)e[i]&&(r[i]=n[i]+e[i]);return XN(t,r)},g8=(t,e,n=50)=>{const{r,g:i,b:s,a}=si.parse(t),{r:o,g:u,b:c,a:l}=si.parse(e),h=n/100,d=h*2-1,f=a-l,g=((d*f===-1?d:(d+f)/(1+d*f))+1)/2,m=1-g,y=r*g+o*m,v=i*g+u*m,b=s*g+c*m,_=a*h+l*(1-h);return f8(y,v,b,_)},NQ=(t,e=100)=>{const n=si.parse(t);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,g8(n,t,e)};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:KN,setPrototypeOf:iE,isFrozen:m8,getPrototypeOf:y8,getOwnPropertyDescriptor:b8}=Object;let{freeze:tr,seal:Pr,create:um}=Object,{apply:cm,construct:lm}=typeof Reflect<"u"&&Reflect;tr||(tr=function(e){return e});Pr||(Pr=function(e){return e});cm||(cm=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return e.apply(n,i)});lm||(lm=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new e(...r)});const nh=nr(Array.prototype.forEach),v8=nr(Array.prototype.lastIndexOf),sE=nr(Array.prototype.pop),mu=nr(Array.prototype.push),_8=nr(Array.prototype.splice),Bh=nr(String.prototype.toLowerCase),kg=nr(String.prototype.toString),Ag=nr(String.prototype.match),yu=nr(String.prototype.replace),E8=nr(String.prototype.indexOf),w8=nr(String.prototype.trim),Gr=nr(Object.prototype.hasOwnProperty),Vn=nr(RegExp.prototype.test),bu=x8(TypeError);function nr(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return cm(t,e,r)}}function x8(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return lm(t,n)}}function it(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Bh;iE&&iE(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const s=n(i);s!==i&&(m8(e)||(e[r]=s),i=s)}t[i]=!0}return t}function T8(t){for(let e=0;e<t.length;e++)Gr(t,e)||(t[e]=null);return t}function mi(t){const e=um(null);for(const[n,r]of KN(t))Gr(t,n)&&(Array.isArray(r)?e[n]=T8(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=mi(r):e[n]=r);return e}function vu(t,e){for(;t!==null;){const r=b8(t,e);if(r){if(r.get)return nr(r.get);if(typeof r.value=="function")return nr(r.value)}t=y8(t)}function n(){return null}return n}const aE=tr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ng=tr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Sg=tr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),k8=tr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Rg=tr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),A8=tr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),oE=tr(["#text"]),uE=tr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Cg=tr(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),cE=tr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),rh=tr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),N8=Pr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),S8=Pr(/<%[\w\W]*|[\w\W]*%>/gm),R8=Pr(/\$\{[\w\W]*/gm),C8=Pr(/^data-[\-\w.\u00B7-\uFFFF]+$/),M8=Pr(/^aria-[\-\w]+$/),ZN=Pr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),O8=Pr(/^(?:\w+script|data):/i),I8=Pr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),QN=Pr(/^html$/i),D8=Pr(/^[a-z][.\w]*(-[.\w]+)+$/i);var lE=Object.freeze({__proto__:null,ARIA_ATTR:M8,ATTR_WHITESPACE:I8,CUSTOM_ELEMENT:D8,DATA_ATTR:C8,DOCTYPE_NAME:QN,ERB_EXPR:S8,IS_ALLOWED_URI:ZN,IS_SCRIPT_OR_DATA:O8,MUSTACHE_EXPR:N8,TMPLIT_EXPR:R8});const _u={element:1,text:3,progressingInstruction:7,comment:8,document:9},L8=function(){return typeof window>"u"?null:window},P8=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},hE=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function JN(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:L8();const e=ce=>JN(ce);if(e.version="3.3.1",e.removed=[],!t||!t.document||t.document.nodeType!==_u.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:o,Element:u,NodeFilter:c,NamedNodeMap:l=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:d,trustedTypes:f}=t,p=u.prototype,g=vu(p,"cloneNode"),m=vu(p,"remove"),y=vu(p,"nextSibling"),v=vu(p,"childNodes"),b=vu(p,"parentNode");if(typeof a=="function"){const ce=n.createElement("template");ce.content&&ce.content.ownerDocument&&(n=ce.content.ownerDocument)}let _,k="";const{implementation:C,createNodeIterator:x,createDocumentFragment:S,getElementsByTagName:O}=n,{importNode:D}=r;let I=hE();e.isSupported=typeof KN=="function"&&typeof b=="function"&&C&&C.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:M,ERB_EXPR:R,TMPLIT_EXPR:E,DATA_ATTR:w,ARIA_ATTR:T,IS_SCRIPT_OR_DATA:A,ATTR_WHITESPACE:N,CUSTOM_ELEMENT:P}=lE;let{IS_ALLOWED_URI:F}=lE,B=null;const H=it({},[...aE,...Ng,...Sg,...Rg,...oE]);let Y=null;const Q=it({},[...uE,...Cg,...cE,...rh]);let j=Object.seal(um(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ee=null,ue=null;const se=Object.seal(um(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let z=!0,X=!0,ie=!1,q=!0,be=!1,J=!0,Ie=!1,ge=!1,mt=!1,ht=!1,Je=!1,Ft=!1,St=!0,Pn=!1;const Lt="user-content-";let $t=!0,Rt=!1,wt={},xt=null;const dn=it({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ct=null;const Jt=it({},["audio","video","img","source","image","track"]);let Yt=null;const oe=it({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ve="http://www.w3.org/1998/Math/MathML",Ne="http://www.w3.org/2000/svg",Re="http://www.w3.org/1999/xhtml";let Ae=Re,Ue=!1,st=null;const nt=it({},[ve,Ne,Re],kg);let Ce=it({},["mi","mo","mn","ms","mtext"]),_e=it({},["annotation-xml"]);const et=it({},["title","style","font","a","script"]);let Xe=null;const $=["application/xhtml+xml","text/html"],Z="text/html";let K=null,ae=null;const Me=n.createElement("form"),ye=function(G){return G instanceof RegExp||G instanceof Function},re=function(){let G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ae&&ae===G)){if((!G||typeof G!="object")&&(G={}),G=mi(G),Xe=$.indexOf(G.PARSER_MEDIA_TYPE)===-1?Z:G.PARSER_MEDIA_TYPE,K=Xe==="application/xhtml+xml"?kg:Bh,B=Gr(G,"ALLOWED_TAGS")?it({},G.ALLOWED_TAGS,K):H,Y=Gr(G,"ALLOWED_ATTR")?it({},G.ALLOWED_ATTR,K):Q,st=Gr(G,"ALLOWED_NAMESPACES")?it({},G.ALLOWED_NAMESPACES,kg):nt,Yt=Gr(G,"ADD_URI_SAFE_ATTR")?it(mi(oe),G.ADD_URI_SAFE_ATTR,K):oe,Ct=Gr(G,"ADD_DATA_URI_TAGS")?it(mi(Jt),G.ADD_DATA_URI_TAGS,K):Jt,xt=Gr(G,"FORBID_CONTENTS")?it({},G.FORBID_CONTENTS,K):dn,ee=Gr(G,"FORBID_TAGS")?it({},G.FORBID_TAGS,K):mi({}),ue=Gr(G,"FORBID_ATTR")?it({},G.FORBID_ATTR,K):mi({}),wt=Gr(G,"USE_PROFILES")?G.USE_PROFILES:!1,z=G.ALLOW_ARIA_ATTR!==!1,X=G.ALLOW_DATA_ATTR!==!1,ie=G.ALLOW_UNKNOWN_PROTOCOLS||!1,q=G.ALLOW_SELF_CLOSE_IN_ATTR!==!1,be=G.SAFE_FOR_TEMPLATES||!1,J=G.SAFE_FOR_XML!==!1,Ie=G.WHOLE_DOCUMENT||!1,ht=G.RETURN_DOM||!1,Je=G.RETURN_DOM_FRAGMENT||!1,Ft=G.RETURN_TRUSTED_TYPE||!1,mt=G.FORCE_BODY||!1,St=G.SANITIZE_DOM!==!1,Pn=G.SANITIZE_NAMED_PROPS||!1,$t=G.KEEP_CONTENT!==!1,Rt=G.IN_PLACE||!1,F=G.ALLOWED_URI_REGEXP||ZN,Ae=G.NAMESPACE||Re,Ce=G.MATHML_TEXT_INTEGRATION_POINTS||Ce,_e=G.HTML_INTEGRATION_POINTS||_e,j=G.CUSTOM_ELEMENT_HANDLING||{},G.CUSTOM_ELEMENT_HANDLING&&ye(G.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(j.tagNameCheck=G.CUSTOM_ELEMENT_HANDLING.tagNameCheck),G.CUSTOM_ELEMENT_HANDLING&&ye(G.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(j.attributeNameCheck=G.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),G.CUSTOM_ELEMENT_HANDLING&&typeof G.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(j.allowCustomizedBuiltInElements=G.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),be&&(X=!1),Je&&(ht=!0),wt&&(B=it({},oE),Y=[],wt.html===!0&&(it(B,aE),it(Y,uE)),wt.svg===!0&&(it(B,Ng),it(Y,Cg),it(Y,rh)),wt.svgFilters===!0&&(it(B,Sg),it(Y,Cg),it(Y,rh)),wt.mathMl===!0&&(it(B,Rg),it(Y,cE),it(Y,rh))),G.ADD_TAGS&&(typeof G.ADD_TAGS=="function"?se.tagCheck=G.ADD_TAGS:(B===H&&(B=mi(B)),it(B,G.ADD_TAGS,K))),G.ADD_ATTR&&(typeof G.ADD_ATTR=="function"?se.attributeCheck=G.ADD_ATTR:(Y===Q&&(Y=mi(Y)),it(Y,G.ADD_ATTR,K))),G.ADD_URI_SAFE_ATTR&&it(Yt,G.ADD_URI_SAFE_ATTR,K),G.FORBID_CONTENTS&&(xt===dn&&(xt=mi(xt)),it(xt,G.FORBID_CONTENTS,K)),G.ADD_FORBID_CONTENTS&&(xt===dn&&(xt=mi(xt)),it(xt,G.ADD_FORBID_CONTENTS,K)),$t&&(B["#text"]=!0),Ie&&it(B,["html","head","body"]),B.table&&(it(B,["tbody"]),delete ee.tbody),G.TRUSTED_TYPES_POLICY){if(typeof G.TRUSTED_TYPES_POLICY.createHTML!="function")throw bu('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof G.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw bu('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');_=G.TRUSTED_TYPES_POLICY,k=_.createHTML("")}else _===void 0&&(_=P8(f,i)),_!==null&&typeof k=="string"&&(k=_.createHTML(""));tr&&tr(G),ae=G}},de=it({},[...Ng,...Sg,...k8]),le=it({},[...Rg,...A8]),Oe=function(G){let te=b(G);(!te||!te.tagName)&&(te={namespaceURI:Ae,tagName:"template"});const pe=Bh(G.tagName),Ve=Bh(te.tagName);return st[G.namespaceURI]?G.namespaceURI===Ne?te.namespaceURI===Re?pe==="svg":te.namespaceURI===ve?pe==="svg"&&(Ve==="annotation-xml"||Ce[Ve]):!!de[pe]:G.namespaceURI===ve?te.namespaceURI===Re?pe==="math":te.namespaceURI===Ne?pe==="math"&&_e[Ve]:!!le[pe]:G.namespaceURI===Re?te.namespaceURI===Ne&&!_e[Ve]||te.namespaceURI===ve&&!Ce[Ve]?!1:!le[pe]&&(et[pe]||!de[pe]):!!(Xe==="application/xhtml+xml"&&st[G.namespaceURI]):!1},L=function(G){mu(e.removed,{element:G});try{b(G).removeChild(G)}catch{m(G)}},$e=function(G,te){try{mu(e.removed,{attribute:te.getAttributeNode(G),from:te})}catch{mu(e.removed,{attribute:null,from:te})}if(te.removeAttribute(G),G==="is")if(ht||Je)try{L(te)}catch{}else try{te.setAttribute(G,"")}catch{}},Ze=function(G){let te=null,pe=null;if(mt)G="<remove></remove>"+G;else{const Ot=Ag(G,/^[\r\n\t ]+/);pe=Ot&&Ot[0]}Xe==="application/xhtml+xml"&&Ae===Re&&(G='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+G+"</body></html>");const Ve=_?_.createHTML(G):G;if(Ae===Re)try{te=new d().parseFromString(Ve,Xe)}catch{}if(!te||!te.documentElement){te=C.createDocument(Ae,"template",null);try{te.documentElement.innerHTML=Ue?k:Ve}catch{}}const ft=te.body||te.documentElement;return G&&pe&&ft.insertBefore(n.createTextNode(pe),ft.childNodes[0]||null),Ae===Re?O.call(te,Ie?"html":"body")[0]:Ie?te.documentElement:ft},Ee=function(G){return x.call(G.ownerDocument||G,G,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},U=function(G){return G instanceof h&&(typeof G.nodeName!="string"||typeof G.textContent!="string"||typeof G.removeChild!="function"||!(G.attributes instanceof l)||typeof G.removeAttribute!="function"||typeof G.setAttribute!="function"||typeof G.namespaceURI!="string"||typeof G.insertBefore!="function"||typeof G.hasChildNodes!="function")},ne=function(G){return typeof o=="function"&&G instanceof o};function fe(ce,G,te){nh(ce,pe=>{pe.call(e,G,te,ae)})}const xe=function(G){let te=null;if(fe(I.beforeSanitizeElements,G,null),U(G))return L(G),!0;const pe=K(G.nodeName);if(fe(I.uponSanitizeElement,G,{tagName:pe,allowedTags:B}),J&&G.hasChildNodes()&&!ne(G.firstElementChild)&&Vn(/<[/\w!]/g,G.innerHTML)&&Vn(/<[/\w!]/g,G.textContent)||G.nodeType===_u.progressingInstruction||J&&G.nodeType===_u.comment&&Vn(/<[/\w]/g,G.data))return L(G),!0;if(!(se.tagCheck instanceof Function&&se.tagCheck(pe))&&(!B[pe]||ee[pe])){if(!ee[pe]&&tt(pe)&&(j.tagNameCheck instanceof RegExp&&Vn(j.tagNameCheck,pe)||j.tagNameCheck instanceof Function&&j.tagNameCheck(pe)))return!1;if($t&&!xt[pe]){const Ve=b(G)||G.parentNode,ft=v(G)||G.childNodes;if(ft&&Ve){const Ot=ft.length;for(let en=Ot-1;en>=0;--en){const xn=g(ft[en],!0);xn.__removalCount=(G.__removalCount||0)+1,Ve.insertBefore(xn,y(G))}}}return L(G),!0}return G instanceof u&&!Oe(G)||(pe==="noscript"||pe==="noembed"||pe==="noframes")&&Vn(/<\/no(script|embed|frames)/i,G.innerHTML)?(L(G),!0):(be&&G.nodeType===_u.text&&(te=G.textContent,nh([M,R,E],Ve=>{te=yu(te,Ve," ")}),G.textContent!==te&&(mu(e.removed,{element:G.cloneNode()}),G.textContent=te)),fe(I.afterSanitizeElements,G,null),!1)},at=function(G,te,pe){if(St&&(te==="id"||te==="name")&&(pe in n||pe in Me))return!1;if(!(X&&!ue[te]&&Vn(w,te))){if(!(z&&Vn(T,te))){if(!(se.attributeCheck instanceof Function&&se.attributeCheck(te,G))){if(!Y[te]||ue[te]){if(!(tt(G)&&(j.tagNameCheck instanceof RegExp&&Vn(j.tagNameCheck,G)||j.tagNameCheck instanceof Function&&j.tagNameCheck(G))&&(j.attributeNameCheck instanceof RegExp&&Vn(j.attributeNameCheck,te)||j.attributeNameCheck instanceof Function&&j.attributeNameCheck(te,G))||te==="is"&&j.allowCustomizedBuiltInElements&&(j.tagNameCheck instanceof RegExp&&Vn(j.tagNameCheck,pe)||j.tagNameCheck instanceof Function&&j.tagNameCheck(pe))))return!1}else if(!Yt[te]){if(!Vn(F,yu(pe,N,""))){if(!((te==="src"||te==="xlink:href"||te==="href")&&G!=="script"&&E8(pe,"data:")===0&&Ct[G])){if(!(ie&&!Vn(A,yu(pe,N,"")))){if(pe)return!1}}}}}}}return!0},tt=function(G){return G!=="annotation-xml"&&Ag(G,P)},Qe=function(G){fe(I.beforeSanitizeAttributes,G,null);const{attributes:te}=G;if(!te||U(G))return;const pe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Y,forceKeepAttr:void 0};let Ve=te.length;for(;Ve--;){const ft=te[Ve],{name:Ot,namespaceURI:en,value:xn}=ft,$r=K(Ot),he=xn;let we=Ot==="value"?he:w8(he);if(pe.attrName=$r,pe.attrValue=we,pe.keepAttr=!0,pe.forceKeepAttr=void 0,fe(I.uponSanitizeAttribute,G,pe),we=pe.attrValue,Pn&&($r==="id"||$r==="name")&&($e(Ot,G),we=Lt+we),J&&Vn(/((--!?|])>)|<\/(style|title|textarea)/i,we)){$e(Ot,G);continue}if($r==="attributename"&&Ag(we,"href")){$e(Ot,G);continue}if(pe.forceKeepAttr)continue;if(!pe.keepAttr){$e(Ot,G);continue}if(!q&&Vn(/\/>/i,we)){$e(Ot,G);continue}be&&nh([M,R,E],ke=>{we=yu(we,ke," ")});const Pe=K(G.nodeName);if(!at(Pe,$r,we)){$e(Ot,G);continue}if(_&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!en)switch(f.getAttributeType(Pe,$r)){case"TrustedHTML":{we=_.createHTML(we);break}case"TrustedScriptURL":{we=_.createScriptURL(we);break}}if(we!==he)try{en?G.setAttributeNS(en,Ot,we):G.setAttribute(Ot,we),U(G)?L(G):sE(e.removed)}catch{$e(Ot,G)}}fe(I.afterSanitizeAttributes,G,null)},bt=function ce(G){let te=null;const pe=Ee(G);for(fe(I.beforeSanitizeShadowDOM,G,null);te=pe.nextNode();)fe(I.uponSanitizeShadowNode,te,null),xe(te),Qe(te),te.content instanceof s&&ce(te.content);fe(I.afterSanitizeShadowDOM,G,null)};return e.sanitize=function(ce){let G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},te=null,pe=null,Ve=null,ft=null;if(Ue=!ce,Ue&&(ce="<!-->"),typeof ce!="string"&&!ne(ce))if(typeof ce.toString=="function"){if(ce=ce.toString(),typeof ce!="string")throw bu("dirty is not a string, aborting")}else throw bu("toString is not a function");if(!e.isSupported)return ce;if(ge||re(G),e.removed=[],typeof ce=="string"&&(Rt=!1),Rt){if(ce.nodeName){const xn=K(ce.nodeName);if(!B[xn]||ee[xn])throw bu("root node is forbidden and cannot be sanitized in-place")}}else if(ce instanceof o)te=Ze("<!---->"),pe=te.ownerDocument.importNode(ce,!0),pe.nodeType===_u.element&&pe.nodeName==="BODY"||pe.nodeName==="HTML"?te=pe:te.appendChild(pe);else{if(!ht&&!be&&!Ie&&ce.indexOf("<")===-1)return _&&Ft?_.createHTML(ce):ce;if(te=Ze(ce),!te)return ht?null:Ft?k:""}te&&mt&&L(te.firstChild);const Ot=Ee(Rt?ce:te);for(;Ve=Ot.nextNode();)xe(Ve),Qe(Ve),Ve.content instanceof s&&bt(Ve.content);if(Rt)return ce;if(ht){if(Je)for(ft=S.call(te.ownerDocument);te.firstChild;)ft.appendChild(te.firstChild);else ft=te;return(Y.shadowroot||Y.shadowrootmode)&&(ft=D.call(r,ft,!0)),ft}let en=Ie?te.outerHTML:te.innerHTML;return Ie&&B["!doctype"]&&te.ownerDocument&&te.ownerDocument.doctype&&te.ownerDocument.doctype.name&&Vn(QN,te.ownerDocument.doctype.name)&&(en="<!DOCTYPE "+te.ownerDocument.doctype.name+`>
`+en),be&&nh([M,R,E],xn=>{en=yu(en,xn," ")}),_&&Ft?_.createHTML(en):en},e.setConfig=function(){let ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};re(ce),ge=!0},e.clearConfig=function(){ae=null,ge=!1},e.isValidAttribute=function(ce,G,te){ae||re({});const pe=K(ce),Ve=K(G);return at(pe,Ve,te)},e.addHook=function(ce,G){typeof G=="function"&&mu(I[ce],G)},e.removeHook=function(ce,G){if(G!==void 0){const te=v8(I[ce],G);return te===-1?void 0:_8(I[ce],te,1)[0]}return sE(I[ce])},e.removeHooks=function(ce){I[ce]=[]},e.removeAllHooks=function(){I=hE()},e}var SQ=JN();function Gh(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function F8(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Sv(t){let e,n,r;t.length!==2?(e=Gh,n=(o,u)=>Gh(t(o),u),r=(o,u)=>t(o)-u):(e=t===Gh||t===F8?t:$8,n=t,r=t);function i(o,u,c=0,l=o.length){if(c<l){if(e(u,u)!==0)return l;do{const h=c+l>>>1;n(o[h],u)<0?c=h+1:l=h}while(c<l)}return c}function s(o,u,c=0,l=o.length){if(c<l){if(e(u,u)!==0)return l;do{const h=c+l>>>1;n(o[h],u)<=0?c=h+1:l=h}while(c<l)}return c}function a(o,u,c=0,l=o.length){const h=i(o,u,c,l-1);return h>c&&r(o[h-1],u)>-r(o[h],u)?h-1:h}return{left:i,center:a,right:s}}function $8(){return 0}function U8(t){return t===null?NaN:+t}const B8=Sv(Gh),G8=B8.right;Sv(U8).center;class fE extends Map{constructor(e,n=H8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(dE(this,e))}has(e){return super.has(dE(this,e))}set(e,n){return super.set(z8(this,e),n)}delete(e){return super.delete(q8(this,e))}}function dE({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function z8({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function q8({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function H8(t){return t!==null&&typeof t=="object"?t.valueOf():t}const W8=Math.sqrt(50),Y8=Math.sqrt(10),V8=Math.sqrt(2);function $f(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=W8?10:s>=Y8?5:s>=V8?2:1;let o,u,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(t*c),u=Math.round(e*c),o/c<t&&++o,u/c>e&&--u,c=-c):(c=Math.pow(10,i)*a,o=Math.round(t/c),u=Math.round(e/c),o*c<t&&++o,u*c>e&&--u),u<o&&.5<=n&&n<2?$f(t,e,n*2):[o,u,c]}function X8(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?$f(e,t,n):$f(t,e,n);if(!(s>=i))return[];const o=s-i+1,u=new Array(o);if(r)if(a<0)for(let c=0;c<o;++c)u[c]=(s-c)/-a;else for(let c=0;c<o;++c)u[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)u[c]=(i+c)/-a;else for(let c=0;c<o;++c)u[c]=(i+c)*a;return u}function hm(t,e,n){return e=+e,t=+t,n=+n,$f(t,e,n)[2]}function fm(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?hm(e,t,n):hm(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function RQ(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function CQ(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function j8(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function K8(t){return t}var zh=1,Mg=2,dm=3,ih=4,pE=1e-6;function Z8(t){return"translate("+t+",0)"}function Q8(t){return"translate(0,"+t+")"}function J8(t){return e=>+t(e)}function e5(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function t5(){return!this.__axis}function eS(t,e){var n=[],r=null,i=null,s=6,a=6,o=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=t===zh||t===ih?-1:1,l=t===ih||t===Mg?"x":"y",h=t===zh||t===dm?Z8:Q8;function d(f){var p=r??(e.ticks?e.ticks.apply(e,n):e.domain()),g=i??(e.tickFormat?e.tickFormat.apply(e,n):K8),m=Math.max(s,0)+o,y=e.range(),v=+y[0]+u,b=+y[y.length-1]+u,_=(e.bandwidth?e5:J8)(e.copy(),u),k=f.selection?f.selection():f,C=k.selectAll(".domain").data([null]),x=k.selectAll(".tick").data(p,e).order(),S=x.exit(),O=x.enter().append("g").attr("class","tick"),D=x.select("line"),I=x.select("text");C=C.merge(C.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(O),D=D.merge(O.append("line").attr("stroke","currentColor").attr(l+"2",c*s)),I=I.merge(O.append("text").attr("fill","currentColor").attr(l,c*m).attr("dy",t===zh?"0em":t===dm?"0.71em":"0.32em")),f!==k&&(C=C.transition(f),x=x.transition(f),D=D.transition(f),I=I.transition(f),S=S.transition(f).attr("opacity",pE).attr("transform",function(M){return isFinite(M=_(M))?h(M+u):this.getAttribute("transform")}),O.attr("opacity",pE).attr("transform",function(M){var R=this.parentNode.__axis;return h((R&&isFinite(R=R(M))?R:_(M))+u)})),S.remove(),C.attr("d",t===ih||t===Mg?a?"M"+c*a+","+v+"H"+u+"V"+b+"H"+c*a:"M"+u+","+v+"V"+b:a?"M"+v+","+c*a+"V"+u+"H"+b+"V"+c*a:"M"+v+","+u+"H"+b),x.attr("opacity",1).attr("transform",function(M){return h(_(M)+u)}),D.attr(l+"2",c*s),I.attr(l,c*m).text(g),k.filter(t5).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Mg?"start":t===ih?"end":"middle"),k.each(function(){this.__axis=_})}return d.scale=function(f){return arguments.length?(e=f,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(f){return arguments.length?(n=f==null?[]:Array.from(f),d):n.slice()},d.tickValues=function(f){return arguments.length?(r=f==null?null:Array.from(f),d):r&&r.slice()},d.tickFormat=function(f){return arguments.length?(i=f,d):i},d.tickSize=function(f){return arguments.length?(s=a=+f,d):s},d.tickSizeInner=function(f){return arguments.length?(s=+f,d):s},d.tickSizeOuter=function(f){return arguments.length?(a=+f,d):a},d.tickPadding=function(f){return arguments.length?(o=+f,d):o},d.offset=function(f){return arguments.length?(u=+f,d):u},d}function MQ(t){return eS(zh,t)}function OQ(t){return eS(dm,t)}var n5={value:()=>{}};function tS(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new qh(n)}function qh(t){this._=t}function r5(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}qh.prototype=tS.prototype={constructor:qh,on:function(t,e){var n=this._,r=r5(t+"",n),i,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((i=(t=r[s]).type)&&(i=i5(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(i=(t=r[s]).type)n[i]=gE(n[i],t.name,e);else if(e==null)for(i in n)n[i]=gE(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new qh(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function i5(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function gE(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=n5,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var pm="http://www.w3.org/1999/xhtml";const mE={svg:"http://www.w3.org/2000/svg",xhtml:pm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function bp(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),mE.hasOwnProperty(e)?{space:mE[e],local:t}:t}function s5(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===pm&&e.documentElement.namespaceURI===pm?e.createElement(t):e.createElementNS(n,t)}}function a5(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function nS(t){var e=bp(t);return(e.local?a5:s5)(e)}function o5(){}function Rv(t){return t==null?o5:function(){return this.querySelector(t)}}function u5(t){typeof t!="function"&&(t=Rv(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,o=r[i]=new Array(a),u,c,l=0;l<a;++l)(u=s[l])&&(c=t.call(u,u.__data__,l,s))&&("__data__"in u&&(c.__data__=u.__data__),o[l]=c);return new Cr(r,this._parents)}function c5(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function l5(){return[]}function rS(t){return t==null?l5:function(){return this.querySelectorAll(t)}}function h5(t){return function(){return c5(t.apply(this,arguments))}}function f5(t){typeof t=="function"?t=h5(t):t=rS(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var a=e[s],o=a.length,u,c=0;c<o;++c)(u=a[c])&&(r.push(t.call(u,u.__data__,c,a)),i.push(u));return new Cr(r,i)}function iS(t){return function(){return this.matches(t)}}function sS(t){return function(e){return e.matches(t)}}var d5=Array.prototype.find;function p5(t){return function(){return d5.call(this.children,t)}}function g5(){return this.firstElementChild}function m5(t){return this.select(t==null?g5:p5(typeof t=="function"?t:sS(t)))}var y5=Array.prototype.filter;function b5(){return Array.from(this.children)}function v5(t){return function(){return y5.call(this.children,t)}}function _5(t){return this.selectAll(t==null?b5:v5(typeof t=="function"?t:sS(t)))}function E5(t){typeof t!="function"&&(t=iS(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,o=r[i]=[],u,c=0;c<a;++c)(u=s[c])&&t.call(u,u.__data__,c,s)&&o.push(u);return new Cr(r,this._parents)}function aS(t){return new Array(t.length)}function w5(){return new Cr(this._enter||this._groups.map(aS),this._parents)}function Uf(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Uf.prototype={constructor:Uf,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function x5(t){return function(){return t}}function T5(t,e,n,r,i,s){for(var a=0,o,u=e.length,c=s.length;a<c;++a)(o=e[a])?(o.__data__=s[a],r[a]=o):n[a]=new Uf(t,s[a]);for(;a<u;++a)(o=e[a])&&(i[a]=o)}function k5(t,e,n,r,i,s,a){var o,u,c=new Map,l=e.length,h=s.length,d=new Array(l),f;for(o=0;o<l;++o)(u=e[o])&&(d[o]=f=a.call(u,u.__data__,o,e)+"",c.has(f)?i[o]=u:c.set(f,u));for(o=0;o<h;++o)f=a.call(t,s[o],o,s)+"",(u=c.get(f))?(r[o]=u,u.__data__=s[o],c.delete(f)):n[o]=new Uf(t,s[o]);for(o=0;o<l;++o)(u=e[o])&&c.get(d[o])===u&&(i[o]=u)}function A5(t){return t.__data__}function N5(t,e){if(!arguments.length)return Array.from(this,A5);var n=e?k5:T5,r=this._parents,i=this._groups;typeof t!="function"&&(t=x5(t));for(var s=i.length,a=new Array(s),o=new Array(s),u=new Array(s),c=0;c<s;++c){var l=r[c],h=i[c],d=h.length,f=S5(t.call(l,l&&l.__data__,c,r)),p=f.length,g=o[c]=new Array(p),m=a[c]=new Array(p),y=u[c]=new Array(d);n(l,h,g,m,y,f,e);for(var v=0,b=0,_,k;v<p;++v)if(_=g[v]){for(v>=b&&(b=v+1);!(k=m[b])&&++b<p;);_._next=k||null}}return a=new Cr(a,r),a._enter=o,a._exit=u,a}function S5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function R5(){return new Cr(this._exit||this._groups.map(aS),this._parents)}function C5(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function M5(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,a=Math.min(i,s),o=new Array(i),u=0;u<a;++u)for(var c=n[u],l=r[u],h=c.length,d=o[u]=new Array(h),f,p=0;p<h;++p)(f=c[p]||l[p])&&(d[p]=f);for(;u<i;++u)o[u]=n[u];return new Cr(o,this._parents)}function O5(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],a;--i>=0;)(a=r[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function I5(t){t||(t=D5);function e(h,d){return h&&d?t(h.__data__,d.__data__):!h-!d}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var a=n[s],o=a.length,u=i[s]=new Array(o),c,l=0;l<o;++l)(c=a[l])&&(u[l]=c);u.sort(e)}return new Cr(i,this._parents).order()}function D5(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function L5(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function P5(){return Array.from(this)}function F5(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var a=r[i];if(a)return a}return null}function $5(){let t=0;for(const e of this)++t;return t}function U5(){return!this.node()}function B5(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,a=i.length,o;s<a;++s)(o=i[s])&&t.call(o,o.__data__,s,i);return this}function G5(t){return function(){this.removeAttribute(t)}}function z5(t){return function(){this.removeAttributeNS(t.space,t.local)}}function q5(t,e){return function(){this.setAttribute(t,e)}}function H5(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function W5(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Y5(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function V5(t,e){var n=bp(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?z5:G5:typeof e=="function"?n.local?Y5:W5:n.local?H5:q5)(n,e))}function oS(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function X5(t){return function(){this.style.removeProperty(t)}}function j5(t,e,n){return function(){this.style.setProperty(t,e,n)}}function K5(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Z5(t,e,n){return arguments.length>1?this.each((e==null?X5:typeof e=="function"?K5:j5)(t,e,n??"")):Uo(this.node(),t)}function Uo(t,e){return t.style.getPropertyValue(e)||oS(t).getComputedStyle(t,null).getPropertyValue(e)}function Q5(t){return function(){delete this[t]}}function J5(t,e){return function(){this[t]=e}}function e$(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function t$(t,e){return arguments.length>1?this.each((e==null?Q5:typeof e=="function"?e$:J5)(t,e)):this.node()[t]}function uS(t){return t.trim().split(/^|\s+/)}function Cv(t){return t.classList||new cS(t)}function cS(t){this._node=t,this._names=uS(t.getAttribute("class")||"")}cS.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function lS(t,e){for(var n=Cv(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function hS(t,e){for(var n=Cv(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function n$(t){return function(){lS(this,t)}}function r$(t){return function(){hS(this,t)}}function i$(t,e){return function(){(e.apply(this,arguments)?lS:hS)(this,t)}}function s$(t,e){var n=uS(t+"");if(arguments.length<2){for(var r=Cv(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?i$:e?n$:r$)(n,e))}function a$(){this.textContent=""}function o$(t){return function(){this.textContent=t}}function u$(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function c$(t){return arguments.length?this.each(t==null?a$:(typeof t=="function"?u$:o$)(t)):this.node().textContent}function l$(){this.innerHTML=""}function h$(t){return function(){this.innerHTML=t}}function f$(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function d$(t){return arguments.length?this.each(t==null?l$:(typeof t=="function"?f$:h$)(t)):this.node().innerHTML}function p$(){this.nextSibling&&this.parentNode.appendChild(this)}function g$(){return this.each(p$)}function m$(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function y$(){return this.each(m$)}function b$(t){var e=typeof t=="function"?t:nS(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function v$(){return null}function _$(t,e){var n=typeof t=="function"?t:nS(t),r=e==null?v$:typeof e=="function"?e:Rv(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function E$(){var t=this.parentNode;t&&t.removeChild(this)}function w$(){return this.each(E$)}function x$(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function T$(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function k$(t){return this.select(t?T$:x$)}function A$(t){return arguments.length?this.property("__data__",t):this.node().__data__}function N$(t){return function(e){t.call(this,e,this.__data__)}}function S$(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function R$(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function C$(t,e,n){return function(){var r=this.__on,i,s=N$(e);if(r){for(var a=0,o=r.length;a<o;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function M$(t,e,n){var r=S$(t+""),i,s=r.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var u=0,c=o.length,l;u<c;++u)for(i=0,l=o[u];i<s;++i)if((a=r[i]).type===l.type&&a.name===l.name)return l.value}return}for(o=e?C$:R$,i=0;i<s;++i)this.each(o(r[i],e,n));return this}function fS(t,e,n){var r=oS(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function O$(t,e){return function(){return fS(this,t,e)}}function I$(t,e){return function(){return fS(this,t,e.apply(this,arguments))}}function D$(t,e){return this.each((typeof e=="function"?I$:O$)(t,e))}function*L$(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,a;i<s;++i)(a=r[i])&&(yield a)}var dS=[null];function Cr(t,e){this._groups=t,this._parents=e}function vl(){return new Cr([[document.documentElement]],dS)}function P$(){return this}Cr.prototype=vl.prototype={constructor:Cr,select:u5,selectAll:f5,selectChild:m5,selectChildren:_5,filter:E5,data:N5,enter:w5,exit:R5,join:C5,merge:M5,selection:P$,order:O5,sort:I5,call:L5,nodes:P5,node:F5,size:$5,empty:U5,each:B5,attr:V5,style:Z5,property:t$,classed:s$,text:c$,html:d$,raise:g$,lower:y$,append:b$,insert:_$,remove:w$,clone:k$,datum:A$,on:M$,dispatch:D$,[Symbol.iterator]:L$};function IQ(t){return typeof t=="string"?new Cr([[document.querySelector(t)]],[document.documentElement]):new Cr([[t]],dS)}function _l(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function vp(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ua(){}var Bc=.7,Bf=1/Bc,Ro="\\s*([+-]?\\d+)\\s*",Gc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ni="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",F$=/^#([0-9a-f]{3,8})$/,$$=new RegExp(`^rgb\\(${Ro},${Ro},${Ro}\\)$`),U$=new RegExp(`^rgb\\(${Ni},${Ni},${Ni}\\)$`),B$=new RegExp(`^rgba\\(${Ro},${Ro},${Ro},${Gc}\\)$`),G$=new RegExp(`^rgba\\(${Ni},${Ni},${Ni},${Gc}\\)$`),z$=new RegExp(`^hsl\\(${Gc},${Ni},${Ni}\\)$`),q$=new RegExp(`^hsla\\(${Gc},${Ni},${Ni},${Gc}\\)$`),yE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_l(Ua,Sa,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:bE,formatHex:bE,formatHex8:H$,formatHsl:W$,formatRgb:vE,toString:vE});function bE(){return this.rgb().formatHex()}function H$(){return this.rgb().formatHex8()}function W$(){return gS(this).formatHsl()}function vE(){return this.rgb().formatRgb()}function Sa(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=F$.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?_E(e):n===3?new Hn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?sh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?sh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=$$.exec(t))?new Hn(e[1],e[2],e[3],1):(e=U$.exec(t))?new Hn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=B$.exec(t))?sh(e[1],e[2],e[3],e[4]):(e=G$.exec(t))?sh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=z$.exec(t))?xE(e[1],e[2]/100,e[3]/100,1):(e=q$.exec(t))?xE(e[1],e[2]/100,e[3]/100,e[4]):yE.hasOwnProperty(t)?_E(yE[t]):t==="transparent"?new Hn(NaN,NaN,NaN,0):null}function _E(t){return new Hn(t>>16&255,t>>8&255,t&255,1)}function sh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Hn(t,e,n,r)}function pS(t){return t instanceof Ua||(t=Sa(t)),t?(t=t.rgb(),new Hn(t.r,t.g,t.b,t.opacity)):new Hn}function gm(t,e,n,r){return arguments.length===1?pS(t):new Hn(t,e,n,r??1)}function Hn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}_l(Hn,gm,vp(Ua,{brighter(t){return t=t==null?Bf:Math.pow(Bf,t),new Hn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Bc:Math.pow(Bc,t),new Hn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Hn(_a(this.r),_a(this.g),_a(this.b),Gf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:EE,formatHex:EE,formatHex8:Y$,formatRgb:wE,toString:wE}));function EE(){return`#${ma(this.r)}${ma(this.g)}${ma(this.b)}`}function Y$(){return`#${ma(this.r)}${ma(this.g)}${ma(this.b)}${ma((isNaN(this.opacity)?1:this.opacity)*255)}`}function wE(){const t=Gf(this.opacity);return`${t===1?"rgb(":"rgba("}${_a(this.r)}, ${_a(this.g)}, ${_a(this.b)}${t===1?")":`, ${t})`}`}function Gf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _a(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ma(t){return t=_a(t),(t<16?"0":"")+t.toString(16)}function xE(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new jr(t,e,n,r)}function gS(t){if(t instanceof jr)return new jr(t.h,t.s,t.l,t.opacity);if(t instanceof Ua||(t=Sa(t)),!t)return new jr;if(t instanceof jr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,u=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=u<.5?s+i:2-s-i,a*=60):o=u>0&&u<1?0:a,new jr(a,o,u,t.opacity)}function V$(t,e,n,r){return arguments.length===1?gS(t):new jr(t,e,n,r??1)}function jr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}_l(jr,V$,vp(Ua,{brighter(t){return t=t==null?Bf:Math.pow(Bf,t),new jr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Bc:Math.pow(Bc,t),new jr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Hn(Og(t>=240?t-240:t+120,i,r),Og(t,i,r),Og(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new jr(TE(this.h),ah(this.s),ah(this.l),Gf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Gf(this.opacity);return`${t===1?"hsl(":"hsla("}${TE(this.h)}, ${ah(this.s)*100}%, ${ah(this.l)*100}%${t===1?")":`, ${t})`}`}}));function TE(t){return t=(t||0)%360,t<0?t+360:t}function ah(t){return Math.max(0,Math.min(1,t||0))}function Og(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const X$=Math.PI/180,j$=180/Math.PI,zf=18,mS=.96422,yS=1,bS=.82521,vS=4/29,Co=6/29,_S=3*Co*Co,K$=Co*Co*Co;function ES(t){if(t instanceof Si)return new Si(t.l,t.a,t.b,t.opacity);if(t instanceof es)return wS(t);t instanceof Hn||(t=pS(t));var e=Pg(t.r),n=Pg(t.g),r=Pg(t.b),i=Ig((.2225045*e+.7168786*n+.0606169*r)/yS),s,a;return e===n&&n===r?s=a=i:(s=Ig((.4360747*e+.3850649*n+.1430804*r)/mS),a=Ig((.0139322*e+.0971045*n+.7141733*r)/bS)),new Si(116*i-16,500*(s-i),200*(i-a),t.opacity)}function Z$(t,e,n,r){return arguments.length===1?ES(t):new Si(t,e,n,r??1)}function Si(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}_l(Si,Z$,vp(Ua,{brighter(t){return new Si(this.l+zf*(t??1),this.a,this.b,this.opacity)},darker(t){return new Si(this.l-zf*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=mS*Dg(e),t=yS*Dg(t),n=bS*Dg(n),new Hn(Lg(3.1338561*e-1.6168667*t-.4906146*n),Lg(-.9787684*e+1.9161415*t+.033454*n),Lg(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Ig(t){return t>K$?Math.pow(t,1/3):t/_S+vS}function Dg(t){return t>Co?t*t*t:_S*(t-vS)}function Lg(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Pg(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Q$(t){if(t instanceof es)return new es(t.h,t.c,t.l,t.opacity);if(t instanceof Si||(t=ES(t)),t.a===0&&t.b===0)return new es(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*j$;return new es(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function mm(t,e,n,r){return arguments.length===1?Q$(t):new es(t,e,n,r??1)}function es(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function wS(t){if(isNaN(t.h))return new Si(t.l,0,0,t.opacity);var e=t.h*X$;return new Si(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}_l(es,mm,vp(Ua,{brighter(t){return new es(this.h,this.c,this.l+zf*(t??1),this.opacity)},darker(t){return new es(this.h,this.c,this.l-zf*(t??1),this.opacity)},rgb(){return wS(this).rgb()}}));const _p=t=>()=>t;function xS(t,e){return function(n){return t+n*e}}function J$(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function e9(t,e){var n=e-t;return n?xS(t,n>180||n<-180?n-360*Math.round(n/360):n):_p(isNaN(t)?e:t)}function t9(t){return(t=+t)==1?Tc:function(e,n){return n-e?J$(e,n,t):_p(isNaN(e)?n:e)}}function Tc(t,e){var n=e-t;return n?xS(t,n):_p(isNaN(t)?e:t)}const qf=(function t(e){var n=t9(e);function r(i,s){var a=n((i=gm(i)).r,(s=gm(s)).r),o=n(i.g,s.g),u=n(i.b,s.b),c=Tc(i.opacity,s.opacity);return function(l){return i.r=a(l),i.g=o(l),i.b=u(l),i.opacity=c(l),i+""}}return r.gamma=t,r})(1);function n9(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function r9(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function i9(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Mv(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function s9(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Yr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function a9(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Mv(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var ym=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fg=new RegExp(ym.source,"g");function o9(t){return function(){return t}}function u9(t){return function(e){return t(e)+""}}function TS(t,e){var n=ym.lastIndex=Fg.lastIndex=0,r,i,s,a=-1,o=[],u=[];for(t=t+"",e=e+"";(r=ym.exec(t))&&(i=Fg.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,u.push({i:a,x:Yr(r,i)})),n=Fg.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?u[0]?u9(u[0].x):o9(e):(e=u.length,function(c){for(var l=0,h;l<e;++l)o[(h=u[l]).i]=h.x(c);return o.join("")})}function Mv(t,e){var n=typeof e,r;return e==null||n==="boolean"?_p(e):(n==="number"?Yr:n==="string"?(r=Sa(e))?(e=r,qf):TS:e instanceof Sa?qf:e instanceof Date?s9:r9(e)?n9:Array.isArray(e)?i9:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?a9:Yr)(t,e)}function c9(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var kE=180/Math.PI,bm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function kS(t,e,n,r,i,s){var a,o,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,u/=o),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*kE,skewX:Math.atan(u)*kE,scaleX:a,scaleY:o}}var oh;function l9(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?bm:kS(e.a,e.b,e.c,e.d,e.e,e.f)}function h9(t){return t==null||(oh||(oh=document.createElementNS("http://www.w3.org/2000/svg","g")),oh.setAttribute("transform",t),!(t=oh.transform.baseVal.consolidate()))?bm:(t=t.matrix,kS(t.a,t.b,t.c,t.d,t.e,t.f))}function AS(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,l,h,d,f,p){if(c!==h||l!==d){var g=f.push("translate(",null,e,null,n);p.push({i:g-4,x:Yr(c,h)},{i:g-2,x:Yr(l,d)})}else(h||d)&&f.push("translate("+h+e+d+n)}function a(c,l,h,d){c!==l?(c-l>180?l+=360:l-c>180&&(c+=360),d.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Yr(c,l)})):l&&h.push(i(h)+"rotate("+l+r)}function o(c,l,h,d){c!==l?d.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Yr(c,l)}):l&&h.push(i(h)+"skewX("+l+r)}function u(c,l,h,d,f,p){if(c!==h||l!==d){var g=f.push(i(f)+"scale(",null,",",null,")");p.push({i:g-4,x:Yr(c,h)},{i:g-2,x:Yr(l,d)})}else(h!==1||d!==1)&&f.push(i(f)+"scale("+h+","+d+")")}return function(c,l){var h=[],d=[];return c=t(c),l=t(l),s(c.translateX,c.translateY,l.translateX,l.translateY,h,d),a(c.rotate,l.rotate,h,d),o(c.skewX,l.skewX,h,d),u(c.scaleX,c.scaleY,l.scaleX,l.scaleY,h,d),c=l=null,function(f){for(var p=-1,g=d.length,m;++p<g;)h[(m=d[p]).i]=m.x(f);return h.join("")}}}var f9=AS(l9,"px, ","px)","deg)"),d9=AS(h9,", ",")",")");function p9(t){return function(e,n){var r=t((e=mm(e)).h,(n=mm(n)).h),i=Tc(e.c,n.c),s=Tc(e.l,n.l),a=Tc(e.opacity,n.opacity);return function(o){return e.h=r(o),e.c=i(o),e.l=s(o),e.opacity=a(o),e+""}}}const DQ=p9(e9);var Bo=0,ac=0,Eu=0,NS=1e3,Hf,oc,Wf=0,Ra=0,Ep=0,zc=typeof performance=="object"&&performance.now?performance:Date,SS=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ov(){return Ra||(SS(g9),Ra=zc.now()+Ep)}function g9(){Ra=0}function Yf(){this._call=this._time=this._next=null}Yf.prototype=RS.prototype={constructor:Yf,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Ov():+n)+(e==null?0:+e),!this._next&&oc!==this&&(oc?oc._next=this:Hf=this,oc=this),this._call=t,this._time=n,vm()},stop:function(){this._call&&(this._call=null,this._time=1/0,vm())}};function RS(t,e,n){var r=new Yf;return r.restart(t,e,n),r}function m9(){Ov(),++Bo;for(var t=Hf,e;t;)(e=Ra-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Bo}function AE(){Ra=(Wf=zc.now())+Ep,Bo=ac=0;try{m9()}finally{Bo=0,b9(),Ra=0}}function y9(){var t=zc.now(),e=t-Wf;e>NS&&(Ep-=e,Wf=t)}function b9(){for(var t,e=Hf,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Hf=n);oc=t,vm(r)}function vm(t){if(!Bo){ac&&(ac=clearTimeout(ac));var e=t-Ra;e>24?(t<1/0&&(ac=setTimeout(AE,t-zc.now()-Ep)),Eu&&(Eu=clearInterval(Eu))):(Eu||(Wf=zc.now(),Eu=setInterval(y9,NS)),Bo=1,SS(AE))}}function NE(t,e,n){var r=new Yf;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var v9=tS("start","end","cancel","interrupt"),_9=[],CS=0,SE=1,_m=2,Hh=3,RE=4,Em=5,Wh=6;function wp(t,e,n,r,i,s){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;E9(t,n,{name:e,index:r,group:i,on:v9,tween:_9,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:CS})}function Iv(t,e){var n=ui(t,e);if(n.state>CS)throw new Error("too late; already scheduled");return n}function Di(t,e){var n=ui(t,e);if(n.state>Hh)throw new Error("too late; already running");return n}function ui(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function E9(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=RS(s,0,n.time);function s(c){n.state=SE,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var l,h,d,f;if(n.state!==SE)return u();for(l in r)if(f=r[l],f.name===n.name){if(f.state===Hh)return NE(a);f.state===RE?(f.state=Wh,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete r[l]):+l<e&&(f.state=Wh,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete r[l])}if(NE(function(){n.state===Hh&&(n.state=RE,n.timer.restart(o,n.delay,n.time),o(c))}),n.state=_m,n.on.call("start",t,t.__data__,n.index,n.group),n.state===_m){for(n.state=Hh,i=new Array(d=n.tween.length),l=0,h=-1;l<d;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=f);i.length=h+1}}function o(c){for(var l=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=Em,1),h=-1,d=i.length;++h<d;)i[h].call(t,l);n.state===Em&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=Wh,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function w9(t,e){var n=t.__transition,r,i,s=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){s=!1;continue}i=r.state>_m&&r.state<Em,r.state=Wh,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}s&&delete t.__transition}}function x9(t){return this.each(function(){w9(this,t)})}function T9(t,e){var n,r;return function(){var i=Di(this,t),s=i.tween;if(s!==n){r=n=s;for(var a=0,o=r.length;a<o;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function k9(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Di(this,t),a=s.tween;if(a!==r){i=(r=a).slice();for(var o={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=o;break}u===c&&i.push(o)}s.tween=i}}function A9(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ui(this.node(),n).tween,i=0,s=r.length,a;i<s;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?T9:k9)(n,t,e))}function Dv(t,e,n){var r=t._id;return t.each(function(){var i=Di(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return ui(i,r).value[e]}}function MS(t,e){var n;return(typeof e=="number"?Yr:e instanceof Sa?qf:(n=Sa(e))?(e=n,qf):TS)(t,e)}function N9(t){return function(){this.removeAttribute(t)}}function S9(t){return function(){this.removeAttributeNS(t.space,t.local)}}function R9(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttribute(t);return a===i?null:a===r?s:s=e(r=a,n)}}function C9(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?s:s=e(r=a,n)}}function M9(t,e,n){var r,i,s;return function(){var a,o=n(this),u;return o==null?void this.removeAttribute(t):(a=this.getAttribute(t),u=o+"",a===u?null:a===r&&u===i?s:(i=u,s=e(r=a,o)))}}function O9(t,e,n){var r,i,s;return function(){var a,o=n(this),u;return o==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),u=o+"",a===u?null:a===r&&u===i?s:(i=u,s=e(r=a,o)))}}function I9(t,e){var n=bp(t),r=n==="transform"?d9:MS;return this.attrTween(t,typeof e=="function"?(n.local?O9:M9)(n,r,Dv(this,"attr."+t,e)):e==null?(n.local?S9:N9)(n):(n.local?C9:R9)(n,r,e))}function D9(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function L9(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function P9(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&L9(t,s)),n}return i._value=e,i}function F9(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&D9(t,s)),n}return i._value=e,i}function $9(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=bp(t);return this.tween(n,(r.local?P9:F9)(r,e))}function U9(t,e){return function(){Iv(this,t).delay=+e.apply(this,arguments)}}function B9(t,e){return e=+e,function(){Iv(this,t).delay=e}}function G9(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?U9:B9)(e,t)):ui(this.node(),e).delay}function z9(t,e){return function(){Di(this,t).duration=+e.apply(this,arguments)}}function q9(t,e){return e=+e,function(){Di(this,t).duration=e}}function H9(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?z9:q9)(e,t)):ui(this.node(),e).duration}function W9(t,e){if(typeof e!="function")throw new Error;return function(){Di(this,t).ease=e}}function Y9(t){var e=this._id;return arguments.length?this.each(W9(e,t)):ui(this.node(),e).ease}function V9(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Di(this,t).ease=n}}function X9(t){if(typeof t!="function")throw new Error;return this.each(V9(this._id,t))}function j9(t){typeof t!="function"&&(t=iS(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,o=r[i]=[],u,c=0;c<a;++c)(u=s[c])&&t.call(u,u.__data__,c,s)&&o.push(u);return new cs(r,this._parents,this._name,this._id)}function K9(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),a=new Array(r),o=0;o<s;++o)for(var u=e[o],c=n[o],l=u.length,h=a[o]=new Array(l),d,f=0;f<l;++f)(d=u[f]||c[f])&&(h[f]=d);for(;o<r;++o)a[o]=e[o];return new cs(a,this._parents,this._name,this._id)}function Z9(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Q9(t,e,n){var r,i,s=Z9(e)?Iv:Di;return function(){var a=s(this,t),o=a.on;o!==r&&(i=(r=o).copy()).on(e,n),a.on=i}}function J9(t,e){var n=this._id;return arguments.length<2?ui(this.node(),n).on.on(t):this.each(Q9(n,t,e))}function eU(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function tU(){return this.on("end.remove",eU(this._id))}function nU(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Rv(t));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var o=r[a],u=o.length,c=s[a]=new Array(u),l,h,d=0;d<u;++d)(l=o[d])&&(h=t.call(l,l.__data__,d,o))&&("__data__"in l&&(h.__data__=l.__data__),c[d]=h,wp(c[d],e,n,d,c,ui(l,n)));return new cs(s,this._parents,e,n)}function rU(t){var e=this._name,n=this._id;typeof t!="function"&&(t=rS(t));for(var r=this._groups,i=r.length,s=[],a=[],o=0;o<i;++o)for(var u=r[o],c=u.length,l,h=0;h<c;++h)if(l=u[h]){for(var d=t.call(l,l.__data__,h,u),f,p=ui(l,n),g=0,m=d.length;g<m;++g)(f=d[g])&&wp(f,e,n,g,d,p);s.push(d),a.push(l)}return new cs(s,a,e,n)}var iU=vl.prototype.constructor;function sU(){return new iU(this._groups,this._parents)}function aU(t,e){var n,r,i;return function(){var s=Uo(this,t),a=(this.style.removeProperty(t),Uo(this,t));return s===a?null:s===n&&a===r?i:i=e(n=s,r=a)}}function OS(t){return function(){this.style.removeProperty(t)}}function oU(t,e,n){var r,i=n+"",s;return function(){var a=Uo(this,t);return a===i?null:a===r?s:s=e(r=a,n)}}function uU(t,e,n){var r,i,s;return function(){var a=Uo(this,t),o=n(this),u=o+"";return o==null&&(u=o=(this.style.removeProperty(t),Uo(this,t))),a===u?null:a===r&&u===i?s:(i=u,s=e(r=a,o))}}function cU(t,e){var n,r,i,s="style."+e,a="end."+s,o;return function(){var u=Di(this,t),c=u.on,l=u.value[s]==null?o||(o=OS(e)):void 0;(c!==n||i!==l)&&(r=(n=c).copy()).on(a,i=l),u.on=r}}function lU(t,e,n){var r=(t+="")=="transform"?f9:MS;return e==null?this.styleTween(t,aU(t,r)).on("end.style."+t,OS(t)):typeof e=="function"?this.styleTween(t,uU(t,r,Dv(this,"style."+t,e))).each(cU(this._id,t)):this.styleTween(t,oU(t,r,e),n).on("end.style."+t,null)}function hU(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function fU(t,e,n){var r,i;function s(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&hU(t,a,n)),r}return s._value=e,s}function dU(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,fU(t,e,n??""))}function pU(t){return function(){this.textContent=t}}function gU(t){return function(){var e=t(this);this.textContent=e??""}}function mU(t){return this.tween("text",typeof t=="function"?gU(Dv(this,"text",t)):pU(t==null?"":t+""))}function yU(t){return function(e){this.textContent=t.call(this,e)}}function bU(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&yU(i)),e}return r._value=t,r}function vU(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,bU(t))}function _U(){for(var t=this._name,e=this._id,n=IS(),r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,u,c=0;c<o;++c)if(u=a[c]){var l=ui(u,e);wp(u,t,n,c,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new cs(r,this._parents,t,n)}function EU(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,a){var o={value:a},u={value:function(){--i===0&&s()}};n.each(function(){var c=Di(this,r),l=c.on;l!==t&&(e=(t=l).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(u)),c.on=e}),i===0&&s()})}var wU=0;function cs(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function IS(){return++wU}var Bi=vl.prototype;cs.prototype={constructor:cs,select:nU,selectAll:rU,selectChild:Bi.selectChild,selectChildren:Bi.selectChildren,filter:j9,merge:K9,selection:sU,transition:_U,call:Bi.call,nodes:Bi.nodes,node:Bi.node,size:Bi.size,empty:Bi.empty,each:Bi.each,on:J9,attr:I9,attrTween:$9,style:lU,styleTween:dU,text:mU,textTween:vU,remove:tU,tween:A9,delay:G9,duration:H9,ease:Y9,easeVarying:X9,end:EU,[Symbol.iterator]:Bi[Symbol.iterator]};function xU(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var TU={time:null,delay:0,duration:250,ease:xU};function kU(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function AU(t){var e,n;t instanceof cs?(e=t._id,t=t._name):(e=IS(),(n=TU).time=Ov(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,u,c=0;c<o;++c)(u=a[c])&&wp(u,t,e,c,a,n||kU(u,e));return new cs(r,this._parents,t,e)}vl.prototype.interrupt=x9;vl.prototype.transition=AU;const wm=Math.PI,xm=2*wm,na=1e-6,NU=xm-na;function DS(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function SU(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return DS;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let RU=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?DS:SU(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,u=r-e,c=i-n,l=a-e,h=o-n,d=l*l+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>na)if(!(Math.abs(h*u-c*l)>na)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let f=r-a,p=i-o,g=u*u+c*c,m=f*f+p*p,y=Math.sqrt(g),v=Math.sqrt(d),b=s*Math.tan((wm-Math.acos((g+d-m)/(2*y*v)))/2),_=b/v,k=b/y;Math.abs(_-1)>na&&this._append`L${e+_*l},${n+_*h}`,this._append`A${s},${s},0,0,${+(h*f>l*p)},${this._x1=e+k*u},${this._y1=n+k*c}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),u=r*Math.sin(i),c=e+o,l=n+u,h=1^a,d=a?i-s:s-i;this._x1===null?this._append`M${c},${l}`:(Math.abs(this._x1-c)>na||Math.abs(this._y1-l)>na)&&this._append`L${c},${l}`,r&&(d<0&&(d=d%xm+xm),d>NU?this._append`A${r},${r},0,1,${h},${e-o},${n-u}A${r},${r},0,1,${h},${this._x1=c},${this._y1=l}`:d>na&&this._append`A${r},${r},0,${+(d>=wm)},${h},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function CU(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Vf(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Go(t){return t=Vf(Math.abs(t)),t?t[1]:NaN}function MU(t,e){return function(n,r){for(var i=n.length,s=[],a=0,o=t[0],u=0;i>0&&o>0&&(u+o+1>r&&(o=Math.max(1,r-u)),s.push(n.substring(i-=o,i+o)),!((u+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function OU(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var IU=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xf(t){if(!(e=IU.exec(t)))throw new Error("invalid format: "+t);var e;return new Lv({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Xf.prototype=Lv.prototype;function Lv(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Lv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function DU(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var jf;function LU(t,e){var n=Vf(t,e);if(!n)return jf=void 0,t.toPrecision(e);var r=n[0],i=n[1],s=i-(jf=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Vf(t,Math.max(0,e+s-1))[0]}function CE(t,e){var n=Vf(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ME={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:CU,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>CE(t*100,e),r:CE,s:LU,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function OE(t){return t}var IE=Array.prototype.map,DE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function PU(t){var e=t.grouping===void 0||t.thousands===void 0?OE:MU(IE.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?OE:OU(IE.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function c(h,d){h=Xf(h);var f=h.fill,p=h.align,g=h.sign,m=h.symbol,y=h.zero,v=h.width,b=h.comma,_=h.precision,k=h.trim,C=h.type;C==="n"?(b=!0,C="g"):ME[C]||(_===void 0&&(_=12),k=!0,C="g"),(y||f==="0"&&p==="=")&&(y=!0,f="0",p="=");var x=(d&&d.prefix!==void 0?d.prefix:"")+(m==="$"?n:m==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():""),S=(m==="$"?r:/[%p]/.test(C)?a:"")+(d&&d.suffix!==void 0?d.suffix:""),O=ME[C],D=/[defgprs%]/.test(C);_=_===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function I(M){var R=x,E=S,w,T,A;if(C==="c")E=O(M)+E,M="";else{M=+M;var N=M<0||1/M<0;if(M=isNaN(M)?u:O(Math.abs(M),_),k&&(M=DU(M)),N&&+M==0&&g!=="+"&&(N=!1),R=(N?g==="("?g:o:g==="-"||g==="("?"":g)+R,E=(C==="s"&&!isNaN(M)&&jf!==void 0?DE[8+jf/3]:"")+E+(N&&g==="("?")":""),D){for(w=-1,T=M.length;++w<T;)if(A=M.charCodeAt(w),48>A||A>57){E=(A===46?i+M.slice(w+1):M.slice(w))+E,M=M.slice(0,w);break}}}b&&!y&&(M=e(M,1/0));var P=R.length+M.length+E.length,F=P<v?new Array(v-P+1).join(f):"";switch(b&&y&&(M=e(F+M,F.length?v-E.length:1/0),F=""),p){case"<":M=R+M+E+F;break;case"=":M=R+F+M+E;break;case"^":M=F.slice(0,P=F.length>>1)+R+M+E+F.slice(P);break;default:M=F+R+M+E;break}return s(M)}return I.toString=function(){return h+""},I}function l(h,d){var f=Math.max(-8,Math.min(8,Math.floor(Go(d)/3)))*3,p=Math.pow(10,-f),g=c((h=Xf(h),h.type="f",h),{suffix:DE[8+f/3]});return function(m){return g(p*m)}}return{format:c,formatPrefix:l}}var uh,LS,PS;FU({thousands:",",grouping:[3],currency:["$",""]});function FU(t){return uh=PU(t),LS=uh.format,PS=uh.formatPrefix,uh}function $U(t){return Math.max(0,-Go(Math.abs(t)))}function UU(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Go(e)/3)))*3-Go(Math.abs(t)))}function BU(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Go(e)-Go(t))+1}function GU(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function zU(){return this.eachAfter(GU)}function qU(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function HU(t,e){for(var n=this,r=[n],i,s,a=-1;n=r.pop();)if(t.call(e,n,++a,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function WU(t,e){for(var n=this,r=[n],i=[],s,a,o,u=-1;n=r.pop();)if(i.push(n),s=n.children)for(a=0,o=s.length;a<o;++a)r.push(s[a]);for(;n=i.pop();)t.call(e,n,++u,this);return this}function YU(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function VU(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function XU(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function jU(t){for(var e=this,n=KU(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function KU(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function ZU(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function QU(){return Array.from(this)}function JU(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function eB(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*tB(){var t=this,e,n=[t],r,i,s;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function FS(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=iB)):e===void 0&&(e=rB);for(var n=new Kf(t),r,i=[n],s,a,o,u;r=i.pop();)if((a=e(r.data))&&(u=(a=Array.from(a)).length))for(r.children=a,o=u-1;o>=0;--o)i.push(s=a[o]=new Kf(a[o])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(aB)}function nB(){return FS(this).eachBefore(sB)}function rB(t){return t.children}function iB(t){return Array.isArray(t)?t[1]:null}function sB(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function aB(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Kf(t){this.data=t,this.depth=this.height=0,this.parent=null}Kf.prototype=FS.prototype={constructor:Kf,count:zU,each:qU,eachAfter:WU,eachBefore:HU,find:YU,sum:VU,sort:XU,path:jU,ancestors:ZU,descendants:QU,leaves:JU,links:eB,copy:nB,[Symbol.iterator]:tB};function oB(t){if(typeof t!="function")throw new Error;return t}function wu(){return 0}function xu(t){return function(){return t}}function uB(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function cB(t,e,n,r,i){for(var s=t.children,a,o=-1,u=s.length,c=t.value&&(r-e)/t.value;++o<u;)a=s[o],a.y0=n,a.y1=i,a.x0=e,a.x1=e+=a.value*c}function lB(t,e,n,r,i){for(var s=t.children,a,o=-1,u=s.length,c=t.value&&(i-n)/t.value;++o<u;)a=s[o],a.x0=e,a.x1=r,a.y0=n,a.y1=n+=a.value*c}var hB=(1+Math.sqrt(5))/2;function fB(t,e,n,r,i,s){for(var a=[],o=e.children,u,c,l=0,h=0,d=o.length,f,p,g=e.value,m,y,v,b,_,k,C;l<d;){f=i-n,p=s-r;do m=o[h++].value;while(!m&&h<d);for(y=v=m,k=Math.max(p/f,f/p)/(g*t),C=m*m*k,_=Math.max(v/C,C/y);h<d;++h){if(m+=c=o[h].value,c<y&&(y=c),c>v&&(v=c),C=m*m*k,b=Math.max(v/C,C/y),b>_){m-=c;break}_=b}a.push(u={value:m,dice:f<p,children:o.slice(l,h)}),u.dice?cB(u,n,r,i,g?r+=p*m/g:s):lB(u,n,r,g?n+=f*m/g:i,s),g-=m,l=h}return a}const dB=(function t(e){function n(r,i,s,a,o){fB(e,r,i,s,a,o)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n})(hB);function PQ(){var t=dB,e=!1,n=1,r=1,i=[0],s=wu,a=wu,o=wu,u=wu,c=wu;function l(d){return d.x0=d.y0=0,d.x1=n,d.y1=r,d.eachBefore(h),i=[0],e&&d.eachBefore(uB),d}function h(d){var f=i[d.depth],p=d.x0+f,g=d.y0+f,m=d.x1-f,y=d.y1-f;m<p&&(p=m=(p+m)/2),y<g&&(g=y=(g+y)/2),d.x0=p,d.y0=g,d.x1=m,d.y1=y,d.children&&(f=i[d.depth+1]=s(d)/2,p+=c(d)-f,g+=a(d)-f,m-=o(d)-f,y-=u(d)-f,m<p&&(p=m=(p+m)/2),y<g&&(g=y=(g+y)/2),t(d,p,g,m,y))}return l.round=function(d){return arguments.length?(e=!!d,l):e},l.size=function(d){return arguments.length?(n=+d[0],r=+d[1],l):[n,r]},l.tile=function(d){return arguments.length?(t=oB(d),l):t},l.padding=function(d){return arguments.length?l.paddingInner(d).paddingOuter(d):l.paddingInner()},l.paddingInner=function(d){return arguments.length?(s=typeof d=="function"?d:xu(+d),l):s},l.paddingOuter=function(d){return arguments.length?l.paddingTop(d).paddingRight(d).paddingBottom(d).paddingLeft(d):l.paddingTop()},l.paddingTop=function(d){return arguments.length?(a=typeof d=="function"?d:xu(+d),l):a},l.paddingRight=function(d){return arguments.length?(o=typeof d=="function"?d:xu(+d),l):o},l.paddingBottom=function(d){return arguments.length?(u=typeof d=="function"?d:xu(+d),l):u},l.paddingLeft=function(d){return arguments.length?(c=typeof d=="function"?d:xu(+d),l):c},l}function xp(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const LE=Symbol("implicit");function $S(){var t=new fE,e=[],n=[],r=LE;function i(s){let a=t.get(s);if(a===void 0){if(r!==LE)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new fE;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return $S(e,n).unknown(r)},xp.apply(i,arguments),i}function pB(){var t=$S().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,o=!1,u=0,c=0,l=.5;delete t.unknown;function h(){var d=e().length,f=i<r,p=f?i:r,g=f?r:i;s=(g-p)/Math.max(1,d-u+c*2),o&&(s=Math.floor(s)),p+=(g-p-s*(d-u))*l,a=s*(1-u),o&&(p=Math.round(p),a=Math.round(a));var m=j8(d).map(function(y){return p+s*y});return n(f?m.reverse():m)}return t.domain=function(d){return arguments.length?(e(d),h()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,o=!0,h()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(d){return arguments.length?(o=!!d,h()):o},t.padding=function(d){return arguments.length?(u=Math.min(1,c=+d),h()):u},t.paddingInner=function(d){return arguments.length?(u=Math.min(1,d),h()):u},t.paddingOuter=function(d){return arguments.length?(c=+d,h()):c},t.align=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),h()):l},t.copy=function(){return pB(e(),[r,i]).round(o).paddingInner(u).paddingOuter(c).align(l)},xp.apply(h(),arguments)}function gB(t){return function(){return t}}function mB(t){return+t}var PE=[0,1];function bo(t){return t}function Tm(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:gB(isNaN(e)?NaN:.5)}function yB(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function bB(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=Tm(i,r),s=n(a,s)):(r=Tm(r,i),s=n(s,a)),function(o){return s(r(o))}}function vB(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Tm(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var u=G8(t,o,1,r)-1;return s[u](i[u](o))}}function US(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _B(){var t=PE,e=PE,n=Mv,r,i,s,a=bo,o,u,c;function l(){var d=Math.min(t.length,e.length);return a!==bo&&(a=yB(t[0],t[d-1])),o=d>2?vB:bB,u=c=null,h}function h(d){return d==null||isNaN(d=+d)?s:(u||(u=o(t.map(r),e,n)))(r(a(d)))}return h.invert=function(d){return a(i((c||(c=o(e,t.map(r),Yr)))(d)))},h.domain=function(d){return arguments.length?(t=Array.from(d,mB),l()):t.slice()},h.range=function(d){return arguments.length?(e=Array.from(d),l()):e.slice()},h.rangeRound=function(d){return e=Array.from(d),n=c9,l()},h.clamp=function(d){return arguments.length?(a=d?!0:bo,l()):a!==bo},h.interpolate=function(d){return arguments.length?(n=d,l()):n},h.unknown=function(d){return arguments.length?(s=d,h):s},function(d,f){return r=d,i=f,l()}}function BS(){return _B()(bo,bo)}function EB(t,e,n,r){var i=fm(t,e,n),s;switch(r=Xf(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=UU(i,a))&&(r.precision=s),PS(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=BU(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=$U(i))&&(r.precision=s-(r.type==="%")*2);break}}return LS(r)}function wB(t){var e=t.domain;return t.ticks=function(n){var r=e();return X8(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return EB(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],u,c,l=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);l-- >0;){if(c=hm(a,o,n),c===u)return r[i]=a,r[s]=o,e(r);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;u=c}return t},t}function xB(){var t=BS();return t.copy=function(){return US(t,xB())},xp.apply(t,arguments),wB(t)}function TB(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}const $g=new Date,Ug=new Date;function fn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const u=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return u;let c;do u.push(c=new Date(+s)),e(s,o),t(s);while(c<s&&s<a);return u},i.filter=s=>fn(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>($g.setTime(+s),Ug.setTime(+a),t($g),t(Ug),Math.floor(n($g,Ug))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Zf=fn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Zf.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?fn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Zf);Zf.range;const ts=1e3,Lr=ts*60,ns=Lr*60,ls=ns*24,Pv=ls*7,FE=ls*30,Bg=ls*365,vo=fn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ts)},(t,e)=>(e-t)/ts,t=>t.getUTCSeconds());vo.range;const Fv=fn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ts)},(t,e)=>{t.setTime(+t+e*Lr)},(t,e)=>(e-t)/Lr,t=>t.getMinutes());Fv.range;const kB=fn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Lr)},(t,e)=>(e-t)/Lr,t=>t.getUTCMinutes());kB.range;const $v=fn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ts-t.getMinutes()*Lr)},(t,e)=>{t.setTime(+t+e*ns)},(t,e)=>(e-t)/ns,t=>t.getHours());$v.range;const AB=fn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ns)},(t,e)=>(e-t)/ns,t=>t.getUTCHours());AB.range;const El=fn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Lr)/ls,t=>t.getDate()-1);El.range;const Uv=fn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ls,t=>t.getUTCDate()-1);Uv.range;const NB=fn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ls,t=>Math.floor(t/ls));NB.range;function Ba(t){return fn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Lr)/Pv)}const Tp=Ba(0),Qf=Ba(1),SB=Ba(2),RB=Ba(3),zo=Ba(4),CB=Ba(5),MB=Ba(6);Tp.range;Qf.range;SB.range;RB.range;zo.range;CB.range;MB.range;function Ga(t){return fn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Pv)}const GS=Ga(0),Jf=Ga(1),OB=Ga(2),IB=Ga(3),qo=Ga(4),DB=Ga(5),LB=Ga(6);GS.range;Jf.range;OB.range;IB.range;qo.range;DB.range;LB.range;const Bv=fn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Bv.range;const PB=fn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());PB.range;const hs=fn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());hs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:fn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});hs.range;const Ca=fn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ca.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:fn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ca.range;function FB(t,e,n,r,i,s){const a=[[vo,1,ts],[vo,5,5*ts],[vo,15,15*ts],[vo,30,30*ts],[s,1,Lr],[s,5,5*Lr],[s,15,15*Lr],[s,30,30*Lr],[i,1,ns],[i,3,3*ns],[i,6,6*ns],[i,12,12*ns],[r,1,ls],[r,2,2*ls],[n,1,Pv],[e,1,FE],[e,3,3*FE],[t,1,Bg]];function o(c,l,h){const d=l<c;d&&([c,l]=[l,c]);const f=h&&typeof h.range=="function"?h:u(c,l,h),p=f?f.range(c,+l+1):[];return d?p.reverse():p}function u(c,l,h){const d=Math.abs(l-c)/h,f=Sv(([,,m])=>m).right(a,d);if(f===a.length)return t.every(fm(c/Bg,l/Bg,h));if(f===0)return Zf.every(Math.max(fm(c,l,h),1));const[p,g]=a[d/a[f-1][2]<a[f][2]/d?f-1:f];return p.every(g)}return[o,u]}const[$B,UB]=FB(hs,Bv,Tp,El,$v,Fv);function Gg(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function zg(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Tu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function BB(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,u=t.shortMonths,c=ku(i),l=Au(i),h=ku(s),d=Au(s),f=ku(a),p=Au(a),g=ku(o),m=Au(o),y=ku(u),v=Au(u),b={a:A,A:N,b:P,B:F,c:null,d:qE,e:qE,f:c7,g:v7,G:E7,H:a7,I:o7,j:u7,L:zS,m:l7,M:h7,p:B,q:H,Q:YE,s:VE,S:f7,u:d7,U:p7,V:g7,w:m7,W:y7,x:null,X:null,y:b7,Y:_7,Z:w7,"%":WE},_={a:Y,A:Q,b:j,B:ee,c:null,d:HE,e:HE,f:A7,g:P7,G:$7,H:x7,I:T7,j:k7,L:HS,m:N7,M:S7,p:ue,q:se,Q:YE,s:VE,S:R7,u:C7,U:M7,V:O7,w:I7,W:D7,x:null,X:null,y:L7,Y:F7,Z:U7,"%":WE},k={a:D,A:I,b:M,B:R,c:E,d:GE,e:GE,f:n7,g:BE,G:UE,H:zE,I:zE,j:QB,L:t7,m:ZB,M:JB,p:O,q:KB,Q:i7,s:s7,S:e7,u:WB,U:YB,V:VB,w:HB,W:XB,x:w,X:T,y:BE,Y:UE,Z:jB,"%":r7};b.x=C(n,b),b.X=C(r,b),b.c=C(e,b),_.x=C(n,_),_.X=C(r,_),_.c=C(e,_);function C(z,X){return function(ie){var q=[],be=-1,J=0,Ie=z.length,ge,mt,ht;for(ie instanceof Date||(ie=new Date(+ie));++be<Ie;)z.charCodeAt(be)===37&&(q.push(z.slice(J,be)),(mt=$E[ge=z.charAt(++be)])!=null?ge=z.charAt(++be):mt=ge==="e"?" ":"0",(ht=X[ge])&&(ge=ht(ie,mt)),q.push(ge),J=be+1);return q.push(z.slice(J,be)),q.join("")}}function x(z,X){return function(ie){var q=Tu(1900,void 0,1),be=S(q,z,ie+="",0),J,Ie;if(be!=ie.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(X&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(J=zg(Tu(q.y,0,1)),Ie=J.getUTCDay(),J=Ie>4||Ie===0?Jf.ceil(J):Jf(J),J=Uv.offset(J,(q.V-1)*7),q.y=J.getUTCFullYear(),q.m=J.getUTCMonth(),q.d=J.getUTCDate()+(q.w+6)%7):(J=Gg(Tu(q.y,0,1)),Ie=J.getDay(),J=Ie>4||Ie===0?Qf.ceil(J):Qf(J),J=El.offset(J,(q.V-1)*7),q.y=J.getFullYear(),q.m=J.getMonth(),q.d=J.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),Ie="Z"in q?zg(Tu(q.y,0,1)).getUTCDay():Gg(Tu(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(Ie+5)%7:q.w+q.U*7-(Ie+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,zg(q)):Gg(q)}}function S(z,X,ie,q){for(var be=0,J=X.length,Ie=ie.length,ge,mt;be<J;){if(q>=Ie)return-1;if(ge=X.charCodeAt(be++),ge===37){if(ge=X.charAt(be++),mt=k[ge in $E?X.charAt(be++):ge],!mt||(q=mt(z,ie,q))<0)return-1}else if(ge!=ie.charCodeAt(q++))return-1}return q}function O(z,X,ie){var q=c.exec(X.slice(ie));return q?(z.p=l.get(q[0].toLowerCase()),ie+q[0].length):-1}function D(z,X,ie){var q=f.exec(X.slice(ie));return q?(z.w=p.get(q[0].toLowerCase()),ie+q[0].length):-1}function I(z,X,ie){var q=h.exec(X.slice(ie));return q?(z.w=d.get(q[0].toLowerCase()),ie+q[0].length):-1}function M(z,X,ie){var q=y.exec(X.slice(ie));return q?(z.m=v.get(q[0].toLowerCase()),ie+q[0].length):-1}function R(z,X,ie){var q=g.exec(X.slice(ie));return q?(z.m=m.get(q[0].toLowerCase()),ie+q[0].length):-1}function E(z,X,ie){return S(z,e,X,ie)}function w(z,X,ie){return S(z,n,X,ie)}function T(z,X,ie){return S(z,r,X,ie)}function A(z){return a[z.getDay()]}function N(z){return s[z.getDay()]}function P(z){return u[z.getMonth()]}function F(z){return o[z.getMonth()]}function B(z){return i[+(z.getHours()>=12)]}function H(z){return 1+~~(z.getMonth()/3)}function Y(z){return a[z.getUTCDay()]}function Q(z){return s[z.getUTCDay()]}function j(z){return u[z.getUTCMonth()]}function ee(z){return o[z.getUTCMonth()]}function ue(z){return i[+(z.getUTCHours()>=12)]}function se(z){return 1+~~(z.getUTCMonth()/3)}return{format:function(z){var X=C(z+="",b);return X.toString=function(){return z},X},parse:function(z){var X=x(z+="",!1);return X.toString=function(){return z},X},utcFormat:function(z){var X=C(z+="",_);return X.toString=function(){return z},X},utcParse:function(z){var X=x(z+="",!0);return X.toString=function(){return z},X}}}var $E={"-":"",_:" ",0:"0"},wn=/^\s*\d+/,GB=/^%/,zB=/[\\^$*+?|[\]().{}]/g;function dt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function qB(t){return t.replace(zB,"\\$&")}function ku(t){return new RegExp("^(?:"+t.map(qB).join("|")+")","i")}function Au(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function HB(t,e,n){var r=wn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function WB(t,e,n){var r=wn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function YB(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function VB(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function XB(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function UE(t,e,n){var r=wn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function BE(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function jB(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function KB(t,e,n){var r=wn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function ZB(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function GE(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function QB(t,e,n){var r=wn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function zE(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function JB(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function e7(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function t7(t,e,n){var r=wn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function n7(t,e,n){var r=wn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function r7(t,e,n){var r=GB.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function i7(t,e,n){var r=wn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function s7(t,e,n){var r=wn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function qE(t,e){return dt(t.getDate(),e,2)}function a7(t,e){return dt(t.getHours(),e,2)}function o7(t,e){return dt(t.getHours()%12||12,e,2)}function u7(t,e){return dt(1+El.count(hs(t),t),e,3)}function zS(t,e){return dt(t.getMilliseconds(),e,3)}function c7(t,e){return zS(t,e)+"000"}function l7(t,e){return dt(t.getMonth()+1,e,2)}function h7(t,e){return dt(t.getMinutes(),e,2)}function f7(t,e){return dt(t.getSeconds(),e,2)}function d7(t){var e=t.getDay();return e===0?7:e}function p7(t,e){return dt(Tp.count(hs(t)-1,t),e,2)}function qS(t){var e=t.getDay();return e>=4||e===0?zo(t):zo.ceil(t)}function g7(t,e){return t=qS(t),dt(zo.count(hs(t),t)+(hs(t).getDay()===4),e,2)}function m7(t){return t.getDay()}function y7(t,e){return dt(Qf.count(hs(t)-1,t),e,2)}function b7(t,e){return dt(t.getFullYear()%100,e,2)}function v7(t,e){return t=qS(t),dt(t.getFullYear()%100,e,2)}function _7(t,e){return dt(t.getFullYear()%1e4,e,4)}function E7(t,e){var n=t.getDay();return t=n>=4||n===0?zo(t):zo.ceil(t),dt(t.getFullYear()%1e4,e,4)}function w7(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dt(e/60|0,"0",2)+dt(e%60,"0",2)}function HE(t,e){return dt(t.getUTCDate(),e,2)}function x7(t,e){return dt(t.getUTCHours(),e,2)}function T7(t,e){return dt(t.getUTCHours()%12||12,e,2)}function k7(t,e){return dt(1+Uv.count(Ca(t),t),e,3)}function HS(t,e){return dt(t.getUTCMilliseconds(),e,3)}function A7(t,e){return HS(t,e)+"000"}function N7(t,e){return dt(t.getUTCMonth()+1,e,2)}function S7(t,e){return dt(t.getUTCMinutes(),e,2)}function R7(t,e){return dt(t.getUTCSeconds(),e,2)}function C7(t){var e=t.getUTCDay();return e===0?7:e}function M7(t,e){return dt(GS.count(Ca(t)-1,t),e,2)}function WS(t){var e=t.getUTCDay();return e>=4||e===0?qo(t):qo.ceil(t)}function O7(t,e){return t=WS(t),dt(qo.count(Ca(t),t)+(Ca(t).getUTCDay()===4),e,2)}function I7(t){return t.getUTCDay()}function D7(t,e){return dt(Jf.count(Ca(t)-1,t),e,2)}function L7(t,e){return dt(t.getUTCFullYear()%100,e,2)}function P7(t,e){return t=WS(t),dt(t.getUTCFullYear()%100,e,2)}function F7(t,e){return dt(t.getUTCFullYear()%1e4,e,4)}function $7(t,e){var n=t.getUTCDay();return t=n>=4||n===0?qo(t):qo.ceil(t),dt(t.getUTCFullYear()%1e4,e,4)}function U7(){return"+0000"}function WE(){return"%"}function YE(t){return+t}function VE(t){return Math.floor(+t/1e3)}var Ja,YS;B7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function B7(t){return Ja=BB(t),YS=Ja.format,Ja.parse,Ja.utcFormat,Ja.utcParse,Ja}function G7(t){return new Date(t)}function z7(t){return t instanceof Date?+t:+new Date(+t)}function VS(t,e,n,r,i,s,a,o,u,c){var l=BS(),h=l.invert,d=l.domain,f=c(".%L"),p=c(":%S"),g=c("%I:%M"),m=c("%I %p"),y=c("%a %d"),v=c("%b %d"),b=c("%B"),_=c("%Y");function k(C){return(u(C)<C?f:o(C)<C?p:a(C)<C?g:s(C)<C?m:r(C)<C?i(C)<C?y:v:n(C)<C?b:_)(C)}return l.invert=function(C){return new Date(h(C))},l.domain=function(C){return arguments.length?d(Array.from(C,z7)):d().map(G7)},l.ticks=function(C){var x=d();return t(x[0],x[x.length-1],C??10)},l.tickFormat=function(C,x){return x==null?k:c(x)},l.nice=function(C){var x=d();return(!C||typeof C.range!="function")&&(C=e(x[0],x[x.length-1],C??10)),C?d(TB(x,C)):l},l.copy=function(){return US(l,VS(t,e,n,r,i,s,a,o,u,c))},l}function FQ(){return xp.apply(VS($B,UB,hs,Bv,Tp,El,$v,Fv,vo,YS).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function q7(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const $Q=q7("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Qt(t){return function(){return t}}const XE=Math.abs,$n=Math.atan2,qs=Math.cos,H7=Math.max,qg=Math.min,di=Math.sin,_o=Math.sqrt,Gn=1e-12,qc=Math.PI,ed=qc/2,Yh=2*qc;function W7(t){return t>1?0:t<-1?qc:Math.acos(t)}function jE(t){return t>=1?ed:t<=-1?-ed:Math.asin(t)}function XS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new RU(e)}function Y7(t){return t.innerRadius}function V7(t){return t.outerRadius}function X7(t){return t.startAngle}function j7(t){return t.endAngle}function K7(t){return t&&t.padAngle}function Z7(t,e,n,r,i,s,a,o){var u=n-t,c=r-e,l=a-i,h=o-s,d=h*u-l*c;if(!(d*d<Gn))return d=(l*(e-s)-h*(t-i))/d,[t+d*u,e+d*c]}function ch(t,e,n,r,i,s,a){var o=t-n,u=e-r,c=(a?s:-s)/_o(o*o+u*u),l=c*u,h=-c*o,d=t+l,f=e+h,p=n+l,g=r+h,m=(d+p)/2,y=(f+g)/2,v=p-d,b=g-f,_=v*v+b*b,k=i-s,C=d*g-p*f,x=(b<0?-1:1)*_o(H7(0,k*k*_-C*C)),S=(C*b-v*x)/_,O=(-C*v-b*x)/_,D=(C*b+v*x)/_,I=(-C*v+b*x)/_,M=S-m,R=O-y,E=D-m,w=I-y;return M*M+R*R>E*E+w*w&&(S=D,O=I),{cx:S,cy:O,x01:-l,y01:-h,x11:S*(i/k-1),y11:O*(i/k-1)}}function UQ(){var t=Y7,e=V7,n=Qt(0),r=null,i=X7,s=j7,a=K7,o=null,u=XS(c);function c(){var l,h,d=+t.apply(this,arguments),f=+e.apply(this,arguments),p=i.apply(this,arguments)-ed,g=s.apply(this,arguments)-ed,m=XE(g-p),y=g>p;if(o||(o=l=u()),f<d&&(h=f,f=d,d=h),!(f>Gn))o.moveTo(0,0);else if(m>Yh-Gn)o.moveTo(f*qs(p),f*di(p)),o.arc(0,0,f,p,g,!y),d>Gn&&(o.moveTo(d*qs(g),d*di(g)),o.arc(0,0,d,g,p,y));else{var v=p,b=g,_=p,k=g,C=m,x=m,S=a.apply(this,arguments)/2,O=S>Gn&&(r?+r.apply(this,arguments):_o(d*d+f*f)),D=qg(XE(f-d)/2,+n.apply(this,arguments)),I=D,M=D,R,E;if(O>Gn){var w=jE(O/d*di(S)),T=jE(O/f*di(S));(C-=w*2)>Gn?(w*=y?1:-1,_+=w,k-=w):(C=0,_=k=(p+g)/2),(x-=T*2)>Gn?(T*=y?1:-1,v+=T,b-=T):(x=0,v=b=(p+g)/2)}var A=f*qs(v),N=f*di(v),P=d*qs(k),F=d*di(k);if(D>Gn){var B=f*qs(b),H=f*di(b),Y=d*qs(_),Q=d*di(_),j;if(m<qc)if(j=Z7(A,N,Y,Q,B,H,P,F)){var ee=A-j[0],ue=N-j[1],se=B-j[0],z=H-j[1],X=1/di(W7((ee*se+ue*z)/(_o(ee*ee+ue*ue)*_o(se*se+z*z)))/2),ie=_o(j[0]*j[0]+j[1]*j[1]);I=qg(D,(d-ie)/(X-1)),M=qg(D,(f-ie)/(X+1))}else I=M=0}x>Gn?M>Gn?(R=ch(Y,Q,A,N,f,M,y),E=ch(B,H,P,F,f,M,y),o.moveTo(R.cx+R.x01,R.cy+R.y01),M<D?o.arc(R.cx,R.cy,M,$n(R.y01,R.x01),$n(E.y01,E.x01),!y):(o.arc(R.cx,R.cy,M,$n(R.y01,R.x01),$n(R.y11,R.x11),!y),o.arc(0,0,f,$n(R.cy+R.y11,R.cx+R.x11),$n(E.cy+E.y11,E.cx+E.x11),!y),o.arc(E.cx,E.cy,M,$n(E.y11,E.x11),$n(E.y01,E.x01),!y))):(o.moveTo(A,N),o.arc(0,0,f,v,b,!y)):o.moveTo(A,N),!(d>Gn)||!(C>Gn)?o.lineTo(P,F):I>Gn?(R=ch(P,F,B,H,d,-I,y),E=ch(A,N,Y,Q,d,-I,y),o.lineTo(R.cx+R.x01,R.cy+R.y01),I<D?o.arc(R.cx,R.cy,I,$n(R.y01,R.x01),$n(E.y01,E.x01),!y):(o.arc(R.cx,R.cy,I,$n(R.y01,R.x01),$n(R.y11,R.x11),!y),o.arc(0,0,d,$n(R.cy+R.y11,R.cx+R.x11),$n(E.cy+E.y11,E.cx+E.x11),y),o.arc(E.cx,E.cy,I,$n(E.y11,E.x11),$n(E.y01,E.x01),!y))):o.arc(0,0,d,k,_,y)}if(o.closePath(),l)return o=null,l+""||null}return c.centroid=function(){var l=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-qc/2;return[qs(h)*l,di(h)*l]},c.innerRadius=function(l){return arguments.length?(t=typeof l=="function"?l:Qt(+l),c):t},c.outerRadius=function(l){return arguments.length?(e=typeof l=="function"?l:Qt(+l),c):e},c.cornerRadius=function(l){return arguments.length?(n=typeof l=="function"?l:Qt(+l),c):n},c.padRadius=function(l){return arguments.length?(r=l==null?null:typeof l=="function"?l:Qt(+l),c):r},c.startAngle=function(l){return arguments.length?(i=typeof l=="function"?l:Qt(+l),c):i},c.endAngle=function(l){return arguments.length?(s=typeof l=="function"?l:Qt(+l),c):s},c.padAngle=function(l){return arguments.length?(a=typeof l=="function"?l:Qt(+l),c):a},c.context=function(l){return arguments.length?(o=l??null,c):o},c}function jS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function KS(t){this._context=t}KS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Q7(t){return new KS(t)}function J7(t){return t[0]}function eG(t){return t[1]}function BQ(t,e){var n=Qt(!0),r=null,i=Q7,s=null,a=XS(o);t=typeof t=="function"?t:t===void 0?J7:Qt(t),e=typeof e=="function"?e:e===void 0?eG:Qt(e);function o(u){var c,l=(u=jS(u)).length,h,d=!1,f;for(r==null&&(s=i(f=a())),c=0;c<=l;++c)!(c<l&&n(h=u[c],c,u))===d&&((d=!d)?s.lineStart():s.lineEnd()),d&&s.point(+t(h,c,u),+e(h,c,u));if(f)return s=null,f+""||null}return o.x=function(u){return arguments.length?(t=typeof u=="function"?u:Qt(+u),o):t},o.y=function(u){return arguments.length?(e=typeof u=="function"?u:Qt(+u),o):e},o.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Qt(!!u),o):n},o.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),o):i},o.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),o):r},o}function tG(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function nG(t){return t}function GQ(){var t=nG,e=tG,n=null,r=Qt(0),i=Qt(Yh),s=Qt(0);function a(o){var u,c=(o=jS(o)).length,l,h,d=0,f=new Array(c),p=new Array(c),g=+r.apply(this,arguments),m=Math.min(Yh,Math.max(-Yh,i.apply(this,arguments)-g)),y,v=Math.min(Math.abs(m)/c,s.apply(this,arguments)),b=v*(m<0?-1:1),_;for(u=0;u<c;++u)(_=p[f[u]=u]=+t(o[u],u,o))>0&&(d+=_);for(e!=null?f.sort(function(k,C){return e(p[k],p[C])}):n!=null&&f.sort(function(k,C){return n(o[k],o[C])}),u=0,h=d?(m-c*b)/d:0;u<c;++u,g=y)l=f[u],_=p[l],y=g+(_>0?_*h:0)+b,p[l]={data:o[l],index:u,value:_,startAngle:g,endAngle:y,padAngle:v};return p}return a.value=function(o){return arguments.length?(t=typeof o=="function"?o:Qt(+o),a):t},a.sortValues=function(o){return arguments.length?(e=o,n=null,a):e},a.sort=function(o){return arguments.length?(n=o,e=null,a):n},a.startAngle=function(o){return arguments.length?(r=typeof o=="function"?o:Qt(+o),a):r},a.endAngle=function(o){return arguments.length?(i=typeof o=="function"?o:Qt(+o),a):i},a.padAngle=function(o){return arguments.length?(s=typeof o=="function"?o:Qt(+o),a):s},a}class ZS{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function zQ(t){return new ZS(t,!0)}function qQ(t){return new ZS(t,!1)}function Os(){}function td(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function kp(t){this._context=t}kp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:td(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:td(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function HQ(t){return new kp(t)}function QS(t){this._context=t}QS.prototype={areaStart:Os,areaEnd:Os,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:td(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function WQ(t){return new QS(t)}function JS(t){this._context=t}JS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:td(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function YQ(t){return new JS(t)}function eR(t,e){this._basis=new kp(t),this._beta=e}eR.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],s=t[n]-r,a=e[n]-i,o=-1,u;++o<=n;)u=o/n,this._basis.point(this._beta*t[o]+(1-this._beta)*(r+u*s),this._beta*e[o]+(1-this._beta)*(i+u*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const VQ=(function t(e){function n(r){return e===1?new kp(r):new eR(r,e)}return n.beta=function(r){return t(+r)},n})(.85);function nd(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Gv(t,e){this._context=t,this._k=(1-e)/6}Gv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:nd(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:nd(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const XQ=(function t(e){function n(r){return new Gv(r,e)}return n.tension=function(r){return t(+r)},n})(0);function zv(t,e){this._context=t,this._k=(1-e)/6}zv.prototype={areaStart:Os,areaEnd:Os,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:nd(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const jQ=(function t(e){function n(r){return new zv(r,e)}return n.tension=function(r){return t(+r)},n})(0);function qv(t,e){this._context=t,this._k=(1-e)/6}qv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:nd(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const KQ=(function t(e){function n(r){return new qv(r,e)}return n.tension=function(r){return t(+r)},n})(0);function Hv(t,e,n){var r=t._x1,i=t._y1,s=t._x2,a=t._y2;if(t._l01_a>Gn){var o=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*o-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*o-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>Gn){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*c+t._x1*t._l23_2a-e*t._l12_2a)/l,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,s,a,t._x2,t._y2)}function tR(t,e){this._context=t,this._alpha=e}tR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Hv(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const ZQ=(function t(e){function n(r){return e?new tR(r,e):new Gv(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function nR(t,e){this._context=t,this._alpha=e}nR.prototype={areaStart:Os,areaEnd:Os,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Hv(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const QQ=(function t(e){function n(r){return e?new nR(r,e):new zv(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function rR(t,e){this._context=t,this._alpha=e}rR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Hv(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const JQ=(function t(e){function n(r){return e?new rR(r,e):new qv(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function iR(t){this._context=t}iR.prototype={areaStart:Os,areaEnd:Os,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function eJ(t){return new iR(t)}function KE(t){return t<0?-1:1}function ZE(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(KE(s)+KE(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function QE(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Hg(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-r)/3;t._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*n,s,a)}function rd(t){this._context=t}rd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hg(this,this._t0,QE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Hg(this,QE(this,n=ZE(this,t,e)),n);break;default:Hg(this,this._t0,n=ZE(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function sR(t){this._context=new aR(t)}(sR.prototype=Object.create(rd.prototype)).point=function(t,e){rd.prototype.point.call(this,e,t)};function aR(t){this._context=t}aR.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function tJ(t){return new rd(t)}function nJ(t){return new sR(t)}function oR(t){this._context=t}oR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=JE(t),i=JE(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function JE(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function rJ(t){return new oR(t)}function Ap(t,e){this._context=t,this._t=e}Ap.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function iJ(t){return new Ap(t,.5)}function sJ(t){return new Ap(t,0)}function aJ(t){return new Ap(t,1)}function uc(t,e,n){this.k=t,this.x=e,this.y=n}uc.prototype={constructor:uc,scale:function(t){return t===1?this:new uc(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new uc(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};uc.prototype;var lh={},un={},ew;function rG(){return ew||(ew=1,Object.defineProperty(un,"__esModule",{value:!0}),un.BLANK_URL=un.relativeFirstCharacters=un.whitespaceEscapeCharsRegex=un.urlSchemeRegex=un.ctrlCharactersRegex=un.htmlCtrlEntityRegex=un.htmlEntitiesRegex=un.invalidProtocolRegex=void 0,un.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,un.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,un.htmlCtrlEntityRegex=/&(newline|tab);/gi,un.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,un.urlSchemeRegex=/^.+(:|&colon;)/gim,un.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,un.relativeFirstCharacters=[".","/"],un.BLANK_URL="about:blank"),un}var tw;function iG(){if(tw)return lh;tw=1,Object.defineProperty(lh,"__esModule",{value:!0}),lh.sanitizeUrl=s;var t=rG();function e(a){return t.relativeFirstCharacters.indexOf(a[0])>-1}function n(a){var o=a.replace(t.ctrlCharactersRegex,"");return o.replace(t.htmlEntitiesRegex,function(u,c){return String.fromCharCode(c)})}function r(a){return URL.canParse(a)}function i(a){try{return decodeURIComponent(a)}catch{return a}}function s(a){if(!a)return t.BLANK_URL;var o,u=i(a.trim());do u=n(u).replace(t.htmlCtrlEntityRegex,"").replace(t.ctrlCharactersRegex,"").replace(t.whitespaceEscapeCharsRegex,"").trim(),u=i(u),o=u.match(t.ctrlCharactersRegex)||u.match(t.htmlEntitiesRegex)||u.match(t.htmlCtrlEntityRegex)||u.match(t.whitespaceEscapeCharsRegex);while(o&&o.length>0);var c=u;if(!c)return t.BLANK_URL;if(e(c))return c;var l=c.trimStart(),h=l.match(t.urlSchemeRegex);if(!h)return c;var d=h[0].toLowerCase().trim();if(t.invalidProtocolRegex.test(d))return t.BLANK_URL;var f=l.replace(/\\/g,"/");if(d==="mailto:"||d.includes("://"))return f;if(d==="http:"||d==="https:"){if(!r(f))return t.BLANK_URL;var p=new URL(f);return p.protocol=p.protocol.toLowerCase(),p.hostname=p.hostname.toLowerCase(),p.toString()}return f}return lh}var oJ=iG();const sG=Object.freeze({left:0,top:0,width:16,height:16}),id=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),uR=Object.freeze({...sG,...id}),aG=Object.freeze({...uR,body:"",hidden:!1}),oG=Object.freeze({width:null,height:null}),uG=Object.freeze({...oG,...id}),uJ=(t,e,n,r="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const o=i.pop(),u=i.pop(),c={provider:i.length>0?i[0]:r,prefix:u,name:o};return Wg(c)?c:null}const s=i[0],a=s.split("-");if(a.length>1){const o={provider:r,prefix:a.shift(),name:a.join("-")};return Wg(o)?o:null}if(n&&r===""){const o={provider:r,prefix:"",name:s};return Wg(o,n)?o:null}return null},Wg=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1;function cG(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const r=((t.rotate||0)+(e.rotate||0))%4;return r&&(n.rotate=r),n}function nw(t,e){const n=cG(t,e);for(const r in aG)r in id?r in t&&!(r in n)&&(n[r]=id[r]):r in e?n[r]=e[r]:r in t&&(n[r]=t[r]);return n}function lG(t,e){const n=t.icons,r=t.aliases||Object.create(null),i=Object.create(null);function s(a){if(n[a])return i[a]=[];if(!(a in i)){i[a]=null;const o=r[a]&&r[a].parent,u=o&&s(o);u&&(i[a]=[o].concat(u))}return i[a]}return(e||Object.keys(n).concat(Object.keys(r))).forEach(s),i}function rw(t,e,n){const r=t.icons,i=t.aliases||Object.create(null);let s={};function a(o){s=nw(r[o]||i[o],s)}return a(e),n.forEach(a),nw(t,s)}function cJ(t,e){if(t.icons[e])return rw(t,e,[]);const n=lG(t,[e])[e];return n?rw(t,e,n):null}const hG=/(-?[0-9.]*[0-9]+[0-9.]*)/g,fG=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function iw(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const r=t.split(hG);if(r===null||!r.length)return t;const i=[];let s=r.shift(),a=fG.test(s);for(;;){if(a){const o=parseFloat(s);isNaN(o)?i.push(s):i.push(Math.ceil(o*e*n)/n)}else i.push(s);if(s=r.shift(),s===void 0)return i.join("");a=!a}}function dG(t,e="defs"){let n="";const r=t.indexOf("<"+e);for(;r>=0;){const i=t.indexOf(">",r),s=t.indexOf("</"+e);if(i===-1||s===-1)break;const a=t.indexOf(">",s);if(a===-1)break;n+=t.slice(i+1,s).trim(),t=t.slice(0,r).trim()+t.slice(a+1)}return{defs:n,content:t}}function pG(t,e){return t?"<defs>"+t+"</defs>"+e:e}function gG(t,e,n){const r=dG(t);return pG(r.defs,e+r.content+n)}const mG=t=>t==="unset"||t==="undefined"||t==="none";function lJ(t,e){const n={...uR,...t},r={...uG,...e},i={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,r].forEach(g=>{const m=[],y=g.hFlip,v=g.vFlip;let b=g.rotate;y?v?b+=2:(m.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),m.push("scale(-1 1)"),i.top=i.left=0):v&&(m.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),m.push("scale(1 -1)"),i.top=i.left=0);let _;switch(b<0&&(b-=Math.floor(b/4)*4),b=b%4,b){case 1:_=i.height/2+i.top,m.unshift("rotate(90 "+_.toString()+" "+_.toString()+")");break;case 2:m.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:_=i.width/2+i.left,m.unshift("rotate(-90 "+_.toString()+" "+_.toString()+")");break}b%2===1&&(i.left!==i.top&&(_=i.left,i.left=i.top,i.top=_),i.width!==i.height&&(_=i.width,i.width=i.height,i.height=_)),m.length&&(s=gG(s,'<g transform="'+m.join(" ")+'">',"</g>"))});const a=r.width,o=r.height,u=i.width,c=i.height;let l,h;a===null?(h=o===null?"1em":o==="auto"?c:o,l=iw(h,u/c)):(l=a==="auto"?u:a,h=o===null?iw(l,c/u):o==="auto"?c:o);const d={},f=(g,m)=>{mG(m)||(d[g]=m.toString())};f("width",l),f("height",h);const p=[i.left,i.top,u,c];return d.viewBox=p.join(" "),{attributes:d,viewBox:p,body:s}}const yG=/\sid="(\S+)"/g,sw=new Map;function bG(t){t=t.replace(/[0-9]+$/,"")||"a";const e=sw.get(t)||0;return sw.set(t,e+1),e?`${t}${e}`:t}function hJ(t){const e=[];let n;for(;n=yG.exec(t);)e.push(n[1]);if(!e.length)return t;const r="suffix"+(Math.random()*16777216|Date.now()).toString(16);return e.forEach(i=>{const s=bG(i),a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+s+r+"$3")}),t=t.replace(new RegExp(r,"g"),""),t}function fJ(t,e){let n=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in e)n+=" "+r+'="'+e[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}function Wv(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var za=Wv();function cR(t){za=t}var kc={exec:()=>null};function pt(t,e=""){let n=typeof t=="string"?t:t.source,r={replace:(i,s)=>{let a=typeof s=="string"?s:s.source;return a=a.replace(er.caret,"$1"),n=n.replace(i,a),r},getRegex:()=>new RegExp(n,e)};return r}var vG=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),er={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},_G=/^(?:[ \t]*(?:\n|$))+/,EG=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,wG=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,wl=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,xG=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Yv=/(?:[*+-]|\d{1,9}[.)])/,lR=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,hR=pt(lR).replace(/bull/g,Yv).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),TG=pt(lR).replace(/bull/g,Yv).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Vv=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,kG=/^[^\n]+/,Xv=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,AG=pt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Xv).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),NG=pt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Yv).getRegex(),Np="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",jv=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,SG=pt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",jv).replace("tag",Np).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),fR=pt(Vv).replace("hr",wl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Np).getRegex(),RG=pt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",fR).getRegex(),Kv={blockquote:RG,code:EG,def:AG,fences:wG,heading:xG,hr:wl,html:SG,lheading:hR,list:NG,newline:_G,paragraph:fR,table:kc,text:kG},aw=pt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",wl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Np).getRegex(),CG={...Kv,lheading:TG,table:aw,paragraph:pt(Vv).replace("hr",wl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",aw).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Np).getRegex()},MG={...Kv,html:pt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",jv).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:kc,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:pt(Vv).replace("hr",wl).replace("heading",` *#{1,6} *[^
]`).replace("lheading",hR).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},OG=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,IG=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,dR=/^( {2,}|\\)\n(?!\s*$)/,DG=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Sp=/[\p{P}\p{S}]/u,Zv=/[\s\p{P}\p{S}]/u,pR=/[^\s\p{P}\p{S}]/u,LG=pt(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Zv).getRegex(),gR=/(?!~)[\p{P}\p{S}]/u,PG=/(?!~)[\s\p{P}\p{S}]/u,FG=/(?:[^\s\p{P}\p{S}]|~)/u,$G=pt(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",vG?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),mR=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,UG=pt(mR,"u").replace(/punct/g,Sp).getRegex(),BG=pt(mR,"u").replace(/punct/g,gR).getRegex(),yR="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",GG=pt(yR,"gu").replace(/notPunctSpace/g,pR).replace(/punctSpace/g,Zv).replace(/punct/g,Sp).getRegex(),zG=pt(yR,"gu").replace(/notPunctSpace/g,FG).replace(/punctSpace/g,PG).replace(/punct/g,gR).getRegex(),qG=pt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,pR).replace(/punctSpace/g,Zv).replace(/punct/g,Sp).getRegex(),HG=pt(/\\(punct)/,"gu").replace(/punct/g,Sp).getRegex(),WG=pt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),YG=pt(jv).replace("(?:-->|$)","-->").getRegex(),VG=pt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",YG).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),sd=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,XG=pt(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",sd).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),bR=pt(/^!?\[(label)\]\[(ref)\]/).replace("label",sd).replace("ref",Xv).getRegex(),vR=pt(/^!?\[(ref)\](?:\[\])?/).replace("ref",Xv).getRegex(),jG=pt("reflink|nolink(?!\\()","g").replace("reflink",bR).replace("nolink",vR).getRegex(),ow=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,Qv={_backpedal:kc,anyPunctuation:HG,autolink:WG,blockSkip:$G,br:dR,code:IG,del:kc,emStrongLDelim:UG,emStrongRDelimAst:GG,emStrongRDelimUnd:qG,escape:OG,link:XG,nolink:vR,punctuation:LG,reflink:bR,reflinkSearch:jG,tag:VG,text:DG,url:kc},KG={...Qv,link:pt(/^!?\[(label)\]\((.*?)\)/).replace("label",sd).getRegex(),reflink:pt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",sd).getRegex()},km={...Qv,emStrongRDelimAst:zG,emStrongLDelim:BG,url:pt(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",ow).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:pt(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",ow).getRegex()},ZG={...km,br:pt(dR).replace("{2,}","*").getRegex(),text:pt(km.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},hh={normal:Kv,gfm:CG,pedantic:MG},Nu={normal:Qv,gfm:km,breaks:ZG,pedantic:KG},QG={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},uw=t=>QG[t];function yi(t,e){if(e){if(er.escapeTest.test(t))return t.replace(er.escapeReplace,uw)}else if(er.escapeTestNoEncode.test(t))return t.replace(er.escapeReplaceNoEncode,uw);return t}function cw(t){try{t=encodeURI(t).replace(er.percentDecode,"%")}catch{return null}return t}function lw(t,e){var s;let n=t.replace(er.findPipe,(a,o,u)=>{let c=!1,l=o;for(;--l>=0&&u[l]==="\\";)c=!c;return c?"|":" |"}),r=n.split(er.splitPipe),i=0;if(r[0].trim()||r.shift(),r.length>0&&!((s=r.at(-1))!=null&&s.trim())&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(er.slashPipe,"|");return r}function Su(t,e,n){let r=t.length;if(r===0)return"";let i=0;for(;i<r&&t.charAt(r-i-1)===e;)i++;return t.slice(0,r-i)}function JG(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function hw(t,e,n,r,i){let s=e.href,a=e.title||null,o=t[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;let u={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:a,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,u}function ez(t,e,n){let r=t.match(n.other.indentCodeCompensation);if(r===null)return e;let i=r[1];return e.split(`
`).map(s=>{let a=s.match(n.other.beginningSpace);if(a===null)return s;let[o]=a;return o.length>=i.length?s.slice(i.length):s}).join(`
`)}var ad=class{constructor(e){Se(this,"options");Se(this,"rules");Se(this,"lexer");this.options=e||za}space(e){let n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){let n=this.rules.block.code.exec(e);if(n){let r=n[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Su(r,`
`)}}}fences(e){let n=this.rules.block.fences.exec(e);if(n){let r=n[0],i=ez(r,n[3]||"",this.rules);return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:i}}}heading(e){let n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(this.rules.other.endingHash.test(r)){let i=Su(r,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){let n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:Su(n[0],`
`)}}blockquote(e){let n=this.rules.block.blockquote.exec(e);if(n){let r=Su(n[0],`
`).split(`
`),i="",s="",a=[];for(;r.length>0;){let o=!1,u=[],c;for(c=0;c<r.length;c++)if(this.rules.other.blockquoteStart.test(r[c]))u.push(r[c]),o=!0;else if(!o)u.push(r[c]);else break;r=r.slice(c);let l=u.join(`
`),h=l.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${l}`:l,s=s?`${s}
${h}`:h;let d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,a,!0),this.lexer.state.top=d,r.length===0)break;let f=a.at(-1);if((f==null?void 0:f.type)==="code")break;if((f==null?void 0:f.type)==="blockquote"){let p=f,g=p.raw+`
`+r.join(`
`),m=this.blockquote(g);a[a.length-1]=m,i=i.substring(0,i.length-p.raw.length)+m.raw,s=s.substring(0,s.length-p.text.length)+m.text;break}else if((f==null?void 0:f.type)==="list"){let p=f,g=p.raw+`
`+r.join(`
`),m=this.list(g);a[a.length-1]=m,i=i.substring(0,i.length-f.raw.length)+m.raw,s=s.substring(0,s.length-p.raw.length)+m.raw,r=g.substring(a.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:a,text:s}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r=n[1].trim(),i=r.length>1,s={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");let a=this.rules.other.listItemRegex(r),o=!1;for(;e;){let c=!1,l="",h="";if(!(n=a.exec(e))||this.rules.block.hr.test(e))break;l=n[0],e=e.substring(l.length);let d=n[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,v=>" ".repeat(3*v.length)),f=e.split(`
`,1)[0],p=!d.trim(),g=0;if(this.options.pedantic?(g=2,h=d.trimStart()):p?g=n[1].length+1:(g=n[2].search(this.rules.other.nonSpaceChar),g=g>4?1:g,h=d.slice(g),g+=n[1].length),p&&this.rules.other.blankLine.test(f)&&(l+=f+`
`,e=e.substring(f.length+1),c=!0),!c){let v=this.rules.other.nextBulletRegex(g),b=this.rules.other.hrRegex(g),_=this.rules.other.fencesBeginRegex(g),k=this.rules.other.headingBeginRegex(g),C=this.rules.other.htmlBeginRegex(g);for(;e;){let x=e.split(`
`,1)[0],S;if(f=x,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),S=f):S=f.replace(this.rules.other.tabCharGlobal,"    "),_.test(f)||k.test(f)||C.test(f)||v.test(f)||b.test(f))break;if(S.search(this.rules.other.nonSpaceChar)>=g||!f.trim())h+=`
`+S.slice(g);else{if(p||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||_.test(d)||k.test(d)||b.test(d))break;h+=`
`+f}!p&&!f.trim()&&(p=!0),l+=x+`
`,e=e.substring(x.length+1),d=S.slice(g)}}s.loose||(o?s.loose=!0:this.rules.other.doubleBlankLine.test(l)&&(o=!0));let m=null,y;this.options.gfm&&(m=this.rules.other.listIsTask.exec(h),m&&(y=m[0]!=="[ ] ",h=h.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:l,task:!!m,checked:y,loose:!1,text:h,tokens:[]}),s.raw+=l}let u=s.items.at(-1);if(u)u.raw=u.raw.trimEnd(),u.text=u.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let c=0;c<s.items.length;c++)if(this.lexer.state.top=!1,s.items[c].tokens=this.lexer.blockTokens(s.items[c].text,[]),!s.loose){let l=s.items[c].tokens.filter(d=>d.type==="space"),h=l.length>0&&l.some(d=>this.rules.other.anyLine.test(d.raw));s.loose=h}if(s.loose)for(let c=0;c<s.items.length;c++)s.items[c].loose=!0;return s}}html(e){let n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){let n=this.rules.block.def.exec(e);if(n){let r=n[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=n[2]?n[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:s}}}table(e){var o;let n=this.rules.block.table.exec(e);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;let r=lw(n[1]),i=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=(o=n[3])!=null&&o.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],a={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===i.length){for(let u of i)this.rules.other.tableAlignRight.test(u)?a.align.push("right"):this.rules.other.tableAlignCenter.test(u)?a.align.push("center"):this.rules.other.tableAlignLeft.test(u)?a.align.push("left"):a.align.push(null);for(let u=0;u<r.length;u++)a.header.push({text:r[u],tokens:this.lexer.inline(r[u]),header:!0,align:a.align[u]});for(let u of s)a.rows.push(lw(u,a.header.length).map((c,l)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:a.align[l]})));return a}}lheading(e){let n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){let n=this.rules.block.paragraph.exec(e);if(n){let r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){let n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){let n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:n[1]}}tag(e){let n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&this.rules.other.startATag.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){let n=this.rules.inline.link.exec(e);if(n){let r=n[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let a=Su(r.slice(0,-1),"\\");if((r.length-a.length)%2===0)return}else{let a=JG(n[2],"()");if(a===-2)return;if(a>-1){let o=(n[0].indexOf("!")===0?5:4)+n[1].length+a;n[2]=n[2].substring(0,a),n[0]=n[0].substring(0,o).trim(),n[3]=""}}let i=n[2],s="";if(this.options.pedantic){let a=this.rules.other.pedanticHrefTitle.exec(i);a&&(i=a[1],s=a[3])}else s=n[3]?n[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?i=i.slice(1):i=i.slice(1,-1)),hw(n,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer,this.rules)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=n[i.toLowerCase()];if(!s){let a=r[0].charAt(0);return{type:"text",raw:a,text:a}}return hw(r,s,r[0],this.lexer,this.rules)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!(!i||i[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!r||this.rules.inline.punctuation.exec(r))){let s=[...i[0]].length-1,a,o,u=s,c=0,l=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,n=n.slice(-1*e.length+s);(i=l.exec(n))!=null;){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(o=[...a].length,i[3]||i[4]){u+=o;continue}else if((i[5]||i[6])&&s%3&&!((s+o)%3)){c+=o;continue}if(u-=o,u>0)continue;o=Math.min(o,o+u+c);let h=[...i[0]][0].length,d=e.slice(0,s+i.index+h+o);if(Math.min(s,o)%2){let p=d.slice(1,-1);return{type:"em",raw:d,text:p,tokens:this.lexer.inlineTokens(p)}}let f=d.slice(2,-2);return{type:"strong",raw:d,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(e){let n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(r),s=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return i&&s&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:n[0],text:r}}}br(e){let n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){let n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){let n=this.rules.inline.autolink.exec(e);if(n){let r,i;return n[2]==="@"?(r=n[1],i="mailto:"+r):(r=n[1],i=r),{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e){var r;let n;if(n=this.rules.inline.url.exec(e)){let i,s;if(n[2]==="@")i=n[0],s="mailto:"+i;else{let a;do a=n[0],n[0]=((r=this.rules.inline._backpedal.exec(n[0]))==null?void 0:r[0])??"";while(a!==n[0]);i=n[0],n[1]==="www."?s="http://"+n[0]:s=n[0]}return{type:"link",raw:n[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){let n=this.rules.inline.text.exec(e);if(n){let r=this.lexer.state.inRawBlock;return{type:"text",raw:n[0],text:n[0],escaped:r}}}},Vr=class Am{constructor(e){Se(this,"tokens");Se(this,"options");Se(this,"state");Se(this,"tokenizer");Se(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||za,this.options.tokenizer=this.options.tokenizer||new ad,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:er,block:hh.normal,inline:Nu.normal};this.options.pedantic?(n.block=hh.pedantic,n.inline=Nu.pedantic):this.options.gfm&&(n.block=hh.gfm,this.options.breaks?n.inline=Nu.breaks:n.inline=Nu.gfm),this.tokenizer.rules=n}static get rules(){return{block:hh,inline:Nu}}static lex(e,n){return new Am(n).lex(e)}static lexInline(e,n){return new Am(n).inlineTokens(e)}lex(e){e=e.replace(er.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){var i,s,a;for(this.options.pedantic&&(e=e.replace(er.tabCharGlobal,"    ").replace(er.spaceLine,""));e;){let o;if((s=(i=this.options.extensions)==null?void 0:i.block)!=null&&s.some(c=>(o=c.call({lexer:this},e,n))?(e=e.substring(o.raw.length),n.push(o),!0):!1))continue;if(o=this.tokenizer.space(e)){e=e.substring(o.raw.length);let c=n.at(-1);o.raw.length===1&&c!==void 0?c.raw+=`
`:n.push(o);continue}if(o=this.tokenizer.code(e)){e=e.substring(o.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+o.raw,c.text+=`
`+o.text,this.inlineQueue.at(-1).src=c.text):n.push(o);continue}if(o=this.tokenizer.fences(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.heading(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.hr(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.blockquote(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.list(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.html(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.def(e)){e=e.substring(o.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+o.raw,c.text+=`
`+o.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title},n.push(o));continue}if(o=this.tokenizer.table(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.lheading(e)){e=e.substring(o.raw.length),n.push(o);continue}let u=e;if((a=this.options.extensions)!=null&&a.startBlock){let c=1/0,l=e.slice(1),h;this.options.extensions.startBlock.forEach(d=>{h=d.call({lexer:this},l),typeof h=="number"&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(u=e.substring(0,c+1))}if(this.state.top&&(o=this.tokenizer.paragraph(u))){let c=n.at(-1);r&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+o.raw,c.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(o),r=u.length!==e.length,e=e.substring(o.raw.length);continue}if(o=this.tokenizer.text(e)){e=e.substring(o.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+o.raw,c.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(o);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){var u,c,l,h,d;let r=e,i=null;if(this.tokens.links){let f=Object.keys(this.tokens.links);if(f.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)f.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)s=i[2]?i[2].length:0,r=r.slice(0,i.index+s)+"["+"a".repeat(i[0].length-s-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=((c=(u=this.options.hooks)==null?void 0:u.emStrongMask)==null?void 0:c.call({lexer:this},r))??r;let a=!1,o="";for(;e;){a||(o=""),a=!1;let f;if((h=(l=this.options.extensions)==null?void 0:l.inline)!=null&&h.some(g=>(f=g.call({lexer:this},e,n))?(e=e.substring(f.raw.length),n.push(f),!0):!1))continue;if(f=this.tokenizer.escape(e)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.tag(e)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.link(e)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(f.raw.length);let g=n.at(-1);f.type==="text"&&(g==null?void 0:g.type)==="text"?(g.raw+=f.raw,g.text+=f.text):n.push(f);continue}if(f=this.tokenizer.emStrong(e,r,o)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.codespan(e)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.br(e)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.del(e)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.autolink(e)){e=e.substring(f.raw.length),n.push(f);continue}if(!this.state.inLink&&(f=this.tokenizer.url(e))){e=e.substring(f.raw.length),n.push(f);continue}let p=e;if((d=this.options.extensions)!=null&&d.startInline){let g=1/0,m=e.slice(1),y;this.options.extensions.startInline.forEach(v=>{y=v.call({lexer:this},m),typeof y=="number"&&y>=0&&(g=Math.min(g,y))}),g<1/0&&g>=0&&(p=e.substring(0,g+1))}if(f=this.tokenizer.inlineText(p)){e=e.substring(f.raw.length),f.raw.slice(-1)!=="_"&&(o=f.raw.slice(-1)),a=!0;let g=n.at(-1);(g==null?void 0:g.type)==="text"?(g.raw+=f.raw,g.text+=f.text):n.push(f);continue}if(e){let g="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(g);break}else throw new Error(g)}}return n}},od=class{constructor(e){Se(this,"options");Se(this,"parser");this.options=e||za}space(e){return""}code({text:e,lang:n,escaped:r}){var a;let i=(a=(n||"").match(er.notSpaceStart))==null?void 0:a[0],s=e.replace(er.endingNewline,"")+`
`;return i?'<pre><code class="language-'+yi(i)+'">'+(r?s:yi(s,!0))+`</code></pre>
`:"<pre><code>"+(r?s:yi(s,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:n}){return`<h${n}>${this.parser.parseInline(e)}</h${n}>
`}hr(e){return`<hr>
`}list(e){let n=e.ordered,r=e.start,i="";for(let o=0;o<e.items.length;o++){let u=e.items[o];i+=this.listitem(u)}let s=n?"ol":"ul",a=n&&r!==1?' start="'+r+'"':"";return"<"+s+a+`>
`+i+"</"+s+`>
`}listitem(e){var r;let n="";if(e.task){let i=this.checkbox({checked:!!e.checked});e.loose?((r=e.tokens[0])==null?void 0:r.type)==="paragraph"?(e.tokens[0].text=i+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=i+" "+yi(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):n+=i+" "}return n+=this.parser.parse(e.tokens,!!e.loose),`<li>${n}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let n="",r="";for(let s=0;s<e.header.length;s++)r+=this.tablecell(e.header[s]);n+=this.tablerow({text:r});let i="";for(let s=0;s<e.rows.length;s++){let a=e.rows[s];r="";for(let o=0;o<a.length;o++)r+=this.tablecell(a[o]);i+=this.tablerow({text:r})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let n=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+n+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${yi(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:n,tokens:r}){let i=this.parser.parseInline(r),s=cw(e);if(s===null)return i;e=s;let a='<a href="'+e+'"';return n&&(a+=' title="'+yi(n)+'"'),a+=">"+i+"</a>",a}image({href:e,title:n,text:r,tokens:i}){i&&(r=this.parser.parseInline(i,this.parser.textRenderer));let s=cw(e);if(s===null)return yi(r);e=s;let a=`<img src="${e}" alt="${r}"`;return n&&(a+=` title="${yi(n)}"`),a+=">",a}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:yi(e.text)}},Jv=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},Xr=class Nm{constructor(e){Se(this,"options");Se(this,"renderer");Se(this,"textRenderer");this.options=e||za,this.options.renderer=this.options.renderer||new od,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Jv}static parse(e,n){return new Nm(n).parse(e)}static parseInline(e,n){return new Nm(n).parseInline(e)}parse(e,n=!0){var i,s;let r="";for(let a=0;a<e.length;a++){let o=e[a];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[o.type]){let c=o,l=this.options.extensions.renderers[c.type].call({parser:this},c);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(c.type)){r+=l||"";continue}}let u=o;switch(u.type){case"space":{r+=this.renderer.space(u);continue}case"hr":{r+=this.renderer.hr(u);continue}case"heading":{r+=this.renderer.heading(u);continue}case"code":{r+=this.renderer.code(u);continue}case"table":{r+=this.renderer.table(u);continue}case"blockquote":{r+=this.renderer.blockquote(u);continue}case"list":{r+=this.renderer.list(u);continue}case"html":{r+=this.renderer.html(u);continue}case"def":{r+=this.renderer.def(u);continue}case"paragraph":{r+=this.renderer.paragraph(u);continue}case"text":{let c=u,l=this.renderer.text(c);for(;a+1<e.length&&e[a+1].type==="text";)c=e[++a],l+=`
`+this.renderer.text(c);n?r+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):r+=l;continue}default:{let c='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}parseInline(e,n=this.renderer){var i,s;let r="";for(let a=0;a<e.length;a++){let o=e[a];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[o.type]){let c=this.options.extensions.renderers[o.type].call({parser:this},o);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){r+=c||"";continue}}let u=o;switch(u.type){case"escape":{r+=n.text(u);break}case"html":{r+=n.html(u);break}case"link":{r+=n.link(u);break}case"image":{r+=n.image(u);break}case"strong":{r+=n.strong(u);break}case"em":{r+=n.em(u);break}case"codespan":{r+=n.codespan(u);break}case"br":{r+=n.br(u);break}case"del":{r+=n.del(u);break}case"text":{r+=n.text(u);break}default:{let c='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}},Rh,cc=(Rh=class{constructor(e){Se(this,"options");Se(this,"block");this.options=e||za}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?Vr.lex:Vr.lexInline}provideParser(){return this.block?Xr.parse:Xr.parseInline}},Se(Rh,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),Se(Rh,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),Rh),tz=class{constructor(...e){Se(this,"defaults",Wv());Se(this,"options",this.setOptions);Se(this,"parse",this.parseMarkdown(!0));Se(this,"parseInline",this.parseMarkdown(!1));Se(this,"Parser",Xr);Se(this,"Renderer",od);Se(this,"TextRenderer",Jv);Se(this,"Lexer",Vr);Se(this,"Tokenizer",ad);Se(this,"Hooks",cc);this.use(...e)}walkTokens(e,n){var i,s;let r=[];for(let a of e)switch(r=r.concat(n.call(this,a)),a.type){case"table":{let o=a;for(let u of o.header)r=r.concat(this.walkTokens(u.tokens,n));for(let u of o.rows)for(let c of u)r=r.concat(this.walkTokens(c.tokens,n));break}case"list":{let o=a;r=r.concat(this.walkTokens(o.items,n));break}default:{let o=a;(s=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&s[o.type]?this.defaults.extensions.childTokens[o.type].forEach(u=>{let c=o[u].flat(1/0);r=r.concat(this.walkTokens(c,n))}):o.tokens&&(r=r.concat(this.walkTokens(o.tokens,n)))}}return r}use(...e){let n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{let i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let a=n.renderers[s.name];a?n.renderers[s.name]=function(...o){let u=s.renderer.apply(this,o);return u===!1&&(u=a.apply(this,o)),u}:n.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let a=n[s.level];a?a.unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),i.extensions=n),r.renderer){let s=this.defaults.renderer||new od(this.defaults);for(let a in r.renderer){if(!(a in s))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;let o=a,u=r.renderer[o],c=s[o];s[o]=(...l)=>{let h=u.apply(s,l);return h===!1&&(h=c.apply(s,l)),h||""}}i.renderer=s}if(r.tokenizer){let s=this.defaults.tokenizer||new ad(this.defaults);for(let a in r.tokenizer){if(!(a in s))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;let o=a,u=r.tokenizer[o],c=s[o];s[o]=(...l)=>{let h=u.apply(s,l);return h===!1&&(h=c.apply(s,l)),h}}i.tokenizer=s}if(r.hooks){let s=this.defaults.hooks||new cc;for(let a in r.hooks){if(!(a in s))throw new Error(`hook '${a}' does not exist`);if(["options","block"].includes(a))continue;let o=a,u=r.hooks[o],c=s[o];cc.passThroughHooks.has(a)?s[o]=l=>{if(this.defaults.async&&cc.passThroughHooksRespectAsync.has(a))return(async()=>{let d=await u.call(s,l);return c.call(s,d)})();let h=u.call(s,l);return c.call(s,h)}:s[o]=(...l)=>{if(this.defaults.async)return(async()=>{let d=await u.apply(s,l);return d===!1&&(d=await c.apply(s,l)),d})();let h=u.apply(s,l);return h===!1&&(h=c.apply(s,l)),h}}i.hooks=s}if(r.walkTokens){let s=this.defaults.walkTokens,a=r.walkTokens;i.walkTokens=function(o){let u=[];return u.push(a.call(this,o)),s&&(u=u.concat(s.call(this,o))),u}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return Vr.lex(e,n??this.defaults)}parser(e,n){return Xr.parse(e,n??this.defaults)}parseMarkdown(e){return(n,r)=>{let i={...r},s={...this.defaults,...i},a=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=e),s.async)return(async()=>{let o=s.hooks?await s.hooks.preprocess(n):n,u=await(s.hooks?await s.hooks.provideLexer():e?Vr.lex:Vr.lexInline)(o,s),c=s.hooks?await s.hooks.processAllTokens(u):u;s.walkTokens&&await Promise.all(this.walkTokens(c,s.walkTokens));let l=await(s.hooks?await s.hooks.provideParser():e?Xr.parse:Xr.parseInline)(c,s);return s.hooks?await s.hooks.postprocess(l):l})().catch(a);try{s.hooks&&(n=s.hooks.preprocess(n));let o=(s.hooks?s.hooks.provideLexer():e?Vr.lex:Vr.lexInline)(n,s);s.hooks&&(o=s.hooks.processAllTokens(o)),s.walkTokens&&this.walkTokens(o,s.walkTokens);let u=(s.hooks?s.hooks.provideParser():e?Xr.parse:Xr.parseInline)(o,s);return s.hooks&&(u=s.hooks.postprocess(u)),u}catch(o){return a(o)}}}onError(e,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let i="<p>An error occurred:</p><pre>"+yi(r.message+"",!0)+"</pre>";return n?Promise.resolve(i):i}if(n)return Promise.reject(r);throw r}}},Ma=new tz;function Nt(t,e){return Ma.parse(t,e)}Nt.options=Nt.setOptions=function(t){return Ma.setOptions(t),Nt.defaults=Ma.defaults,cR(Nt.defaults),Nt};Nt.getDefaults=Wv;Nt.defaults=za;Nt.use=function(...t){return Ma.use(...t),Nt.defaults=Ma.defaults,cR(Nt.defaults),Nt};Nt.walkTokens=function(t,e){return Ma.walkTokens(t,e)};Nt.parseInline=Ma.parseInline;Nt.Parser=Xr;Nt.parser=Xr.parse;Nt.Renderer=od;Nt.TextRenderer=Jv;Nt.Lexer=Vr;Nt.lexer=Vr.lex;Nt.Tokenizer=ad;Nt.Hooks=cc;Nt.parse=Nt;Nt.options;Nt.setOptions;Nt.use;Nt.walkTokens;Nt.parseInline;Xr.parse;Vr.lex;function bJ(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Array.from(typeof t=="string"?[t]:t);r[r.length-1]=r[r.length-1].replace(/\r?\n([\t ]*)$/,"");var i=r.reduce(function(o,u){var c=u.match(/\n([\t ]+|(?!\s).)/g);return c?o.concat(c.map(function(l){var h,d;return(d=(h=l.match(/[\t ]/g))===null||h===void 0?void 0:h.length)!==null&&d!==void 0?d:0})):o},[]);if(i.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");r=r.map(function(o){return o.replace(s,`
`)})}r[0]=r[0].replace(/^\r?\n/,"");var a=r[0];return e.forEach(function(o,u){var c=a.match(/(?:^|\n)( *)$/),l=c?c[1]:"",h=o;typeof o=="string"&&o.includes(`
`)&&(h=String(o).split(`
`).map(function(d,f){return f===0?d:""+l+d}).join(`
`)),a+=h+r[u+1]}),a}function Yg(t,e,n){if(t&&t.length){const[r,i]=e,s=Math.PI/180*n,a=Math.cos(s),o=Math.sin(s);for(const u of t){const[c,l]=u;u[0]=(c-r)*a-(l-i)*o+r,u[1]=(c-r)*o+(l-i)*a+i}}}function nz(t,e){return t[0]===e[0]&&t[1]===e[1]}function rz(t,e,n,r=1){const i=n,s=Math.max(e,.1),a=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,o=[0,0];if(i)for(const c of a)Yg(c,o,i);const u=(function(c,l,h){const d=[];for(const v of c){const b=[...v];nz(b[0],b[b.length-1])||b.push([b[0][0],b[0][1]]),b.length>2&&d.push(b)}const f=[];l=Math.max(l,.1);const p=[];for(const v of d)for(let b=0;b<v.length-1;b++){const _=v[b],k=v[b+1];if(_[1]!==k[1]){const C=Math.min(_[1],k[1]);p.push({ymin:C,ymax:Math.max(_[1],k[1]),x:C===_[1]?_[0]:k[0],islope:(k[0]-_[0])/(k[1]-_[1])})}}if(p.sort(((v,b)=>v.ymin<b.ymin?-1:v.ymin>b.ymin?1:v.x<b.x?-1:v.x>b.x?1:v.ymax===b.ymax?0:(v.ymax-b.ymax)/Math.abs(v.ymax-b.ymax))),!p.length)return f;let g=[],m=p[0].ymin,y=0;for(;g.length||p.length;){if(p.length){let v=-1;for(let b=0;b<p.length&&!(p[b].ymin>m);b++)v=b;p.splice(0,v+1).forEach((b=>{g.push({s:m,edge:b})}))}if(g=g.filter((v=>!(v.edge.ymax<=m))),g.sort(((v,b)=>v.edge.x===b.edge.x?0:(v.edge.x-b.edge.x)/Math.abs(v.edge.x-b.edge.x))),(h!==1||y%l==0)&&g.length>1)for(let v=0;v<g.length;v+=2){const b=v+1;if(b>=g.length)break;const _=g[v].edge,k=g[b].edge;f.push([[Math.round(_.x),m],[Math.round(k.x),m]])}m+=h,g.forEach((v=>{v.edge.x=v.edge.x+h*v.edge.islope})),y++}return f})(a,s,r);if(i){for(const c of a)Yg(c,o,-i);(function(c,l,h){const d=[];c.forEach((f=>d.push(...f))),Yg(d,l,h)})(u,o,-i)}return u}function xl(t,e){var n;const r=e.hachureAngle+90;let i=e.hachureGap;i<0&&(i=4*e.strokeWidth),i=Math.round(Math.max(i,.1));let s=1;return e.roughness>=1&&(((n=e.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(s=i),rz(t,i,r,s||1)}class e_{constructor(e){this.helper=e}fillPolygons(e,n){return this._fillPolygons(e,n)}_fillPolygons(e,n){const r=xl(e,n);return{type:"fillSketch",ops:this.renderLines(r,n)}}renderLines(e,n){const r=[];for(const i of e)r.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],n));return r}}function Rp(t){const e=t[0],n=t[1];return Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))}class iz extends e_{fillPolygons(e,n){let r=n.hachureGap;r<0&&(r=4*n.strokeWidth),r=Math.max(r,.1);const i=xl(e,Object.assign({},n,{hachureGap:r})),s=Math.PI/180*n.hachureAngle,a=[],o=.5*r*Math.cos(s),u=.5*r*Math.sin(s);for(const[c,l]of i)Rp([c,l])&&a.push([[c[0]-o,c[1]+u],[...l]],[[c[0]+o,c[1]-u],[...l]]);return{type:"fillSketch",ops:this.renderLines(a,n)}}}class sz extends e_{fillPolygons(e,n){const r=this._fillPolygons(e,n),i=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),s=this._fillPolygons(e,i);return r.ops=r.ops.concat(s.ops),r}}class az{constructor(e){this.helper=e}fillPolygons(e,n){const r=xl(e,n=Object.assign({},n,{hachureAngle:0}));return this.dotsOnLines(r,n)}dotsOnLines(e,n){const r=[];let i=n.hachureGap;i<0&&(i=4*n.strokeWidth),i=Math.max(i,.1);let s=n.fillWeight;s<0&&(s=n.strokeWidth/2);const a=i/4;for(const o of e){const u=Rp(o),c=u/i,l=Math.ceil(c)-1,h=u-l*i,d=(o[0][0]+o[1][0])/2-i/4,f=Math.min(o[0][1],o[1][1]);for(let p=0;p<l;p++){const g=f+h+p*i,m=d-a+2*Math.random()*a,y=g-a+2*Math.random()*a,v=this.helper.ellipse(m,y,s,s,n);r.push(...v.ops)}}return{type:"fillSketch",ops:r}}}class oz{constructor(e){this.helper=e}fillPolygons(e,n){const r=xl(e,n);return{type:"fillSketch",ops:this.dashedLine(r,n)}}dashedLine(e,n){const r=n.dashOffset<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashOffset,i=n.dashGap<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashGap,s=[];return e.forEach((a=>{const o=Rp(a),u=Math.floor(o/(r+i)),c=(o+i-u*(r+i))/2;let l=a[0],h=a[1];l[0]>h[0]&&(l=a[1],h=a[0]);const d=Math.atan((h[1]-l[1])/(h[0]-l[0]));for(let f=0;f<u;f++){const p=f*(r+i),g=p+r,m=[l[0]+p*Math.cos(d)+c*Math.cos(d),l[1]+p*Math.sin(d)+c*Math.sin(d)],y=[l[0]+g*Math.cos(d)+c*Math.cos(d),l[1]+g*Math.sin(d)+c*Math.sin(d)];s.push(...this.helper.doubleLineOps(m[0],m[1],y[0],y[1],n))}})),s}}class uz{constructor(e){this.helper=e}fillPolygons(e,n){const r=n.hachureGap<0?4*n.strokeWidth:n.hachureGap,i=n.zigzagOffset<0?r:n.zigzagOffset,s=xl(e,n=Object.assign({},n,{hachureGap:r+i}));return{type:"fillSketch",ops:this.zigzagLines(s,i,n)}}zigzagLines(e,n,r){const i=[];return e.forEach((s=>{const a=Rp(s),o=Math.round(a/(2*n));let u=s[0],c=s[1];u[0]>c[0]&&(u=s[1],c=s[0]);const l=Math.atan((c[1]-u[1])/(c[0]-u[0]));for(let h=0;h<o;h++){const d=2*h*n,f=2*(h+1)*n,p=Math.sqrt(2*Math.pow(n,2)),g=[u[0]+d*Math.cos(l),u[1]+d*Math.sin(l)],m=[u[0]+f*Math.cos(l),u[1]+f*Math.sin(l)],y=[g[0]+p*Math.cos(l+Math.PI/4),g[1]+p*Math.sin(l+Math.PI/4)];i.push(...this.helper.doubleLineOps(g[0],g[1],y[0],y[1],r),...this.helper.doubleLineOps(y[0],y[1],m[0],m[1],r))}})),i}}const or={};class cz{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const lz=0,Vg=1,fw=2,fh={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Xg(t,e){return t.type===e}function t_(t){const e=[],n=(function(a){const o=new Array;for(;a!=="";)if(a.match(/^([ \t\r\n,]+)/))a=a.substr(RegExp.$1.length);else if(a.match(/^([aAcChHlLmMqQsStTvVzZ])/))o[o.length]={type:lz,text:RegExp.$1},a=a.substr(RegExp.$1.length);else{if(!a.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];o[o.length]={type:Vg,text:`${parseFloat(RegExp.$1)}`},a=a.substr(RegExp.$1.length)}return o[o.length]={type:fw,text:""},o})(t);let r="BOD",i=0,s=n[i];for(;!Xg(s,fw);){let a=0;const o=[];if(r==="BOD"){if(s.text!=="M"&&s.text!=="m")return t_("M0,0"+t);i++,a=fh[s.text],r=s.text}else Xg(s,Vg)?a=fh[r]:(i++,a=fh[s.text],r=s.text);if(!(i+a<n.length))throw new Error("Path data ended short");for(let u=i;u<i+a;u++){const c=n[u];if(!Xg(c,Vg))throw new Error("Param not a number: "+r+","+c.text);o[o.length]=+c.text}if(typeof fh[r]!="number")throw new Error("Bad segment: "+r);{const u={key:r,data:o};e.push(u),i+=a,s=n[i],r==="M"&&(r="L"),r==="m"&&(r="l")}}return e}function _R(t){let e=0,n=0,r=0,i=0;const s=[];for(const{key:a,data:o}of t)switch(a){case"M":s.push({key:"M",data:[...o]}),[e,n]=o,[r,i]=o;break;case"m":e+=o[0],n+=o[1],s.push({key:"M",data:[e,n]}),r=e,i=n;break;case"L":s.push({key:"L",data:[...o]}),[e,n]=o;break;case"l":e+=o[0],n+=o[1],s.push({key:"L",data:[e,n]});break;case"C":s.push({key:"C",data:[...o]}),e=o[4],n=o[5];break;case"c":{const u=o.map(((c,l)=>l%2?c+n:c+e));s.push({key:"C",data:u}),e=u[4],n=u[5];break}case"Q":s.push({key:"Q",data:[...o]}),e=o[2],n=o[3];break;case"q":{const u=o.map(((c,l)=>l%2?c+n:c+e));s.push({key:"Q",data:u}),e=u[2],n=u[3];break}case"A":s.push({key:"A",data:[...o]}),e=o[5],n=o[6];break;case"a":e+=o[5],n+=o[6],s.push({key:"A",data:[o[0],o[1],o[2],o[3],o[4],e,n]});break;case"H":s.push({key:"H",data:[...o]}),e=o[0];break;case"h":e+=o[0],s.push({key:"H",data:[e]});break;case"V":s.push({key:"V",data:[...o]}),n=o[0];break;case"v":n+=o[0],s.push({key:"V",data:[n]});break;case"S":s.push({key:"S",data:[...o]}),e=o[2],n=o[3];break;case"s":{const u=o.map(((c,l)=>l%2?c+n:c+e));s.push({key:"S",data:u}),e=u[2],n=u[3];break}case"T":s.push({key:"T",data:[...o]}),e=o[0],n=o[1];break;case"t":e+=o[0],n+=o[1],s.push({key:"T",data:[e,n]});break;case"Z":case"z":s.push({key:"Z",data:[]}),e=r,n=i}return s}function ER(t){const e=[];let n="",r=0,i=0,s=0,a=0,o=0,u=0;for(const{key:c,data:l}of t){switch(c){case"M":e.push({key:"M",data:[...l]}),[r,i]=l,[s,a]=l;break;case"C":e.push({key:"C",data:[...l]}),r=l[4],i=l[5],o=l[2],u=l[3];break;case"L":e.push({key:"L",data:[...l]}),[r,i]=l;break;case"H":r=l[0],e.push({key:"L",data:[r,i]});break;case"V":i=l[0],e.push({key:"L",data:[r,i]});break;case"S":{let h=0,d=0;n==="C"||n==="S"?(h=r+(r-o),d=i+(i-u)):(h=r,d=i),e.push({key:"C",data:[h,d,...l]}),o=l[0],u=l[1],r=l[2],i=l[3];break}case"T":{const[h,d]=l;let f=0,p=0;n==="Q"||n==="T"?(f=r+(r-o),p=i+(i-u)):(f=r,p=i);const g=r+2*(f-r)/3,m=i+2*(p-i)/3,y=h+2*(f-h)/3,v=d+2*(p-d)/3;e.push({key:"C",data:[g,m,y,v,h,d]}),o=f,u=p,r=h,i=d;break}case"Q":{const[h,d,f,p]=l,g=r+2*(h-r)/3,m=i+2*(d-i)/3,y=f+2*(h-f)/3,v=p+2*(d-p)/3;e.push({key:"C",data:[g,m,y,v,f,p]}),o=h,u=d,r=f,i=p;break}case"A":{const h=Math.abs(l[0]),d=Math.abs(l[1]),f=l[2],p=l[3],g=l[4],m=l[5],y=l[6];h===0||d===0?(e.push({key:"C",data:[r,i,m,y,m,y]}),r=m,i=y):(r!==m||i!==y)&&(wR(r,i,m,y,h,d,f,p,g).forEach((function(v){e.push({key:"C",data:v})})),r=m,i=y);break}case"Z":e.push({key:"Z",data:[]}),r=s,i=a}n=c}return e}function Ru(t,e,n){return[t*Math.cos(n)-e*Math.sin(n),t*Math.sin(n)+e*Math.cos(n)]}function wR(t,e,n,r,i,s,a,o,u,c){const l=(h=a,Math.PI*h/180);var h;let d=[],f=0,p=0,g=0,m=0;if(c)[f,p,g,m]=c;else{[t,e]=Ru(t,e,-l),[n,r]=Ru(n,r,-l);const R=(t-n)/2,E=(e-r)/2;let w=R*R/(i*i)+E*E/(s*s);w>1&&(w=Math.sqrt(w),i*=w,s*=w);const T=i*i,A=s*s,N=T*A-T*E*E-A*R*R,P=T*E*E+A*R*R,F=(o===u?-1:1)*Math.sqrt(Math.abs(N/P));g=F*i*E/s+(t+n)/2,m=F*-s*R/i+(e+r)/2,f=Math.asin(parseFloat(((e-m)/s).toFixed(9))),p=Math.asin(parseFloat(((r-m)/s).toFixed(9))),t<g&&(f=Math.PI-f),n<g&&(p=Math.PI-p),f<0&&(f=2*Math.PI+f),p<0&&(p=2*Math.PI+p),u&&f>p&&(f-=2*Math.PI),!u&&p>f&&(p-=2*Math.PI)}let y=p-f;if(Math.abs(y)>120*Math.PI/180){const R=p,E=n,w=r;p=u&&p>f?f+120*Math.PI/180*1:f+120*Math.PI/180*-1,d=wR(n=g+i*Math.cos(p),r=m+s*Math.sin(p),E,w,i,s,a,0,u,[p,R,g,m])}y=p-f;const v=Math.cos(f),b=Math.sin(f),_=Math.cos(p),k=Math.sin(p),C=Math.tan(y/4),x=4/3*i*C,S=4/3*s*C,O=[t,e],D=[t+x*b,e-S*v],I=[n+x*k,r-S*_],M=[n,r];if(D[0]=2*O[0]-D[0],D[1]=2*O[1]-D[1],c)return[D,I,M].concat(d);{d=[D,I,M].concat(d);const R=[];for(let E=0;E<d.length;E+=3){const w=Ru(d[E][0],d[E][1],l),T=Ru(d[E+1][0],d[E+1][1],l),A=Ru(d[E+2][0],d[E+2][1],l);R.push([w[0],w[1],T[0],T[1],A[0],A[1]])}return R}}const hz={randOffset:function(t,e){return qe(t,e)},randOffsetWithRange:function(t,e,n){return ud(t,e,n)},ellipse:function(t,e,n,r,i){const s=TR(n,r,i);return Sm(t,e,i,s).opset},doubleLineOps:function(t,e,n,r,i){return Is(t,e,n,r,i,!0)}};function xR(t,e,n,r,i){return{type:"path",ops:Is(t,e,n,r,i)}}function Vh(t,e,n){const r=(t||[]).length;if(r>2){const i=[];for(let s=0;s<r-1;s++)i.push(...Is(t[s][0],t[s][1],t[s+1][0],t[s+1][1],n));return e&&i.push(...Is(t[r-1][0],t[r-1][1],t[0][0],t[0][1],n)),{type:"path",ops:i}}return r===2?xR(t[0][0],t[0][1],t[1][0],t[1][1],n):{type:"path",ops:[]}}function fz(t,e,n,r,i){return(function(s,a){return Vh(s,!0,a)})([[t,e],[t+n,e],[t+n,e+r],[t,e+r]],i)}function dw(t,e){if(t.length){const n=typeof t[0][0]=="number"?[t]:t,r=dh(n[0],1*(1+.2*e.roughness),e),i=e.disableMultiStroke?[]:dh(n[0],1.5*(1+.22*e.roughness),mw(e));for(let s=1;s<n.length;s++){const a=n[s];if(a.length){const o=dh(a,1*(1+.2*e.roughness),e),u=e.disableMultiStroke?[]:dh(a,1.5*(1+.22*e.roughness),mw(e));for(const c of o)c.op!=="move"&&r.push(c);for(const c of u)c.op!=="move"&&i.push(c)}}return{type:"path",ops:r.concat(i)}}return{type:"path",ops:[]}}function TR(t,e,n){const r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),i=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r)),s=2*Math.PI/i;let a=Math.abs(t/2),o=Math.abs(e/2);const u=1-n.curveFitting;return a+=qe(a*u,n),o+=qe(o*u,n),{increment:s,rx:a,ry:o}}function Sm(t,e,n,r){const[i,s]=yw(r.increment,t,e,r.rx,r.ry,1,r.increment*ud(.1,ud(.4,1,n),n),n);let a=cd(i,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[o]=yw(r.increment,t,e,r.rx,r.ry,1.5,0,n),u=cd(o,null,n);a=a.concat(u)}return{estimatedPoints:s,opset:{type:"path",ops:a}}}function pw(t,e,n,r,i,s,a,o,u){const c=t,l=e;let h=Math.abs(n/2),d=Math.abs(r/2);h+=qe(.01*h,u),d+=qe(.01*d,u);let f=i,p=s;for(;f<0;)f+=2*Math.PI,p+=2*Math.PI;p-f>2*Math.PI&&(f=0,p=2*Math.PI);const g=2*Math.PI/u.curveStepCount,m=Math.min(g/2,(p-f)/2),y=bw(m,c,l,h,d,f,p,1,u);if(!u.disableMultiStroke){const v=bw(m,c,l,h,d,f,p,1.5,u);y.push(...v)}return a&&(o?y.push(...Is(c,l,c+h*Math.cos(f),l+d*Math.sin(f),u),...Is(c,l,c+h*Math.cos(p),l+d*Math.sin(p),u)):y.push({op:"lineTo",data:[c,l]},{op:"lineTo",data:[c+h*Math.cos(f),l+d*Math.sin(f)]})),{type:"path",ops:y}}function gw(t,e){const n=ER(_R(t_(t))),r=[];let i=[0,0],s=[0,0];for(const{key:a,data:o}of n)switch(a){case"M":s=[o[0],o[1]],i=[o[0],o[1]];break;case"L":r.push(...Is(s[0],s[1],o[0],o[1],e)),s=[o[0],o[1]];break;case"C":{const[u,c,l,h,d,f]=o;r.push(...dz(u,c,l,h,d,f,s,e)),s=[d,f];break}case"Z":r.push(...Is(s[0],s[1],i[0],i[1],e)),s=[i[0],i[1]]}return{type:"path",ops:r}}function jg(t,e){const n=[];for(const r of t)if(r.length){const i=e.maxRandomnessOffset||0,s=r.length;if(s>2){n.push({op:"move",data:[r[0][0]+qe(i,e),r[0][1]+qe(i,e)]});for(let a=1;a<s;a++)n.push({op:"lineTo",data:[r[a][0]+qe(i,e),r[a][1]+qe(i,e)]})}}return{type:"fillPath",ops:n}}function eo(t,e){return(function(n,r){let i=n.fillStyle||"hachure";if(!or[i])switch(i){case"zigzag":or[i]||(or[i]=new iz(r));break;case"cross-hatch":or[i]||(or[i]=new sz(r));break;case"dots":or[i]||(or[i]=new az(r));break;case"dashed":or[i]||(or[i]=new oz(r));break;case"zigzag-line":or[i]||(or[i]=new uz(r));break;default:i="hachure",or[i]||(or[i]=new e_(r))}return or[i]})(e,hz).fillPolygons(t,e)}function mw(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function kR(t){return t.randomizer||(t.randomizer=new cz(t.seed||0)),t.randomizer.next()}function ud(t,e,n,r=1){return n.roughness*r*(kR(n)*(e-t)+t)}function qe(t,e,n=1){return ud(-t,t,e,n)}function Is(t,e,n,r,i,s=!1){const a=s?i.disableMultiStrokeFill:i.disableMultiStroke,o=Rm(t,e,n,r,i,!0,!1);if(a)return o;const u=Rm(t,e,n,r,i,!0,!0);return o.concat(u)}function Rm(t,e,n,r,i,s,a){const o=Math.pow(t-n,2)+Math.pow(e-r,2),u=Math.sqrt(o);let c=1;c=u<200?1:u>500?.4:-.0016668*u+1.233334;let l=i.maxRandomnessOffset||0;l*l*100>o&&(l=u/10);const h=l/2,d=.2+.2*kR(i);let f=i.bowing*i.maxRandomnessOffset*(r-e)/200,p=i.bowing*i.maxRandomnessOffset*(t-n)/200;f=qe(f,i,c),p=qe(p,i,c);const g=[],m=()=>qe(h,i,c),y=()=>qe(l,i,c),v=i.preserveVertices;return a?g.push({op:"move",data:[t+(v?0:m()),e+(v?0:m())]}):g.push({op:"move",data:[t+(v?0:qe(l,i,c)),e+(v?0:qe(l,i,c))]}),a?g.push({op:"bcurveTo",data:[f+t+(n-t)*d+m(),p+e+(r-e)*d+m(),f+t+2*(n-t)*d+m(),p+e+2*(r-e)*d+m(),n+(v?0:m()),r+(v?0:m())]}):g.push({op:"bcurveTo",data:[f+t+(n-t)*d+y(),p+e+(r-e)*d+y(),f+t+2*(n-t)*d+y(),p+e+2*(r-e)*d+y(),n+(v?0:y()),r+(v?0:y())]}),g}function dh(t,e,n){if(!t.length)return[];const r=[];r.push([t[0][0]+qe(e,n),t[0][1]+qe(e,n)]),r.push([t[0][0]+qe(e,n),t[0][1]+qe(e,n)]);for(let i=1;i<t.length;i++)r.push([t[i][0]+qe(e,n),t[i][1]+qe(e,n)]),i===t.length-1&&r.push([t[i][0]+qe(e,n),t[i][1]+qe(e,n)]);return cd(r,null,n)}function cd(t,e,n){const r=t.length,i=[];if(r>3){const s=[],a=1-n.curveTightness;i.push({op:"move",data:[t[1][0],t[1][1]]});for(let o=1;o+2<r;o++){const u=t[o];s[0]=[u[0],u[1]],s[1]=[u[0]+(a*t[o+1][0]-a*t[o-1][0])/6,u[1]+(a*t[o+1][1]-a*t[o-1][1])/6],s[2]=[t[o+1][0]+(a*t[o][0]-a*t[o+2][0])/6,t[o+1][1]+(a*t[o][1]-a*t[o+2][1])/6],s[3]=[t[o+1][0],t[o+1][1]],i.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}}else r===3?(i.push({op:"move",data:[t[1][0],t[1][1]]}),i.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):r===2&&i.push(...Rm(t[0][0],t[0][1],t[1][0],t[1][1],n,!0,!0));return i}function yw(t,e,n,r,i,s,a,o){const u=[],c=[];if(o.roughness===0){t/=4,c.push([e+r*Math.cos(-t),n+i*Math.sin(-t)]);for(let l=0;l<=2*Math.PI;l+=t){const h=[e+r*Math.cos(l),n+i*Math.sin(l)];u.push(h),c.push(h)}c.push([e+r*Math.cos(0),n+i*Math.sin(0)]),c.push([e+r*Math.cos(t),n+i*Math.sin(t)])}else{const l=qe(.5,o)-Math.PI/2;c.push([qe(s,o)+e+.9*r*Math.cos(l-t),qe(s,o)+n+.9*i*Math.sin(l-t)]);const h=2*Math.PI+l-.01;for(let d=l;d<h;d+=t){const f=[qe(s,o)+e+r*Math.cos(d),qe(s,o)+n+i*Math.sin(d)];u.push(f),c.push(f)}c.push([qe(s,o)+e+r*Math.cos(l+2*Math.PI+.5*a),qe(s,o)+n+i*Math.sin(l+2*Math.PI+.5*a)]),c.push([qe(s,o)+e+.98*r*Math.cos(l+a),qe(s,o)+n+.98*i*Math.sin(l+a)]),c.push([qe(s,o)+e+.9*r*Math.cos(l+.5*a),qe(s,o)+n+.9*i*Math.sin(l+.5*a)])}return[c,u]}function bw(t,e,n,r,i,s,a,o,u){const c=s+qe(.1,u),l=[];l.push([qe(o,u)+e+.9*r*Math.cos(c-t),qe(o,u)+n+.9*i*Math.sin(c-t)]);for(let h=c;h<=a;h+=t)l.push([qe(o,u)+e+r*Math.cos(h),qe(o,u)+n+i*Math.sin(h)]);return l.push([e+r*Math.cos(a),n+i*Math.sin(a)]),l.push([e+r*Math.cos(a),n+i*Math.sin(a)]),cd(l,null,u)}function dz(t,e,n,r,i,s,a,o){const u=[],c=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3];let l=[0,0];const h=o.disableMultiStroke?1:2,d=o.preserveVertices;for(let f=0;f<h;f++)f===0?u.push({op:"move",data:[a[0],a[1]]}):u.push({op:"move",data:[a[0]+(d?0:qe(c[0],o)),a[1]+(d?0:qe(c[0],o))]}),l=d?[i,s]:[i+qe(c[f],o),s+qe(c[f],o)],u.push({op:"bcurveTo",data:[t+qe(c[f],o),e+qe(c[f],o),n+qe(c[f],o),r+qe(c[f],o),l[0],l[1]]});return u}function Cu(t){return[...t]}function vw(t,e=0){const n=t.length;if(n<3)throw new Error("A curve must have at least three points.");const r=[];if(n===3)r.push(Cu(t[0]),Cu(t[1]),Cu(t[2]),Cu(t[2]));else{const i=[];i.push(t[0],t[0]);for(let o=1;o<t.length;o++)i.push(t[o]),o===t.length-1&&i.push(t[o]);const s=[],a=1-e;r.push(Cu(i[0]));for(let o=1;o+2<i.length;o++){const u=i[o];s[0]=[u[0],u[1]],s[1]=[u[0]+(a*i[o+1][0]-a*i[o-1][0])/6,u[1]+(a*i[o+1][1]-a*i[o-1][1])/6],s[2]=[i[o+1][0]+(a*i[o][0]-a*i[o+2][0])/6,i[o+1][1]+(a*i[o][1]-a*i[o+2][1])/6],s[3]=[i[o+1][0],i[o+1][1]],r.push(s[1],s[2],s[3])}}return r}function Xh(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function pz(t,e,n){const r=Xh(e,n);if(r===0)return Xh(t,e);let i=((t[0]-e[0])*(n[0]-e[0])+(t[1]-e[1])*(n[1]-e[1]))/r;return i=Math.max(0,Math.min(1,i)),Xh(t,ra(e,n,i))}function ra(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]}function Cm(t,e,n,r){const i=r||[];if((function(o,u){const c=o[u+0],l=o[u+1],h=o[u+2],d=o[u+3];let f=3*l[0]-2*c[0]-d[0];f*=f;let p=3*l[1]-2*c[1]-d[1];p*=p;let g=3*h[0]-2*d[0]-c[0];g*=g;let m=3*h[1]-2*d[1]-c[1];return m*=m,f<g&&(f=g),p<m&&(p=m),f+p})(t,e)<n){const o=t[e+0];i.length?(s=i[i.length-1],a=o,Math.sqrt(Xh(s,a))>1&&i.push(o)):i.push(o),i.push(t[e+3])}else{const u=t[e+0],c=t[e+1],l=t[e+2],h=t[e+3],d=ra(u,c,.5),f=ra(c,l,.5),p=ra(l,h,.5),g=ra(d,f,.5),m=ra(f,p,.5),y=ra(g,m,.5);Cm([u,d,g,y],0,n,i),Cm([y,m,p,h],0,n,i)}var s,a;return i}function gz(t,e){return ld(t,0,t.length,e)}function ld(t,e,n,r,i){const s=i||[],a=t[e],o=t[n-1];let u=0,c=1;for(let l=e+1;l<n-1;++l){const h=pz(t[l],a,o);h>u&&(u=h,c=l)}return Math.sqrt(u)>r?(ld(t,e,c+1,r,s),ld(t,c,n,r,s)):(s.length||s.push(a),s.push(o)),s}function Kg(t,e=.15,n){const r=[],i=(t.length-1)/3;for(let s=0;s<i;s++)Cm(t,3*s,e,r);return n&&n>0?ld(r,0,r.length,n):r}const mr="none";class hd{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,n,r){return{shape:e,sets:n||[],options:r||this.defaultOptions}}line(e,n,r,i,s){const a=this._o(s);return this._d("line",[xR(e,n,r,i,a)],a)}rectangle(e,n,r,i,s){const a=this._o(s),o=[],u=fz(e,n,r,i,a);if(a.fill){const c=[[e,n],[e+r,n],[e+r,n+i],[e,n+i]];a.fillStyle==="solid"?o.push(jg([c],a)):o.push(eo([c],a))}return a.stroke!==mr&&o.push(u),this._d("rectangle",o,a)}ellipse(e,n,r,i,s){const a=this._o(s),o=[],u=TR(r,i,a),c=Sm(e,n,a,u);if(a.fill)if(a.fillStyle==="solid"){const l=Sm(e,n,a,u).opset;l.type="fillPath",o.push(l)}else o.push(eo([c.estimatedPoints],a));return a.stroke!==mr&&o.push(c.opset),this._d("ellipse",o,a)}circle(e,n,r,i){const s=this.ellipse(e,n,r,r,i);return s.shape="circle",s}linearPath(e,n){const r=this._o(n);return this._d("linearPath",[Vh(e,!1,r)],r)}arc(e,n,r,i,s,a,o=!1,u){const c=this._o(u),l=[],h=pw(e,n,r,i,s,a,o,!0,c);if(o&&c.fill)if(c.fillStyle==="solid"){const d=Object.assign({},c);d.disableMultiStroke=!0;const f=pw(e,n,r,i,s,a,!0,!1,d);f.type="fillPath",l.push(f)}else l.push((function(d,f,p,g,m,y,v){const b=d,_=f;let k=Math.abs(p/2),C=Math.abs(g/2);k+=qe(.01*k,v),C+=qe(.01*C,v);let x=m,S=y;for(;x<0;)x+=2*Math.PI,S+=2*Math.PI;S-x>2*Math.PI&&(x=0,S=2*Math.PI);const O=(S-x)/v.curveStepCount,D=[];for(let I=x;I<=S;I+=O)D.push([b+k*Math.cos(I),_+C*Math.sin(I)]);return D.push([b+k*Math.cos(S),_+C*Math.sin(S)]),D.push([b,_]),eo([D],v)})(e,n,r,i,s,a,c));return c.stroke!==mr&&l.push(h),this._d("arc",l,c)}curve(e,n){const r=this._o(n),i=[],s=dw(e,r);if(r.fill&&r.fill!==mr)if(r.fillStyle==="solid"){const a=dw(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(a.ops)})}else{const a=[],o=e;if(o.length){const u=typeof o[0][0]=="number"?[o]:o;for(const c of u)c.length<3?a.push(...c):c.length===3?a.push(...Kg(vw([c[0],c[0],c[1],c[2]]),10,(1+r.roughness)/2)):a.push(...Kg(vw(c),10,(1+r.roughness)/2))}a.length&&i.push(eo([a],r))}return r.stroke!==mr&&i.push(s),this._d("curve",i,r)}polygon(e,n){const r=this._o(n),i=[],s=Vh(e,!0,r);return r.fill&&(r.fillStyle==="solid"?i.push(jg([e],r)):i.push(eo([e],r))),r.stroke!==mr&&i.push(s),this._d("polygon",i,r)}path(e,n){const r=this._o(n),i=[];if(!e)return this._d("path",i,r);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=r.fill&&r.fill!=="transparent"&&r.fill!==mr,a=r.stroke!==mr,o=!!(r.simplification&&r.simplification<1),u=(function(l,h,d){const f=ER(_R(t_(l))),p=[];let g=[],m=[0,0],y=[];const v=()=>{y.length>=4&&g.push(...Kg(y,h)),y=[]},b=()=>{v(),g.length&&(p.push(g),g=[])};for(const{key:k,data:C}of f)switch(k){case"M":b(),m=[C[0],C[1]],g.push(m);break;case"L":v(),g.push([C[0],C[1]]);break;case"C":if(!y.length){const x=g.length?g[g.length-1]:m;y.push([x[0],x[1]])}y.push([C[0],C[1]]),y.push([C[2],C[3]]),y.push([C[4],C[5]]);break;case"Z":v(),g.push([m[0],m[1]])}if(b(),!d)return p;const _=[];for(const k of p){const C=gz(k,d);C.length&&_.push(C)}return _})(e,1,o?4-4*(r.simplification||1):(1+r.roughness)/2),c=gw(e,r);if(s)if(r.fillStyle==="solid")if(u.length===1){const l=gw(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(l.ops)})}else i.push(jg(u,r));else i.push(eo(u,r));return a&&(o?u.forEach((l=>{i.push(Vh(l,!1,r))})):i.push(c)),this._d("path",i,r)}opsToPath(e,n){let r="";for(const i of e.ops){const s=typeof n=="number"&&n>=0?i.data.map((a=>+a.toFixed(n))):i.data;switch(i.op){case"move":r+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":r+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":r+=`L${s[0]} ${s[1]} `}}return r.trim()}toPaths(e){const n=e.sets||[],r=e.options||this.defaultOptions,i=[];for(const s of n){let a=null;switch(s.type){case"path":a={d:this.opsToPath(s),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:mr};break;case"fillPath":a={d:this.opsToPath(s),stroke:mr,strokeWidth:0,fill:r.fill||mr};break;case"fillSketch":a=this.fillSketch(s,r)}a&&i.push(a)}return i}fillSketch(e,n){let r=n.fillWeight;return r<0&&(r=n.strokeWidth/2),{d:this.opsToPath(e),stroke:n.fill||mr,strokeWidth:r,fill:mr}}_mergedShape(e){return e.filter(((n,r)=>r===0||n.op!=="move"))}}class mz{constructor(e,n){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new hd(n)}draw(e){const n=e.sets||[],r=e.options||this.getDefaultOptions(),i=this.ctx,s=e.options.fixedDecimalPlaceDigits;for(const a of n)switch(a.type){case"path":i.save(),i.strokeStyle=r.stroke==="none"?"transparent":r.stroke,i.lineWidth=r.strokeWidth,r.strokeLineDash&&i.setLineDash(r.strokeLineDash),r.strokeLineDashOffset&&(i.lineDashOffset=r.strokeLineDashOffset),this._drawToContext(i,a,s),i.restore();break;case"fillPath":{i.save(),i.fillStyle=r.fill||"";const o=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,a,s,o),i.restore();break}case"fillSketch":this.fillSketch(i,a,r)}}fillSketch(e,n,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2),e.save(),r.fillLineDash&&e.setLineDash(r.fillLineDash),r.fillLineDashOffset&&(e.lineDashOffset=r.fillLineDashOffset),e.strokeStyle=r.fill||"",e.lineWidth=i,this._drawToContext(e,n,r.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,n,r,i="nonzero"){e.beginPath();for(const s of n.ops){const a=typeof r=="number"&&r>=0?s.data.map((o=>+o.toFixed(r))):s.data;switch(s.op){case"move":e.moveTo(a[0],a[1]);break;case"bcurveTo":e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"lineTo":e.lineTo(a[0],a[1])}}n.type==="fillPath"?e.fill(i):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,n,r,i,s){const a=this.gen.line(e,n,r,i,s);return this.draw(a),a}rectangle(e,n,r,i,s){const a=this.gen.rectangle(e,n,r,i,s);return this.draw(a),a}ellipse(e,n,r,i,s){const a=this.gen.ellipse(e,n,r,i,s);return this.draw(a),a}circle(e,n,r,i){const s=this.gen.circle(e,n,r,i);return this.draw(s),s}linearPath(e,n){const r=this.gen.linearPath(e,n);return this.draw(r),r}polygon(e,n){const r=this.gen.polygon(e,n);return this.draw(r),r}arc(e,n,r,i,s,a,o=!1,u){const c=this.gen.arc(e,n,r,i,s,a,o,u);return this.draw(c),c}curve(e,n){const r=this.gen.curve(e,n);return this.draw(r),r}path(e,n){const r=this.gen.path(e,n);return this.draw(r),r}}const ph="http://www.w3.org/2000/svg";class yz{constructor(e,n){this.svg=e,this.gen=new hd(n)}draw(e){const n=e.sets||[],r=e.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,s=i.createElementNS(ph,"g"),a=e.options.fixedDecimalPlaceDigits;for(const o of n){let u=null;switch(o.type){case"path":u=i.createElementNS(ph,"path"),u.setAttribute("d",this.opsToPath(o,a)),u.setAttribute("stroke",r.stroke),u.setAttribute("stroke-width",r.strokeWidth+""),u.setAttribute("fill","none"),r.strokeLineDash&&u.setAttribute("stroke-dasharray",r.strokeLineDash.join(" ").trim()),r.strokeLineDashOffset&&u.setAttribute("stroke-dashoffset",`${r.strokeLineDashOffset}`);break;case"fillPath":u=i.createElementNS(ph,"path"),u.setAttribute("d",this.opsToPath(o,a)),u.setAttribute("stroke","none"),u.setAttribute("stroke-width","0"),u.setAttribute("fill",r.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||u.setAttribute("fill-rule","evenodd");break;case"fillSketch":u=this.fillSketch(i,o,r)}u&&s.appendChild(u)}return s}fillSketch(e,n,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2);const s=e.createElementNS(ph,"path");return s.setAttribute("d",this.opsToPath(n,r.fixedDecimalPlaceDigits)),s.setAttribute("stroke",r.fill||""),s.setAttribute("stroke-width",i+""),s.setAttribute("fill","none"),r.fillLineDash&&s.setAttribute("stroke-dasharray",r.fillLineDash.join(" ").trim()),r.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${r.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,n){return this.gen.opsToPath(e,n)}line(e,n,r,i,s){const a=this.gen.line(e,n,r,i,s);return this.draw(a)}rectangle(e,n,r,i,s){const a=this.gen.rectangle(e,n,r,i,s);return this.draw(a)}ellipse(e,n,r,i,s){const a=this.gen.ellipse(e,n,r,i,s);return this.draw(a)}circle(e,n,r,i){const s=this.gen.circle(e,n,r,i);return this.draw(s)}linearPath(e,n){const r=this.gen.linearPath(e,n);return this.draw(r)}polygon(e,n){const r=this.gen.polygon(e,n);return this.draw(r)}arc(e,n,r,i,s,a,o=!1,u){const c=this.gen.arc(e,n,r,i,s,a,o,u);return this.draw(c)}curve(e,n){const r=this.gen.curve(e,n);return this.draw(r)}path(e,n){const r=this.gen.path(e,n);return this.draw(r)}}var vJ={canvas:(t,e)=>new mz(t,e),svg:(t,e)=>new yz(t,e),generator:t=>new hd(t),newSeed:()=>hd.newSeed()},AR="comm",NR="rule",SR="decl",bz="@import",vz="@namespace",_z="@keyframes",Ez="@layer",RR=Math.abs,n_=String.fromCharCode;function CR(t){return t.trim()}function jh(t,e,n){return t.replace(e,n)}function wz(t,e,n){return t.indexOf(e,n)}function Mo(t,e){return t.charCodeAt(e)|0}function Ho(t,e,n){return t.slice(e,n)}function Ei(t){return t.length}function xz(t){return t.length}function gh(t,e){return e.push(t),t}var Cp=1,Wo=1,MR=0,Fr=0,rn=0,ru="";function r_(t,e,n,r,i,s,a,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Cp,column:Wo,length:a,return:"",siblings:o}}function Tz(){return rn}function kz(){return rn=Fr>0?Mo(ru,--Fr):0,Wo--,rn===10&&(Wo=1,Cp--),rn}function ei(){return rn=Fr<MR?Mo(ru,Fr++):0,Wo++,rn===10&&(Wo=1,Cp++),rn}function ks(){return Mo(ru,Fr)}function Kh(){return Fr}function Mp(t,e){return Ho(ru,t,e)}function Hc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Az(t){return Cp=Wo=1,MR=Ei(ru=t),Fr=0,[]}function Nz(t){return ru="",t}function Zg(t){return CR(Mp(Fr-1,Mm(t===91?t+2:t===40?t+1:t)))}function Sz(t){for(;(rn=ks())&&rn<33;)ei();return Hc(t)>2||Hc(rn)>3?"":" "}function Rz(t,e){for(;--e&&ei()&&!(rn<48||rn>102||rn>57&&rn<65||rn>70&&rn<97););return Mp(t,Kh()+(e<6&&ks()==32&&ei()==32))}function Mm(t){for(;ei();)switch(rn){case t:return Fr;case 34:case 39:t!==34&&t!==39&&Mm(rn);break;case 40:t===41&&Mm(t);break;case 92:ei();break}return Fr}function Cz(t,e){for(;ei()&&t+rn!==57;)if(t+rn===84&&ks()===47)break;return"/*"+Mp(e,Fr-1)+"*"+n_(t===47?t:ei())}function Mz(t){for(;!Hc(ks());)ei();return Mp(t,Fr)}function _J(t){return Nz(Zh("",null,null,null,[""],t=Az(t),0,[0],t))}function Zh(t,e,n,r,i,s,a,o,u){for(var c=0,l=0,h=a,d=0,f=0,p=0,g=1,m=1,y=1,v=0,b="",_=i,k=s,C=r,x=b;m;)switch(p=v,v=ei()){case 40:if(p!=108&&Mo(x,h-1)==58){wz(x+=jh(Zg(v),"&","&\f"),"&\f",RR(c?o[c-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:x+=Zg(v);break;case 9:case 10:case 13:case 32:x+=Sz(p);break;case 92:x+=Rz(Kh()-1,7);continue;case 47:switch(ks()){case 42:case 47:gh(Oz(Cz(ei(),Kh()),e,n,u),u),(Hc(p||1)==5||Hc(ks()||1)==5)&&Ei(x)&&Ho(x,-1,void 0)!==" "&&(x+=" ");break;default:x+="/"}break;case 123*g:o[c++]=Ei(x)*y;case 125*g:case 59:case 0:switch(v){case 0:case 125:m=0;case 59+l:y==-1&&(x=jh(x,/\f/g,"")),f>0&&(Ei(x)-h||g===0&&p===47)&&gh(f>32?Ew(x+";",r,n,h-1,u):Ew(jh(x," ","")+";",r,n,h-2,u),u);break;case 59:x+=";";default:if(gh(C=_w(x,e,n,c,l,i,o,b,_=[],k=[],h,s),s),v===123)if(l===0)Zh(x,e,C,C,_,s,h,o,k);else{switch(d){case 99:if(Mo(x,3)===110)break;case 108:if(Mo(x,2)===97)break;default:l=0;case 100:case 109:case 115:}l?Zh(t,C,C,r&&gh(_w(t,C,C,0,0,i,o,b,i,_=[],h,k),k),i,k,h,o,r?_:k):Zh(x,C,C,C,[""],k,0,o,k)}}c=l=f=0,g=y=1,b=x="",h=a;break;case 58:h=1+Ei(x),f=p;default:if(g<1){if(v==123)--g;else if(v==125&&g++==0&&kz()==125)continue}switch(x+=n_(v),v*g){case 38:y=l>0?1:(x+="\f",-1);break;case 44:o[c++]=(Ei(x)-1)*y,y=1;break;case 64:ks()===45&&(x+=Zg(ei())),d=ks(),l=h=Ei(b=x+=Mz(Kh())),v++;break;case 45:p===45&&Ei(x)==2&&(g=0)}}return s}function _w(t,e,n,r,i,s,a,o,u,c,l,h){for(var d=i-1,f=i===0?s:[""],p=xz(f),g=0,m=0,y=0;g<r;++g)for(var v=0,b=Ho(t,d+1,d=RR(m=a[g])),_=t;v<p;++v)(_=CR(m>0?f[v]+" "+b:jh(b,/&\f/g,f[v])))&&(u[y++]=_);return r_(t,e,n,i===0?NR:o,u,c,l,h)}function Oz(t,e,n,r){return r_(t,e,n,AR,n_(Tz()),Ho(t,2,-2),0,r)}function Ew(t,e,n,r,i){return r_(t,e,n,SR,Ho(t,0,r),Ho(t,r+1,-1),r,i)}function ww(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function EJ(t,e,n,r){switch(t.type){case Ez:if(t.children.length)break;case bz:case vz:case SR:return t.return=t.return||t.value;case AR:return"";case _z:return t.return=t.value+"{"+ww(t.children,r)+"}";case NR:if(!Ei(t.value=t.props.join(",")))return""}return Ei(n=ww(t.children,r))?t.return=t.value+"{"+n+"}":""}function Iz(t){return t||(t={}),{delay:t.delay===void 0?200:t.delay,initialDelay:t.initialDelay===void 0?0:t.initialDelay,minDelay:t.minDelay===void 0?0:t.minDelay,maxDelay:t.maxDelay===void 0?0:t.maxDelay,factor:t.factor===void 0?0:t.factor,maxAttempts:t.maxAttempts===void 0?3:t.maxAttempts,timeout:t.timeout===void 0?0:t.timeout,jitter:t.jitter===!0,initialJitter:t.initialJitter===!0,handleError:t.handleError===void 0?null:t.handleError,handleTimeout:t.handleTimeout===void 0?null:t.handleTimeout,beforeAttempt:t.beforeAttempt===void 0?null:t.beforeAttempt,calculateDelay:t.calculateDelay===void 0?null:t.calculateDelay}}async function Qg(t){return new Promise(e=>setTimeout(e,t))}function Dz(t,e){let n=e.delay;if(n===0)return 0;if(e.factor&&(n*=Math.pow(e.factor,t.attemptNum-1),e.maxDelay!==0&&(n=Math.min(n,e.maxDelay))),e.jitter){const r=Math.ceil(e.minDelay),i=Math.floor(n);n=Math.floor(Math.random()*(i-r+1))+r}return Math.round(n)}async function wJ(t,e){const n=Iz(e);for(const o of["delay","initialDelay","minDelay","maxDelay","maxAttempts","timeout"]){const u=n[o];if(!Number.isInteger(u)||u<0)throw new Error(`Value for ${o} must be an integer greater than or equal to 0`)}if(n.factor.constructor!==Number||n.factor<0)throw new Error("Value for factor must be a number greater than or equal to 0");if(n.delay<n.minDelay)throw new Error(`delay cannot be less than minDelay (delay: ${n.delay}, minDelay: ${n.minDelay}`);const r={attemptNum:0,attemptsRemaining:n.maxAttempts?n.maxAttempts:-1,aborted:!1,abort(){r.aborted=!0}},i=n.calculateDelay||Dz;async function s(){if(n.beforeAttempt&&n.beforeAttempt(r,n),r.aborted){const u=new Error("Attempt aborted");throw u.code="ATTEMPT_ABORTED",u}const o=async u=>{if(n.handleError&&await n.handleError(u,r,n),r.aborted||r.attemptsRemaining===0)throw u;r.attemptNum++;const c=i(r,n);return c&&await Qg(c),s()};return r.attemptsRemaining>0&&r.attemptsRemaining--,n.timeout?new Promise((u,c)=>{const l=setTimeout(()=>{if(n.handleTimeout)try{u(n.handleTimeout(r,n))}catch(h){c(h)}else{const h=new Error(`Retry timeout (attemptNum: ${r.attemptNum}, timeout: ${n.timeout})`);h.code="ATTEMPT_TIMEOUT",c(h)}},n.timeout);t(r,n).then(h=>{clearTimeout(l),u(h)}).catch(h=>{clearTimeout(l),o(h).then(u).catch(c)})}):t(r,n).catch(o)}const a=n.calculateDelay?n.calculateDelay(r,n):n.initialDelay;if(a&&await Qg(a),r.attemptNum<1&&n.initialJitter){const o=i(r,n);o&&await Qg(o)}return s()}var fd=200,Wn=function(){};Wn.prototype.append=function(e){return e.length?(e=Wn.from(e),!this.length&&e||e.length<fd&&this.leafAppend(e)||this.length<fd&&e.leafPrepend(this)||this.appendInner(e)):this};Wn.prototype.prepend=function(e){return e.length?Wn.from(e).append(this):this};Wn.prototype.appendInner=function(e){return new Lz(this,e)};Wn.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Wn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Wn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Wn.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Wn.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,a){return i.push(e(s,a))},n,r),i};Wn.from=function(e){return e instanceof Wn?e:e&&e.length?new OR(e):Wn.empty};var OR=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,a,o){for(var u=s;u<a;u++)if(i(this.values[u],o+u)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,a,o){for(var u=s-1;u>=a;u--)if(i(this.values[u],o+u)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=fd)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=fd)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(Wn);Wn.empty=new OR([]);var Lz=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,a){var o=this.left.length;if(i<o&&this.left.forEachInner(r,i,Math.min(s,o),a)===!1||s>o&&this.right.forEachInner(r,Math.max(i-o,0),Math.min(this.length,s)-o,a+o)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,a){var o=this.left.length;if(i>o&&this.right.forEachInvertedInner(r,i-o,Math.max(s,o)-o,a+o)===!1||s<o&&this.left.forEachInvertedInner(r,Math.min(i,o),s,a)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(Wn),Pz="\0",Hs="\0",xw="";class Li{constructor(e={}){this._isDirected=Object.prototype.hasOwnProperty.call(e,"directed")?e.directed:!0,this._isMultigraph=Object.prototype.hasOwnProperty.call(e,"multigraph")?e.multigraph:!1,this._isCompound=Object.prototype.hasOwnProperty.call(e,"compound")?e.compound:!1,this._label=void 0,this._defaultNodeLabelFn=Ku(void 0),this._defaultEdgeLabelFn=Ku(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[Hs]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return as(e)||(e=Ku(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return qr(this._nodes)}sources(){var e=this;return jt(this.nodes(),function(n){return Et(e._in[n])})}sinks(){var e=this;return jt(this.nodes(),function(n){return Et(e._out[n])})}setNodes(e,n){var r=arguments,i=this;return W(e,function(s){r.length>1?i.setNode(s,n):i.setNode(s)}),this}setNode(e,n){return Object.prototype.hasOwnProperty.call(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=n),this):(this._nodes[e]=arguments.length>1?n:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=Hs,this._children[e]={},this._children[Hs][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return Object.prototype.hasOwnProperty.call(this._nodes,e)}removeNode(e){if(Object.prototype.hasOwnProperty.call(this._nodes,e)){var n=r=>this.removeEdge(this._edgeObjs[r]);delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],W(this.children(e),r=>{this.setParent(r)}),delete this._children[e]),W(qr(this._in[e]),n),delete this._in[e],delete this._preds[e],W(qr(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,n){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(vt(n))n=Hs;else{n+="";for(var r=n;!vt(r);r=this.parent(r))if(r===e)throw new Error("Setting "+n+" as parent of "+e+" would create a cycle");this.setNode(n)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=n,this._children[n][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var n=this._parent[e];if(n!==Hs)return n}}children(e){if(vt(e)&&(e=Hs),this._isCompound){var n=this._children[e];if(n)return qr(n)}else{if(e===Hs)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var n=this._preds[e];if(n)return qr(n)}successors(e){var n=this._sucs[e];if(n)return qr(n)}neighbors(e){var n=this.predecessors(e);if(n)return P2(n,this.successors(e))}isLeaf(e){var n;return this.isDirected()?n=this.successors(e):n=this.neighbors(e),n.length===0}filterNodes(e){var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph());var r=this;W(this._nodes,function(a,o){e(o)&&n.setNode(o,a)}),W(this._edgeObjs,function(a){n.hasNode(a.v)&&n.hasNode(a.w)&&n.setEdge(a,r.edge(a))});var i={};function s(a){var o=r.parent(a);return o===void 0||n.hasNode(o)?(i[a]=o,o):o in i?i[o]:s(o)}return this._isCompound&&W(n.nodes(),function(a){n.setParent(a,s(a))}),n}setDefaultEdgeLabel(e){return as(e)||(e=Ku(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return Mt(this._edgeObjs)}setPath(e,n){var r=this,i=arguments;return sn(e,function(s,a){return i.length>1?r.setEdge(s,a,n):r.setEdge(s,a),a}),this}setEdge(){var e,n,r,i,s=!1,a=arguments[0];typeof a=="object"&&a!==null&&"v"in a?(e=a.v,n=a.w,r=a.name,arguments.length===2&&(i=arguments[1],s=!0)):(e=a,n=arguments[1],r=arguments[3],arguments.length>2&&(i=arguments[2],s=!0)),e=""+e,n=""+n,vt(r)||(r=""+r);var o=lc(this._isDirected,e,n,r);if(Object.prototype.hasOwnProperty.call(this._edgeLabels,o))return s&&(this._edgeLabels[o]=i),this;if(!vt(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(n),this._edgeLabels[o]=s?i:this._defaultEdgeLabelFn(e,n,r);var u=Fz(this._isDirected,e,n,r);return e=u.v,n=u.w,Object.freeze(u),this._edgeObjs[o]=u,Tw(this._preds[n],e),Tw(this._sucs[e],n),this._in[n][o]=u,this._out[e][o]=u,this._edgeCount++,this}edge(e,n,r){var i=arguments.length===1?Jg(this._isDirected,arguments[0]):lc(this._isDirected,e,n,r);return this._edgeLabels[i]}hasEdge(e,n,r){var i=arguments.length===1?Jg(this._isDirected,arguments[0]):lc(this._isDirected,e,n,r);return Object.prototype.hasOwnProperty.call(this._edgeLabels,i)}removeEdge(e,n,r){var i=arguments.length===1?Jg(this._isDirected,arguments[0]):lc(this._isDirected,e,n,r),s=this._edgeObjs[i];return s&&(e=s.v,n=s.w,delete this._edgeLabels[i],delete this._edgeObjs[i],kw(this._preds[n],e),kw(this._sucs[e],n),delete this._in[n][i],delete this._out[e][i],this._edgeCount--),this}inEdges(e,n){var r=this._in[e];if(r){var i=Mt(r);return n?jt(i,function(s){return s.v===n}):i}}outEdges(e,n){var r=this._out[e];if(r){var i=Mt(r);return n?jt(i,function(s){return s.w===n}):i}}nodeEdges(e,n){var r=this.inEdges(e,n);if(r)return r.concat(this.outEdges(e,n))}}Li.prototype._nodeCount=0;Li.prototype._edgeCount=0;function Tw(t,e){t[e]?t[e]++:t[e]=1}function kw(t,e){--t[e]||delete t[e]}function lc(t,e,n,r){var i=""+e,s=""+n;if(!t&&i>s){var a=i;i=s,s=a}return i+xw+s+xw+(vt(r)?Pz:r)}function Fz(t,e,n,r){var i=""+e,s=""+n;if(!t&&i>s){var a=i;i=s,s=a}var o={v:i,w:s};return r&&(o.name=r),o}function Jg(t,e){return lc(t,e.v,e.w,e.name)}class $z{constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var e=this._sentinel,n=e._prev;if(n!==e)return Aw(n),n}enqueue(e){var n=this._sentinel;e._prev&&e._next&&Aw(e),e._next=n._next,n._next._prev=e,n._next=e,e._prev=n}toString(){for(var e=[],n=this._sentinel,r=n._prev;r!==n;)e.push(JSON.stringify(r,Uz)),r=r._prev;return"["+e.join(", ")+"]"}}function Aw(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function Uz(t,e){if(t!=="_next"&&t!=="_prev")return e}var Bz=Ku(1);function Gz(t,e){if(t.nodeCount()<=1)return[];var n=qz(t,e||Bz),r=zz(n.graph,n.buckets,n.zeroIdx);return In(me(r,function(i){return t.outEdges(i.v,i.w)}))}function zz(t,e,n){for(var r=[],i=e[e.length-1],s=e[0],a;t.nodeCount();){for(;a=s.dequeue();)e0(t,e,n,a);for(;a=i.dequeue();)e0(t,e,n,a);if(t.nodeCount()){for(var o=e.length-2;o>0;--o)if(a=e[o].dequeue(),a){r=r.concat(e0(t,e,n,a,!0));break}}}return r}function e0(t,e,n,r,i){var s=i?[]:void 0;return W(t.inEdges(r.v),function(a){var o=t.edge(a),u=t.node(a.v);i&&s.push({v:a.v,w:a.w}),u.out-=o,Om(e,n,u)}),W(t.outEdges(r.v),function(a){var o=t.edge(a),u=a.w,c=t.node(u);c.in-=o,Om(e,n,c)}),t.removeNode(r.v),s}function qz(t,e){var n=new Li,r=0,i=0;W(t.nodes(),function(o){n.setNode(o,{v:o,in:0,out:0})}),W(t.edges(),function(o){var u=n.edge(o.v,o.w)||0,c=e(o),l=u+c;n.setEdge(o.v,o.w,l),i=Math.max(i,n.node(o.v).out+=c),r=Math.max(r,n.node(o.w).in+=c)});var s=Io(i+r+3).map(function(){return new $z}),a=r+1;return W(n.nodes(),function(o){Om(s,a,n.node(o))}),{graph:n,buckets:s,zeroIdx:a}}function Om(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}function Hz(t){var e=t.graph().acyclicer==="greedy"?Gz(t,n(t)):Wz(t);W(e,function(r){var i=t.edge(r);t.removeEdge(r),i.forwardName=r.name,i.reversed=!0,t.setEdge(r.w,r.v,i,fb("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function Wz(t){var e=[],n={},r={};function i(s){Object.prototype.hasOwnProperty.call(r,s)||(r[s]=!0,n[s]=!0,W(t.outEdges(s),function(a){Object.prototype.hasOwnProperty.call(n,a.w)?e.push(a):i(a.w)}),delete n[s])}return W(t.nodes(),i),e}function Yz(t){W(t.edges(),function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}})}function iu(t,e,n,r){var i;do i=fb(r);while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function Vz(t){var e=new Li().setGraph(t.graph());return W(t.nodes(),function(n){e.setNode(n,t.node(n))}),W(t.edges(),function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),e}function IR(t){var e=new Li({multigraph:t.isMultigraph()}).setGraph(t.graph());return W(t.nodes(),function(n){t.children(n).length||e.setNode(n,t.node(n))}),W(t.edges(),function(n){e.setEdge(n,t.edge(n))}),e}function Nw(t,e){var n=t.x,r=t.y,i=e.x-n,s=e.y-r,a=t.width/2,o=t.height/2;if(!i&&!s)throw new Error("Not possible to find intersection inside of the rectangle");var u,c;return Math.abs(s)*a>Math.abs(i)*o?(s<0&&(o=-o),u=o*i/s,c=o):(i<0&&(a=-a),u=a,c=a*s/i),{x:n+u,y:r+c}}function Op(t){var e=me(Io(DR(t)+1),function(){return[]});return W(t.nodes(),function(n){var r=t.node(n),i=r.rank;vt(i)||(e[i][r.order]=n)}),e}function Xz(t){var e=Do(me(t.nodes(),function(n){return t.node(n).rank}));W(t.nodes(),function(n){var r=t.node(n);Be(r,"rank")&&(r.rank-=e)})}function jz(t){var e=Do(me(t.nodes(),function(s){return t.node(s).rank})),n=[];W(t.nodes(),function(s){var a=t.node(s).rank-e;n[a]||(n[a]=[]),n[a].push(s)});var r=0,i=t.graph().nodeRankFactor;W(n,function(s,a){vt(s)&&a%i!==0?--r:r&&W(s,function(o){t.node(o).rank+=r})})}function Sw(t,e,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),iu(t,"border",i,e)}function DR(t){return wa(me(t.nodes(),function(e){var n=t.node(e).rank;if(!vt(n))return n}))}function Kz(t,e){var n={lhs:[],rhs:[]};return W(t,function(r){e(r)?n.lhs.push(r):n.rhs.push(r)}),n}function Zz(t,e){return e()}function Qz(t){function e(n){var r=t.children(n),i=t.node(n);if(r.length&&W(r,e),Object.prototype.hasOwnProperty.call(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var s=i.minRank,a=i.maxRank+1;s<a;++s)Rw(t,"borderLeft","_bl",n,i,s),Rw(t,"borderRight","_br",n,i,s)}}W(t.children(),e)}function Rw(t,e,n,r,i,s){var a={width:0,height:0,rank:s,borderType:e},o=i[e][s-1],u=iu(t,"border",a,n);i[e][s]=u,t.setParent(u,r),o&&t.setEdge(o,u,{weight:1})}function Jz(t){var e=t.graph().rankdir.toLowerCase();(e==="lr"||e==="rl")&&LR(t)}function eq(t){var e=t.graph().rankdir.toLowerCase();(e==="bt"||e==="rl")&&tq(t),(e==="lr"||e==="rl")&&(nq(t),LR(t))}function LR(t){W(t.nodes(),function(e){Cw(t.node(e))}),W(t.edges(),function(e){Cw(t.edge(e))})}function Cw(t){var e=t.width;t.width=t.height,t.height=e}function tq(t){W(t.nodes(),function(e){t0(t.node(e))}),W(t.edges(),function(e){var n=t.edge(e);W(n.points,t0),Object.prototype.hasOwnProperty.call(n,"y")&&t0(n)})}function t0(t){t.y=-t.y}function nq(t){W(t.nodes(),function(e){n0(t.node(e))}),W(t.edges(),function(e){var n=t.edge(e);W(n.points,n0),Object.prototype.hasOwnProperty.call(n,"x")&&n0(n)})}function n0(t){var e=t.x;t.x=t.y,t.y=e}function rq(t){t.graph().dummyChains=[],W(t.edges(),function(e){iq(t,e)})}function iq(t,e){var n=e.v,r=t.node(n).rank,i=e.w,s=t.node(i).rank,a=e.name,o=t.edge(e),u=o.labelRank;if(s!==r+1){t.removeEdge(e);var c=void 0,l,h;for(h=0,++r;r<s;++h,++r)o.points=[],c={width:0,height:0,edgeLabel:o,edgeObj:e,rank:r},l=iu(t,"edge",c,"_d"),r===u&&(c.width=o.width,c.height=o.height,c.dummy="edge-label",c.labelpos=o.labelpos),t.setEdge(n,l,{weight:o.weight},a),h===0&&t.graph().dummyChains.push(l),n=l;t.setEdge(n,i,{weight:o.weight},a)}}function sq(t){W(t.graph().dummyChains,function(e){var n=t.node(e),r=n.edgeLabel,i;for(t.setEdge(n.edgeObj,r);n.dummy;)i=t.successors(e)[0],t.removeNode(e),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),e=i,n=t.node(e)})}function i_(t){var e={};function n(r){var i=t.node(r);if(Object.prototype.hasOwnProperty.call(e,r))return i.rank;e[r]=!0;var s=Do(me(t.outEdges(r),function(a){return n(a.w)-t.edge(a).minlen}));return(s===Number.POSITIVE_INFINITY||s===void 0||s===null)&&(s=0),i.rank=s}W(t.sources(),n)}function Wc(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}function PR(t){var e=new Li({directed:!1}),n=t.nodes()[0],r=t.nodeCount();e.setNode(n,{});for(var i,s;aq(e,t)<r;)i=oq(e,t),s=e.hasNode(i.v)?Wc(t,i):-Wc(t,i),uq(e,t,s);return e}function aq(t,e){function n(r){W(e.nodeEdges(r),function(i){var s=i.v,a=r===s?i.w:s;!t.hasNode(a)&&!Wc(e,i)&&(t.setNode(a,{}),t.setEdge(r,a,{}),n(a))})}return W(t.nodes(),n),t.nodeCount()}function oq(t,e){return db(e.edges(),function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return Wc(e,n)})}function uq(t,e,n){W(t.nodes(),function(r){e.node(r).rank+=n})}function cq(){}cq.prototype=new Error;function FR(t,e,n){kr(e)||(e=[e]);var r=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],s={};return W(e,function(a){if(!t.hasNode(a))throw new Error("Graph does not have node: "+a);$R(t,a,n==="post",s,r,i)}),i}function $R(t,e,n,r,i,s){Object.prototype.hasOwnProperty.call(r,e)||(r[e]=!0,n||s.push(e),W(i(e),function(a){$R(t,a,n,r,i,s)}),n&&s.push(e))}function lq(t,e){return FR(t,e,"post")}function hq(t,e){return FR(t,e,"pre")}qa.initLowLimValues=a_;qa.initCutValues=s_;qa.calcCutValue=UR;qa.leaveEdge=GR;qa.enterEdge=zR;qa.exchangeEdges=qR;function qa(t){t=Vz(t),i_(t);var e=PR(t);a_(e),s_(e,t);for(var n,r;n=GR(e);)r=zR(e,t,n),qR(e,t,n,r)}function s_(t,e){var n=lq(t,t.nodes());n=n.slice(0,n.length-1),W(n,function(r){fq(t,e,r)})}function fq(t,e,n){var r=t.node(n),i=r.parent;t.edge(n,i).cutvalue=UR(t,e,n)}function UR(t,e,n){var r=t.node(n),i=r.parent,s=!0,a=e.edge(n,i),o=0;return a||(s=!1,a=e.edge(i,n)),o=a.weight,W(e.nodeEdges(n),function(u){var c=u.v===n,l=c?u.w:u.v;if(l!==i){var h=c===s,d=e.edge(u).weight;if(o+=h?d:-d,pq(t,n,l)){var f=t.edge(n,l).cutvalue;o+=h?-f:f}}}),o}function a_(t,e){arguments.length<2&&(e=t.nodes()[0]),BR(t,{},1,e)}function BR(t,e,n,r,i){var s=n,a=t.node(r);return e[r]=!0,W(t.neighbors(r),function(o){Object.prototype.hasOwnProperty.call(e,o)||(n=BR(t,e,n,o,r))}),a.low=s,a.lim=n++,i?a.parent=i:delete a.parent,n}function GR(t){return os(t.edges(),function(e){return t.edge(e).cutvalue<0})}function zR(t,e,n){var r=n.v,i=n.w;e.hasEdge(r,i)||(r=n.w,i=n.v);var s=t.node(r),a=t.node(i),o=s,u=!1;s.lim>a.lim&&(o=a,u=!0);var c=jt(e.edges(),function(l){return u===Mw(t,t.node(l.v),o)&&u!==Mw(t,t.node(l.w),o)});return db(c,function(l){return Wc(e,l)})}function qR(t,e,n,r){var i=n.v,s=n.w;t.removeEdge(i,s),t.setEdge(r.v,r.w,{}),a_(t),s_(t,e),dq(t,e)}function dq(t,e){var n=os(t.nodes(),function(i){return!e.node(i).parent}),r=hq(t,n);r=r.slice(1),W(r,function(i){var s=t.node(i).parent,a=e.edge(i,s),o=!1;a||(a=e.edge(s,i),o=!0),e.node(i).rank=e.node(s).rank+(o?a.minlen:-a.minlen)})}function pq(t,e,n){return t.hasEdge(e,n)}function Mw(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}function gq(t){switch(t.graph().ranker){case"network-simplex":Ow(t);break;case"tight-tree":yq(t);break;case"longest-path":mq(t);break;default:Ow(t)}}var mq=i_;function yq(t){i_(t),PR(t)}function Ow(t){qa(t)}function bq(t){var e=iu(t,"root",{},"_root"),n=vq(t),r=wa(Mt(n))-1,i=2*r+1;t.graph().nestingRoot=e,W(t.edges(),function(a){t.edge(a).minlen*=i});var s=_q(t)+1;W(t.children(),function(a){HR(t,e,i,s,r,n,a)}),t.graph().nodeRankFactor=i}function HR(t,e,n,r,i,s,a){var o=t.children(a);if(!o.length){a!==e&&t.setEdge(e,a,{weight:0,minlen:n});return}var u=Sw(t,"_bt"),c=Sw(t,"_bb"),l=t.node(a);t.setParent(u,a),l.borderTop=u,t.setParent(c,a),l.borderBottom=c,W(o,function(h){HR(t,e,n,r,i,s,h);var d=t.node(h),f=d.borderTop?d.borderTop:h,p=d.borderBottom?d.borderBottom:h,g=d.borderTop?r:2*r,m=f!==p?1:i-s[a]+1;t.setEdge(u,f,{weight:g,minlen:m,nestingEdge:!0}),t.setEdge(p,c,{weight:g,minlen:m,nestingEdge:!0})}),t.parent(a)||t.setEdge(e,u,{weight:0,minlen:i+s[a]})}function vq(t){var e={};function n(r,i){var s=t.children(r);s&&s.length&&W(s,function(a){n(a,i+1)}),e[r]=i}return W(t.children(),function(r){n(r,1)}),e}function _q(t){return sn(t.edges(),function(e,n){return e+t.edge(n).weight},0)}function Eq(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,W(t.edges(),function(n){var r=t.edge(n);r.nestingEdge&&t.removeEdge(n)})}function wq(t,e,n){var r={},i;W(n,function(s){for(var a=t.parent(s),o,u;a;){if(o=t.parent(a),o?(u=r[o],r[o]=a):(u=i,i=a),u&&u!==a){e.setEdge(u,a);return}a=o}})}function xq(t,e,n){var r=Tq(t),i=new Li({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(s){return t.node(s)});return W(t.nodes(),function(s){var a=t.node(s),o=t.parent(s);(a.rank===e||a.minRank<=e&&e<=a.maxRank)&&(i.setNode(s),i.setParent(s,o||r),W(t[n](s),function(u){var c=u.v===s?u.w:u.v,l=i.edge(c,s),h=vt(l)?0:l.weight;i.setEdge(c,s,{weight:t.edge(u).weight+h})}),Object.prototype.hasOwnProperty.call(a,"minRank")&&i.setNode(s,{borderLeft:a.borderLeft[e],borderRight:a.borderRight[e]}))}),i}function Tq(t){for(var e;t.hasNode(e=fb("_root")););return e}function kq(t,e){for(var n=0,r=1;r<e.length;++r)n+=Aq(t,e[r-1],e[r]);return n}function Aq(t,e,n){for(var r=F2(n,me(n,function(c,l){return l})),i=In(me(e,function(c){return il(me(t.outEdges(c),function(l){return{pos:r[l.w],weight:t.edge(l).weight}}),"pos")})),s=1;s<n.length;)s<<=1;var a=2*s-1;s-=1;var o=me(new Array(a),function(){return 0}),u=0;return W(i.forEach(function(c){var l=c.pos+s;o[l]+=c.weight;for(var h=0;l>0;)l%2&&(h+=o[l+1]),l=l-1>>1,o[l]+=c.weight;u+=c.weight*h})),u}function Nq(t){var e={},n=jt(t.nodes(),function(o){return!t.children(o).length}),r=wa(me(n,function(o){return t.node(o).rank})),i=me(Io(r+1),function(){return[]});function s(o){if(!Be(e,o)){e[o]=!0;var u=t.node(o);i[u.rank].push(o),W(t.successors(o),s)}}var a=il(n,function(o){return t.node(o).rank});return W(a,s),i}function Sq(t,e){return me(e,function(n){var r=t.inEdges(n);if(r.length){var i=sn(r,function(s,a){var o=t.edge(a),u=t.node(a.v);return{sum:s.sum+o.weight*u.order,weight:s.weight+o.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}function Rq(t,e){var n={};W(t,function(i,s){var a=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:s};vt(i.barycenter)||(a.barycenter=i.barycenter,a.weight=i.weight)}),W(e.edges(),function(i){var s=n[i.v],a=n[i.w];!vt(s)&&!vt(a)&&(a.indegree++,s.out.push(n[i.w]))});var r=jt(n,function(i){return!i.indegree});return Cq(r)}function Cq(t){var e=[];function n(s){return function(a){a.merged||(vt(a.barycenter)||vt(s.barycenter)||a.barycenter>=s.barycenter)&&Mq(s,a)}}function r(s){return function(a){a.in.push(s),--a.indegree===0&&t.push(a)}}for(;t.length;){var i=t.pop();e.push(i),W(i.in.reverse(),n(i)),W(i.out,r(i))}return me(jt(e,function(s){return!s.merged}),function(s){return mf(s,["vs","i","barycenter","weight"])})}function Mq(t,e){var n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}function Oq(t,e){var n=Kz(t,function(l){return Object.prototype.hasOwnProperty.call(l,"barycenter")}),r=n.lhs,i=il(n.rhs,function(l){return-l.i}),s=[],a=0,o=0,u=0;r.sort(Iq(!!e)),u=Iw(s,i,u),W(r,function(l){u+=l.vs.length,s.push(l.vs),a+=l.barycenter*l.weight,o+=l.weight,u=Iw(s,i,u)});var c={vs:In(s)};return o&&(c.barycenter=a/o,c.weight=o),c}function Iw(t,e,n){for(var r;e.length&&(r=ni(e)).i<=n;)e.pop(),t.push(r.vs),n++;return n}function Iq(t){return function(e,n){return e.barycenter<n.barycenter?-1:e.barycenter>n.barycenter?1:t?n.i-e.i:e.i-n.i}}function WR(t,e,n,r){var i=t.children(e),s=t.node(e),a=s?s.borderLeft:void 0,o=s?s.borderRight:void 0,u={};a&&(i=jt(i,function(p){return p!==a&&p!==o}));var c=Sq(t,i);W(c,function(p){if(t.children(p.v).length){var g=WR(t,p.v,n,r);u[p.v]=g,Object.prototype.hasOwnProperty.call(g,"barycenter")&&Lq(p,g)}});var l=Rq(c,n);Dq(l,u);var h=Oq(l,r);if(a&&(h.vs=In([a,h.vs,o]),t.predecessors(a).length)){var d=t.node(t.predecessors(a)[0]),f=t.node(t.predecessors(o)[0]);Object.prototype.hasOwnProperty.call(h,"barycenter")||(h.barycenter=0,h.weight=0),h.barycenter=(h.barycenter*h.weight+d.order+f.order)/(h.weight+2),h.weight+=2}return h}function Dq(t,e){W(t,function(n){n.vs=In(n.vs.map(function(r){return e[r]?e[r].vs:r}))})}function Lq(t,e){vt(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}function Pq(t){var e=DR(t),n=Dw(t,Io(1,e+1),"inEdges"),r=Dw(t,Io(e-1,-1,-1),"outEdges"),i=Nq(t);Lw(t,i);for(var s=Number.POSITIVE_INFINITY,a,o=0,u=0;u<4;++o,++u){Fq(o%2?n:r,o%4>=2),i=Op(t);var c=kq(t,i);c<s&&(u=0,a=$2(i),s=c)}Lw(t,a)}function Dw(t,e,n){return me(e,function(r){return xq(t,r,n)})}function Fq(t,e){var n=new Li;W(t,function(r){var i=r.graph().root,s=WR(r,i,n,e);W(s.vs,function(a,o){r.node(a).order=o}),wq(r,n,s.vs)})}function Lw(t,e){W(e,function(n){W(n,function(r,i){t.node(r).order=i})})}function $q(t){var e=Bq(t);W(t.graph().dummyChains,function(n){for(var r=t.node(n),i=r.edgeObj,s=Uq(t,e,i.v,i.w),a=s.path,o=s.lca,u=0,c=a[u],l=!0;n!==i.w;){if(r=t.node(n),l){for(;(c=a[u])!==o&&t.node(c).maxRank<r.rank;)u++;c===o&&(l=!1)}if(!l){for(;u<a.length-1&&t.node(c=a[u+1]).minRank<=r.rank;)u++;c=a[u]}t.setParent(n,c),n=t.successors(n)[0]}})}function Uq(t,e,n,r){var i=[],s=[],a=Math.min(e[n].low,e[r].low),o=Math.max(e[n].lim,e[r].lim),u,c;u=n;do u=t.parent(u),i.push(u);while(u&&(e[u].low>a||o>e[u].lim));for(c=u,u=r;(u=t.parent(u))!==c;)s.push(u);return{path:i.concat(s.reverse()),lca:c}}function Bq(t){var e={},n=0;function r(i){var s=n;W(t.children(i),r),e[i]={low:s,lim:n++}}return W(t.children(),r),e}function Gq(t,e){var n={};function r(i,s){var a=0,o=0,u=i.length,c=ni(s);return W(s,function(l,h){var d=qq(t,l),f=d?t.node(d).order:u;(d||l===c)&&(W(s.slice(o,h+1),function(p){W(t.predecessors(p),function(g){var m=t.node(g),y=m.order;(y<a||f<y)&&!(m.dummy&&t.node(p).dummy)&&YR(n,g,p)})}),o=h+1,a=f)}),s}return sn(e,r),n}function zq(t,e){var n={};function r(s,a,o,u,c){var l;W(Io(a,o),function(h){l=s[h],t.node(l).dummy&&W(t.predecessors(l),function(d){var f=t.node(d);f.dummy&&(f.order<u||f.order>c)&&YR(n,d,l)})})}function i(s,a){var o=-1,u,c=0;return W(a,function(l,h){if(t.node(l).dummy==="border"){var d=t.predecessors(l);d.length&&(u=t.node(d[0]).order,r(a,c,h,o,u),c=h,o=u)}r(a,c,a.length,u,s.length)}),a}return sn(e,i),n}function qq(t,e){if(t.node(e).dummy)return os(t.predecessors(e),function(n){return t.node(n).dummy})}function YR(t,e,n){if(e>n){var r=e;e=n,n=r}Object.prototype.hasOwnProperty.call(t,e)||Object.defineProperty(t,e,{enumerable:!0,configurable:!0,value:{},writable:!0});var i=t[e];Object.defineProperty(i,n,{enumerable:!0,configurable:!0,value:!0,writable:!0})}function Hq(t,e,n){if(e>n){var r=e;e=n,n=r}return!!t[e]&&Object.prototype.hasOwnProperty.call(t[e],n)}function Wq(t,e,n,r){var i={},s={},a={};return W(e,function(o){W(o,function(u,c){i[u]=u,s[u]=u,a[u]=c})}),W(e,function(o){var u=-1;W(o,function(c){var l=r(c);if(l.length){l=il(l,function(g){return a[g]});for(var h=(l.length-1)/2,d=Math.floor(h),f=Math.ceil(h);d<=f;++d){var p=l[d];s[c]===c&&u<a[p]&&!Hq(n,c,p)&&(s[p]=c,s[c]=i[c]=i[p],u=a[p])}}})}),{root:i,align:s}}function Yq(t,e,n,r,i){var s={},a=Vq(t,e,n,i),o=i?"borderLeft":"borderRight";function u(h,d){for(var f=a.nodes(),p=f.pop(),g={};p;)g[p]?h(p):(g[p]=!0,f.push(p),f=f.concat(d(p))),p=f.pop()}function c(h){s[h]=a.inEdges(h).reduce(function(d,f){return Math.max(d,s[f.v]+a.edge(f))},0)}function l(h){var d=a.outEdges(h).reduce(function(p,g){return Math.min(p,s[g.w]-a.edge(g))},Number.POSITIVE_INFINITY),f=t.node(h);d!==Number.POSITIVE_INFINITY&&f.borderType!==o&&(s[h]=Math.max(s[h],d))}return u(c,a.predecessors.bind(a)),u(l,a.successors.bind(a)),W(r,function(h){s[h]=s[n[h]]}),s}function Vq(t,e,n,r){var i=new Li,s=t.graph(),a=Qq(s.nodesep,s.edgesep,r);return W(e,function(o){var u;W(o,function(c){var l=n[c];if(i.setNode(l),u){var h=n[u],d=i.edge(h,l);i.setEdge(h,l,Math.max(a(t,c,u),d||0))}u=c})}),i}function Xq(t,e){return db(Mt(e),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return U2(n,function(s,a){var o=Jq(t,a)/2;r=Math.max(s+o,r),i=Math.min(s-o,i)}),r-i})}function jq(t,e){var n=Mt(e),r=Do(n),i=wa(n);W(["u","d"],function(s){W(["l","r"],function(a){var o=s+a,u=t[o],c;if(u!==e){var l=Mt(u);c=a==="l"?r-Do(l):i-wa(l),c&&(t[o]=$d(u,function(h){return h+c}))}})})}function Kq(t,e){return $d(t.ul,function(n,r){if(e)return t[e.toLowerCase()][r];var i=il(me(t,r));return(i[1]+i[2])/2})}function Zq(t){var e=Op(t),n=A0(Gq(t,e),zq(t,e)),r={},i;W(["u","d"],function(a){i=a==="u"?e:Mt(e).reverse(),W(["l","r"],function(o){o==="r"&&(i=me(i,function(h){return Mt(h).reverse()}));var u=(a==="u"?t.predecessors:t.successors).bind(t),c=Wq(t,i,n,u),l=Yq(t,i,c.root,c.align,o==="r");o==="r"&&(l=$d(l,function(h){return-h})),r[a+o]=l})});var s=Xq(t,r);return jq(r,s),Kq(r,t.graph().align)}function Qq(t,e,n){return function(r,i,s){var a=r.node(i),o=r.node(s),u=0,c;if(u+=a.width/2,Object.prototype.hasOwnProperty.call(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":c=-a.width/2;break;case"r":c=a.width/2;break}if(c&&(u+=n?c:-c),c=0,u+=(a.dummy?e:t)/2,u+=(o.dummy?e:t)/2,u+=o.width/2,Object.prototype.hasOwnProperty.call(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":c=o.width/2;break;case"r":c=-o.width/2;break}return c&&(u+=n?c:-c),c=0,u}}function Jq(t,e){return t.node(e).width}function eH(t){t=IR(t),tH(t),B2(Zq(t),function(e,n){t.node(n).x=e})}function tH(t){var e=Op(t),n=t.graph().ranksep,r=0;W(e,function(i){var s=wa(me(i,function(a){return t.node(a).height}));W(i,function(a){t.node(a).y=r+s/2}),r+=s+n})}function xJ(t,e){var n=Zz;n("layout",()=>{var r=n("  buildLayoutGraph",()=>fH(t));n("  runLayout",()=>nH(r,n)),n("  updateInputGraph",()=>rH(t,r))})}function nH(t,e){e("    makeSpaceForEdgeLabels",()=>dH(t)),e("    removeSelfEdges",()=>wH(t)),e("    acyclic",()=>Hz(t)),e("    nestingGraph.run",()=>bq(t)),e("    rank",()=>gq(IR(t))),e("    injectEdgeLabelProxies",()=>pH(t)),e("    removeEmptyRanks",()=>jz(t)),e("    nestingGraph.cleanup",()=>Eq(t)),e("    normalizeRanks",()=>Xz(t)),e("    assignRankMinMax",()=>gH(t)),e("    removeEdgeLabelProxies",()=>mH(t)),e("    normalize.run",()=>rq(t)),e("    parentDummyChains",()=>$q(t)),e("    addBorderSegments",()=>Qz(t)),e("    order",()=>Pq(t)),e("    insertSelfEdges",()=>xH(t)),e("    adjustCoordinateSystem",()=>Jz(t)),e("    position",()=>eH(t)),e("    positionSelfEdges",()=>TH(t)),e("    removeBorderNodes",()=>EH(t)),e("    normalize.undo",()=>sq(t)),e("    fixupEdgeLabelCoords",()=>vH(t)),e("    undoCoordinateSystem",()=>eq(t)),e("    translateGraph",()=>yH(t)),e("    assignNodeIntersects",()=>bH(t)),e("    reversePoints",()=>_H(t)),e("    acyclic.undo",()=>Yz(t))}function rH(t,e){W(t.nodes(),function(n){var r=t.node(n),i=e.node(n);r&&(r.x=i.x,r.y=i.y,e.children(n).length&&(r.width=i.width,r.height=i.height))}),W(t.edges(),function(n){var r=t.edge(n),i=e.edge(n);r.points=i.points,Object.prototype.hasOwnProperty.call(i,"x")&&(r.x=i.x,r.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}var iH=["nodesep","edgesep","ranksep","marginx","marginy"],sH={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},aH=["acyclicer","ranker","rankdir","align"],oH=["width","height"],uH={width:0,height:0},cH=["minlen","weight","width","height","labeloffset"],lH={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},hH=["labelpos"];function fH(t){var e=new Li({multigraph:!0,compound:!0}),n=i0(t.graph());return e.setGraph(A0({},sH,r0(n,iH),mf(n,aH))),W(t.nodes(),function(r){var i=i0(t.node(r));e.setNode(r,Ud(r0(i,oH),uH)),e.setParent(r,t.parent(r))}),W(t.edges(),function(r){var i=i0(t.edge(r));e.setEdge(r,A0({},lH,r0(i,cH),mf(i,hH)))}),e}function dH(t){var e=t.graph();e.ranksep/=2,W(t.edges(),function(n){var r=t.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function pH(t){W(t.edges(),function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),i=t.node(e.w),s={rank:(i.rank-r.rank)/2+r.rank,e};iu(t,"edge-proxy",s,"_ep")}})}function gH(t){var e=0;W(t.nodes(),function(n){var r=t.node(n);r.borderTop&&(r.minRank=t.node(r.borderTop).rank,r.maxRank=t.node(r.borderBottom).rank,e=wa(e,r.maxRank))}),t.graph().maxRank=e}function mH(t){W(t.nodes(),function(e){var n=t.node(e);n.dummy==="edge-proxy"&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}function yH(t){var e=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,s=t.graph(),a=s.marginx||0,o=s.marginy||0;function u(c){var l=c.x,h=c.y,d=c.width,f=c.height;e=Math.min(e,l-d/2),n=Math.max(n,l+d/2),r=Math.min(r,h-f/2),i=Math.max(i,h+f/2)}W(t.nodes(),function(c){u(t.node(c))}),W(t.edges(),function(c){var l=t.edge(c);Object.prototype.hasOwnProperty.call(l,"x")&&u(l)}),e-=a,r-=o,W(t.nodes(),function(c){var l=t.node(c);l.x-=e,l.y-=r}),W(t.edges(),function(c){var l=t.edge(c);W(l.points,function(h){h.x-=e,h.y-=r}),Object.prototype.hasOwnProperty.call(l,"x")&&(l.x-=e),Object.prototype.hasOwnProperty.call(l,"y")&&(l.y-=r)}),s.width=n-e+a,s.height=i-r+o}function bH(t){W(t.edges(),function(e){var n=t.edge(e),r=t.node(e.v),i=t.node(e.w),s,a;n.points?(s=n.points[0],a=n.points[n.points.length-1]):(n.points=[],s=i,a=r),n.points.unshift(Nw(r,s)),n.points.push(Nw(i,a))})}function vH(t){W(t.edges(),function(e){var n=t.edge(e);if(Object.prototype.hasOwnProperty.call(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function _H(t){W(t.edges(),function(e){var n=t.edge(e);n.reversed&&n.points.reverse()})}function EH(t){W(t.nodes(),function(e){if(t.children(e).length){var n=t.node(e),r=t.node(n.borderTop),i=t.node(n.borderBottom),s=t.node(ni(n.borderLeft)),a=t.node(ni(n.borderRight));n.width=Math.abs(a.x-s.x),n.height=Math.abs(i.y-r.y),n.x=s.x+n.width/2,n.y=r.y+n.height/2}}),W(t.nodes(),function(e){t.node(e).dummy==="border"&&t.removeNode(e)})}function wH(t){W(t.edges(),function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}})}function xH(t){var e=Op(t);W(e,function(n){var r=0;W(n,function(i,s){var a=t.node(i);a.order=s+r,W(a.selfEdges,function(o){iu(t,"selfedge",{width:o.label.width,height:o.label.height,rank:a.rank,order:s+ ++r,e:o.e,label:o.label},"_se")}),delete a.selfEdges})})}function TH(t){W(t.nodes(),function(e){var n=t.node(e);if(n.dummy==="selfedge"){var r=t.node(n.e.v),i=r.x+r.width/2,s=r.y,a=n.x-i,o=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*a/3,y:s-o},{x:i+5*a/6,y:s-o},{x:i+a,y:s},{x:i+5*a/6,y:s+o},{x:i+2*a/3,y:s+o}],n.label.x=n.x,n.label.y=n.y}})}function r0(t,e){return $d(mf(t,e),Number)}function i0(t){var e={};return W(t,function(n,r){e[r.toLowerCase()]=n}),e}function TJ(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:kH(t),edges:AH(t)};return vt(t.graph())||(e.value=_n(t.graph())),e}function kH(t){return me(t.nodes(),function(e){var n=t.node(e),r=t.parent(e),i={v:e};return vt(n)||(i.value=n),vt(r)||(i.parent=r),i})}function AH(t){return me(t.edges(),function(e){var n=t.edge(e),r={v:e.v,w:e.w};return vt(e.name)||(r.name=e.name),vt(n)||(r.value=n),r})}var Qh={exports:{}},Jh={exports:{}},NH=Jh.exports,Pw;function SH(){return Pw||(Pw=1,(function(t,e){(function(r,i){t.exports=i()})(NH,function(){return(function(n){var r={};function i(s){if(r[s])return r[s].exports;var a=r[s]={i:s,l:!1,exports:{}};return n[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=n,i.c=r,i.i=function(s){return s},i.d=function(s,a,o){i.o(s,a)||Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:o})},i.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(a,"a",a),a},i.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},i.p="",i(i.s=26)})([(function(n,r,i){function s(){}s.QUALITY=1,s.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,s.DEFAULT_INCREMENTAL=!1,s.DEFAULT_ANIMATION_ON_LAYOUT=!0,s.DEFAULT_ANIMATION_DURING_LAYOUT=!1,s.DEFAULT_ANIMATION_PERIOD=50,s.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,s.DEFAULT_GRAPH_MARGIN=15,s.NODE_DIMENSIONS_INCLUDE_LABELS=!1,s.SIMPLE_NODE_SIZE=40,s.SIMPLE_NODE_HALF_SIZE=s.SIMPLE_NODE_SIZE/2,s.EMPTY_COMPOUND_NODE_SIZE=40,s.MIN_EDGE_LENGTH=1,s.WORLD_BOUNDARY=1e6,s.INITIAL_WORLD_BOUNDARY=s.WORLD_BOUNDARY/1e3,s.WORLD_CENTER_X=1200,s.WORLD_CENTER_Y=900,n.exports=s}),(function(n,r,i){var s=i(2),a=i(8),o=i(9);function u(l,h,d){s.call(this,d),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=d,this.bendpoints=[],this.source=l,this.target=h}u.prototype=Object.create(s.prototype);for(var c in s)u[c]=s[c];u.prototype.getSource=function(){return this.source},u.prototype.getTarget=function(){return this.target},u.prototype.isInterGraph=function(){return this.isInterGraph},u.prototype.getLength=function(){return this.length},u.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},u.prototype.getBendpoints=function(){return this.bendpoints},u.prototype.getLca=function(){return this.lca},u.prototype.getSourceInLca=function(){return this.sourceInLca},u.prototype.getTargetInLca=function(){return this.targetInLca},u.prototype.getOtherEnd=function(l){if(this.source===l)return this.target;if(this.target===l)return this.source;throw"Node is not incident with this edge"},u.prototype.getOtherEndInGraph=function(l,h){for(var d=this.getOtherEnd(l),f=h.getGraphManager().getRoot();;){if(d.getOwner()==h)return d;if(d.getOwner()==f)break;d=d.getOwner().getParent()}return null},u.prototype.updateLength=function(){var l=new Array(4);this.isOverlapingSourceAndTarget=a.getIntersection(this.target.getRect(),this.source.getRect(),l),this.isOverlapingSourceAndTarget||(this.lengthX=l[0]-l[2],this.lengthY=l[1]-l[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},u.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},n.exports=u}),(function(n,r,i){function s(a){this.vGraphObject=a}n.exports=s}),(function(n,r,i){var s=i(2),a=i(10),o=i(13),u=i(0),c=i(16),l=i(4);function h(f,p,g,m){g==null&&m==null&&(m=p),s.call(this,m),f.graphManager!=null&&(f=f.graphManager),this.estimatedSize=a.MIN_VALUE,this.inclusionTreeDepth=a.MAX_VALUE,this.vGraphObject=m,this.edges=[],this.graphManager=f,g!=null&&p!=null?this.rect=new o(p.x,p.y,g.width,g.height):this.rect=new o}h.prototype=Object.create(s.prototype);for(var d in s)h[d]=s[d];h.prototype.getEdges=function(){return this.edges},h.prototype.getChild=function(){return this.child},h.prototype.getOwner=function(){return this.owner},h.prototype.getWidth=function(){return this.rect.width},h.prototype.setWidth=function(f){this.rect.width=f},h.prototype.getHeight=function(){return this.rect.height},h.prototype.setHeight=function(f){this.rect.height=f},h.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},h.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},h.prototype.getCenter=function(){return new l(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},h.prototype.getLocation=function(){return new l(this.rect.x,this.rect.y)},h.prototype.getRect=function(){return this.rect},h.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},h.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},h.prototype.setRect=function(f,p){this.rect.x=f.x,this.rect.y=f.y,this.rect.width=p.width,this.rect.height=p.height},h.prototype.setCenter=function(f,p){this.rect.x=f-this.rect.width/2,this.rect.y=p-this.rect.height/2},h.prototype.setLocation=function(f,p){this.rect.x=f,this.rect.y=p},h.prototype.moveBy=function(f,p){this.rect.x+=f,this.rect.y+=p},h.prototype.getEdgeListToNode=function(f){var p=[],g=this;return g.edges.forEach(function(m){if(m.target==f){if(m.source!=g)throw"Incorrect edge source!";p.push(m)}}),p},h.prototype.getEdgesBetween=function(f){var p=[],g=this;return g.edges.forEach(function(m){if(!(m.source==g||m.target==g))throw"Incorrect edge source and/or target";(m.target==f||m.source==f)&&p.push(m)}),p},h.prototype.getNeighborsList=function(){var f=new Set,p=this;return p.edges.forEach(function(g){if(g.source==p)f.add(g.target);else{if(g.target!=p)throw"Incorrect incidency!";f.add(g.source)}}),f},h.prototype.withChildren=function(){var f=new Set,p,g;if(f.add(this),this.child!=null)for(var m=this.child.getNodes(),y=0;y<m.length;y++)p=m[y],g=p.withChildren(),g.forEach(function(v){f.add(v)});return f},h.prototype.getNoOfChildren=function(){var f=0,p;if(this.child==null)f=1;else for(var g=this.child.getNodes(),m=0;m<g.length;m++)p=g[m],f+=p.getNoOfChildren();return f==0&&(f=1),f},h.prototype.getEstimatedSize=function(){if(this.estimatedSize==a.MIN_VALUE)throw"assert failed";return this.estimatedSize},h.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},h.prototype.scatter=function(){var f,p,g=-u.INITIAL_WORLD_BOUNDARY,m=u.INITIAL_WORLD_BOUNDARY;f=u.WORLD_CENTER_X+c.nextDouble()*(m-g)+g;var y=-u.INITIAL_WORLD_BOUNDARY,v=u.INITIAL_WORLD_BOUNDARY;p=u.WORLD_CENTER_Y+c.nextDouble()*(v-y)+y,this.rect.x=f,this.rect.y=p},h.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var f=this.getChild();if(f.updateBounds(!0),this.rect.x=f.getLeft(),this.rect.y=f.getTop(),this.setWidth(f.getRight()-f.getLeft()),this.setHeight(f.getBottom()-f.getTop()),u.NODE_DIMENSIONS_INCLUDE_LABELS){var p=f.getRight()-f.getLeft(),g=f.getBottom()-f.getTop();this.labelWidth>p&&(this.rect.x-=(this.labelWidth-p)/2,this.setWidth(this.labelWidth)),this.labelHeight>g&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-g)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-g),this.setHeight(this.labelHeight))}}},h.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==a.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},h.prototype.transform=function(f){var p=this.rect.x;p>u.WORLD_BOUNDARY?p=u.WORLD_BOUNDARY:p<-u.WORLD_BOUNDARY&&(p=-u.WORLD_BOUNDARY);var g=this.rect.y;g>u.WORLD_BOUNDARY?g=u.WORLD_BOUNDARY:g<-u.WORLD_BOUNDARY&&(g=-u.WORLD_BOUNDARY);var m=new l(p,g),y=f.inverseTransformPoint(m);this.setLocation(y.x,y.y)},h.prototype.getLeft=function(){return this.rect.x},h.prototype.getRight=function(){return this.rect.x+this.rect.width},h.prototype.getTop=function(){return this.rect.y},h.prototype.getBottom=function(){return this.rect.y+this.rect.height},h.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},n.exports=h}),(function(n,r,i){function s(a,o){a==null&&o==null?(this.x=0,this.y=0):(this.x=a,this.y=o)}s.prototype.getX=function(){return this.x},s.prototype.getY=function(){return this.y},s.prototype.setX=function(a){this.x=a},s.prototype.setY=function(a){this.y=a},s.prototype.getDifference=function(a){return new DimensionD(this.x-a.x,this.y-a.y)},s.prototype.getCopy=function(){return new s(this.x,this.y)},s.prototype.translate=function(a){return this.x+=a.width,this.y+=a.height,this},n.exports=s}),(function(n,r,i){var s=i(2),a=i(10),o=i(0),u=i(6),c=i(3),l=i(1),h=i(13),d=i(12),f=i(11);function p(m,y,v){s.call(this,v),this.estimatedSize=a.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=m,y!=null&&y instanceof u?this.graphManager=y:y!=null&&y instanceof Layout&&(this.graphManager=y.graphManager)}p.prototype=Object.create(s.prototype);for(var g in s)p[g]=s[g];p.prototype.getNodes=function(){return this.nodes},p.prototype.getEdges=function(){return this.edges},p.prototype.getGraphManager=function(){return this.graphManager},p.prototype.getParent=function(){return this.parent},p.prototype.getLeft=function(){return this.left},p.prototype.getRight=function(){return this.right},p.prototype.getTop=function(){return this.top},p.prototype.getBottom=function(){return this.bottom},p.prototype.isConnected=function(){return this.isConnected},p.prototype.add=function(m,y,v){if(y==null&&v==null){var b=m;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(b)>-1)throw"Node already in graph!";return b.owner=this,this.getNodes().push(b),b}else{var _=m;if(!(this.getNodes().indexOf(y)>-1&&this.getNodes().indexOf(v)>-1))throw"Source or target not in graph!";if(!(y.owner==v.owner&&y.owner==this))throw"Both owners must be this graph!";return y.owner!=v.owner?null:(_.source=y,_.target=v,_.isInterGraph=!1,this.getEdges().push(_),y.edges.push(_),v!=y&&v.edges.push(_),_)}},p.prototype.remove=function(m){var y=m;if(m instanceof c){if(y==null)throw"Node is null!";if(!(y.owner!=null&&y.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var v=y.edges.slice(),b,_=v.length,k=0;k<_;k++)b=v[k],b.isInterGraph?this.graphManager.remove(b):b.source.owner.remove(b);var C=this.nodes.indexOf(y);if(C==-1)throw"Node not in owner node list!";this.nodes.splice(C,1)}else if(m instanceof l){var b=m;if(b==null)throw"Edge is null!";if(!(b.source!=null&&b.target!=null))throw"Source and/or target is null!";if(!(b.source.owner!=null&&b.target.owner!=null&&b.source.owner==this&&b.target.owner==this))throw"Source and/or target owner is invalid!";var x=b.source.edges.indexOf(b),S=b.target.edges.indexOf(b);if(!(x>-1&&S>-1))throw"Source and/or target doesn't know this edge!";b.source.edges.splice(x,1),b.target!=b.source&&b.target.edges.splice(S,1);var C=b.source.owner.getEdges().indexOf(b);if(C==-1)throw"Not in owner's edge list!";b.source.owner.getEdges().splice(C,1)}},p.prototype.updateLeftTop=function(){for(var m=a.MAX_VALUE,y=a.MAX_VALUE,v,b,_,k=this.getNodes(),C=k.length,x=0;x<C;x++){var S=k[x];v=S.getTop(),b=S.getLeft(),m>v&&(m=v),y>b&&(y=b)}return m==a.MAX_VALUE?null:(k[0].getParent().paddingLeft!=null?_=k[0].getParent().paddingLeft:_=this.margin,this.left=y-_,this.top=m-_,new d(this.left,this.top))},p.prototype.updateBounds=function(m){for(var y=a.MAX_VALUE,v=-a.MAX_VALUE,b=a.MAX_VALUE,_=-a.MAX_VALUE,k,C,x,S,O,D=this.nodes,I=D.length,M=0;M<I;M++){var R=D[M];m&&R.child!=null&&R.updateBounds(),k=R.getLeft(),C=R.getRight(),x=R.getTop(),S=R.getBottom(),y>k&&(y=k),v<C&&(v=C),b>x&&(b=x),_<S&&(_=S)}var E=new h(y,b,v-y,_-b);y==a.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),D[0].getParent().paddingLeft!=null?O=D[0].getParent().paddingLeft:O=this.margin,this.left=E.x-O,this.right=E.x+E.width+O,this.top=E.y-O,this.bottom=E.y+E.height+O},p.calculateBounds=function(m){for(var y=a.MAX_VALUE,v=-a.MAX_VALUE,b=a.MAX_VALUE,_=-a.MAX_VALUE,k,C,x,S,O=m.length,D=0;D<O;D++){var I=m[D];k=I.getLeft(),C=I.getRight(),x=I.getTop(),S=I.getBottom(),y>k&&(y=k),v<C&&(v=C),b>x&&(b=x),_<S&&(_=S)}var M=new h(y,b,v-y,_-b);return M},p.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==a.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){for(var m=0,y=this.nodes,v=y.length,b=0;b<v;b++){var _=y[b];m+=_.calcEstimatedSize()}return m==0?this.estimatedSize=o.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=m/Math.sqrt(this.nodes.length),this.estimatedSize},p.prototype.updateConnected=function(){var m=this;if(this.nodes.length==0){this.isConnected=!0;return}var y=new f,v=new Set,b=this.nodes[0],_,k,C=b.withChildren();for(C.forEach(function(M){y.push(M),v.add(M)});y.length!==0;){b=y.shift(),_=b.getEdges();for(var x=_.length,S=0;S<x;S++){var O=_[S];if(k=O.getOtherEndInGraph(b,this),k!=null&&!v.has(k)){var D=k.withChildren();D.forEach(function(M){y.push(M),v.add(M)})}}}if(this.isConnected=!1,v.size>=this.nodes.length){var I=0;v.forEach(function(M){M.owner==m&&I++}),I==this.nodes.length&&(this.isConnected=!0)}},n.exports=p}),(function(n,r,i){var s,a=i(1);function o(u){s=i(5),this.layout=u,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var u=this.layout.newGraph(),c=this.layout.newNode(null),l=this.add(u,c);return this.setRootGraph(l),this.rootGraph},o.prototype.add=function(u,c,l,h,d){if(l==null&&h==null&&d==null){if(u==null)throw"Graph is null!";if(c==null)throw"Parent node is null!";if(this.graphs.indexOf(u)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(u),u.parent!=null)throw"Already has a parent!";if(c.child!=null)throw"Already has a child!";return u.parent=c,c.child=u,u}else{d=l,h=c,l=u;var f=h.getOwner(),p=d.getOwner();if(!(f!=null&&f.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(p!=null&&p.getGraphManager()==this))throw"Target not in this graph mgr!";if(f==p)return l.isInterGraph=!1,f.add(l,h,d);if(l.isInterGraph=!0,l.source=h,l.target=d,this.edges.indexOf(l)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(l),!(l.source!=null&&l.target!=null))throw"Edge source and/or target is null!";if(!(l.source.edges.indexOf(l)==-1&&l.target.edges.indexOf(l)==-1))throw"Edge already in source and/or target incidency list!";return l.source.edges.push(l),l.target.edges.push(l),l}},o.prototype.remove=function(u){if(u instanceof s){var c=u;if(c.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(c==this.rootGraph||c.parent!=null&&c.parent.graphManager==this))throw"Invalid parent node!";var l=[];l=l.concat(c.getEdges());for(var h,d=l.length,f=0;f<d;f++)h=l[f],c.remove(h);var p=[];p=p.concat(c.getNodes());var g;d=p.length;for(var f=0;f<d;f++)g=p[f],c.remove(g);c==this.rootGraph&&this.setRootGraph(null);var m=this.graphs.indexOf(c);this.graphs.splice(m,1),c.parent=null}else if(u instanceof a){if(h=u,h==null)throw"Edge is null!";if(!h.isInterGraph)throw"Not an inter-graph edge!";if(!(h.source!=null&&h.target!=null))throw"Source and/or target is null!";if(!(h.source.edges.indexOf(h)!=-1&&h.target.edges.indexOf(h)!=-1))throw"Source and/or target doesn't know this edge!";var m=h.source.edges.indexOf(h);if(h.source.edges.splice(m,1),m=h.target.edges.indexOf(h),h.target.edges.splice(m,1),!(h.source.owner!=null&&h.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(h.source.owner.getGraphManager().edges.indexOf(h)==-1)throw"Not in owner graph manager's edge list!";var m=h.source.owner.getGraphManager().edges.indexOf(h);h.source.owner.getGraphManager().edges.splice(m,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var u=[],c=this.getGraphs(),l=c.length,h=0;h<l;h++)u=u.concat(c[h].getNodes());this.allNodes=u}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){var u=[],c=this.getGraphs();c.length;for(var l=0;l<c.length;l++)u=u.concat(c[l].getEdges());u=u.concat(this.edges),this.allEdges=u}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(u){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=u},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(u){if(u.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=u,u.parent==null&&(u.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(u,c){if(!(u!=null&&c!=null))throw"assert failed";if(u==c)return!0;var l=u.getOwner(),h;do{if(h=l.getParent(),h==null)break;if(h==c)return!0;if(l=h.getOwner(),l==null)break}while(!0);l=c.getOwner();do{if(h=l.getParent(),h==null)break;if(h==u)return!0;if(l=h.getOwner(),l==null)break}while(!0);return!1},o.prototype.calcLowestCommonAncestors=function(){for(var u,c,l,h,d,f=this.getAllEdges(),p=f.length,g=0;g<p;g++){if(u=f[g],c=u.source,l=u.target,u.lca=null,u.sourceInLca=c,u.targetInLca=l,c==l){u.lca=c.getOwner();continue}for(h=c.getOwner();u.lca==null;){for(u.targetInLca=l,d=l.getOwner();u.lca==null;){if(d==h){u.lca=d;break}if(d==this.rootGraph)break;if(u.lca!=null)throw"assert failed";u.targetInLca=d.getParent(),d=u.targetInLca.getOwner()}if(h==this.rootGraph)break;u.lca==null&&(u.sourceInLca=h.getParent(),h=u.sourceInLca.getOwner())}if(u.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(u,c){if(u==c)return u.getOwner();var l=u.getOwner();do{if(l==null)break;var h=c.getOwner();do{if(h==null)break;if(h==l)return h;h=h.getParent().getOwner()}while(!0);l=l.getParent().getOwner()}while(!0);return l},o.prototype.calcInclusionTreeDepths=function(u,c){u==null&&c==null&&(u=this.rootGraph,c=1);for(var l,h=u.getNodes(),d=h.length,f=0;f<d;f++)l=h[f],l.inclusionTreeDepth=c,l.child!=null&&this.calcInclusionTreeDepths(l.child,c+1)},o.prototype.includesInvalidEdge=function(){for(var u,c=this.edges.length,l=0;l<c;l++)if(u=this.edges[l],this.isOneAncestorOfOther(u.source,u.target))return!0;return!1},n.exports=o}),(function(n,r,i){var s=i(0);function a(){}for(var o in s)a[o]=s[o];a.MAX_ITERATIONS=2500,a.DEFAULT_EDGE_LENGTH=50,a.DEFAULT_SPRING_STRENGTH=.45,a.DEFAULT_REPULSION_STRENGTH=4500,a.DEFAULT_GRAVITY_STRENGTH=.4,a.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,a.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,a.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,a.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,a.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,a.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,a.COOLING_ADAPTATION_FACTOR=.33,a.ADAPTATION_LOWER_NODE_LIMIT=1e3,a.ADAPTATION_UPPER_NODE_LIMIT=5e3,a.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,a.MAX_NODE_DISPLACEMENT=a.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,a.MIN_REPULSION_DIST=a.DEFAULT_EDGE_LENGTH/10,a.CONVERGENCE_CHECK_PERIOD=100,a.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,a.MIN_EDGE_LENGTH=1,a.GRID_CALCULATION_CHECK_PERIOD=10,n.exports=a}),(function(n,r,i){var s=i(12);function a(){}a.calcSeparationAmount=function(o,u,c,l){if(!o.intersects(u))throw"assert failed";var h=new Array(2);this.decideDirectionsForOverlappingNodes(o,u,h),c[0]=Math.min(o.getRight(),u.getRight())-Math.max(o.x,u.x),c[1]=Math.min(o.getBottom(),u.getBottom())-Math.max(o.y,u.y),o.getX()<=u.getX()&&o.getRight()>=u.getRight()?c[0]+=Math.min(u.getX()-o.getX(),o.getRight()-u.getRight()):u.getX()<=o.getX()&&u.getRight()>=o.getRight()&&(c[0]+=Math.min(o.getX()-u.getX(),u.getRight()-o.getRight())),o.getY()<=u.getY()&&o.getBottom()>=u.getBottom()?c[1]+=Math.min(u.getY()-o.getY(),o.getBottom()-u.getBottom()):u.getY()<=o.getY()&&u.getBottom()>=o.getBottom()&&(c[1]+=Math.min(o.getY()-u.getY(),u.getBottom()-o.getBottom()));var d=Math.abs((u.getCenterY()-o.getCenterY())/(u.getCenterX()-o.getCenterX()));u.getCenterY()===o.getCenterY()&&u.getCenterX()===o.getCenterX()&&(d=1);var f=d*c[0],p=c[1]/d;c[0]<p?p=c[0]:f=c[1],c[0]=-1*h[0]*(p/2+l),c[1]=-1*h[1]*(f/2+l)},a.decideDirectionsForOverlappingNodes=function(o,u,c){o.getCenterX()<u.getCenterX()?c[0]=-1:c[0]=1,o.getCenterY()<u.getCenterY()?c[1]=-1:c[1]=1},a.getIntersection2=function(o,u,c){var l=o.getCenterX(),h=o.getCenterY(),d=u.getCenterX(),f=u.getCenterY();if(o.intersects(u))return c[0]=l,c[1]=h,c[2]=d,c[3]=f,!0;var p=o.getX(),g=o.getY(),m=o.getRight(),y=o.getX(),v=o.getBottom(),b=o.getRight(),_=o.getWidthHalf(),k=o.getHeightHalf(),C=u.getX(),x=u.getY(),S=u.getRight(),O=u.getX(),D=u.getBottom(),I=u.getRight(),M=u.getWidthHalf(),R=u.getHeightHalf(),E=!1,w=!1;if(l===d){if(h>f)return c[0]=l,c[1]=g,c[2]=d,c[3]=D,!1;if(h<f)return c[0]=l,c[1]=v,c[2]=d,c[3]=x,!1}else if(h===f){if(l>d)return c[0]=p,c[1]=h,c[2]=S,c[3]=f,!1;if(l<d)return c[0]=m,c[1]=h,c[2]=C,c[3]=f,!1}else{var T=o.height/o.width,A=u.height/u.width,N=(f-h)/(d-l),P=void 0,F=void 0,B=void 0,H=void 0,Y=void 0,Q=void 0;if(-T===N?l>d?(c[0]=y,c[1]=v,E=!0):(c[0]=m,c[1]=g,E=!0):T===N&&(l>d?(c[0]=p,c[1]=g,E=!0):(c[0]=b,c[1]=v,E=!0)),-A===N?d>l?(c[2]=O,c[3]=D,w=!0):(c[2]=S,c[3]=x,w=!0):A===N&&(d>l?(c[2]=C,c[3]=x,w=!0):(c[2]=I,c[3]=D,w=!0)),E&&w)return!1;if(l>d?h>f?(P=this.getCardinalDirection(T,N,4),F=this.getCardinalDirection(A,N,2)):(P=this.getCardinalDirection(-T,N,3),F=this.getCardinalDirection(-A,N,1)):h>f?(P=this.getCardinalDirection(-T,N,1),F=this.getCardinalDirection(-A,N,3)):(P=this.getCardinalDirection(T,N,2),F=this.getCardinalDirection(A,N,4)),!E)switch(P){case 1:H=g,B=l+-k/N,c[0]=B,c[1]=H;break;case 2:B=b,H=h+_*N,c[0]=B,c[1]=H;break;case 3:H=v,B=l+k/N,c[0]=B,c[1]=H;break;case 4:B=y,H=h+-_*N,c[0]=B,c[1]=H;break}if(!w)switch(F){case 1:Q=x,Y=d+-R/N,c[2]=Y,c[3]=Q;break;case 2:Y=I,Q=f+M*N,c[2]=Y,c[3]=Q;break;case 3:Q=D,Y=d+R/N,c[2]=Y,c[3]=Q;break;case 4:Y=O,Q=f+-M*N,c[2]=Y,c[3]=Q;break}}return!1},a.getCardinalDirection=function(o,u,c){return o>u?c:1+c%4},a.getIntersection=function(o,u,c,l){if(l==null)return this.getIntersection2(o,u,c);var h=o.x,d=o.y,f=u.x,p=u.y,g=c.x,m=c.y,y=l.x,v=l.y,b=void 0,_=void 0,k=void 0,C=void 0,x=void 0,S=void 0,O=void 0,D=void 0,I=void 0;return k=p-d,x=h-f,O=f*d-h*p,C=v-m,S=g-y,D=y*m-g*v,I=k*S-C*x,I===0?null:(b=(x*D-S*O)/I,_=(C*O-k*D)/I,new s(b,_))},a.angleOfVector=function(o,u,c,l){var h=void 0;return o!==c?(h=Math.atan((l-u)/(c-o)),c<o?h+=Math.PI:l<u&&(h+=this.TWO_PI)):l<u?h=this.ONE_AND_HALF_PI:h=this.HALF_PI,h},a.doIntersect=function(o,u,c,l){var h=o.x,d=o.y,f=u.x,p=u.y,g=c.x,m=c.y,y=l.x,v=l.y,b=(f-h)*(v-m)-(y-g)*(p-d);if(b===0)return!1;var _=((v-m)*(y-h)+(g-y)*(v-d))/b,k=((d-p)*(y-h)+(f-h)*(v-d))/b;return 0<_&&_<1&&0<k&&k<1},a.HALF_PI=.5*Math.PI,a.ONE_AND_HALF_PI=1.5*Math.PI,a.TWO_PI=2*Math.PI,a.THREE_PI=3*Math.PI,n.exports=a}),(function(n,r,i){function s(){}s.sign=function(a){return a>0?1:a<0?-1:0},s.floor=function(a){return a<0?Math.ceil(a):Math.floor(a)},s.ceil=function(a){return a<0?Math.floor(a):Math.ceil(a)},n.exports=s}),(function(n,r,i){function s(){}s.MAX_VALUE=2147483647,s.MIN_VALUE=-2147483648,n.exports=s}),(function(n,r,i){var s=(function(){function h(d,f){for(var p=0;p<f.length;p++){var g=f[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return function(d,f,p){return f&&h(d.prototype,f),p&&h(d,p),d}})();function a(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function(d){return{value:d,next:null,prev:null}},u=function(d,f,p,g){return d!==null?d.next=f:g.head=f,p!==null?p.prev=f:g.tail=f,f.prev=d,f.next=p,g.length++,f},c=function(d,f){var p=d.prev,g=d.next;return p!==null?p.next=g:f.head=g,g!==null?g.prev=p:f.tail=p,d.prev=d.next=null,f.length--,d},l=(function(){function h(d){var f=this;a(this,h),this.length=0,this.head=null,this.tail=null,d!=null&&d.forEach(function(p){return f.push(p)})}return s(h,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(f,p){return u(p.prev,o(f),p,this)}},{key:"insertAfter",value:function(f,p){return u(p,o(f),p.next,this)}},{key:"insertNodeBefore",value:function(f,p){return u(p.prev,f,p,this)}},{key:"insertNodeAfter",value:function(f,p){return u(p,f,p.next,this)}},{key:"push",value:function(f){return u(this.tail,o(f),null,this)}},{key:"unshift",value:function(f){return u(null,o(f),this.head,this)}},{key:"remove",value:function(f){return c(f,this)}},{key:"pop",value:function(){return c(this.tail,this).value}},{key:"popNode",value:function(){return c(this.tail,this)}},{key:"shift",value:function(){return c(this.head,this).value}},{key:"shiftNode",value:function(){return c(this.head,this)}},{key:"get_object_at",value:function(f){if(f<=this.length()){for(var p=1,g=this.head;p<f;)g=g.next,p++;return g.value}}},{key:"set_object_at",value:function(f,p){if(f<=this.length()){for(var g=1,m=this.head;g<f;)m=m.next,g++;m.value=p}}}]),h})();n.exports=l}),(function(n,r,i){function s(a,o,u){this.x=null,this.y=null,a==null&&o==null&&u==null?(this.x=0,this.y=0):typeof a=="number"&&typeof o=="number"&&u==null?(this.x=a,this.y=o):a.constructor.name=="Point"&&o==null&&u==null&&(u=a,this.x=u.x,this.y=u.y)}s.prototype.getX=function(){return this.x},s.prototype.getY=function(){return this.y},s.prototype.getLocation=function(){return new s(this.x,this.y)},s.prototype.setLocation=function(a,o,u){a.constructor.name=="Point"&&o==null&&u==null?(u=a,this.setLocation(u.x,u.y)):typeof a=="number"&&typeof o=="number"&&u==null&&(parseInt(a)==a&&parseInt(o)==o?this.move(a,o):(this.x=Math.floor(a+.5),this.y=Math.floor(o+.5)))},s.prototype.move=function(a,o){this.x=a,this.y=o},s.prototype.translate=function(a,o){this.x+=a,this.y+=o},s.prototype.equals=function(a){if(a.constructor.name=="Point"){var o=a;return this.x==o.x&&this.y==o.y}return this==a},s.prototype.toString=function(){return new s().constructor.name+"[x="+this.x+",y="+this.y+"]"},n.exports=s}),(function(n,r,i){function s(a,o,u,c){this.x=0,this.y=0,this.width=0,this.height=0,a!=null&&o!=null&&u!=null&&c!=null&&(this.x=a,this.y=o,this.width=u,this.height=c)}s.prototype.getX=function(){return this.x},s.prototype.setX=function(a){this.x=a},s.prototype.getY=function(){return this.y},s.prototype.setY=function(a){this.y=a},s.prototype.getWidth=function(){return this.width},s.prototype.setWidth=function(a){this.width=a},s.prototype.getHeight=function(){return this.height},s.prototype.setHeight=function(a){this.height=a},s.prototype.getRight=function(){return this.x+this.width},s.prototype.getBottom=function(){return this.y+this.height},s.prototype.intersects=function(a){return!(this.getRight()<a.x||this.getBottom()<a.y||a.getRight()<this.x||a.getBottom()<this.y)},s.prototype.getCenterX=function(){return this.x+this.width/2},s.prototype.getMinX=function(){return this.getX()},s.prototype.getMaxX=function(){return this.getX()+this.width},s.prototype.getCenterY=function(){return this.y+this.height/2},s.prototype.getMinY=function(){return this.getY()},s.prototype.getMaxY=function(){return this.getY()+this.height},s.prototype.getWidthHalf=function(){return this.width/2},s.prototype.getHeightHalf=function(){return this.height/2},n.exports=s}),(function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function a(){}a.lastID=0,a.createID=function(o){return a.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=a.getString(),a.lastID++),o.uniqueID)},a.getString=function(o){return o==null&&(o=a.lastID),"Object#"+o},a.isPrimitive=function(o){var u=typeof o>"u"?"undefined":s(o);return o==null||u!="object"&&u!="function"},n.exports=a}),(function(n,r,i){function s(g){if(Array.isArray(g)){for(var m=0,y=Array(g.length);m<g.length;m++)y[m]=g[m];return y}else return Array.from(g)}var a=i(0),o=i(6),u=i(3),c=i(1),l=i(5),h=i(4),d=i(17),f=i(27);function p(g){f.call(this),this.layoutQuality=a.QUALITY,this.createBendsAsNeeded=a.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=a.DEFAULT_INCREMENTAL,this.animationOnLayout=a.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=a.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=a.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=a.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,g!=null&&(this.isRemoteUse=g)}p.RANDOM_SEED=1,p.prototype=Object.create(f.prototype),p.prototype.getGraphManager=function(){return this.graphManager},p.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},p.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},p.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},p.prototype.newGraphManager=function(){var g=new o(this);return this.graphManager=g,g},p.prototype.newGraph=function(g){return new l(null,this.graphManager,g)},p.prototype.newNode=function(g){return new u(this.graphManager,g)},p.prototype.newEdge=function(g){return new c(null,null,g)},p.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},p.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var g;return this.checkLayoutSuccess()?g=!1:g=this.layout(),a.ANIMATE==="during"?!1:(g&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,g)},p.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},p.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var g=this.graphManager.getAllEdges(),m=0;m<g.length;m++)g[m];for(var y=this.graphManager.getRoot().getNodes(),m=0;m<y.length;m++)y[m];this.update(this.graphManager.getRoot())}},p.prototype.update=function(g){if(g==null)this.update2();else if(g instanceof u){var m=g;if(m.getChild()!=null)for(var y=m.getChild().getNodes(),v=0;v<y.length;v++)update(y[v]);if(m.vGraphObject!=null){var b=m.vGraphObject;b.update(m)}}else if(g instanceof c){var _=g;if(_.vGraphObject!=null){var k=_.vGraphObject;k.update(_)}}else if(g instanceof l){var C=g;if(C.vGraphObject!=null){var x=C.vGraphObject;x.update(C)}}},p.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=a.QUALITY,this.animationDuringLayout=a.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=a.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=a.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=a.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=a.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=a.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},p.prototype.transform=function(g){if(g==null)this.transform(new h(0,0));else{var m=new d,y=this.graphManager.getRoot().updateLeftTop();if(y!=null){m.setWorldOrgX(g.x),m.setWorldOrgY(g.y),m.setDeviceOrgX(y.x),m.setDeviceOrgY(y.y);for(var v=this.getAllNodes(),b,_=0;_<v.length;_++)b=v[_],b.transform(m)}}},p.prototype.positionNodesRandomly=function(g){if(g==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var m,y,v=g.getNodes(),b=0;b<v.length;b++)m=v[b],y=m.getChild(),y==null||y.getNodes().length==0?m.scatter():(this.positionNodesRandomly(y),m.updateBounds())},p.prototype.getFlatForest=function(){for(var g=[],m=!0,y=this.graphManager.getRoot().getNodes(),v=!0,b=0;b<y.length;b++)y[b].getChild()!=null&&(v=!1);if(!v)return g;var _=new Set,k=[],C=new Map,x=[];for(x=x.concat(y);x.length>0&&m;){for(k.push(x[0]);k.length>0&&m;){var S=k[0];k.splice(0,1),_.add(S);for(var O=S.getEdges(),b=0;b<O.length;b++){var D=O[b].getOtherEnd(S);if(C.get(S)!=D)if(!_.has(D))k.push(D),C.set(D,S);else{m=!1;break}}}if(!m)g=[];else{var I=[].concat(s(_));g.push(I);for(var b=0;b<I.length;b++){var M=I[b],R=x.indexOf(M);R>-1&&x.splice(R,1)}_=new Set,C=new Map}}return g},p.prototype.createDummyNodesForBendpoints=function(g){for(var m=[],y=g.source,v=this.graphManager.calcLowestCommonAncestor(g.source,g.target),b=0;b<g.bendpoints.length;b++){var _=this.newNode(null);_.setRect(new Point(0,0),new Dimension(1,1)),v.add(_);var k=this.newEdge(null);this.graphManager.add(k,y,_),m.add(_),y=_}var k=this.newEdge(null);return this.graphManager.add(k,y,g.target),this.edgeToDummyNodes.set(g,m),g.isInterGraph()?this.graphManager.remove(g):v.remove(g),m},p.prototype.createBendpointsFromDummyNodes=function(){var g=[];g=g.concat(this.graphManager.getAllEdges()),g=[].concat(s(this.edgeToDummyNodes.keys())).concat(g);for(var m=0;m<g.length;m++){var y=g[m];if(y.bendpoints.length>0){for(var v=this.edgeToDummyNodes.get(y),b=0;b<v.length;b++){var _=v[b],k=new h(_.getCenterX(),_.getCenterY()),C=y.bendpoints.get(b);C.x=k.x,C.y=k.y,_.getOwner().remove(_)}this.graphManager.add(y,y.source,y.target)}}},p.transform=function(g,m,y,v){if(y!=null&&v!=null){var b=m;if(g<=50){var _=m/y;b-=(m-_)/50*(50-g)}else{var k=m*v;b+=(k-m)/50*(g-50)}return b}else{var C,x;return g<=50?(C=9*m/500,x=m/10):(C=9*m/50,x=-8*m),C*g+x}},p.findCenterOfTree=function(g){var m=[];m=m.concat(g);var y=[],v=new Map,b=!1,_=null;(m.length==1||m.length==2)&&(b=!0,_=m[0]);for(var k=0;k<m.length;k++){var C=m[k],x=C.getNeighborsList().size;v.set(C,C.getNeighborsList().size),x==1&&y.push(C)}var S=[];for(S=S.concat(y);!b;){var O=[];O=O.concat(S),S=[];for(var k=0;k<m.length;k++){var C=m[k],D=m.indexOf(C);D>=0&&m.splice(D,1);var I=C.getNeighborsList();I.forEach(function(E){if(y.indexOf(E)<0){var w=v.get(E),T=w-1;T==1&&S.push(E),v.set(E,T)}})}y=y.concat(S),(m.length==1||m.length==2)&&(b=!0,_=m[0])}return _},p.prototype.setGraphManager=function(g){this.graphManager=g},n.exports=p}),(function(n,r,i){function s(){}s.seed=1,s.x=0,s.nextDouble=function(){return s.x=Math.sin(s.seed++)*1e4,s.x-Math.floor(s.x)},n.exports=s}),(function(n,r,i){var s=i(4);function a(o,u){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}a.prototype.getWorldOrgX=function(){return this.lworldOrgX},a.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},a.prototype.getWorldOrgY=function(){return this.lworldOrgY},a.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},a.prototype.getWorldExtX=function(){return this.lworldExtX},a.prototype.setWorldExtX=function(o){this.lworldExtX=o},a.prototype.getWorldExtY=function(){return this.lworldExtY},a.prototype.setWorldExtY=function(o){this.lworldExtY=o},a.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},a.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},a.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},a.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},a.prototype.getDeviceExtX=function(){return this.ldeviceExtX},a.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},a.prototype.getDeviceExtY=function(){return this.ldeviceExtY},a.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},a.prototype.transformX=function(o){var u=0,c=this.lworldExtX;return c!=0&&(u=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/c),u},a.prototype.transformY=function(o){var u=0,c=this.lworldExtY;return c!=0&&(u=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/c),u},a.prototype.inverseTransformX=function(o){var u=0,c=this.ldeviceExtX;return c!=0&&(u=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/c),u},a.prototype.inverseTransformY=function(o){var u=0,c=this.ldeviceExtY;return c!=0&&(u=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/c),u},a.prototype.inverseTransformPoint=function(o){var u=new s(this.inverseTransformX(o.x),this.inverseTransformY(o.y));return u},n.exports=a}),(function(n,r,i){function s(f){if(Array.isArray(f)){for(var p=0,g=Array(f.length);p<f.length;p++)g[p]=f[p];return g}else return Array.from(f)}var a=i(15),o=i(7),u=i(0),c=i(8),l=i(9);function h(){a.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=o.DEFAULT_EDGE_LENGTH,this.springConstant=o.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=o.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}h.prototype=Object.create(a.prototype);for(var d in a)h[d]=a[d];h.prototype.initParameters=function(){a.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},h.prototype.calcIdealEdgeLengths=function(){for(var f,p,g,m,y,v,b=this.getGraphManager().getAllEdges(),_=0;_<b.length;_++)f=b[_],f.idealLength=this.idealEdgeLength,f.isInterGraph&&(g=f.getSource(),m=f.getTarget(),y=f.getSourceInLca().getEstimatedSize(),v=f.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(f.idealLength+=y+v-2*u.SIMPLE_NODE_SIZE),p=f.getLca().getInclusionTreeDepth(),f.idealLength+=o.DEFAULT_EDGE_LENGTH*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(g.getInclusionTreeDepth()+m.getInclusionTreeDepth()-2*p))},h.prototype.initSpringEmbedder=function(){var f=this.getAllNodes().length;this.incremental?(f>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(f>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},h.prototype.calcSpringForces=function(){for(var f=this.getAllEdges(),p,g=0;g<f.length;g++)p=f[g],this.calcSpringForce(p,p.idealLength)},h.prototype.calcRepulsionForces=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g,m,y,v,b=this.getAllNodes(),_;if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&f&&this.updateGrid(),_=new Set,g=0;g<b.length;g++)y=b[g],this.calculateRepulsionForceOfANode(y,_,f,p),_.add(y);else for(g=0;g<b.length;g++)for(y=b[g],m=g+1;m<b.length;m++)v=b[m],y.getOwner()==v.getOwner()&&this.calcRepulsionForce(y,v)},h.prototype.calcGravitationalForces=function(){for(var f,p=this.getAllNodesToApplyGravitation(),g=0;g<p.length;g++)f=p[g],this.calcGravitationalForce(f)},h.prototype.moveNodes=function(){for(var f=this.getAllNodes(),p,g=0;g<f.length;g++)p=f[g],p.move()},h.prototype.calcSpringForce=function(f,p){var g=f.getSource(),m=f.getTarget(),y,v,b,_;if(this.uniformLeafNodeSizes&&g.getChild()==null&&m.getChild()==null)f.updateLengthSimple();else if(f.updateLength(),f.isOverlapingSourceAndTarget)return;y=f.getLength(),y!=0&&(v=this.springConstant*(y-p),b=v*(f.lengthX/y),_=v*(f.lengthY/y),g.springForceX+=b,g.springForceY+=_,m.springForceX-=b,m.springForceY-=_)},h.prototype.calcRepulsionForce=function(f,p){var g=f.getRect(),m=p.getRect(),y=new Array(2),v=new Array(4),b,_,k,C,x,S,O;if(g.intersects(m)){c.calcSeparationAmount(g,m,y,o.DEFAULT_EDGE_LENGTH/2),S=2*y[0],O=2*y[1];var D=f.noOfChildren*p.noOfChildren/(f.noOfChildren+p.noOfChildren);f.repulsionForceX-=D*S,f.repulsionForceY-=D*O,p.repulsionForceX+=D*S,p.repulsionForceY+=D*O}else this.uniformLeafNodeSizes&&f.getChild()==null&&p.getChild()==null?(b=m.getCenterX()-g.getCenterX(),_=m.getCenterY()-g.getCenterY()):(c.getIntersection(g,m,v),b=v[2]-v[0],_=v[3]-v[1]),Math.abs(b)<o.MIN_REPULSION_DIST&&(b=l.sign(b)*o.MIN_REPULSION_DIST),Math.abs(_)<o.MIN_REPULSION_DIST&&(_=l.sign(_)*o.MIN_REPULSION_DIST),k=b*b+_*_,C=Math.sqrt(k),x=this.repulsionConstant*f.noOfChildren*p.noOfChildren/k,S=x*b/C,O=x*_/C,f.repulsionForceX-=S,f.repulsionForceY-=O,p.repulsionForceX+=S,p.repulsionForceY+=O},h.prototype.calcGravitationalForce=function(f){var p,g,m,y,v,b,_,k;p=f.getOwner(),g=(p.getRight()+p.getLeft())/2,m=(p.getTop()+p.getBottom())/2,y=f.getCenterX()-g,v=f.getCenterY()-m,b=Math.abs(y)+f.getWidth()/2,_=Math.abs(v)+f.getHeight()/2,f.getOwner()==this.graphManager.getRoot()?(k=p.getEstimatedSize()*this.gravityRangeFactor,(b>k||_>k)&&(f.gravitationForceX=-this.gravityConstant*y,f.gravitationForceY=-this.gravityConstant*v)):(k=p.getEstimatedSize()*this.compoundGravityRangeFactor,(b>k||_>k)&&(f.gravitationForceX=-this.gravityConstant*y*this.compoundGravityConstant,f.gravitationForceY=-this.gravityConstant*v*this.compoundGravityConstant))},h.prototype.isConverged=function(){var f,p=!1;return this.totalIterations>this.maxIterations/3&&(p=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),f=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,f||p},h.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},h.prototype.calcNoOfChildrenForAllNodes=function(){for(var f,p=this.graphManager.getAllNodes(),g=0;g<p.length;g++)f=p[g],f.noOfChildren=f.getNoOfChildren()},h.prototype.calcGrid=function(f){var p=0,g=0;p=parseInt(Math.ceil((f.getRight()-f.getLeft())/this.repulsionRange)),g=parseInt(Math.ceil((f.getBottom()-f.getTop())/this.repulsionRange));for(var m=new Array(p),y=0;y<p;y++)m[y]=new Array(g);for(var y=0;y<p;y++)for(var v=0;v<g;v++)m[y][v]=new Array;return m},h.prototype.addNodeToGrid=function(f,p,g){var m=0,y=0,v=0,b=0;m=parseInt(Math.floor((f.getRect().x-p)/this.repulsionRange)),y=parseInt(Math.floor((f.getRect().width+f.getRect().x-p)/this.repulsionRange)),v=parseInt(Math.floor((f.getRect().y-g)/this.repulsionRange)),b=parseInt(Math.floor((f.getRect().height+f.getRect().y-g)/this.repulsionRange));for(var _=m;_<=y;_++)for(var k=v;k<=b;k++)this.grid[_][k].push(f),f.setGridCoordinates(m,y,v,b)},h.prototype.updateGrid=function(){var f,p,g=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),f=0;f<g.length;f++)p=g[f],this.addNodeToGrid(p,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},h.prototype.calculateRepulsionForceOfANode=function(f,p,g,m){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&g||m){var y=new Set;f.surrounding=new Array;for(var v,b=this.grid,_=f.startX-1;_<f.finishX+2;_++)for(var k=f.startY-1;k<f.finishY+2;k++)if(!(_<0||k<0||_>=b.length||k>=b[0].length)){for(var C=0;C<b[_][k].length;C++)if(v=b[_][k][C],!(f.getOwner()!=v.getOwner()||f==v)&&!p.has(v)&&!y.has(v)){var x=Math.abs(f.getCenterX()-v.getCenterX())-(f.getWidth()/2+v.getWidth()/2),S=Math.abs(f.getCenterY()-v.getCenterY())-(f.getHeight()/2+v.getHeight()/2);x<=this.repulsionRange&&S<=this.repulsionRange&&y.add(v)}}f.surrounding=[].concat(s(y))}for(_=0;_<f.surrounding.length;_++)this.calcRepulsionForce(f,f.surrounding[_])},h.prototype.calcRepulsionRange=function(){return 0},n.exports=h}),(function(n,r,i){var s=i(1),a=i(7);function o(c,l,h){s.call(this,c,l,h),this.idealLength=a.DEFAULT_EDGE_LENGTH}o.prototype=Object.create(s.prototype);for(var u in s)o[u]=s[u];n.exports=o}),(function(n,r,i){var s=i(3);function a(u,c,l,h){s.call(this,u,c,l,h),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}a.prototype=Object.create(s.prototype);for(var o in s)a[o]=s[o];a.prototype.setGridCoordinates=function(u,c,l,h){this.startX=u,this.finishX=c,this.startY=l,this.finishY=h},n.exports=a}),(function(n,r,i){function s(a,o){this.width=0,this.height=0,a!==null&&o!==null&&(this.height=o,this.width=a)}s.prototype.getWidth=function(){return this.width},s.prototype.setWidth=function(a){this.width=a},s.prototype.getHeight=function(){return this.height},s.prototype.setHeight=function(a){this.height=a},n.exports=s}),(function(n,r,i){var s=i(14);function a(){this.map={},this.keys=[]}a.prototype.put=function(o,u){var c=s.createID(o);this.contains(c)||(this.map[c]=u,this.keys.push(o))},a.prototype.contains=function(o){return s.createID(o),this.map[o]!=null},a.prototype.get=function(o){var u=s.createID(o);return this.map[u]},a.prototype.keySet=function(){return this.keys},n.exports=a}),(function(n,r,i){var s=i(14);function a(){this.set={}}a.prototype.add=function(o){var u=s.createID(o);this.contains(u)||(this.set[u]=o)},a.prototype.remove=function(o){delete this.set[s.createID(o)]},a.prototype.clear=function(){this.set={}},a.prototype.contains=function(o){return this.set[s.createID(o)]==o},a.prototype.isEmpty=function(){return this.size()===0},a.prototype.size=function(){return Object.keys(this.set).length},a.prototype.addAllTo=function(o){for(var u=Object.keys(this.set),c=u.length,l=0;l<c;l++)o.push(this.set[u[l]])},a.prototype.size=function(){return Object.keys(this.set).length},a.prototype.addAll=function(o){for(var u=o.length,c=0;c<u;c++){var l=o[c];this.add(l)}},n.exports=a}),(function(n,r,i){var s=(function(){function c(l,h){for(var d=0;d<h.length;d++){var f=h[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,h,d){return h&&c(l.prototype,h),d&&c(l,d),l}})();function a(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}var o=i(11),u=(function(){function c(l,h){a(this,c),(h!==null||h!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var d=void 0;l instanceof o?d=l.size():d=l.length,this._quicksort(l,0,d-1)}return s(c,[{key:"_quicksort",value:function(h,d,f){if(d<f){var p=this._partition(h,d,f);this._quicksort(h,d,p),this._quicksort(h,p+1,f)}}},{key:"_partition",value:function(h,d,f){for(var p=this._get(h,d),g=d,m=f;;){for(;this.compareFunction(p,this._get(h,m));)m--;for(;this.compareFunction(this._get(h,g),p);)g++;if(g<m)this._swap(h,g,m),g++,m--;else return m}}},{key:"_get",value:function(h,d){return h instanceof o?h.get_object_at(d):h[d]}},{key:"_set",value:function(h,d,f){h instanceof o?h.set_object_at(d,f):h[d]=f}},{key:"_swap",value:function(h,d,f){var p=this._get(h,d);this._set(h,d,this._get(h,f)),this._set(h,f,p)}},{key:"_defaultCompareFunction",value:function(h,d){return d>h}}]),c})();n.exports=u}),(function(n,r,i){var s=(function(){function u(c,l){for(var h=0;h<l.length;h++){var d=l[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}return function(c,l,h){return l&&u(c.prototype,l),h&&u(c,h),c}})();function a(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}var o=(function(){function u(c,l){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;a(this,u),this.sequence1=c,this.sequence2=l,this.match_score=h,this.mismatch_penalty=d,this.gap_penalty=f,this.iMax=c.length+1,this.jMax=l.length+1,this.grid=new Array(this.iMax);for(var p=0;p<this.iMax;p++){this.grid[p]=new Array(this.jMax);for(var g=0;g<this.jMax;g++)this.grid[p][g]=0}this.tracebackGrid=new Array(this.iMax);for(var m=0;m<this.iMax;m++){this.tracebackGrid[m]=new Array(this.jMax);for(var y=0;y<this.jMax;y++)this.tracebackGrid[m][y]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return s(u,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var l=1;l<this.jMax;l++)this.grid[0][l]=this.grid[0][l-1]+this.gap_penalty,this.tracebackGrid[0][l]=[!1,!1,!0];for(var h=1;h<this.iMax;h++)this.grid[h][0]=this.grid[h-1][0]+this.gap_penalty,this.tracebackGrid[h][0]=[!1,!0,!1];for(var d=1;d<this.iMax;d++)for(var f=1;f<this.jMax;f++){var p=void 0;this.sequence1[d-1]===this.sequence2[f-1]?p=this.grid[d-1][f-1]+this.match_score:p=this.grid[d-1][f-1]+this.mismatch_penalty;var g=this.grid[d-1][f]+this.gap_penalty,m=this.grid[d][f-1]+this.gap_penalty,y=[p,g,m],v=this.arrayAllMaxIndexes(y);this.grid[d][f]=y[v[0]],this.tracebackGrid[d][f]=[v.includes(0),v.includes(1),v.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var l=[];for(l.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});l[0];){var h=l[0],d=this.tracebackGrid[h.pos[0]][h.pos[1]];d[0]&&l.push({pos:[h.pos[0]-1,h.pos[1]-1],seq1:this.sequence1[h.pos[0]-1]+h.seq1,seq2:this.sequence2[h.pos[1]-1]+h.seq2}),d[1]&&l.push({pos:[h.pos[0]-1,h.pos[1]],seq1:this.sequence1[h.pos[0]-1]+h.seq1,seq2:"-"+h.seq2}),d[2]&&l.push({pos:[h.pos[0],h.pos[1]-1],seq1:"-"+h.seq1,seq2:this.sequence2[h.pos[1]-1]+h.seq2}),h.pos[0]===0&&h.pos[1]===0&&this.alignments.push({sequence1:h.seq1,sequence2:h.seq2}),l.shift()}return this.alignments}},{key:"getAllIndexes",value:function(l,h){for(var d=[],f=-1;(f=l.indexOf(h,f+1))!==-1;)d.push(f);return d}},{key:"arrayAllMaxIndexes",value:function(l){return this.getAllIndexes(l,Math.max.apply(null,l))}}]),u})();n.exports=o}),(function(n,r,i){var s=function(){};s.FDLayout=i(18),s.FDLayoutConstants=i(7),s.FDLayoutEdge=i(19),s.FDLayoutNode=i(20),s.DimensionD=i(21),s.HashMap=i(22),s.HashSet=i(23),s.IGeometry=i(8),s.IMath=i(9),s.Integer=i(10),s.Point=i(12),s.PointD=i(4),s.RandomSeed=i(16),s.RectangleD=i(13),s.Transform=i(17),s.UniqueIDGeneretor=i(14),s.Quicksort=i(24),s.LinkedList=i(11),s.LGraphObject=i(2),s.LGraph=i(5),s.LEdge=i(1),s.LGraphManager=i(6),s.LNode=i(3),s.Layout=i(15),s.LayoutConstants=i(0),s.NeedlemanWunsch=i(25),n.exports=s}),(function(n,r,i){function s(){this.listeners=[]}var a=s.prototype;a.addListener=function(o,u){this.listeners.push({event:o,callback:u})},a.removeListener=function(o,u){for(var c=this.listeners.length;c>=0;c--){var l=this.listeners[c];l.event===o&&l.callback===u&&this.listeners.splice(c,1)}},a.emit=function(o,u){for(var c=0;c<this.listeners.length;c++){var l=this.listeners[c];o===l.event&&l.callback(u)}},n.exports=s})])})})(Jh)),Jh.exports}var RH=Qh.exports,Fw;function kJ(){return Fw||(Fw=1,(function(t,e){(function(r,i){t.exports=i(SH())})(RH,function(n){return(function(r){var i={};function s(a){if(i[a])return i[a].exports;var o=i[a]={i:a,l:!1,exports:{}};return r[a].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=r,s.c=i,s.i=function(a){return a},s.d=function(a,o,u){s.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:u})},s.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return s.d(o,"a",o),o},s.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},s.p="",s(s.s=7)})([(function(r,i){r.exports=n}),(function(r,i,s){var a=s(0).FDLayoutConstants;function o(){}for(var u in a)o[u]=a[u];o.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,o.DEFAULT_RADIAL_SEPARATION=a.DEFAULT_EDGE_LENGTH,o.DEFAULT_COMPONENT_SEPERATION=60,o.TILE=!0,o.TILING_PADDING_VERTICAL=10,o.TILING_PADDING_HORIZONTAL=10,o.TREE_REDUCTION_ON_INCREMENTAL=!1,r.exports=o}),(function(r,i,s){var a=s(0).FDLayoutEdge;function o(c,l,h){a.call(this,c,l,h)}o.prototype=Object.create(a.prototype);for(var u in a)o[u]=a[u];r.exports=o}),(function(r,i,s){var a=s(0).LGraph;function o(c,l,h){a.call(this,c,l,h)}o.prototype=Object.create(a.prototype);for(var u in a)o[u]=a[u];r.exports=o}),(function(r,i,s){var a=s(0).LGraphManager;function o(c){a.call(this,c)}o.prototype=Object.create(a.prototype);for(var u in a)o[u]=a[u];r.exports=o}),(function(r,i,s){var a=s(0).FDLayoutNode,o=s(0).IMath;function u(l,h,d,f){a.call(this,l,h,d,f)}u.prototype=Object.create(a.prototype);for(var c in a)u[c]=a[c];u.prototype.move=function(){var l=this.graphManager.getLayout();this.displacementX=l.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=l.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>l.coolingFactor*l.maxNodeDisplacement&&(this.displacementX=l.coolingFactor*l.maxNodeDisplacement*o.sign(this.displacementX)),Math.abs(this.displacementY)>l.coolingFactor*l.maxNodeDisplacement&&(this.displacementY=l.coolingFactor*l.maxNodeDisplacement*o.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),l.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},u.prototype.propogateDisplacementToChildren=function(l,h){for(var d=this.getChild().getNodes(),f,p=0;p<d.length;p++)f=d[p],f.getChild()==null?(f.moveBy(l,h),f.displacementX+=l,f.displacementY+=h):f.propogateDisplacementToChildren(l,h)},u.prototype.setPred1=function(l){this.pred1=l},u.prototype.getPred1=function(){return pred1},u.prototype.getPred2=function(){return pred2},u.prototype.setNext=function(l){this.next=l},u.prototype.getNext=function(){return next},u.prototype.setProcessed=function(l){this.processed=l},u.prototype.isProcessed=function(){return processed},r.exports=u}),(function(r,i,s){var a=s(0).FDLayout,o=s(4),u=s(3),c=s(5),l=s(2),h=s(1),d=s(0).FDLayoutConstants,f=s(0).LayoutConstants,p=s(0).Point,g=s(0).PointD,m=s(0).Layout,y=s(0).Integer,v=s(0).IGeometry,b=s(0).LGraph,_=s(0).Transform;function k(){a.call(this),this.toBeTiled={}}k.prototype=Object.create(a.prototype);for(var C in a)k[C]=a[C];k.prototype.newGraphManager=function(){var x=new o(this);return this.graphManager=x,x},k.prototype.newGraph=function(x){return new u(null,this.graphManager,x)},k.prototype.newNode=function(x){return new c(this.graphManager,x)},k.prototype.newEdge=function(x){return new l(null,null,x)},k.prototype.initParameters=function(){a.prototype.initParameters.call(this,arguments),this.isSubLayout||(h.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=h.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=h.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=d.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=d.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=d.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=d.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=d.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=d.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/d.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=d.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},k.prototype.layout=function(){var x=f.DEFAULT_CREATE_BENDS_AS_NEEDED;return x&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},k.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(h.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var S=new Set(this.getAllNodes()),O=this.nodesWithGravity.filter(function(M){return S.has(M)});this.graphManager.setAllNodesToApplyGravitation(O)}}else{var x=this.getFlatForest();if(x.length>0)this.positionNodesRadially(x);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var S=new Set(this.getAllNodes()),O=this.nodesWithGravity.filter(function(D){return S.has(D)});this.graphManager.setAllNodesToApplyGravitation(O),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},k.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%d.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var x=new Set(this.getAllNodes()),S=this.nodesWithGravity.filter(function(I){return x.has(I)});this.graphManager.setAllNodesToApplyGravitation(S),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=d.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=d.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var O=!this.isTreeGrowing&&!this.isGrowthFinished,D=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(O,D),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},k.prototype.getPositionsData=function(){for(var x=this.graphManager.getAllNodes(),S={},O=0;O<x.length;O++){var D=x[O].rect,I=x[O].id;S[I]={id:I,x:D.getCenterX(),y:D.getCenterY(),w:D.width,h:D.height}}return S},k.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var x=!1;if(d.ANIMATE==="during")this.emit("layoutstarted");else{for(;!x;)x=this.tick();this.graphManager.updateBounds()}},k.prototype.calculateNodesToApplyGravitationTo=function(){var x=[],S,O=this.graphManager.getGraphs(),D=O.length,I;for(I=0;I<D;I++)S=O[I],S.updateConnected(),S.isConnected||(x=x.concat(S.getNodes()));return x},k.prototype.createBendpoints=function(){var x=[];x=x.concat(this.graphManager.getAllEdges());var S=new Set,O;for(O=0;O<x.length;O++){var D=x[O];if(!S.has(D)){var I=D.getSource(),M=D.getTarget();if(I==M)D.getBendpoints().push(new g),D.getBendpoints().push(new g),this.createDummyNodesForBendpoints(D),S.add(D);else{var R=[];if(R=R.concat(I.getEdgeListToNode(M)),R=R.concat(M.getEdgeListToNode(I)),!S.has(R[0])){if(R.length>1){var E;for(E=0;E<R.length;E++){var w=R[E];w.getBendpoints().push(new g),this.createDummyNodesForBendpoints(w)}}R.forEach(function(T){S.add(T)})}}}if(S.size==x.length)break}},k.prototype.positionNodesRadially=function(x){for(var S=new p(0,0),O=Math.ceil(Math.sqrt(x.length)),D=0,I=0,M=0,R=new g(0,0),E=0;E<x.length;E++){E%O==0&&(M=0,I=D,E!=0&&(I+=h.DEFAULT_COMPONENT_SEPERATION),D=0);var w=x[E],T=m.findCenterOfTree(w);S.x=M,S.y=I,R=k.radialLayout(w,T,S),R.y>D&&(D=Math.floor(R.y)),M=Math.floor(R.x+h.DEFAULT_COMPONENT_SEPERATION)}this.transform(new g(f.WORLD_CENTER_X-R.x/2,f.WORLD_CENTER_Y-R.y/2))},k.radialLayout=function(x,S,O){var D=Math.max(this.maxDiagonalInTree(x),h.DEFAULT_RADIAL_SEPARATION);k.branchRadialLayout(S,null,0,359,0,D);var I=b.calculateBounds(x),M=new _;M.setDeviceOrgX(I.getMinX()),M.setDeviceOrgY(I.getMinY()),M.setWorldOrgX(O.x),M.setWorldOrgY(O.y);for(var R=0;R<x.length;R++){var E=x[R];E.transform(M)}var w=new g(I.getMaxX(),I.getMaxY());return M.inverseTransformPoint(w)},k.branchRadialLayout=function(x,S,O,D,I,M){var R=(D-O+1)/2;R<0&&(R+=180);var E=(R+O)%360,w=E*v.TWO_PI/360,T=I*Math.cos(w),A=I*Math.sin(w);x.setCenter(T,A);var N=[];N=N.concat(x.getEdges());var P=N.length;S!=null&&P--;for(var F=0,B=N.length,H,Y=x.getEdgesBetween(S);Y.length>1;){var Q=Y[0];Y.splice(0,1);var j=N.indexOf(Q);j>=0&&N.splice(j,1),B--,P--}S!=null?H=(N.indexOf(Y[0])+1)%B:H=0;for(var ee=Math.abs(D-O)/P,ue=H;F!=P;ue=++ue%B){var se=N[ue].getOtherEnd(x);if(se!=S){var z=(O+F*ee)%360,X=(z+ee)%360;k.branchRadialLayout(se,x,z,X,I+M,M),F++}}},k.maxDiagonalInTree=function(x){for(var S=y.MIN_VALUE,O=0;O<x.length;O++){var D=x[O],I=D.getDiagonal();I>S&&(S=I)}return S},k.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},k.prototype.groupZeroDegreeMembers=function(){var x=this,S={};this.memberGroups={},this.idToDummyNode={};for(var O=[],D=this.graphManager.getAllNodes(),I=0;I<D.length;I++){var M=D[I],R=M.getParent();this.getNodeDegreeWithChildren(M)===0&&(R.id==null||!this.getToBeTiled(R))&&O.push(M)}for(var I=0;I<O.length;I++){var M=O[I],E=M.getParent().id;typeof S[E]>"u"&&(S[E]=[]),S[E]=S[E].concat(M)}Object.keys(S).forEach(function(w){if(S[w].length>1){var T="DummyCompound_"+w;x.memberGroups[T]=S[w];var A=S[w][0].getParent(),N=new c(x.graphManager);N.id=T,N.paddingLeft=A.paddingLeft||0,N.paddingRight=A.paddingRight||0,N.paddingBottom=A.paddingBottom||0,N.paddingTop=A.paddingTop||0,x.idToDummyNode[T]=N;var P=x.getGraphManager().add(x.newGraph(),N),F=A.getChild();F.add(N);for(var B=0;B<S[w].length;B++){var H=S[w][B];F.remove(H),P.add(H)}}})},k.prototype.clearCompounds=function(){var x={},S={};this.performDFSOnCompounds();for(var O=0;O<this.compoundOrder.length;O++)S[this.compoundOrder[O].id]=this.compoundOrder[O],x[this.compoundOrder[O].id]=[].concat(this.compoundOrder[O].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[O].getChild()),this.compoundOrder[O].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(x,S)},k.prototype.clearZeroDegreeMembers=function(){var x=this,S=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(O){var D=x.idToDummyNode[O];S[O]=x.tileNodes(x.memberGroups[O],D.paddingLeft+D.paddingRight),D.rect.width=S[O].width,D.rect.height=S[O].height})},k.prototype.repopulateCompounds=function(){for(var x=this.compoundOrder.length-1;x>=0;x--){var S=this.compoundOrder[x],O=S.id,D=S.paddingLeft,I=S.paddingTop;this.adjustLocations(this.tiledMemberPack[O],S.rect.x,S.rect.y,D,I)}},k.prototype.repopulateZeroDegreeMembers=function(){var x=this,S=this.tiledZeroDegreePack;Object.keys(S).forEach(function(O){var D=x.idToDummyNode[O],I=D.paddingLeft,M=D.paddingTop;x.adjustLocations(S[O],D.rect.x,D.rect.y,I,M)})},k.prototype.getToBeTiled=function(x){var S=x.id;if(this.toBeTiled[S]!=null)return this.toBeTiled[S];var O=x.getChild();if(O==null)return this.toBeTiled[S]=!1,!1;for(var D=O.getNodes(),I=0;I<D.length;I++){var M=D[I];if(this.getNodeDegree(M)>0)return this.toBeTiled[S]=!1,!1;if(M.getChild()==null){this.toBeTiled[M.id]=!1;continue}if(!this.getToBeTiled(M))return this.toBeTiled[S]=!1,!1}return this.toBeTiled[S]=!0,!0},k.prototype.getNodeDegree=function(x){x.id;for(var S=x.getEdges(),O=0,D=0;D<S.length;D++){var I=S[D];I.getSource().id!==I.getTarget().id&&(O=O+1)}return O},k.prototype.getNodeDegreeWithChildren=function(x){var S=this.getNodeDegree(x);if(x.getChild()==null)return S;for(var O=x.getChild().getNodes(),D=0;D<O.length;D++){var I=O[D];S+=this.getNodeDegreeWithChildren(I)}return S},k.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},k.prototype.fillCompexOrderByDFS=function(x){for(var S=0;S<x.length;S++){var O=x[S];O.getChild()!=null&&this.fillCompexOrderByDFS(O.getChild().getNodes()),this.getToBeTiled(O)&&this.compoundOrder.push(O)}},k.prototype.adjustLocations=function(x,S,O,D,I){S+=D,O+=I;for(var M=S,R=0;R<x.rows.length;R++){var E=x.rows[R];S=M;for(var w=0,T=0;T<E.length;T++){var A=E[T];A.rect.x=S,A.rect.y=O,S+=A.rect.width+x.horizontalPadding,A.rect.height>w&&(w=A.rect.height)}O+=w+x.verticalPadding}},k.prototype.tileCompoundMembers=function(x,S){var O=this;this.tiledMemberPack=[],Object.keys(x).forEach(function(D){var I=S[D];O.tiledMemberPack[D]=O.tileNodes(x[D],I.paddingLeft+I.paddingRight),I.rect.width=O.tiledMemberPack[D].width,I.rect.height=O.tiledMemberPack[D].height})},k.prototype.tileNodes=function(x,S){var O=h.TILING_PADDING_VERTICAL,D=h.TILING_PADDING_HORIZONTAL,I={rows:[],rowWidth:[],rowHeight:[],width:0,height:S,verticalPadding:O,horizontalPadding:D};x.sort(function(E,w){return E.rect.width*E.rect.height>w.rect.width*w.rect.height?-1:E.rect.width*E.rect.height<w.rect.width*w.rect.height?1:0});for(var M=0;M<x.length;M++){var R=x[M];I.rows.length==0?this.insertNodeToRow(I,R,0,S):this.canAddHorizontal(I,R.rect.width,R.rect.height)?this.insertNodeToRow(I,R,this.getShortestRowIndex(I),S):this.insertNodeToRow(I,R,I.rows.length,S),this.shiftToLastRow(I)}return I},k.prototype.insertNodeToRow=function(x,S,O,D){var I=D;if(O==x.rows.length){var M=[];x.rows.push(M),x.rowWidth.push(I),x.rowHeight.push(0)}var R=x.rowWidth[O]+S.rect.width;x.rows[O].length>0&&(R+=x.horizontalPadding),x.rowWidth[O]=R,x.width<R&&(x.width=R);var E=S.rect.height;O>0&&(E+=x.verticalPadding);var w=0;E>x.rowHeight[O]&&(w=x.rowHeight[O],x.rowHeight[O]=E,w=x.rowHeight[O]-w),x.height+=w,x.rows[O].push(S)},k.prototype.getShortestRowIndex=function(x){for(var S=-1,O=Number.MAX_VALUE,D=0;D<x.rows.length;D++)x.rowWidth[D]<O&&(S=D,O=x.rowWidth[D]);return S},k.prototype.getLongestRowIndex=function(x){for(var S=-1,O=Number.MIN_VALUE,D=0;D<x.rows.length;D++)x.rowWidth[D]>O&&(S=D,O=x.rowWidth[D]);return S},k.prototype.canAddHorizontal=function(x,S,O){var D=this.getShortestRowIndex(x);if(D<0)return!0;var I=x.rowWidth[D];if(I+x.horizontalPadding+S<=x.width)return!0;var M=0;x.rowHeight[D]<O&&D>0&&(M=O+x.verticalPadding-x.rowHeight[D]);var R;x.width-I>=S+x.horizontalPadding?R=(x.height+M)/(I+S+x.horizontalPadding):R=(x.height+M)/x.width,M=O+x.verticalPadding;var E;return x.width<S?E=(x.height+M)/S:E=(x.height+M)/x.width,E<1&&(E=1/E),R<1&&(R=1/R),R<E},k.prototype.shiftToLastRow=function(x){var S=this.getLongestRowIndex(x),O=x.rowWidth.length-1,D=x.rows[S],I=D[D.length-1],M=I.width+x.horizontalPadding;if(x.width-x.rowWidth[O]>M&&S!=O){D.splice(-1,1),x.rows[O].push(I),x.rowWidth[S]=x.rowWidth[S]-M,x.rowWidth[O]=x.rowWidth[O]+M,x.width=x.rowWidth[instance.getLongestRowIndex(x)];for(var R=Number.MIN_VALUE,E=0;E<D.length;E++)D[E].height>R&&(R=D[E].height);S>0&&(R+=x.verticalPadding);var w=x.rowHeight[S]+x.rowHeight[O];x.rowHeight[S]=R,x.rowHeight[O]<I.height+x.verticalPadding&&(x.rowHeight[O]=I.height+x.verticalPadding);var T=x.rowHeight[S]+x.rowHeight[O];x.height+=T-w,this.shiftToLastRow(x)}},k.prototype.tilingPreLayout=function(){h.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},k.prototype.tilingPostLayout=function(){h.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},k.prototype.reduceTrees=function(){for(var x=[],S=!0,O;S;){var D=this.graphManager.getAllNodes(),I=[];S=!1;for(var M=0;M<D.length;M++)O=D[M],O.getEdges().length==1&&!O.getEdges()[0].isInterGraph&&O.getChild()==null&&(I.push([O,O.getEdges()[0],O.getOwner()]),S=!0);if(S==!0){for(var R=[],E=0;E<I.length;E++)I[E][0].getEdges().length==1&&(R.push(I[E]),I[E][0].getOwner().remove(I[E][0]));x.push(R),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=x},k.prototype.growTree=function(x){for(var S=x.length,O=x[S-1],D,I=0;I<O.length;I++)D=O[I],this.findPlaceforPrunedNode(D),D[2].add(D[0]),D[2].add(D[1],D[1].source,D[1].target);x.splice(x.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},k.prototype.findPlaceforPrunedNode=function(x){var S,O,D=x[0];D==x[1].source?O=x[1].target:O=x[1].source;var I=O.startX,M=O.finishX,R=O.startY,E=O.finishY,w=0,T=0,A=0,N=0,P=[w,A,T,N];if(R>0)for(var F=I;F<=M;F++)P[0]+=this.grid[F][R-1].length+this.grid[F][R].length-1;if(M<this.grid.length-1)for(var F=R;F<=E;F++)P[1]+=this.grid[M+1][F].length+this.grid[M][F].length-1;if(E<this.grid[0].length-1)for(var F=I;F<=M;F++)P[2]+=this.grid[F][E+1].length+this.grid[F][E].length-1;if(I>0)for(var F=R;F<=E;F++)P[3]+=this.grid[I-1][F].length+this.grid[I][F].length-1;for(var B=y.MAX_VALUE,H,Y,Q=0;Q<P.length;Q++)P[Q]<B?(B=P[Q],H=1,Y=Q):P[Q]==B&&H++;if(H==3&&B==0)P[0]==0&&P[1]==0&&P[2]==0?S=1:P[0]==0&&P[1]==0&&P[3]==0?S=0:P[0]==0&&P[2]==0&&P[3]==0?S=3:P[1]==0&&P[2]==0&&P[3]==0&&(S=2);else if(H==2&&B==0){var j=Math.floor(Math.random()*2);P[0]==0&&P[1]==0?j==0?S=0:S=1:P[0]==0&&P[2]==0?j==0?S=0:S=2:P[0]==0&&P[3]==0?j==0?S=0:S=3:P[1]==0&&P[2]==0?j==0?S=1:S=2:P[1]==0&&P[3]==0?j==0?S=1:S=3:j==0?S=2:S=3}else if(H==4&&B==0){var j=Math.floor(Math.random()*4);S=j}else S=Y;S==0?D.setCenter(O.getCenterX(),O.getCenterY()-O.getHeight()/2-d.DEFAULT_EDGE_LENGTH-D.getHeight()/2):S==1?D.setCenter(O.getCenterX()+O.getWidth()/2+d.DEFAULT_EDGE_LENGTH+D.getWidth()/2,O.getCenterY()):S==2?D.setCenter(O.getCenterX(),O.getCenterY()+O.getHeight()/2+d.DEFAULT_EDGE_LENGTH+D.getHeight()/2):D.setCenter(O.getCenterX()-O.getWidth()/2-d.DEFAULT_EDGE_LENGTH-D.getWidth()/2,O.getCenterY())},r.exports=k}),(function(r,i,s){var a={};a.layoutBase=s(0),a.CoSEConstants=s(1),a.CoSEEdge=s(2),a.CoSEGraph=s(3),a.CoSEGraphManager=s(4),a.CoSELayout=s(6),a.CoSENode=s(5),r.exports=a})])})})(Qh)),Qh.exports}function qn(t){return typeof t=="object"&&t!==null&&typeof t.$type=="string"}function Qr(t){return typeof t=="object"&&t!==null&&typeof t.$refText=="string"&&"ref"in t}function Ss(t){return typeof t=="object"&&t!==null&&typeof t.$refText=="string"&&"items"in t}function CH(t){return typeof t=="object"&&t!==null&&typeof t.name=="string"&&typeof t.type=="string"&&typeof t.path=="string"}function Mu(t){return typeof t=="object"&&t!==null&&typeof t.info=="object"&&typeof t.message=="string"}class MH{constructor(){this.subtypes={},this.allSubtypes={}}getAllTypes(){return Object.keys(this.types)}getReferenceType(e){var i;const n=this.types[e.container.$type];if(!n)throw new Error(`Type ${e.container.$type||"undefined"} not found.`);const r=(i=n.properties[e.property])==null?void 0:i.referenceType;if(!r)throw new Error(`Property ${e.property||"undefined"} of type ${e.container.$type} is not a reference.`);return r}getTypeMetaData(e){const n=this.types[e];return n||{name:e,properties:{},superTypes:[]}}isInstance(e,n){return qn(e)&&this.isSubtype(e.$type,n)}isSubtype(e,n){if(e===n)return!0;let r=this.subtypes[e];r||(r=this.subtypes[e]={});const i=r[n];if(i!==void 0)return i;{const s=this.types[e],a=s?s.superTypes.some(o=>this.isSubtype(o,n)):!1;return r[n]=a,a}}getAllSubTypes(e){const n=this.allSubtypes[e];if(n)return n;{const r=this.getAllTypes(),i=[];for(const s of r)this.isSubtype(s,e)&&i.push(s);return this.allSubtypes[e]=i,i}}}function Yc(t){return typeof t=="object"&&t!==null&&Array.isArray(t.content)}function VR(t){return typeof t=="object"&&t!==null&&typeof t.tokenType=="object"}function XR(t){return Yc(t)&&typeof t.fullText=="string"}class Cn{constructor(e,n){this.startFn=e,this.nextFn=n}iterator(){const e={state:this.startFn(),next:()=>this.nextFn(e.state),[Symbol.iterator]:()=>e};return e}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){const e=this.iterator();let n=0,r=e.next();for(;!r.done;)n++,r=e.next();return n}toArray(){const e=[],n=this.iterator();let r;do r=n.next(),r.value!==void 0&&e.push(r.value);while(!r.done);return e}toSet(){return new Set(this)}toMap(e,n){const r=this.map(i=>[e?e(i):i,n?n(i):i]);return new Map(r)}toString(){return this.join()}concat(e){return new Cn(()=>({first:this.startFn(),firstDone:!1,iterator:e[Symbol.iterator]()}),n=>{let r;if(!n.firstDone){do if(r=this.nextFn(n.first),!r.done)return r;while(!r.done);n.firstDone=!0}do if(r=n.iterator.next(),!r.done)return r;while(!r.done);return Er})}join(e=","){const n=this.iterator();let r="",i,s=!1;do i=n.next(),i.done||(s&&(r+=e),r+=OH(i.value)),s=!0;while(!i.done);return r}indexOf(e,n=0){const r=this.iterator();let i=0,s=r.next();for(;!s.done;){if(i>=n&&s.value===e)return i;s=r.next(),i++}return-1}every(e){const n=this.iterator();let r=n.next();for(;!r.done;){if(!e(r.value))return!1;r=n.next()}return!0}some(e){const n=this.iterator();let r=n.next();for(;!r.done;){if(e(r.value))return!0;r=n.next()}return!1}forEach(e){const n=this.iterator();let r=0,i=n.next();for(;!i.done;)e(i.value,r),i=n.next(),r++}map(e){return new Cn(this.startFn,n=>{const{done:r,value:i}=this.nextFn(n);return r?Er:{done:!1,value:e(i)}})}filter(e){return new Cn(this.startFn,n=>{let r;do if(r=this.nextFn(n),!r.done&&e(r.value))return r;while(!r.done);return Er})}nonNullable(){return this.filter(e=>e!=null)}reduce(e,n){const r=this.iterator();let i=n,s=r.next();for(;!s.done;)i===void 0?i=s.value:i=e(i,s.value),s=r.next();return i}reduceRight(e,n){return this.recursiveReduce(this.iterator(),e,n)}recursiveReduce(e,n,r){const i=e.next();if(i.done)return r;const s=this.recursiveReduce(e,n,r);return s===void 0?i.value:n(s,i.value)}find(e){const n=this.iterator();let r=n.next();for(;!r.done;){if(e(r.value))return r.value;r=n.next()}}findIndex(e){const n=this.iterator();let r=0,i=n.next();for(;!i.done;){if(e(i.value))return r;i=n.next(),r++}return-1}includes(e){const n=this.iterator();let r=n.next();for(;!r.done;){if(r.value===e)return!0;r=n.next()}return!1}flatMap(e){return new Cn(()=>({this:this.startFn()}),n=>{do{if(n.iterator){const s=n.iterator.next();if(s.done)n.iterator=void 0;else return s}const{done:r,value:i}=this.nextFn(n.this);if(!r){const s=e(i);if(dd(s))n.iterator=s[Symbol.iterator]();else return{done:!1,value:s}}}while(n.iterator);return Er})}flat(e){if(e===void 0&&(e=1),e<=0)return this;const n=e>1?this.flat(e-1):this;return new Cn(()=>({this:n.startFn()}),r=>{do{if(r.iterator){const a=r.iterator.next();if(a.done)r.iterator=void 0;else return a}const{done:i,value:s}=n.nextFn(r.this);if(!i)if(dd(s))r.iterator=s[Symbol.iterator]();else return{done:!1,value:s}}while(r.iterator);return Er})}head(){const n=this.iterator().next();if(!n.done)return n.value}tail(e=1){return new Cn(()=>{const n=this.startFn();for(let r=0;r<e;r++)if(this.nextFn(n).done)return n;return n},this.nextFn)}limit(e){return new Cn(()=>({size:0,state:this.startFn()}),n=>(n.size++,n.size>e?Er:this.nextFn(n.state)))}distinct(e){return new Cn(()=>({set:new Set,internalState:this.startFn()}),n=>{let r;do if(r=this.nextFn(n.internalState),!r.done){const i=e?e(r.value):r.value;if(!n.set.has(i))return n.set.add(i),r}while(!r.done);return Er})}exclude(e,n){const r=new Set;for(const i of e){const s=n?n(i):i;r.add(s)}return this.filter(i=>{const s=n?n(i):i;return!r.has(s)})}}function OH(t){return typeof t=="string"?t:typeof t>"u"?"undefined":typeof t.toString=="function"?t.toString():Object.prototype.toString.call(t)}function dd(t){return!!t&&typeof t[Symbol.iterator]=="function"}const jR=new Cn(()=>{},()=>Er),Er=Object.freeze({done:!0,value:void 0});function Gt(...t){if(t.length===1){const e=t[0];if(e instanceof Cn)return e;if(dd(e))return new Cn(()=>e[Symbol.iterator](),n=>n.next());if(typeof e.length=="number")return new Cn(()=>({index:0}),n=>n.index<e.length?{done:!1,value:e[n.index++]}:Er)}return t.length>1?new Cn(()=>({collIndex:0,arrIndex:0}),e=>{do{if(e.iterator){const n=e.iterator.next();if(!n.done)return n;e.iterator=void 0}if(e.array){if(e.arrIndex<e.array.length)return{done:!1,value:e.array[e.arrIndex++]};e.array=void 0,e.arrIndex=0}if(e.collIndex<t.length){const n=t[e.collIndex++];dd(n)?e.iterator=n[Symbol.iterator]():n&&typeof n.length=="number"&&(e.array=n)}}while(e.iterator||e.array||e.collIndex<t.length);return Er}):jR}class o_ extends Cn{constructor(e,n,r){super(()=>({iterators:r!=null&&r.includeRoot?[[e][Symbol.iterator]()]:[n(e)[Symbol.iterator]()],pruned:!1}),i=>{for(i.pruned&&(i.iterators.pop(),i.pruned=!1);i.iterators.length>0;){const a=i.iterators[i.iterators.length-1].next();if(a.done)i.iterators.pop();else return i.iterators.push(n(a.value)[Symbol.iterator]()),a}return Er})}iterator(){const e={state:this.startFn(),next:()=>this.nextFn(e.state),prune:()=>{e.state.pruned=!0},[Symbol.iterator]:()=>e};return e}}var Im;(function(t){function e(s){return s.reduce((a,o)=>a+o,0)}t.sum=e;function n(s){return s.reduce((a,o)=>a*o,0)}t.product=n;function r(s){return s.reduce((a,o)=>Math.min(a,o))}t.min=r;function i(s){return s.reduce((a,o)=>Math.max(a,o))}t.max=i})(Im||(Im={}));function Dm(t,e={}){for(const[n,r]of Object.entries(t))n.startsWith("$")||(Array.isArray(r)?r.forEach((i,s)=>{qn(i)&&(i.$container=t,i.$containerProperty=n,i.$containerIndex=s,e.deep&&Dm(i,e))}):qn(r)&&(r.$container=t,r.$containerProperty=n,e.deep&&Dm(r,e)))}function Ip(t,e){let n=t;for(;n;){if(e(n))return n;n=n.$container}}function rs(t){const n=ef(t).$document;if(!n)throw new Error("AST node has no document.");return n}function ef(t){for(;t.$container;)t=t.$container;return t}function $w(t){return Qr(t)?t.ref?[t.ref]:[]:Ss(t)?t.items.map(e=>e.ref):[]}function u_(t,e){if(!t)throw new Error("Node must be an AstNode.");const n=e==null?void 0:e.range;return new Cn(()=>({keys:Object.keys(t),keyIndex:0,arrayIndex:0}),r=>{for(;r.keyIndex<r.keys.length;){const i=r.keys[r.keyIndex];if(!i.startsWith("$")){const s=t[i];if(qn(s)){if(r.keyIndex++,Uw(s,n))return{done:!1,value:s}}else if(Array.isArray(s)){for(;r.arrayIndex<s.length;){const a=r.arrayIndex++,o=s[a];if(qn(o)&&Uw(o,n))return{done:!1,value:o}}r.arrayIndex=0}}r.keyIndex++}return Er})}function Tl(t,e){if(!t)throw new Error("Root node must be an AstNode.");return new o_(t,n=>u_(n,e))}function is(t,e){if(!t)throw new Error("Root node must be an AstNode.");return new o_(t,n=>u_(n,e),{includeRoot:!0})}function Uw(t,e){var r;if(!e)return!0;const n=(r=t.$cstNode)==null?void 0:r.range;return n?tW(n,e):!1}function pd(t){return new Cn(()=>({keys:Object.keys(t),keyIndex:0,arrayIndex:0}),e=>{for(;e.keyIndex<e.keys.length;){const n=e.keys[e.keyIndex];if(!n.startsWith("$")){const r=t[n];if(Qr(r)||Ss(r))return e.keyIndex++,{done:!1,value:{reference:r,container:t,property:n}};if(Array.isArray(r)){for(;e.arrayIndex<r.length;){const i=e.arrayIndex++,s=r[i];if(Qr(s)||Ss(r))return{done:!1,value:{reference:s,container:t,property:n,index:i}}}e.arrayIndex=0}}e.keyIndex++}return Er})}function IH(t,e){const n=t.getTypeMetaData(e.$type),r=e;for(const i of Object.values(n.properties))i.defaultValue!==void 0&&r[i.name]===void 0&&(r[i.name]=KR(i.defaultValue))}function KR(t){return Array.isArray(t)?[...t.map(KR)]:t}const vr={$type:"AbstractElement",cardinality:"cardinality"};function DH(t){return gt.isInstance(t,vr.$type)}const tf={$type:"AbstractParserRule"};function kl(t){return gt.isInstance(t,tf.$type)}const mh={$type:"AbstractRule"},Ur={$type:"AbstractType"},ia={$type:"Action",cardinality:"cardinality",feature:"feature",inferredType:"inferredType",operator:"operator",type:"type"};function Dp(t){return gt.isInstance(t,ia.$type)}const nf={$type:"Alternatives",cardinality:"cardinality",elements:"elements"};function ZR(t){return gt.isInstance(t,nf.$type)}const Bw={$type:"ArrayLiteral",elements:"elements"},Gw={$type:"ArrayType",elementType:"elementType"},sa={$type:"Assignment",cardinality:"cardinality",feature:"feature",operator:"operator",predicate:"predicate",terminal:"terminal"};function Oa(t){return gt.isInstance(t,sa.$type)}const Lm={$type:"BooleanLiteral",true:"true"};function LH(t){return gt.isInstance(t,Lm.$type)}const aa={$type:"CharacterRange",cardinality:"cardinality",left:"left",lookahead:"lookahead",parenthesized:"parenthesized",right:"right"};function PH(t){return gt.isInstance(t,aa.$type)}const to={$type:"Condition"},rf={$type:"Conjunction",left:"left",right:"right"};function FH(t){return gt.isInstance(t,rf.$type)}const oa={$type:"CrossReference",cardinality:"cardinality",deprecatedSyntax:"deprecatedSyntax",isMulti:"isMulti",terminal:"terminal",type:"type"};function Lp(t){return gt.isInstance(t,oa.$type)}const sf={$type:"Disjunction",left:"left",right:"right"};function $H(t){return gt.isInstance(t,sf.$type)}const Pm={$type:"EndOfFile",cardinality:"cardinality"};function UH(t){return gt.isInstance(t,Pm.$type)}const Ws={$type:"Grammar",imports:"imports",interfaces:"interfaces",isDeclared:"isDeclared",name:"name",rules:"rules",types:"types"},zw={$type:"GrammarImport",path:"path"},uo={$type:"Group",cardinality:"cardinality",elements:"elements",guardCondition:"guardCondition",predicate:"predicate"};function c_(t){return gt.isInstance(t,uo.$type)}const Fm={$type:"InferredType",name:"name"};function QR(t){return gt.isInstance(t,Fm.$type)}const Ki={$type:"InfixRule",call:"call",dataType:"dataType",inferredType:"inferredType",name:"name",operators:"operators",parameters:"parameters",returnType:"returnType"};function gd(t){return gt.isInstance(t,Ki.$type)}const s0={$type:"InfixRuleOperatorList",associativity:"associativity",operators:"operators"},qw={$type:"InfixRuleOperators",precedences:"precedences"},hc={$type:"Interface",attributes:"attributes",name:"name",superTypes:"superTypes"};function BH(t){return gt.isInstance(t,hc.$type)}const fc={$type:"Keyword",cardinality:"cardinality",predicate:"predicate",value:"value"};function Ia(t){return gt.isInstance(t,fc.$type)}const yh={$type:"NamedArgument",calledByName:"calledByName",parameter:"parameter",value:"value"},co={$type:"NegatedToken",cardinality:"cardinality",lookahead:"lookahead",parenthesized:"parenthesized",terminal:"terminal"};function GH(t){return gt.isInstance(t,co.$type)}const $m={$type:"Negation",value:"value"};function zH(t){return gt.isInstance(t,$m.$type)}const Hw={$type:"NumberLiteral",value:"value"},bh={$type:"Parameter",name:"name"},Um={$type:"ParameterReference",parameter:"parameter"};function qH(t){return gt.isInstance(t,Um.$type)}const bi={$type:"ParserRule",dataType:"dataType",definition:"definition",entry:"entry",fragment:"fragment",inferredType:"inferredType",name:"name",parameters:"parameters",returnType:"returnType"};function ps(t){return gt.isInstance(t,bi.$type)}const a0={$type:"ReferenceType",isMulti:"isMulti",referenceType:"referenceType"},lo={$type:"RegexToken",cardinality:"cardinality",lookahead:"lookahead",parenthesized:"parenthesized",regex:"regex"};function HH(t){return gt.isInstance(t,lo.$type)}const Bm={$type:"ReturnType",name:"name"};function WH(t){return gt.isInstance(t,Bm.$type)}const ho={$type:"RuleCall",arguments:"arguments",cardinality:"cardinality",predicate:"predicate",rule:"rule"};function Da(t){return gt.isInstance(t,ho.$type)}const dc={$type:"SimpleType",primitiveType:"primitiveType",stringType:"stringType",typeRef:"typeRef"};function YH(t){return gt.isInstance(t,dc.$type)}const Ww={$type:"StringLiteral",value:"value"},fo={$type:"TerminalAlternatives",cardinality:"cardinality",elements:"elements",lookahead:"lookahead",parenthesized:"parenthesized"};function VH(t){return gt.isInstance(t,fo.$type)}const Ir={$type:"TerminalElement",cardinality:"cardinality",lookahead:"lookahead",parenthesized:"parenthesized"},po={$type:"TerminalGroup",cardinality:"cardinality",elements:"elements",lookahead:"lookahead",parenthesized:"parenthesized"};function XH(t){return gt.isInstance(t,po.$type)}const _s={$type:"TerminalRule",definition:"definition",fragment:"fragment",hidden:"hidden",name:"name",type:"type"};function gs(t){return gt.isInstance(t,_s.$type)}const go={$type:"TerminalRuleCall",cardinality:"cardinality",lookahead:"lookahead",parenthesized:"parenthesized",rule:"rule"};function jH(t){return gt.isInstance(t,go.$type)}const af={$type:"Type",name:"name",type:"type"};function KH(t){return gt.isInstance(t,af.$type)}const Ou={$type:"TypeAttribute",defaultValue:"defaultValue",isOptional:"isOptional",name:"name",type:"type"},Iu={$type:"TypeDefinition"},Yw={$type:"UnionType",types:"types"},of={$type:"UnorderedGroup",cardinality:"cardinality",elements:"elements"};function JR(t){return gt.isInstance(t,of.$type)}const mo={$type:"UntilToken",cardinality:"cardinality",lookahead:"lookahead",parenthesized:"parenthesized",terminal:"terminal"};function ZH(t){return gt.isInstance(t,mo.$type)}const Du={$type:"ValueLiteral"},pc={$type:"Wildcard",cardinality:"cardinality",lookahead:"lookahead",parenthesized:"parenthesized"};function QH(t){return gt.isInstance(t,pc.$type)}class eC extends MH{constructor(){super(...arguments),this.types={AbstractElement:{name:vr.$type,properties:{cardinality:{name:vr.cardinality}},superTypes:[]},AbstractParserRule:{name:tf.$type,properties:{},superTypes:[mh.$type,Ur.$type]},AbstractRule:{name:mh.$type,properties:{},superTypes:[]},AbstractType:{name:Ur.$type,properties:{},superTypes:[]},Action:{name:ia.$type,properties:{cardinality:{name:ia.cardinality},feature:{name:ia.feature},inferredType:{name:ia.inferredType},operator:{name:ia.operator},type:{name:ia.type,referenceType:Ur.$type}},superTypes:[vr.$type]},Alternatives:{name:nf.$type,properties:{cardinality:{name:nf.cardinality},elements:{name:nf.elements,defaultValue:[]}},superTypes:[vr.$type]},ArrayLiteral:{name:Bw.$type,properties:{elements:{name:Bw.elements,defaultValue:[]}},superTypes:[Du.$type]},ArrayType:{name:Gw.$type,properties:{elementType:{name:Gw.elementType}},superTypes:[Iu.$type]},Assignment:{name:sa.$type,properties:{cardinality:{name:sa.cardinality},feature:{name:sa.feature},operator:{name:sa.operator},predicate:{name:sa.predicate},terminal:{name:sa.terminal}},superTypes:[vr.$type]},BooleanLiteral:{name:Lm.$type,properties:{true:{name:Lm.true,defaultValue:!1}},superTypes:[to.$type,Du.$type]},CharacterRange:{name:aa.$type,properties:{cardinality:{name:aa.cardinality},left:{name:aa.left},lookahead:{name:aa.lookahead},parenthesized:{name:aa.parenthesized,defaultValue:!1},right:{name:aa.right}},superTypes:[Ir.$type]},Condition:{name:to.$type,properties:{},superTypes:[]},Conjunction:{name:rf.$type,properties:{left:{name:rf.left},right:{name:rf.right}},superTypes:[to.$type]},CrossReference:{name:oa.$type,properties:{cardinality:{name:oa.cardinality},deprecatedSyntax:{name:oa.deprecatedSyntax,defaultValue:!1},isMulti:{name:oa.isMulti,defaultValue:!1},terminal:{name:oa.terminal},type:{name:oa.type,referenceType:Ur.$type}},superTypes:[vr.$type]},Disjunction:{name:sf.$type,properties:{left:{name:sf.left},right:{name:sf.right}},superTypes:[to.$type]},EndOfFile:{name:Pm.$type,properties:{cardinality:{name:Pm.cardinality}},superTypes:[vr.$type]},Grammar:{name:Ws.$type,properties:{imports:{name:Ws.imports,defaultValue:[]},interfaces:{name:Ws.interfaces,defaultValue:[]},isDeclared:{name:Ws.isDeclared,defaultValue:!1},name:{name:Ws.name},rules:{name:Ws.rules,defaultValue:[]},types:{name:Ws.types,defaultValue:[]}},superTypes:[]},GrammarImport:{name:zw.$type,properties:{path:{name:zw.path}},superTypes:[]},Group:{name:uo.$type,properties:{cardinality:{name:uo.cardinality},elements:{name:uo.elements,defaultValue:[]},guardCondition:{name:uo.guardCondition},predicate:{name:uo.predicate}},superTypes:[vr.$type]},InferredType:{name:Fm.$type,properties:{name:{name:Fm.name}},superTypes:[Ur.$type]},InfixRule:{name:Ki.$type,properties:{call:{name:Ki.call},dataType:{name:Ki.dataType},inferredType:{name:Ki.inferredType},name:{name:Ki.name},operators:{name:Ki.operators},parameters:{name:Ki.parameters,defaultValue:[]},returnType:{name:Ki.returnType,referenceType:Ur.$type}},superTypes:[tf.$type]},InfixRuleOperatorList:{name:s0.$type,properties:{associativity:{name:s0.associativity},operators:{name:s0.operators,defaultValue:[]}},superTypes:[]},InfixRuleOperators:{name:qw.$type,properties:{precedences:{name:qw.precedences,defaultValue:[]}},superTypes:[]},Interface:{name:hc.$type,properties:{attributes:{name:hc.attributes,defaultValue:[]},name:{name:hc.name},superTypes:{name:hc.superTypes,defaultValue:[],referenceType:Ur.$type}},superTypes:[Ur.$type]},Keyword:{name:fc.$type,properties:{cardinality:{name:fc.cardinality},predicate:{name:fc.predicate},value:{name:fc.value}},superTypes:[vr.$type]},NamedArgument:{name:yh.$type,properties:{calledByName:{name:yh.calledByName,defaultValue:!1},parameter:{name:yh.parameter,referenceType:bh.$type},value:{name:yh.value}},superTypes:[]},NegatedToken:{name:co.$type,properties:{cardinality:{name:co.cardinality},lookahead:{name:co.lookahead},parenthesized:{name:co.parenthesized,defaultValue:!1},terminal:{name:co.terminal}},superTypes:[Ir.$type]},Negation:{name:$m.$type,properties:{value:{name:$m.value}},superTypes:[to.$type]},NumberLiteral:{name:Hw.$type,properties:{value:{name:Hw.value}},superTypes:[Du.$type]},Parameter:{name:bh.$type,properties:{name:{name:bh.name}},superTypes:[]},ParameterReference:{name:Um.$type,properties:{parameter:{name:Um.parameter,referenceType:bh.$type}},superTypes:[to.$type]},ParserRule:{name:bi.$type,properties:{dataType:{name:bi.dataType},definition:{name:bi.definition},entry:{name:bi.entry,defaultValue:!1},fragment:{name:bi.fragment,defaultValue:!1},inferredType:{name:bi.inferredType},name:{name:bi.name},parameters:{name:bi.parameters,defaultValue:[]},returnType:{name:bi.returnType,referenceType:Ur.$type}},superTypes:[tf.$type]},ReferenceType:{name:a0.$type,properties:{isMulti:{name:a0.isMulti,defaultValue:!1},referenceType:{name:a0.referenceType}},superTypes:[Iu.$type]},RegexToken:{name:lo.$type,properties:{cardinality:{name:lo.cardinality},lookahead:{name:lo.lookahead},parenthesized:{name:lo.parenthesized,defaultValue:!1},regex:{name:lo.regex}},superTypes:[Ir.$type]},ReturnType:{name:Bm.$type,properties:{name:{name:Bm.name}},superTypes:[]},RuleCall:{name:ho.$type,properties:{arguments:{name:ho.arguments,defaultValue:[]},cardinality:{name:ho.cardinality},predicate:{name:ho.predicate},rule:{name:ho.rule,referenceType:mh.$type}},superTypes:[vr.$type]},SimpleType:{name:dc.$type,properties:{primitiveType:{name:dc.primitiveType},stringType:{name:dc.stringType},typeRef:{name:dc.typeRef,referenceType:Ur.$type}},superTypes:[Iu.$type]},StringLiteral:{name:Ww.$type,properties:{value:{name:Ww.value}},superTypes:[Du.$type]},TerminalAlternatives:{name:fo.$type,properties:{cardinality:{name:fo.cardinality},elements:{name:fo.elements,defaultValue:[]},lookahead:{name:fo.lookahead},parenthesized:{name:fo.parenthesized,defaultValue:!1}},superTypes:[Ir.$type]},TerminalElement:{name:Ir.$type,properties:{cardinality:{name:Ir.cardinality},lookahead:{name:Ir.lookahead},parenthesized:{name:Ir.parenthesized,defaultValue:!1}},superTypes:[vr.$type]},TerminalGroup:{name:po.$type,properties:{cardinality:{name:po.cardinality},elements:{name:po.elements,defaultValue:[]},lookahead:{name:po.lookahead},parenthesized:{name:po.parenthesized,defaultValue:!1}},superTypes:[Ir.$type]},TerminalRule:{name:_s.$type,properties:{definition:{name:_s.definition},fragment:{name:_s.fragment,defaultValue:!1},hidden:{name:_s.hidden,defaultValue:!1},name:{name:_s.name},type:{name:_s.type}},superTypes:[mh.$type]},TerminalRuleCall:{name:go.$type,properties:{cardinality:{name:go.cardinality},lookahead:{name:go.lookahead},parenthesized:{name:go.parenthesized,defaultValue:!1},rule:{name:go.rule,referenceType:_s.$type}},superTypes:[Ir.$type]},Type:{name:af.$type,properties:{name:{name:af.name},type:{name:af.type}},superTypes:[Ur.$type]},TypeAttribute:{name:Ou.$type,properties:{defaultValue:{name:Ou.defaultValue},isOptional:{name:Ou.isOptional,defaultValue:!1},name:{name:Ou.name},type:{name:Ou.type}},superTypes:[]},TypeDefinition:{name:Iu.$type,properties:{},superTypes:[]},UnionType:{name:Yw.$type,properties:{types:{name:Yw.types,defaultValue:[]}},superTypes:[Iu.$type]},UnorderedGroup:{name:of.$type,properties:{cardinality:{name:of.cardinality},elements:{name:of.elements,defaultValue:[]}},superTypes:[vr.$type]},UntilToken:{name:mo.$type,properties:{cardinality:{name:mo.cardinality},lookahead:{name:mo.lookahead},parenthesized:{name:mo.parenthesized,defaultValue:!1},terminal:{name:mo.terminal}},superTypes:[Ir.$type]},ValueLiteral:{name:Du.$type,properties:{},superTypes:[]},Wildcard:{name:pc.$type,properties:{cardinality:{name:pc.cardinality},lookahead:{name:pc.lookahead},parenthesized:{name:pc.parenthesized,defaultValue:!1}},superTypes:[Ir.$type]}}}}const gt=new eC;function Gm(t){return new o_(t,e=>Yc(e)?e.content:[],{includeRoot:!0})}function JH(t,e){for(;t.container;)if(t=t.container,t===e)return!0;return!1}function zm(t){return{start:{character:t.startColumn-1,line:t.startLine-1},end:{character:t.endColumn,line:t.endLine-1}}}function md(t){if(!t)return;const{offset:e,end:n,range:r}=t;return{range:r,offset:e,end:n,length:n-e}}var Qi;(function(t){t[t.Before=0]="Before",t[t.After=1]="After",t[t.OverlapFront=2]="OverlapFront",t[t.OverlapBack=3]="OverlapBack",t[t.Inside=4]="Inside",t[t.Outside=5]="Outside"})(Qi||(Qi={}));function eW(t,e){if(t.end.line<e.start.line||t.end.line===e.start.line&&t.end.character<=e.start.character)return Qi.Before;if(t.start.line>e.end.line||t.start.line===e.end.line&&t.start.character>=e.end.character)return Qi.After;const n=t.start.line>e.start.line||t.start.line===e.start.line&&t.start.character>=e.start.character,r=t.end.line<e.end.line||t.end.line===e.end.line&&t.end.character<=e.end.character;return n&&r?Qi.Inside:n?Qi.OverlapBack:r?Qi.OverlapFront:Qi.Outside}function tW(t,e){return eW(t,e)>Qi.After}const nW=/^[\w\p{L}]$/u;function rW(t,e){if(t){const n=iW(t,!0);if(n&&Vw(n,e))return n;if(XR(t)){const r=t.content.findIndex(i=>!i.hidden);for(let i=r-1;i>=0;i--){const s=t.content[i];if(Vw(s,e))return s}}}}function Vw(t,e){return VR(t)&&e.includes(t.tokenType.name)}function iW(t,e=!0){for(;t.container;){const n=t.container;let r=n.content.indexOf(t);for(;r>0;){r--;const i=n.content[r];if(e||!i.hidden)return i}t=n}}class tC extends Error{constructor(e,n){super(e?`${n} at ${e.range.start.line}:${e.range.start.character}`:n)}}function Al(t,e="Error: Got unexpected value."){throw new Error(e)}function He(t){return t.charCodeAt(0)}function o0(t,e){Array.isArray(t)?t.forEach(function(n){e.push(n)}):e.push(t)}function Lu(t,e){if(t[e]===!0)throw"duplicate flag "+e;t[e],t[e]=!0}function no(t){if(t===void 0)throw Error("Internal Error - Should never get here!");return!0}function sW(){throw Error("Internal Error - Should never get here!")}function Xw(t){return t.type==="Character"}const yd=[];for(let t=He("0");t<=He("9");t++)yd.push(t);const bd=[He("_")].concat(yd);for(let t=He("a");t<=He("z");t++)bd.push(t);for(let t=He("A");t<=He("Z");t++)bd.push(t);const jw=[He(" "),He("\f"),He(`
`),He("\r"),He("	"),He("\v"),He("	"),He(""),He(""),He(""),He(""),He(""),He(""),He(""),He(""),He(""),He(""),He(""),He(""),He(""),He("\u2028"),He("\u2029"),He(""),He(""),He(""),He("\uFEFF")],aW=/[0-9a-fA-F]/,vh=/[0-9]/,oW=/[1-9]/;class nC{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");const n=this.disjunction();this.consumeChar("/");const r={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":Lu(r,"global");break;case"i":Lu(r,"ignoreCase");break;case"m":Lu(r,"multiLine");break;case"u":Lu(r,"unicode");break;case"y":Lu(r,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:r,value:n,loc:this.loc(0)}}disjunction(){const e=[],n=this.idx;for(e.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(n)}}alternative(){const e=[],n=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(n)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let n;switch(this.popChar()){case"=":n="Lookahead";break;case"!":n="NegativeLookahead";break;case"<":{switch(this.popChar()){case"=":n="Lookbehind";break;case"!":n="NegativeLookbehind"}break}}no(n);const r=this.disjunction();return this.consumeChar(")"),{type:n,value:r,loc:this.loc(e)}}return sW()}quantifier(e=!1){let n;const r=this.idx;switch(this.popChar()){case"*":n={atLeast:0,atMost:1/0};break;case"+":n={atLeast:1,atMost:1/0};break;case"?":n={atLeast:0,atMost:1};break;case"{":const i=this.integerIncludingZero();switch(this.popChar()){case"}":n={atLeast:i,atMost:i};break;case",":let s;this.isDigit()?(s=this.integerIncludingZero(),n={atLeast:i,atMost:s}):n={atLeast:i,atMost:1/0},this.consumeChar("}");break}if(e===!0&&n===void 0)return;no(n);break}if(!(e===!0&&n===void 0)&&no(n))return this.peekChar(0)==="?"?(this.consumeChar("?"),n.greedy=!1):n.greedy=!0,n.type="Quantifier",n.loc=this.loc(r),n}atom(){let e;const n=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group();break}if(e===void 0&&this.isPatternCharacter()&&(e=this.patternCharacter()),no(e))return e.loc=this.loc(n),this.isQuantifier()&&(e.quantifier=this.quantifier()),e}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[He(`
`),He("\r"),He("\u2028"),He("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,n=!1;switch(this.popChar()){case"d":e=yd;break;case"D":e=yd,n=!0;break;case"s":e=jw;break;case"S":e=jw,n=!0;break;case"w":e=bd;break;case"W":e=bd,n=!0;break}if(no(e))return{type:"Set",value:e,complement:n}}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=He("\f");break;case"n":e=He(`
`);break;case"r":e=He("\r");break;case"t":e=He("	");break;case"v":e=He("\v");break}if(no(e))return{type:"Character",value:e}}controlLetterEscapeAtom(){this.consumeChar("c");const e=this.popChar();if(/[a-zA-Z]/.test(e)===!1)throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:He("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){const e=this.popChar();return{type:"Character",value:He(e)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:const e=this.popChar();return{type:"Character",value:He(e)}}}characterClass(){const e=[];let n=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),n=!0);this.isClassAtom();){const r=this.classAtom();if(r.type,Xw(r)&&this.isRangeDash()){this.consumeChar("-");const i=this.classAtom();if(i.type,Xw(i)){if(i.value<r.value)throw Error("Range out of order in character class");e.push({from:r.value,to:i.value})}else o0(r.value,e),e.push(He("-")),o0(i.value,e)}else o0(r.value,e)}return this.consumeChar("]"),{type:"Set",complement:n,value:e}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:He("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++;break}const n=this.disjunction();this.consumeChar(")");const r={type:"Group",capturing:e,value:n};return e&&(r.idx=this.groupIdx),r}positiveInteger(){let e=this.popChar();if(oW.test(e)===!1)throw Error("Expecting a positive integer");for(;vh.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(vh.test(e)===!1)throw Error("Expecting an integer");for(;vh.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){const e=this.popChar();switch(e){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:He(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return vh.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!"||this.peekChar(2)==="<"&&(this.peekChar(3)==="="||this.peekChar(3)==="!"));default:return!1}}isQuantifier(){const e=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let n="";for(let i=0;i<e;i++){const s=this.popChar();if(aW.test(s)===!1)throw Error("Expecting a HexDecimal digits");n+=s}return{type:"Character",value:parseInt(n,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){const e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(e!==void 0&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}}class Pp{visitChildren(e){for(const n in e){const r=e[n];e.hasOwnProperty(n)&&(r.type!==void 0?this.visit(r):Array.isArray(r)&&r.forEach(i=>{this.visit(i)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Lookbehind":this.visitLookbehind(e);break;case"NegativeLookbehind":this.visitNegativeLookbehind(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e);break}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitLookbehind(e){}visitNegativeLookbehind(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}const uW=/\r?\n/gm,cW=new nC;class lW extends Pp{constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(e){this.multiline=!1,this.regex=e,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(e){e.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(e){const n=String.fromCharCode(e.value);if(!this.multiline&&n===`
`&&(this.multiline=!0),e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const r=Fp(n);this.endRegexpStack.push(r),this.isStarting&&(this.startRegexp+=r)}}visitSet(e){if(!this.multiline){const n=this.regex.substring(e.loc.begin,e.loc.end),r=new RegExp(n);this.multiline=!!`
`.match(r)}if(e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const n=this.regex.substring(e.loc.begin,e.loc.end);this.endRegexpStack.push(n),this.isStarting&&(this.startRegexp+=n)}}visitChildren(e){e.type==="Group"&&e.quantifier||super.visitChildren(e)}}const u0=new lW;function hW(t){try{return typeof t=="string"&&(t=new RegExp(t)),t=t.toString(),u0.reset(t),u0.visit(cW.pattern(t)),u0.multiline}catch{return!1}}const fW=`\f
\r	\v \u2028\u2029\uFEFF`.split("");function rC(t){const e=typeof t=="string"?new RegExp(t):t;return fW.some(n=>e.test(n))}function Fp(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function dW(t,e){const n=pW(t),r=e.match(n);return!!r&&r[0].length>0}function pW(t){typeof t=="string"&&(t=new RegExp(t));const e=t,n=t.source;let r=0;function i(){let s="",a;function o(c){s+=n.substr(r,c),r+=c}function u(c){s+="(?:"+n.substr(r,c)+"|$)",r+=c}for(;r<n.length;)switch(n[r]){case"\\":switch(n[r+1]){case"c":u(3);break;case"x":u(4);break;case"u":e.unicode?n[r+2]==="{"?u(n.indexOf("}",r)-r+1):u(6):u(2);break;case"p":case"P":e.unicode?u(n.indexOf("}",r)-r+1):u(2);break;case"k":u(n.indexOf(">",r)-r+1);break;default:u(2);break}break;case"[":a=/\[(?:\\.|.)*?\]/g,a.lastIndex=r,a=a.exec(n)||[],u(a[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":o(1);break;case"{":a=/\{\d+,?\d*\}/g,a.lastIndex=r,a=a.exec(n),a?o(a[0].length):u(1);break;case"(":if(n[r+1]==="?")switch(n[r+2]){case":":s+="(?:",r+=3,s+=i()+"|$)";break;case"=":s+="(?=",r+=3,s+=i()+")";break;case"!":a=r,r+=3,i(),s+=n.substr(a,r-a);break;case"<":switch(n[r+3]){case"=":case"!":a=r,r+=4,i(),s+=n.substr(a,r-a);break;default:o(n.indexOf(">",r)-r+1),s+=i()+"|$)";break}break}else o(1),s+=i()+"|$)";break;case")":return++r,s;default:u(1);break}return s}return new RegExp(i(),t.flags)}function gW(t){return t.rules.find(e=>ps(e)&&e.entry)}function mW(t){return t.rules.filter(e=>gs(e)&&e.hidden)}function iC(t,e){const n=new Set,r=gW(t);if(!r)return new Set(t.rules);const i=[r].concat(mW(t));for(const a of i)sC(a,n,e);const s=new Set;for(const a of t.rules)(n.has(a.name)||gs(a)&&a.hidden)&&s.add(a);return s}function sC(t,e,n){e.add(t.name),Tl(t).forEach(r=>{if(Da(r)||n){const i=r.rule.ref;i&&!e.has(i.name)&&sC(i,e,n)}})}function yW(t){if(t.terminal)return t.terminal;if(t.type.ref){const e=oC(t.type.ref);return e==null?void 0:e.terminal}}function bW(t){return t.hidden&&!rC(h_(t))}function vW(t,e){return!t||!e?[]:l_(t,e,t.astNode,!0)}function aC(t,e,n){if(!t||!e)return;const r=l_(t,e,t.astNode,!0);if(r.length!==0)return n!==void 0?n=Math.max(0,Math.min(n,r.length-1)):n=0,r[n]}function l_(t,e,n,r){if(!r){const i=Ip(t.grammarSource,Oa);if(i&&i.feature===e)return[t]}return Yc(t)&&t.astNode===n?t.content.flatMap(i=>l_(i,e,n,!1)):[]}function _W(t,e,n){if(!t)return;const r=EW(t,e,t==null?void 0:t.astNode);if(r.length!==0)return n!==void 0?n=Math.max(0,Math.min(n,r.length-1)):n=0,r[n]}function EW(t,e,n){if(t.astNode!==n)return[];if(Ia(t.grammarSource)&&t.grammarSource.value===e)return[t];const r=Gm(t).iterator();let i;const s=[];do if(i=r.next(),!i.done){const a=i.value;a.astNode===n?Ia(a.grammarSource)&&a.grammarSource.value===e&&s.push(a):r.prune()}while(!i.done);return s}function wW(t){var n;const e=t.astNode;for(;e===((n=t.container)==null?void 0:n.astNode);){const r=Ip(t.grammarSource,Oa);if(r)return r;t=t.container}}function oC(t){let e=t;return QR(e)&&(Dp(e.$container)?e=e.$container.$container:kl(e.$container)?e=e.$container:Al(e.$container)),uC(t,e,new Map)}function uC(t,e,n){var i;function r(s,a){let o;return Ip(s,Oa)||(o=uC(a,a,n)),n.set(t,o),o}if(n.has(t))return n.get(t);n.set(t,void 0);for(const s of Tl(e)){if(Oa(s)&&s.feature.toLowerCase()==="name")return n.set(t,s),s;if(Da(s)&&ps(s.rule.ref))return r(s,s.rule.ref);if(YH(s)&&((i=s.typeRef)!=null&&i.ref))return r(s,s.typeRef.ref)}}function cC(t){return lC(t,new Set)}function lC(t,e){if(e.has(t))return!0;e.add(t);for(const n of Tl(t))if(Da(n)){if(!n.rule.ref||ps(n.rule.ref)&&!lC(n.rule.ref,e)||gd(n.rule.ref))return!1}else{if(Oa(n))return!1;if(Dp(n))return!1}return!!t.definition}function hC(t){if(!gs(t)){if(t.inferredType)return t.inferredType.name;if(t.dataType)return t.dataType;if(t.returnType){const e=t.returnType.ref;if(e)return e.name}}}function Vc(t){if(kl(t))return ps(t)&&cC(t)?t.name:hC(t)??t.name;if(BH(t)||KH(t)||WH(t))return t.name;if(Dp(t)){const e=xW(t);if(e)return e}else if(QR(t))return t.name;throw new Error("Cannot get name of Unknown Type")}function xW(t){var e;if(t.inferredType)return t.inferredType.name;if((e=t.type)!=null&&e.ref)return Vc(t.type.ref)}function TW(t){var e;return gs(t)?((e=t.type)==null?void 0:e.name)??"string":hC(t)??t.name}function h_(t){const e={s:!1,i:!1,u:!1},n=su(t.definition,e),r=Object.entries(e).filter(([,i])=>i).map(([i])=>i).join("");return new RegExp(n,r)}const f_=/[\s\S]/.source;function su(t,e){var n;if(VH(t))return kW(t);if(XH(t))return AW(t);if(PH(t))return RW(t);if(jH(t)){const r=t.rule.ref;if(!r)throw new Error("Missing rule reference.");return ss(su(r.definition),{cardinality:t.cardinality,lookahead:t.lookahead,parenthesized:t.parenthesized})}else{if(GH(t))return SW(t);if(ZH(t))return NW(t);if(HH(t)){const r=t.regex.lastIndexOf("/"),i=t.regex.substring(1,r),s=t.regex.substring(r+1);return e&&(e.i=s.includes("i"),e.s=s.includes("s"),e.u=s.includes("u")),ss(i,{cardinality:t.cardinality,lookahead:t.lookahead,parenthesized:t.parenthesized,wrap:!1})}else{if(QH(t))return ss(f_,{cardinality:t.cardinality,lookahead:t.lookahead,parenthesized:t.parenthesized});throw new Error(`Invalid terminal element: ${t==null?void 0:t.$type}, ${(n=t==null?void 0:t.$cstNode)==null?void 0:n.text}`)}}}function kW(t){return ss(t.elements.map(e=>su(e)).join("|"),{cardinality:t.cardinality,lookahead:t.lookahead,parenthesized:t.parenthesized,wrap:!1})}function AW(t){return ss(t.elements.map(e=>su(e)).join(""),{cardinality:t.cardinality,lookahead:t.lookahead,parenthesized:t.parenthesized,wrap:!1})}function NW(t){return ss(`${f_}*?${su(t.terminal)}`,{cardinality:t.cardinality,lookahead:t.lookahead,parenthesized:t.parenthesized})}function SW(t){return ss(`(?!${su(t.terminal)})${f_}*?`,{cardinality:t.cardinality,lookahead:t.lookahead,parenthesized:t.parenthesized})}function RW(t){return t.right?ss(`[${c0(t.left)}-${c0(t.right)}]`,{cardinality:t.cardinality,lookahead:t.lookahead,parenthesized:t.parenthesized,wrap:!1}):ss(c0(t.left),{cardinality:t.cardinality,lookahead:t.lookahead,parenthesized:t.parenthesized,wrap:!1})}function c0(t){return Fp(t.value)}function ss(t,e){return(e.parenthesized||e.lookahead||e.wrap!==!1)&&(t=`(${e.lookahead??(e.parenthesized?"":"?:")}${t})`),e.cardinality?`${t}${e.cardinality}`:t}function CW(t){const e=[],n=t.Grammar;for(const r of n.rules)gs(r)&&bW(r)&&hW(h_(r))&&e.push(r.name);return{multilineCommentRules:e,nameRegexp:nW}}function qm(t){console&&console.error&&console.error(`Error: ${t}`)}function fC(t){console&&console.warn&&console.warn(`Warning: ${t}`)}function dC(t){const e=new Date().getTime(),n=t();return{time:new Date().getTime()-e,value:n}}function pC(t){function e(){}e.prototype=t;const n=new e;function r(){return typeof n.bar}return r(),r(),t}function MW(t){return OW(t)?t.LABEL:t.name}function OW(t){return Sr(t.LABEL)&&t.LABEL!==""}class Pi{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),W(this.definition,n=>{n.accept(e)})}}class rr extends Pi{constructor(e){super([]),this.idx=1,Nr(this,ai(e,n=>n!==void 0))}set definition(e){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(e){e.visit(this)}}class au extends Pi{constructor(e){super(e.definition),this.orgText="",Nr(this,ai(e,n=>n!==void 0))}}class hr extends Pi{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,Nr(this,ai(e,n=>n!==void 0))}}class Dn extends Pi{constructor(e){super(e.definition),this.idx=1,Nr(this,ai(e,n=>n!==void 0))}}class Mr extends Pi{constructor(e){super(e.definition),this.idx=1,Nr(this,ai(e,n=>n!==void 0))}}class Or extends Pi{constructor(e){super(e.definition),this.idx=1,Nr(this,ai(e,n=>n!==void 0))}}class Vt extends Pi{constructor(e){super(e.definition),this.idx=1,Nr(this,ai(e,n=>n!==void 0))}}class fr extends Pi{constructor(e){super(e.definition),this.idx=1,Nr(this,ai(e,n=>n!==void 0))}}class dr extends Pi{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Nr(this,ai(e,n=>n!==void 0))}}class Pt{constructor(e){this.idx=1,Nr(this,ai(e,n=>n!==void 0))}accept(e){e.visit(this)}}function IW(t){return me(t,uf)}function uf(t){function e(n){return me(n,uf)}if(t instanceof rr){const n={type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};return Sr(t.label)&&(n.label=t.label),n}else{if(t instanceof hr)return{type:"Alternative",definition:e(t.definition)};if(t instanceof Dn)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof Mr)return{type:"RepetitionMandatory",idx:t.idx,definition:e(t.definition)};if(t instanceof Or)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:uf(new Pt({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof fr)return{type:"RepetitionWithSeparator",idx:t.idx,separator:uf(new Pt({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof Vt)return{type:"Repetition",idx:t.idx,definition:e(t.definition)};if(t instanceof dr)return{type:"Alternation",idx:t.idx,definition:e(t.definition)};if(t instanceof Pt){const n={type:"Terminal",name:t.terminalType.name,label:MW(t.terminalType),idx:t.idx};Sr(t.label)&&(n.terminalLabel=t.label);const r=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(n.pattern=us(r)?r.source:r),n}else{if(t instanceof au)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}}}class ou{visit(e){const n=e;switch(n.constructor){case rr:return this.visitNonTerminal(n);case hr:return this.visitAlternative(n);case Dn:return this.visitOption(n);case Mr:return this.visitRepetitionMandatory(n);case Or:return this.visitRepetitionMandatoryWithSeparator(n);case fr:return this.visitRepetitionWithSeparator(n);case Vt:return this.visitRepetition(n);case dr:return this.visitAlternation(n);case Pt:return this.visitTerminal(n);case au:return this.visitRule(n);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}function DW(t){return t instanceof hr||t instanceof Dn||t instanceof Vt||t instanceof Mr||t instanceof Or||t instanceof fr||t instanceof Pt||t instanceof au}function vd(t,e=[]){return t instanceof Dn||t instanceof Vt||t instanceof fr?!0:t instanceof dr?FT(t.definition,r=>vd(r,e)):t instanceof rr&&sr(e,t)?!1:t instanceof Pi?(t instanceof rr&&e.push(t),Jr(t.definition,r=>vd(r,e))):!1}function LW(t){return t instanceof dr}function wi(t){if(t instanceof rr)return"SUBRULE";if(t instanceof Dn)return"OPTION";if(t instanceof dr)return"OR";if(t instanceof Mr)return"AT_LEAST_ONE";if(t instanceof Or)return"AT_LEAST_ONE_SEP";if(t instanceof fr)return"MANY_SEP";if(t instanceof Vt)return"MANY";if(t instanceof Pt)return"CONSUME";throw Error("non exhaustive match")}class $p{walk(e,n=[]){W(e.definition,(r,i)=>{const s=Sn(e.definition,i+1);if(r instanceof rr)this.walkProdRef(r,s,n);else if(r instanceof Pt)this.walkTerminal(r,s,n);else if(r instanceof hr)this.walkFlat(r,s,n);else if(r instanceof Dn)this.walkOption(r,s,n);else if(r instanceof Mr)this.walkAtLeastOne(r,s,n);else if(r instanceof Or)this.walkAtLeastOneSep(r,s,n);else if(r instanceof fr)this.walkManySep(r,s,n);else if(r instanceof Vt)this.walkMany(r,s,n);else if(r instanceof dr)this.walkOr(r,s,n);else throw Error("non exhaustive match")})}walkTerminal(e,n,r){}walkProdRef(e,n,r){}walkFlat(e,n,r){const i=n.concat(r);this.walk(e,i)}walkOption(e,n,r){const i=n.concat(r);this.walk(e,i)}walkAtLeastOne(e,n,r){const i=[new Dn({definition:e.definition})].concat(n,r);this.walk(e,i)}walkAtLeastOneSep(e,n,r){const i=Kw(e,n,r);this.walk(e,i)}walkMany(e,n,r){const i=[new Dn({definition:e.definition})].concat(n,r);this.walk(e,i)}walkManySep(e,n,r){const i=Kw(e,n,r);this.walk(e,i)}walkOr(e,n,r){const i=n.concat(r);W(e.definition,s=>{const a=new hr({definition:[s]});this.walk(a,i)})}}function Kw(t,e,n){return[new Dn({definition:[new Pt({terminalType:t.separator})].concat(t.definition)})].concat(e,n)}function Nl(t){if(t instanceof rr)return Nl(t.referencedRule);if(t instanceof Pt)return $W(t);if(DW(t))return PW(t);if(LW(t))return FW(t);throw Error("non exhaustive match")}function PW(t){let e=[];const n=t.definition;let r=0,i=n.length>r,s,a=!0;for(;i&&a;)s=n[r],a=vd(s),e=e.concat(Nl(s)),r=r+1,i=n.length>r;return pb(e)}function FW(t){const e=me(t.definition,n=>Nl(n));return pb(In(e))}function $W(t){return[t.terminalType]}const gC="_~IN~_";class UW extends $p{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,n,r){}walkProdRef(e,n,r){const i=GW(e.referencedRule,e.idx)+this.topProd.name,s=n.concat(r),a=new hr({definition:s}),o=Nl(a);this.follows[i]=o}}function BW(t){const e={};return W(t,n=>{const r=new UW(n).startWalking();Nr(e,r)}),e}function GW(t,e){return t.name+e+gC}let cf={};const zW=new nC;function Up(t){const e=t.toString();if(cf.hasOwnProperty(e))return cf[e];{const n=zW.pattern(e);return cf[e]=n,n}}function qW(){cf={}}const mC="Complement Sets are not supported for first char optimization",_d=`Unable to use "first char" lexer optimizations:
`;function HW(t,e=!1){try{const n=Up(t);return Hm(n.value,{},n.flags.ignoreCase)}catch(n){if(n.message===mC)e&&fC(`${_d}	Unable to optimize: < ${t.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let r="";e&&(r=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),qm(`${_d}
	Failed parsing: < ${t.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+r)}}return[]}function Hm(t,e,n){switch(t.type){case"Disjunction":for(let i=0;i<t.value.length;i++)Hm(t.value[i],e,n);break;case"Alternative":const r=t.value;for(let i=0;i<r.length;i++){const s=r[i];switch(s.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"Lookbehind":case"NegativeLookbehind":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const a=s;switch(a.type){case"Character":_h(a.value,e,n);break;case"Set":if(a.complement===!0)throw Error(mC);W(a.value,u=>{if(typeof u=="number")_h(u,e,n);else{const c=u;if(n===!0)for(let l=c.from;l<=c.to;l++)_h(l,e,n);else{for(let l=c.from;l<=c.to&&l<mc;l++)_h(l,e,n);if(c.to>=mc){const l=c.from>=mc?c.from:mc,h=c.to,d=Ds(l),f=Ds(h);for(let p=d;p<=f;p++)e[p]=p}}}});break;case"Group":Hm(a.value,e,n);break;default:throw Error("Non Exhaustive Match")}const o=a.quantifier!==void 0&&a.quantifier.atLeast===0;if(a.type==="Group"&&Wm(a)===!1||a.type!=="Group"&&o===!1)break}break;default:throw Error("non exhaustive match!")}return Mt(e)}function _h(t,e,n){const r=Ds(t);e[r]=r,n===!0&&WW(t,e)}function WW(t,e){const n=String.fromCharCode(t),r=n.toUpperCase();if(r!==n){const i=Ds(r.charCodeAt(0));e[i]=i}else{const i=n.toLowerCase();if(i!==n){const s=Ds(i.charCodeAt(0));e[s]=s}}}function Zw(t,e){return os(t.value,n=>{if(typeof n=="number")return sr(e,n);{const r=n;return os(e,i=>r.from<=i&&i<=r.to)!==void 0}})}function Wm(t){const e=t.quantifier;return e&&e.atLeast===0?!0:t.value?kr(t.value)?Jr(t.value,Wm):Wm(t.value):!1}class YW extends Pp{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(this.found!==!0){switch(e.type){case"Lookahead":this.visitLookahead(e);return;case"NegativeLookahead":this.visitNegativeLookahead(e);return;case"Lookbehind":this.visitLookbehind(e);return;case"NegativeLookbehind":this.visitNegativeLookbehind(e);return}super.visitChildren(e)}}visitCharacter(e){sr(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?Zw(e,this.targetCharCodes)===void 0&&(this.found=!0):Zw(e,this.targetCharCodes)!==void 0&&(this.found=!0)}}function d_(t,e){if(e instanceof RegExp){const n=Up(e),r=new YW(t);return r.visit(n),r.found}else return os(e,n=>sr(t,n.charCodeAt(0)))!==void 0}const La="PATTERN",gc="defaultMode",Eh="modes";let yC=typeof new RegExp("(?:)").sticky=="boolean";function VW(t,e){e=Ud(e,{useSticky:yC,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(v,b)=>b()});const n=e.tracer;n("initCharCodeToOptimizedIndexMap",()=>{yY()});let r;n("Reject Lexer.NA",()=>{r=Bd(t,v=>v[La]===cr.NA)});let i=!1,s;n("Transform Patterns",()=>{i=!1,s=me(r,v=>{const b=v[La];if(us(b)){const _=b.source;return _.length===1&&_!=="^"&&_!=="$"&&_!=="."&&!b.ignoreCase?_:_.length===2&&_[0]==="\\"&&!sr(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],_[1])?_[1]:e.useSticky?Jw(b):Qw(b)}else{if(as(b))return i=!0,{exec:b};if(typeof b=="object")return i=!0,b;if(typeof b=="string"){if(b.length===1)return b;{const _=b.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),k=new RegExp(_);return e.useSticky?Jw(k):Qw(k)}}else throw Error("non exhaustive match")}})});let a,o,u,c,l;n("misc mapping",()=>{a=me(r,v=>v.tokenTypeIdx),o=me(r,v=>{const b=v.GROUP;if(b!==cr.SKIPPED){if(Sr(b))return b;if(vt(b))return!1;throw Error("non exhaustive match")}}),u=me(r,v=>{const b=v.LONGER_ALT;if(b)return kr(b)?me(b,k=>L_(r,k)):[L_(r,b)]}),c=me(r,v=>v.PUSH_MODE),l=me(r,v=>Be(v,"POP_MODE"))});let h;n("Line Terminator Handling",()=>{const v=_C(e.lineTerminatorCharacters);h=me(r,b=>!1),e.positionTracking!=="onlyOffset"&&(h=me(r,b=>Be(b,"LINE_BREAKS")?!!b.LINE_BREAKS:vC(b,v)===!1&&d_(v,b.PATTERN)))});let d,f,p,g;n("Misc Mapping #2",()=>{d=me(r,bC),f=me(s,pY),p=sn(r,(v,b)=>{const _=b.GROUP;return Sr(_)&&_!==cr.SKIPPED&&(v[_]=[]),v},{}),g=me(s,(v,b)=>({pattern:s[b],longerAlt:u[b],canLineTerminator:h[b],isCustom:d[b],short:f[b],group:o[b],push:c[b],pop:l[b],tokenTypeIdx:a[b],tokenType:r[b]}))});let m=!0,y=[];return e.safeMode||n("First Char Optimization",()=>{y=sn(r,(v,b,_)=>{if(typeof b.PATTERN=="string"){const k=b.PATTERN.charCodeAt(0),C=Ds(k);l0(v,C,g[_])}else if(kr(b.START_CHARS_HINT)){let k;W(b.START_CHARS_HINT,C=>{const x=typeof C=="string"?C.charCodeAt(0):C,S=Ds(x);k!==S&&(k=S,l0(v,S,g[_]))})}else if(us(b.PATTERN))if(b.PATTERN.unicode)m=!1,e.ensureOptimizations&&qm(`${_d}	Unable to analyze < ${b.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const k=HW(b.PATTERN,e.ensureOptimizations);Et(k)&&(m=!1),W(k,C=>{l0(v,C,g[_])})}else e.ensureOptimizations&&qm(`${_d}	TokenType: <${b.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),m=!1;return v},[])}),{emptyGroups:p,patternIdxToConfig:g,charCodeToPatternIdxToConfig:y,hasCustom:i,canBeOptimized:m}}function XW(t,e){let n=[];const r=KW(t);n=n.concat(r.errors);const i=ZW(r.valid),s=i.valid;return n=n.concat(i.errors),n=n.concat(jW(s)),n=n.concat(sY(s)),n=n.concat(aY(s,e)),n=n.concat(oY(s)),n}function jW(t){let e=[];const n=jt(t,r=>us(r[La]));return e=e.concat(JW(n)),e=e.concat(nY(n)),e=e.concat(rY(n)),e=e.concat(iY(n)),e=e.concat(eY(n)),e}function KW(t){const e=jt(t,i=>!Be(i,La)),n=me(e,i=>({message:"Token Type: ->"+i.name+"<- missing static 'PATTERN' property",type:Xt.MISSING_PATTERN,tokenTypes:[i]})),r=Gd(t,e);return{errors:n,valid:r}}function ZW(t){const e=jt(t,i=>{const s=i[La];return!us(s)&&!as(s)&&!Be(s,"exec")&&!Sr(s)}),n=me(e,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Xt.INVALID_PATTERN,tokenTypes:[i]})),r=Gd(t,e);return{errors:n,valid:r}}const QW=/[^\\][$]/;function JW(t){class e extends Pp{constructor(){super(...arguments),this.found=!1}visitEndAnchor(s){this.found=!0}}const n=jt(t,i=>{const s=i.PATTERN;try{const a=Up(s),o=new e;return o.visit(a),o.found}catch{return QW.test(s.source)}});return me(n,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Xt.EOI_ANCHOR_FOUND,tokenTypes:[i]}))}function eY(t){const e=jt(t,r=>r.PATTERN.test(""));return me(e,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' must not match an empty string",type:Xt.EMPTY_MATCH_PATTERN,tokenTypes:[r]}))}const tY=/[^\\[][\^]|^\^/;function nY(t){class e extends Pp{constructor(){super(...arguments),this.found=!1}visitStartAnchor(s){this.found=!0}}const n=jt(t,i=>{const s=i.PATTERN;try{const a=Up(s),o=new e;return o.visit(a),o.found}catch{return tY.test(s.source)}});return me(n,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Xt.SOI_ANCHOR_FOUND,tokenTypes:[i]}))}function rY(t){const e=jt(t,r=>{const i=r[La];return i instanceof RegExp&&(i.multiline||i.global)});return me(e,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Xt.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[r]}))}function iY(t){const e=[];let n=me(t,s=>sn(t,(a,o)=>(s.PATTERN.source===o.PATTERN.source&&!sr(e,o)&&o.PATTERN!==cr.NA&&(e.push(o),a.push(o)),a),[]));n=sl(n);const r=jt(n,s=>s.length>1);return me(r,s=>{const a=me(s,u=>u.name);return{message:`The same RegExp pattern ->${ri(s).PATTERN}<-has been used in all of the following Token Types: ${a.join(", ")} <-`,type:Xt.DUPLICATE_PATTERNS_FOUND,tokenTypes:s}})}function sY(t){const e=jt(t,r=>{if(!Be(r,"GROUP"))return!1;const i=r.GROUP;return i!==cr.SKIPPED&&i!==cr.NA&&!Sr(i)});return me(e,r=>({message:"Token Type: ->"+r.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Xt.INVALID_GROUP_TYPE_FOUND,tokenTypes:[r]}))}function aY(t,e){const n=jt(t,i=>i.PUSH_MODE!==void 0&&!sr(e,i.PUSH_MODE));return me(n,i=>({message:`Token Type: ->${i.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${i.PUSH_MODE}<-which does not exist`,type:Xt.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[i]}))}function oY(t){const e=[],n=sn(t,(r,i,s)=>{const a=i.PATTERN;return a===cr.NA||(Sr(a)?r.push({str:a,idx:s,tokenType:i}):us(a)&&cY(a)&&r.push({str:a.source,idx:s,tokenType:i})),r},[]);return W(t,(r,i)=>{W(n,({str:s,idx:a,tokenType:o})=>{if(i<a&&uY(s,r.PATTERN)){const u=`Token: ->${o.name}<- can never be matched.
Because it appears AFTER the Token Type ->${r.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;e.push({message:u,type:Xt.UNREACHABLE_PATTERN,tokenTypes:[r,o]})}})}),e}function uY(t,e){if(us(e)){if(lY(e))return!1;const n=e.exec(t);return n!==null&&n.index===0}else{if(as(e))return e(t,0,[],{});if(Be(e,"exec"))return e.exec(t,0,[],{});if(typeof e=="string")return e===t;throw Error("non exhaustive match")}}function cY(t){return os([".","\\","[","]","|","^","$","(",")","?","*","+","{"],n=>t.source.indexOf(n)!==-1)===void 0}function lY(t){return/(\(\?=)|(\(\?!)|(\(\?<=)|(\(\?<!)/.test(t.source)}function Qw(t){const e=t.ignoreCase?"i":"";return new RegExp(`^(?:${t.source})`,e)}function Jw(t){const e=t.ignoreCase?"iy":"y";return new RegExp(`${t.source}`,e)}function hY(t,e,n){const r=[];return Be(t,gc)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+gc+`> property in its definition
`,type:Xt.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Be(t,Eh)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+Eh+`> property in its definition
`,type:Xt.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Be(t,Eh)&&Be(t,gc)&&!Be(t.modes,t.defaultMode)&&r.push({message:`A MultiMode Lexer cannot be initialized with a ${gc}: <${t.defaultMode}>which does not exist
`,type:Xt.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Be(t,Eh)&&W(t.modes,(i,s)=>{W(i,(a,o)=>{if(vt(a))r.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${s}> at index: <${o}>
`,type:Xt.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(Be(a,"LONGER_ALT")){const u=kr(a.LONGER_ALT)?a.LONGER_ALT:[a.LONGER_ALT];W(u,c=>{!vt(c)&&!sr(i,c)&&r.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${c.name}> on token <${a.name}> outside of mode <${s}>
`,type:Xt.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),r}function fY(t,e,n){const r=[];let i=!1;const s=sl(In(Mt(t.modes))),a=Bd(s,u=>u[La]===cr.NA),o=_C(n);return e&&W(a,u=>{const c=vC(u,o);if(c!==!1){const h={message:mY(u,c),type:c.issue,tokenType:u};r.push(h)}else Be(u,"LINE_BREAKS")?u.LINE_BREAKS===!0&&(i=!0):d_(o,u.PATTERN)&&(i=!0)}),e&&!i&&r.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:Xt.NO_LINE_BREAKS_FLAGS}),r}function dY(t){const e={},n=qr(t);return W(n,r=>{const i=t[r];if(kr(i))e[r]=[];else throw Error("non exhaustive match")}),e}function bC(t){const e=t.PATTERN;if(us(e))return!1;if(as(e))return!0;if(Be(e,"exec"))return!0;if(Sr(e))return!1;throw Error("non exhaustive match")}function pY(t){return Sr(t)&&t.length===1?t.charCodeAt(0):!1}const gY={test:function(t){const e=t.length;for(let n=this.lastIndex;n<e;n++){const r=t.charCodeAt(n);if(r===10)return this.lastIndex=n+1,!0;if(r===13)return t.charCodeAt(n+1)===10?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function vC(t,e){if(Be(t,"LINE_BREAKS"))return!1;if(us(t.PATTERN)){try{d_(e,t.PATTERN)}catch(n){return{issue:Xt.IDENTIFY_TERMINATOR,errMsg:n.message}}return!1}else{if(Sr(t.PATTERN))return!1;if(bC(t))return{issue:Xt.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function mY(t,e){if(e.issue===Xt.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${t.name}> Token Type
	 Root cause: ${e.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(e.issue===Xt.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${t.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function _C(t){return me(t,n=>Sr(n)?n.charCodeAt(0):n)}function l0(t,e,n){t[e]===void 0?t[e]=[n]:t[e].push(n)}const mc=256;let lf=[];function Ds(t){return t<mc?t:lf[t]}function yY(){if(Et(lf)){lf=new Array(65536);for(let t=0;t<65536;t++)lf[t]=t>255?255+~~(t/255):t}}function Sl(t,e){const n=t.tokenTypeIdx;return n===e.tokenTypeIdx?!0:e.isParent===!0&&e.categoryMatchesMap[n]===!0}function Ed(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}let ex=1;const EC={};function Rl(t){const e=bY(t);vY(e),EY(e),_Y(e),W(e,n=>{n.isParent=n.categoryMatches.length>0})}function bY(t){let e=_n(t),n=t,r=!0;for(;r;){n=sl(In(me(n,s=>s.CATEGORIES)));const i=Gd(n,e);e=e.concat(i),Et(i)?r=!1:n=i}return e}function vY(t){W(t,e=>{xC(e)||(EC[ex]=e,e.tokenTypeIdx=ex++),tx(e)&&!kr(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),tx(e)||(e.CATEGORIES=[]),wY(e)||(e.categoryMatches=[]),xY(e)||(e.categoryMatchesMap={})})}function _Y(t){W(t,e=>{e.categoryMatches=[],W(e.categoryMatchesMap,(n,r)=>{e.categoryMatches.push(EC[r].tokenTypeIdx)})})}function EY(t){W(t,e=>{wC([],e)})}function wC(t,e){W(t,n=>{e.categoryMatchesMap[n.tokenTypeIdx]=!0}),W(e.CATEGORIES,n=>{const r=t.concat(e);sr(r,n)||wC(r,n)})}function xC(t){return Be(t,"tokenTypeIdx")}function tx(t){return Be(t,"CATEGORIES")}function wY(t){return Be(t,"categoryMatches")}function xY(t){return Be(t,"categoryMatchesMap")}function TY(t){return Be(t,"tokenTypeIdx")}const Ym={buildUnableToPopLexerModeMessage(t){return`Unable to pop Lexer Mode after encountering Token ->${t.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(t,e,n,r,i,s){return`unexpected character: ->${t.charAt(e)}<- at offset: ${e}, skipped ${n} characters.`}};var Xt;(function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",t[t.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(Xt||(Xt={}));const yc={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:Ym,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(yc);class cr{constructor(e,n=yc){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(i,s)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const a=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${a}--> <${i}>`);const{time:o,value:u}=dC(s),c=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&c(`${a}<-- <${i}> time: ${o}ms`),this.traceInitIndent--,u}else return s()},typeof n=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=Nr({},yc,n);const r=this.config.traceInitPerf;r===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof r=="number"&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let i,s=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===yc.lineTerminatorsPattern)this.config.lineTerminatorsPattern=gY;else if(this.config.lineTerminatorCharacters===yc.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(n.safeMode&&n.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),kr(e)?i={modes:{defaultMode:_n(e)},defaultMode:gc}:(s=!1,i=_n(e))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(hY(i,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(fY(i,this.trackStartLines,this.config.lineTerminatorCharacters))})),i.modes=i.modes?i.modes:{},W(i.modes,(o,u)=>{i.modes[u]=Bd(o,c=>vt(c))});const a=qr(i.modes);if(W(i.modes,(o,u)=>{this.TRACE_INIT(`Mode: <${u}> processing`,()=>{if(this.modes.push(u),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(XW(o,a))}),Et(this.lexerDefinitionErrors)){Rl(o);let c;this.TRACE_INIT("analyzeTokenTypes",()=>{c=VW(o,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:n.positionTracking,ensureOptimizations:n.ensureOptimizations,safeMode:n.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[u]=c.patternIdxToConfig,this.charCodeToPatternIdxToConfig[u]=c.charCodeToPatternIdxToConfig,this.emptyGroups=Nr({},this.emptyGroups,c.emptyGroups),this.hasCustom=c.hasCustom||this.hasCustom,this.canModeBeOptimized[u]=c.canBeOptimized}})}),this.defaultMode=i.defaultMode,!Et(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const u=me(this.lexerDefinitionErrors,c=>c.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+u)}W(this.lexerDefinitionWarning,o=>{fC(o.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(yC?(this.chopInput=P_,this.match=this.matchWithTest):(this.updateLastIndex=gn,this.match=this.matchWithExec),s&&(this.handleModes=gn),this.trackStartLines===!1&&(this.computeNewColumn=P_),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=gn),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const o=sn(this.canModeBeOptimized,(u,c,l)=>(c===!1&&u.push(l),u),[]);if(n.ensureOptimizations&&!Et(o))throw Error(`Lexer Modes: < ${o.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{qW()}),this.TRACE_INIT("toFastProperties",()=>{pC(this)})})}tokenize(e,n=this.defaultMode){if(!Et(this.lexerDefinitionErrors)){const i=me(this.lexerDefinitionErrors,s=>s.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+i)}return this.tokenizeInternal(e,n)}tokenizeInternal(e,n){let r,i,s,a,o,u,c,l,h,d,f,p,g,m,y;const v=e,b=v.length;let _=0,k=0;const C=this.hasCustom?0:Math.floor(e.length/10),x=new Array(C),S=[];let O=this.trackStartLines?1:void 0,D=this.trackStartLines?1:void 0;const I=dY(this.emptyGroups),M=this.trackStartLines,R=this.config.lineTerminatorsPattern;let E=0,w=[],T=[];const A=[],N=[];Object.freeze(N);let P;function F(){return w}function B(ee){const ue=Ds(ee),se=T[ue];return se===void 0?N:se}const H=ee=>{if(A.length===1&&ee.tokenType.PUSH_MODE===void 0){const ue=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(ee);S.push({offset:ee.startOffset,line:ee.startLine,column:ee.startColumn,length:ee.image.length,message:ue})}else{A.pop();const ue=ni(A);w=this.patternIdxToConfig[ue],T=this.charCodeToPatternIdxToConfig[ue],E=w.length;const se=this.canModeBeOptimized[ue]&&this.config.safeMode===!1;T&&se?P=B:P=F}};function Y(ee){A.push(ee),T=this.charCodeToPatternIdxToConfig[ee],w=this.patternIdxToConfig[ee],E=w.length,E=w.length;const ue=this.canModeBeOptimized[ee]&&this.config.safeMode===!1;T&&ue?P=B:P=F}Y.call(this,n);let Q;const j=this.config.recoveryEnabled;for(;_<b;){u=null;const ee=v.charCodeAt(_),ue=P(ee),se=ue.length;for(r=0;r<se;r++){Q=ue[r];const z=Q.pattern;c=null;const X=Q.short;if(X!==!1?ee===X&&(u=z):Q.isCustom===!0?(y=z.exec(v,_,x,I),y!==null?(u=y[0],y.payload!==void 0&&(c=y.payload)):u=null):(this.updateLastIndex(z,_),u=this.match(z,e,_)),u!==null){if(o=Q.longerAlt,o!==void 0){const ie=o.length;for(s=0;s<ie;s++){const q=w[o[s]],be=q.pattern;if(l=null,q.isCustom===!0?(y=be.exec(v,_,x,I),y!==null?(a=y[0],y.payload!==void 0&&(l=y.payload)):a=null):(this.updateLastIndex(be,_),a=this.match(be,e,_)),a&&a.length>u.length){u=a,c=l,Q=q;break}}}break}}if(u!==null){if(h=u.length,d=Q.group,d!==void 0&&(f=Q.tokenTypeIdx,p=this.createTokenInstance(u,_,f,Q.tokenType,O,D,h),this.handlePayload(p,c),d===!1?k=this.addToken(x,k,p):I[d].push(p)),e=this.chopInput(e,h),_=_+h,D=this.computeNewColumn(D,h),M===!0&&Q.canLineTerminator===!0){let z=0,X,ie;R.lastIndex=0;do X=R.test(u),X===!0&&(ie=R.lastIndex-1,z++);while(X===!0);z!==0&&(O=O+z,D=h-ie,this.updateTokenEndLineColumnLocation(p,d,ie,z,O,D,h))}this.handleModes(Q,H,Y,p)}else{const z=_,X=O,ie=D;let q=j===!1;for(;q===!1&&_<b;)for(e=this.chopInput(e,1),_++,i=0;i<E;i++){const be=w[i],J=be.pattern,Ie=be.short;if(Ie!==!1?v.charCodeAt(_)===Ie&&(q=!0):be.isCustom===!0?q=J.exec(v,_,x,I)!==null:(this.updateLastIndex(J,_),q=J.exec(e)!==null),q===!0)break}if(g=_-z,D=this.computeNewColumn(D,g),m=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(v,z,g,X,ie,ni(A)),S.push({offset:z,line:X,column:ie,length:g,message:m}),j===!1)break}}return this.hasCustom||(x.length=k),{tokens:x,groups:I,errors:S}}handleModes(e,n,r,i){if(e.pop===!0){const s=e.push;n(i),s!==void 0&&r.call(this,s)}else e.push!==void 0&&r.call(this,e.push)}chopInput(e,n){return e.substring(n)}updateLastIndex(e,n){e.lastIndex=n}updateTokenEndLineColumnLocation(e,n,r,i,s,a,o){let u,c;n!==void 0&&(u=r===o-1,c=u?-1:0,i===1&&u===!0||(e.endLine=s+c,e.endColumn=a-1+-c))}computeNewColumn(e,n){return e+n}createOffsetOnlyToken(e,n,r,i){return{image:e,startOffset:n,tokenTypeIdx:r,tokenType:i}}createStartOnlyToken(e,n,r,i,s,a){return{image:e,startOffset:n,startLine:s,startColumn:a,tokenTypeIdx:r,tokenType:i}}createFullToken(e,n,r,i,s,a,o){return{image:e,startOffset:n,endOffset:n+o-1,startLine:s,endLine:s,startColumn:a,endColumn:a+o-1,tokenTypeIdx:r,tokenType:i}}addTokenUsingPush(e,n,r){return e.push(r),n}addTokenUsingMemberAccess(e,n,r){return e[n]=r,n++,n}handlePayloadNoCustom(e,n){}handlePayloadWithCustom(e,n){n!==null&&(e.payload=n)}matchWithTest(e,n,r){return e.test(n)===!0?n.substring(r,e.lastIndex):null}matchWithExec(e,n){const r=e.exec(n);return r!==null?r[0]:null}}cr.SKIPPED="This marks a skipped Token pattern, this means each token identified by it will be consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";cr.NA=/NOT_APPLICABLE/;function Oo(t){return TC(t)?t.LABEL:t.name}function TC(t){return Sr(t.LABEL)&&t.LABEL!==""}const kY="parent",nx="categories",rx="label",ix="group",sx="push_mode",ax="pop_mode",ox="longer_alt",ux="line_breaks",cx="start_chars_hint";function kC(t){return AY(t)}function AY(t){const e=t.pattern,n={};if(n.name=t.name,vt(e)||(n.PATTERN=e),Be(t,kY))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return Be(t,nx)&&(n.CATEGORIES=t[nx]),Rl([n]),Be(t,rx)&&(n.LABEL=t[rx]),Be(t,ix)&&(n.GROUP=t[ix]),Be(t,ax)&&(n.POP_MODE=t[ax]),Be(t,sx)&&(n.PUSH_MODE=t[sx]),Be(t,ox)&&(n.LONGER_ALT=t[ox]),Be(t,ux)&&(n.LINE_BREAKS=t[ux]),Be(t,cx)&&(n.START_CHARS_HINT=t[cx]),n}const Ls=kC({name:"EOF",pattern:cr.NA});Rl([Ls]);function p_(t,e,n,r,i,s,a,o){return{image:e,startOffset:n,endOffset:r,startLine:i,endLine:s,startColumn:a,endColumn:o,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}function AC(t,e){return Sl(t,e)}const Eo={buildMismatchTokenMessage({expected:t,actual:e,previous:n,ruleName:r}){return`Expecting ${TC(t)?`--> ${Oo(t)} <--`:`token of type --> ${t.name} <--`} but found --> '${e.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:t,ruleName:e}){return"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage({expectedPathsPerAlt:t,actual:e,previous:n,customUserDescription:r,ruleName:i}){const s="Expecting: ",o=`
but found: '`+ri(e).image+"'";if(r)return s+r+o;{const u=sn(t,(d,f)=>d.concat(f),[]),c=me(u,d=>`[${me(d,f=>Oo(f)).join(", ")}]`),h=`one of these possible Token sequences:
${me(c,(d,f)=>`  ${f+1}. ${d}`).join(`
`)}`;return s+h+o}},buildEarlyExitMessage({expectedIterationPaths:t,actual:e,customUserDescription:n,ruleName:r}){const i="Expecting: ",a=`
but found: '`+ri(e).image+"'";if(n)return i+n+a;{const u=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${me(t,c=>`[${me(c,l=>Oo(l)).join(",")}]`).join(" ,")}>`;return i+u+a}}};Object.freeze(Eo);const NY={buildRuleNotFoundError(t,e){return"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+`<-
inside top level rule: ->`+t.name+"<-"}},ya={buildDuplicateFoundError(t,e){function n(l){return l instanceof Pt?l.terminalType.name:l instanceof rr?l.nonTerminalName:""}const r=t.name,i=ri(e),s=i.idx,a=wi(i),o=n(i),u=s>0;let c=`->${a}${u?s:""}<- ${o?`with argument: ->${o}<-`:""}
                  appears more than once (${e.length} times) in the top level rule: ->${r}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return c=c.replace(/[ \t]+/g," "),c=c.replace(/\s\s+/g,`
`),c},buildNamespaceConflictError(t){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${t.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(t){const e=me(t.prefixPath,i=>Oo(i)).join(", "),n=t.alternation.idx===0?"":t.alternation.idx;return`Ambiguous alternatives: <${t.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${n}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(t){const e=me(t.prefixPath,i=>Oo(i)).join(", "),n=t.alternation.idx===0?"":t.alternation.idx;let r=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(" ,")}> in <OR${n}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return r=r+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,r},buildEmptyRepetitionError(t){let e=wi(t.repetition);return t.repetition.idx!==0&&(e+=t.repetition.idx),`The repetition <${e}> within Rule <${t.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(t){return"deprecated"},buildEmptyAlternationError(t){return`Ambiguous empty alternative: <${t.emptyChoiceIdx+1}> in <OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(t){return`An Alternation cannot have more than 256 alternatives:
<OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
 has ${t.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(t){const e=t.topLevelRule.name,n=me(t.leftRecursionPath,s=>s.name),r=`${e} --> ${n.concat([e]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${e}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${r}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(t){return"deprecated"},buildDuplicateRuleNameError(t){let e;return t.topLevelRule instanceof au?e=t.topLevelRule.name:e=t.topLevelRule,`Duplicate definition, rule: ->${e}<- is already defined in the grammar: ->${t.grammarName}<-`}};function SY(t,e){const n=new RY(t,e);return n.resolveRefs(),n.errors}class RY extends ou{constructor(e,n){super(),this.nameToTopRule=e,this.errMsgProvider=n,this.errors=[]}resolveRefs(){W(Mt(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){const n=this.nameToTopRule[e.nonTerminalName];if(n)e.referencedRule=n;else{const r=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:r,type:ir.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}class CY extends $p{constructor(e,n){super(),this.topProd=e,this.path=n,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=_n(this.path.ruleStack).reverse(),this.occurrenceStack=_n(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,n=[]){this.found||super.walk(e,n)}walkProdRef(e,n,r){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){const i=n.concat(r);this.updateExpectedNext(),this.walk(e.referencedRule,i)}}updateExpectedNext(){Et(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class MY extends CY{constructor(e,n){super(e,n),this.path=n,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,n,r){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){const i=n.concat(r),s=new hr({definition:i});this.possibleTokTypes=Nl(s),this.found=!0}}}class Bp extends $p{constructor(e,n){super(),this.topRule=e,this.occurrence=n,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class OY extends Bp{walkMany(e,n,r){if(e.idx===this.occurrence){const i=ri(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof Pt&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkMany(e,n,r)}}class lx extends Bp{walkManySep(e,n,r){if(e.idx===this.occurrence){const i=ri(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof Pt&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkManySep(e,n,r)}}class IY extends Bp{walkAtLeastOne(e,n,r){if(e.idx===this.occurrence){const i=ri(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof Pt&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOne(e,n,r)}}class hx extends Bp{walkAtLeastOneSep(e,n,r){if(e.idx===this.occurrence){const i=ri(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof Pt&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOneSep(e,n,r)}}function Vm(t,e,n=[]){n=_n(n);let r=[],i=0;function s(o){return o.concat(Sn(t,i+1))}function a(o){const u=Vm(s(o),e,n);return r.concat(u)}for(;n.length<e&&i<t.length;){const o=t[i];if(o instanceof hr)return a(o.definition);if(o instanceof rr)return a(o.definition);if(o instanceof Dn)r=a(o.definition);else if(o instanceof Mr){const u=o.definition.concat([new Vt({definition:o.definition})]);return a(u)}else if(o instanceof Or){const u=[new hr({definition:o.definition}),new Vt({definition:[new Pt({terminalType:o.separator})].concat(o.definition)})];return a(u)}else if(o instanceof fr){const u=o.definition.concat([new Vt({definition:[new Pt({terminalType:o.separator})].concat(o.definition)})]);r=a(u)}else if(o instanceof Vt){const u=o.definition.concat([new Vt({definition:o.definition})]);r=a(u)}else{if(o instanceof dr)return W(o.definition,u=>{Et(u.definition)===!1&&(r=a(u.definition))}),r;if(o instanceof Pt)n.push(o.terminalType);else throw Error("non exhaustive match")}i++}return r.push({partialPath:n,suffixDef:Sn(t,i)}),r}function NC(t,e,n,r){const i="EXIT_NONE_TERMINAL",s=[i],a="EXIT_ALTERNATIVE";let o=!1;const u=e.length,c=u-r-1,l=[],h=[];for(h.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!Et(h);){const d=h.pop();if(d===a){o&&ni(h).idx<=c&&h.pop();continue}const f=d.def,p=d.idx,g=d.ruleStack,m=d.occurrenceStack;if(Et(f))continue;const y=f[0];if(y===i){const v={idx:p,def:Sn(f),ruleStack:Nc(g),occurrenceStack:Nc(m)};h.push(v)}else if(y instanceof Pt)if(p<u-1){const v=p+1,b=e[v];if(n(b,y.terminalType)){const _={idx:v,def:Sn(f),ruleStack:g,occurrenceStack:m};h.push(_)}}else if(p===u-1)l.push({nextTokenType:y.terminalType,nextTokenOccurrence:y.idx,ruleStack:g,occurrenceStack:m}),o=!0;else throw Error("non exhaustive match");else if(y instanceof rr){const v=_n(g);v.push(y.nonTerminalName);const b=_n(m);b.push(y.idx);const _={idx:p,def:y.definition.concat(s,Sn(f)),ruleStack:v,occurrenceStack:b};h.push(_)}else if(y instanceof Dn){const v={idx:p,def:Sn(f),ruleStack:g,occurrenceStack:m};h.push(v),h.push(a);const b={idx:p,def:y.definition.concat(Sn(f)),ruleStack:g,occurrenceStack:m};h.push(b)}else if(y instanceof Mr){const v=new Vt({definition:y.definition,idx:y.idx}),b=y.definition.concat([v],Sn(f)),_={idx:p,def:b,ruleStack:g,occurrenceStack:m};h.push(_)}else if(y instanceof Or){const v=new Pt({terminalType:y.separator}),b=new Vt({definition:[v].concat(y.definition),idx:y.idx}),_=y.definition.concat([b],Sn(f)),k={idx:p,def:_,ruleStack:g,occurrenceStack:m};h.push(k)}else if(y instanceof fr){const v={idx:p,def:Sn(f),ruleStack:g,occurrenceStack:m};h.push(v),h.push(a);const b=new Pt({terminalType:y.separator}),_=new Vt({definition:[b].concat(y.definition),idx:y.idx}),k=y.definition.concat([_],Sn(f)),C={idx:p,def:k,ruleStack:g,occurrenceStack:m};h.push(C)}else if(y instanceof Vt){const v={idx:p,def:Sn(f),ruleStack:g,occurrenceStack:m};h.push(v),h.push(a);const b=new Vt({definition:y.definition,idx:y.idx}),_=y.definition.concat([b],Sn(f)),k={idx:p,def:_,ruleStack:g,occurrenceStack:m};h.push(k)}else if(y instanceof dr)for(let v=y.definition.length-1;v>=0;v--){const b=y.definition[v],_={idx:p,def:b.definition.concat(Sn(f)),ruleStack:g,occurrenceStack:m};h.push(_),h.push(a)}else if(y instanceof hr)h.push({idx:p,def:y.definition.concat(Sn(f)),ruleStack:g,occurrenceStack:m});else if(y instanceof au)h.push(DY(y,p,g,m));else throw Error("non exhaustive match")}return l}function DY(t,e,n,r){const i=_n(n);i.push(t.name);const s=_n(r);return s.push(1),{idx:e,def:t.definition,ruleStack:i,occurrenceStack:s}}var zt;(function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"})(zt||(zt={}));function g_(t){if(t instanceof Dn||t==="Option")return zt.OPTION;if(t instanceof Vt||t==="Repetition")return zt.REPETITION;if(t instanceof Mr||t==="RepetitionMandatory")return zt.REPETITION_MANDATORY;if(t instanceof Or||t==="RepetitionMandatoryWithSeparator")return zt.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof fr||t==="RepetitionWithSeparator")return zt.REPETITION_WITH_SEPARATOR;if(t instanceof dr||t==="Alternation")return zt.ALTERNATION;throw Error("non exhaustive match")}function fx(t){const{occurrence:e,rule:n,prodType:r,maxLookahead:i}=t,s=g_(r);return s===zt.ALTERNATION?Gp(e,n,i):zp(e,n,s,i)}function LY(t,e,n,r,i,s){const a=Gp(t,e,n),o=CC(a)?Ed:Sl;return s(a,r,o,i)}function PY(t,e,n,r,i,s){const a=zp(t,e,i,n),o=CC(a)?Ed:Sl;return s(a[0],o,r)}function FY(t,e,n,r){const i=t.length,s=Jr(t,a=>Jr(a,o=>o.length===1));if(e)return function(a){const o=me(a,u=>u.GATE);for(let u=0;u<i;u++){const c=t[u],l=c.length,h=o[u];if(!(h!==void 0&&h.call(this)===!1))e:for(let d=0;d<l;d++){const f=c[d],p=f.length;for(let g=0;g<p;g++){const m=this.LA(g+1);if(n(m,f[g])===!1)continue e}return u}}};if(s&&!r){const a=me(t,u=>In(u)),o=sn(a,(u,c,l)=>(W(c,h=>{Be(u,h.tokenTypeIdx)||(u[h.tokenTypeIdx]=l),W(h.categoryMatches,d=>{Be(u,d)||(u[d]=l)})}),u),{});return function(){const u=this.LA(1);return o[u.tokenTypeIdx]}}else return function(){for(let a=0;a<i;a++){const o=t[a],u=o.length;e:for(let c=0;c<u;c++){const l=o[c],h=l.length;for(let d=0;d<h;d++){const f=this.LA(d+1);if(n(f,l[d])===!1)continue e}return a}}}}function $Y(t,e,n){const r=Jr(t,s=>s.length===1),i=t.length;if(r&&!n){const s=In(t);if(s.length===1&&Et(s[0].categoryMatches)){const o=s[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===o}}else{const a=sn(s,(o,u,c)=>(o[u.tokenTypeIdx]=!0,W(u.categoryMatches,l=>{o[l]=!0}),o),[]);return function(){const o=this.LA(1);return a[o.tokenTypeIdx]===!0}}}else return function(){e:for(let s=0;s<i;s++){const a=t[s],o=a.length;for(let u=0;u<o;u++){const c=this.LA(u+1);if(e(c,a[u])===!1)continue e}return!0}return!1}}class UY extends $p{constructor(e,n,r){super(),this.topProd=e,this.targetOccurrence=n,this.targetProdType=r}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,n,r,i){return e.idx===this.targetOccurrence&&this.targetProdType===n?(this.restDef=r.concat(i),!0):!1}walkOption(e,n,r){this.checkIsTarget(e,zt.OPTION,n,r)||super.walkOption(e,n,r)}walkAtLeastOne(e,n,r){this.checkIsTarget(e,zt.REPETITION_MANDATORY,n,r)||super.walkOption(e,n,r)}walkAtLeastOneSep(e,n,r){this.checkIsTarget(e,zt.REPETITION_MANDATORY_WITH_SEPARATOR,n,r)||super.walkOption(e,n,r)}walkMany(e,n,r){this.checkIsTarget(e,zt.REPETITION,n,r)||super.walkOption(e,n,r)}walkManySep(e,n,r){this.checkIsTarget(e,zt.REPETITION_WITH_SEPARATOR,n,r)||super.walkOption(e,n,r)}}class SC extends ou{constructor(e,n,r){super(),this.targetOccurrence=e,this.targetProdType=n,this.targetRef=r,this.result=[]}checkIsTarget(e,n){e.idx===this.targetOccurrence&&this.targetProdType===n&&(this.targetRef===void 0||e===this.targetRef)&&(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,zt.OPTION)}visitRepetition(e){this.checkIsTarget(e,zt.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,zt.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,zt.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,zt.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,zt.ALTERNATION)}}function dx(t){const e=new Array(t);for(let n=0;n<t;n++)e[n]=[];return e}function h0(t){let e=[""];for(let n=0;n<t.length;n++){const r=t[n],i=[];for(let s=0;s<e.length;s++){const a=e[s];i.push(a+"_"+r.tokenTypeIdx);for(let o=0;o<r.categoryMatches.length;o++){const u="_"+r.categoryMatches[o];i.push(a+u)}}e=i}return e}function BY(t,e,n){for(let r=0;r<t.length;r++){if(r===n)continue;const i=t[r];for(let s=0;s<e.length;s++){const a=e[s];if(i[a]===!0)return!1}}return!0}function RC(t,e){const n=me(t,a=>Vm([a],1)),r=dx(n.length),i=me(n,a=>{const o={};return W(a,u=>{const c=h0(u.partialPath);W(c,l=>{o[l]=!0})}),o});let s=n;for(let a=1;a<=e;a++){const o=s;s=dx(o.length);for(let u=0;u<o.length;u++){const c=o[u];for(let l=0;l<c.length;l++){const h=c[l].partialPath,d=c[l].suffixDef,f=h0(h);if(BY(i,f,u)||Et(d)||h.length===e){const g=r[u];if(Xm(g,h)===!1){g.push(h);for(let m=0;m<f.length;m++){const y=f[m];i[u][y]=!0}}}else{const g=Vm(d,a+1,h);s[u]=s[u].concat(g),W(g,m=>{const y=h0(m.partialPath);W(y,v=>{i[u][v]=!0})})}}}}return r}function Gp(t,e,n,r){const i=new SC(t,zt.ALTERNATION,r);return e.accept(i),RC(i.result,n)}function zp(t,e,n,r){const i=new SC(t,n);e.accept(i);const s=i.result,o=new UY(e,t,n).startWalking(),u=new hr({definition:s}),c=new hr({definition:o});return RC([u,c],r)}function Xm(t,e){e:for(let n=0;n<t.length;n++){const r=t[n];if(r.length===e.length){for(let i=0;i<r.length;i++){const s=e[i],a=r[i];if((s===a||a.categoryMatchesMap[s.tokenTypeIdx]!==void 0)===!1)continue e}return!0}}return!1}function GY(t,e){return t.length<e.length&&Jr(t,(n,r)=>{const i=e[r];return n===i||i.categoryMatchesMap[n.tokenTypeIdx]})}function CC(t){return Jr(t,e=>Jr(e,n=>Jr(n,r=>Et(r.categoryMatches))))}function zY(t){const e=t.lookaheadStrategy.validate({rules:t.rules,tokenTypes:t.tokenTypes,grammarName:t.grammarName});return me(e,n=>Object.assign({type:ir.CUSTOM_LOOKAHEAD_VALIDATION},n))}function qY(t,e,n,r){const i=Ar(t,u=>HY(u,n)),s=nV(t,e,n),a=Ar(t,u=>QY(u,n)),o=Ar(t,u=>VY(u,t,r,n));return i.concat(s,a,o)}function HY(t,e){const n=new YY;t.accept(n);const r=n.allProductions,i=G2(r,WY),s=ai(i,o=>o.length>1);return me(Mt(s),o=>{const u=ri(o),c=e.buildDuplicateFoundError(t,o),l=wi(u),h={message:c,type:ir.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:l,occurrence:u.idx},d=MC(u);return d&&(h.parameter=d),h})}function WY(t){return`${wi(t)}_#_${t.idx}_#_${MC(t)}`}function MC(t){return t instanceof Pt?t.terminalType.name:t instanceof rr?t.nonTerminalName:""}class YY extends ou{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}}function VY(t,e,n,r){const i=[];if(sn(e,(a,o)=>o.name===t.name?a+1:a,0)>1){const a=r.buildDuplicateRuleNameError({topLevelRule:t,grammarName:n});i.push({message:a,type:ir.DUPLICATE_RULE_NAME,ruleName:t.name})}return i}function XY(t,e,n){const r=[];let i;return sr(e,t)||(i=`Invalid rule override, rule: ->${t}<- cannot be overridden in the grammar: ->${n}<-as it is not defined in any of the super grammars `,r.push({message:i,type:ir.INVALID_RULE_OVERRIDE,ruleName:t})),r}function OC(t,e,n,r=[]){const i=[],s=hf(e.definition);if(Et(s))return[];{const a=t.name;sr(s,t)&&i.push({message:n.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:r}),type:ir.LEFT_RECURSION,ruleName:a});const u=Gd(s,r.concat([t])),c=Ar(u,l=>{const h=_n(r);return h.push(l),OC(t,l,n,h)});return i.concat(c)}}function hf(t){let e=[];if(Et(t))return e;const n=ri(t);if(n instanceof rr)e.push(n.referencedRule);else if(n instanceof hr||n instanceof Dn||n instanceof Mr||n instanceof Or||n instanceof fr||n instanceof Vt)e=e.concat(hf(n.definition));else if(n instanceof dr)e=In(me(n.definition,s=>hf(s.definition)));else if(!(n instanceof Pt))throw Error("non exhaustive match");const r=vd(n),i=t.length>1;if(r&&i){const s=Sn(t);return e.concat(hf(s))}else return e}class m_ extends ou{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}}function jY(t,e){const n=new m_;t.accept(n);const r=n.alternations;return Ar(r,s=>{const a=Nc(s.definition);return Ar(a,(o,u)=>{const c=NC([o],[],Sl,1);return Et(c)?[{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:s,emptyChoiceIdx:u}),type:ir.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:s.idx,alternative:u+1}]:[]})})}function KY(t,e,n){const r=new m_;t.accept(r);let i=r.alternations;return i=Bd(i,a=>a.ignoreAmbiguities===!0),Ar(i,a=>{const o=a.idx,u=a.maxLookahead||e,c=Gp(o,t,u,a),l=eV(c,a,t,n),h=tV(c,a,t,n);return l.concat(h)})}class ZY extends ou{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}}function QY(t,e){const n=new m_;t.accept(n);const r=n.alternations;return Ar(r,s=>s.definition.length>255?[{message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:s}),type:ir.TOO_MANY_ALTS,ruleName:t.name,occurrence:s.idx}]:[])}function JY(t,e,n){const r=[];return W(t,i=>{const s=new ZY;i.accept(s);const a=s.allProductions;W(a,o=>{const u=g_(o),c=o.maxLookahead||e,l=o.idx,d=zp(l,i,u,c)[0];if(Et(In(d))){const f=n.buildEmptyRepetitionError({topLevelRule:i,repetition:o});r.push({message:f,type:ir.NO_NON_EMPTY_LOOKAHEAD,ruleName:i.name})}})}),r}function eV(t,e,n,r){const i=[],s=sn(t,(o,u,c)=>(e.definition[c].ignoreAmbiguities===!0||W(u,l=>{const h=[c];W(t,(d,f)=>{c!==f&&Xm(d,l)&&e.definition[f].ignoreAmbiguities!==!0&&h.push(f)}),h.length>1&&!Xm(i,l)&&(i.push(l),o.push({alts:h,path:l}))}),o),[]);return me(s,o=>{const u=me(o.alts,l=>l+1);return{message:r.buildAlternationAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:u,prefixPath:o.path}),type:ir.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:e.idx,alternatives:o.alts}})}function tV(t,e,n,r){const i=sn(t,(a,o,u)=>{const c=me(o,l=>({idx:u,path:l}));return a.concat(c)},[]);return sl(Ar(i,a=>{if(e.definition[a.idx].ignoreAmbiguities===!0)return[];const u=a.idx,c=a.path,l=jt(i,d=>e.definition[d.idx].ignoreAmbiguities!==!0&&d.idx<u&&GY(d.path,c));return me(l,d=>{const f=[d.idx+1,u+1],p=e.idx===0?"":e.idx;return{message:r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:f,prefixPath:d.path}),type:ir.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:p,alternatives:f}})}))}function nV(t,e,n){const r=[],i=me(e,s=>s.name);return W(t,s=>{const a=s.name;if(sr(i,a)){const o=n.buildNamespaceConflictError(s);r.push({message:o,type:ir.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:a})}}),r}function rV(t){const e=Ud(t,{errMsgProvider:NY}),n={};return W(t.rules,r=>{n[r.name]=r}),SY(n,e.errMsgProvider)}function iV(t){return t=Ud(t,{errMsgProvider:ya}),qY(t.rules,t.tokenTypes,t.errMsgProvider,t.grammarName)}const IC="MismatchedTokenException",DC="NoViableAltException",LC="EarlyExitException",PC="NotAllInputParsedException",FC=[IC,DC,LC,PC];Object.freeze(FC);function wd(t){return sr(FC,t.name)}class qp extends Error{constructor(e,n){super(e),this.token=n,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class $C extends qp{constructor(e,n,r){super(e,n),this.previousToken=r,this.name=IC}}class sV extends qp{constructor(e,n,r){super(e,n),this.previousToken=r,this.name=DC}}class aV extends qp{constructor(e,n){super(e,n),this.name=PC}}class oV extends qp{constructor(e,n,r){super(e,n),this.previousToken=r,this.name=LC}}const f0={},UC="InRuleRecoveryException";class uV extends Error{constructor(e){super(e),this.name=UC}}class cV{initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Be(e,"recoveryEnabled")?e.recoveryEnabled:fs.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=lV)}getTokenToInsert(e){const n=p_(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return n.isInsertedInRecovery=!0,n}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,n,r,i){const s=this.findReSyncTokenType(),a=this.exportLexerState(),o=[];let u=!1;const c=this.LA(1);let l=this.LA(1);const h=()=>{const d=this.LA(0),f=this.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:c,previous:d,ruleName:this.getCurrRuleFullName()}),p=new $C(f,c,this.LA(0));p.resyncedTokens=Nc(o),this.SAVE_ERROR(p)};for(;!u;)if(this.tokenMatcher(l,i)){h();return}else if(r.call(this)){h(),e.apply(this,n);return}else this.tokenMatcher(l,s)?u=!0:(l=this.SKIP_TOKEN(),this.addToResyncTokens(l,o));this.importLexerState(a)}shouldInRepetitionRecoveryBeTried(e,n,r){return!(r===!1||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,n)))}getFollowsForInRuleRecovery(e,n){const r=this.getCurrentGrammarPath(e,n);return this.getNextPossibleTokenTypes(r)}tryInRuleRecovery(e,n){if(this.canRecoverWithSingleTokenInsertion(e,n))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){const r=this.SKIP_TOKEN();return this.consumeToken(),r}throw new uV("sad sad panda")}canPerformInRuleRecovery(e,n){return this.canRecoverWithSingleTokenInsertion(e,n)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,n){if(!this.canTokenTypeBeInsertedInRecovery(e)||Et(n))return!1;const r=this.LA(1);return os(n,s=>this.tokenMatcher(r,s))!==void 0}canRecoverWithSingleTokenDeletion(e){return this.canTokenTypeBeDeletedInRecovery(e)?this.tokenMatcher(this.LA(2),e):!1}isInCurrentRuleReSyncSet(e){const n=this.getCurrFollowKey(),r=this.getFollowSetFromFollowKey(n);return sr(r,e)}findReSyncTokenType(){const e=this.flattenFollowSet();let n=this.LA(1),r=2;for(;;){const i=os(e,s=>AC(n,s));if(i!==void 0)return i;n=this.LA(r),r++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return f0;const e=this.getLastExplicitRuleShortName(),n=this.getLastExplicitRuleOccurrenceIndex(),r=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:n,inRule:this.shortRuleNameToFullName(r)}}buildFullFollowKeyStack(){const e=this.RULE_STACK,n=this.RULE_OCCURRENCE_STACK;return me(e,(r,i)=>i===0?f0:{ruleName:this.shortRuleNameToFullName(r),idxInCallingRule:n[i],inRule:this.shortRuleNameToFullName(e[i-1])})}flattenFollowSet(){const e=me(this.buildFullFollowKeyStack(),n=>this.getFollowSetFromFollowKey(n));return In(e)}getFollowSetFromFollowKey(e){if(e===f0)return[Ls];const n=e.ruleName+e.idxInCallingRule+gC+e.inRule;return this.resyncFollows[n]}addToResyncTokens(e,n){return this.tokenMatcher(e,Ls)||n.push(e),n}reSyncTo(e){const n=[];let r=this.LA(1);for(;this.tokenMatcher(r,e)===!1;)r=this.SKIP_TOKEN(),this.addToResyncTokens(r,n);return Nc(n)}attemptInRepetitionRecovery(e,n,r,i,s,a,o){}getCurrentGrammarPath(e,n){const r=this.getHumanReadableRuleStack(),i=_n(this.RULE_OCCURRENCE_STACK);return{ruleStack:r,occurrenceStack:i,lastTok:e,lastTokOccurrence:n}}getHumanReadableRuleStack(){return me(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}}function lV(t,e,n,r,i,s,a){const o=this.getKeyForAutomaticLookahead(r,i);let u=this.firstAfterRepMap[o];if(u===void 0){const d=this.getCurrRuleFullName(),f=this.getGAstProductions()[d];u=new s(f,i).startWalking(),this.firstAfterRepMap[o]=u}let c=u.token,l=u.occurrence;const h=u.isEndOfRule;this.RULE_STACK.length===1&&h&&c===void 0&&(c=Ls,l=1),!(c===void 0||l===void 0)&&this.shouldInRepetitionRecoveryBeTried(c,l,a)&&this.tryInRepetitionRecovery(t,e,n,c)}const hV=4,Us=8,BC=1<<Us,GC=2<<Us,jm=3<<Us,Km=4<<Us,Zm=5<<Us,ff=6<<Us;function d0(t,e,n){return n|e|t}class y_{constructor(e){var n;this.maxLookahead=(n=e==null?void 0:e.maxLookahead)!==null&&n!==void 0?n:fs.maxLookahead}validate(e){const n=this.validateNoLeftRecursion(e.rules);if(Et(n)){const r=this.validateEmptyOrAlternatives(e.rules),i=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),s=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...n,...r,...i,...s]}return n}validateNoLeftRecursion(e){return Ar(e,n=>OC(n,n,ya))}validateEmptyOrAlternatives(e){return Ar(e,n=>jY(n,ya))}validateAmbiguousAlternationAlternatives(e,n){return Ar(e,r=>KY(r,n,ya))}validateSomeNonEmptyLookaheadPath(e,n){return JY(e,n,ya)}buildLookaheadForAlternation(e){return LY(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,FY)}buildLookaheadForOptional(e){return PY(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,g_(e.prodType),$Y)}}class fV{initLooksAhead(e){this.dynamicTokensEnabled=Be(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:fs.dynamicTokensEnabled,this.maxLookahead=Be(e,"maxLookahead")?e.maxLookahead:fs.maxLookahead,this.lookaheadStrategy=Be(e,"lookaheadStrategy")?e.lookaheadStrategy:new y_({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){W(e,n=>{this.TRACE_INIT(`${n.name} Rule Lookahead`,()=>{const{alternation:r,repetition:i,option:s,repetitionMandatory:a,repetitionMandatoryWithSeparator:o,repetitionWithSeparator:u}=pV(n);W(r,c=>{const l=c.idx===0?"":c.idx;this.TRACE_INIT(`${wi(c)}${l}`,()=>{const h=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:c.idx,rule:n,maxLookahead:c.maxLookahead||this.maxLookahead,hasPredicates:c.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),d=d0(this.fullRuleNameToShort[n.name],BC,c.idx);this.setLaFuncCache(d,h)})}),W(i,c=>{this.computeLookaheadFunc(n,c.idx,jm,"Repetition",c.maxLookahead,wi(c))}),W(s,c=>{this.computeLookaheadFunc(n,c.idx,GC,"Option",c.maxLookahead,wi(c))}),W(a,c=>{this.computeLookaheadFunc(n,c.idx,Km,"RepetitionMandatory",c.maxLookahead,wi(c))}),W(o,c=>{this.computeLookaheadFunc(n,c.idx,ff,"RepetitionMandatoryWithSeparator",c.maxLookahead,wi(c))}),W(u,c=>{this.computeLookaheadFunc(n,c.idx,Zm,"RepetitionWithSeparator",c.maxLookahead,wi(c))})})})}computeLookaheadFunc(e,n,r,i,s,a){this.TRACE_INIT(`${a}${n===0?"":n}`,()=>{const o=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:n,rule:e,maxLookahead:s||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:i}),u=d0(this.fullRuleNameToShort[e.name],r,n);this.setLaFuncCache(u,o)})}getKeyForAutomaticLookahead(e,n){const r=this.getLastExplicitRuleShortName();return d0(r,e,n)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,n){this.lookAheadFuncsCache.set(e,n)}}class dV extends ou{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}}const wh=new dV;function pV(t){wh.reset(),t.accept(wh);const e=wh.dslMethods;return wh.reset(),e}function px(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset)}function gx(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}function gV(t,e,n){t.children[n]===void 0?t.children[n]=[e]:t.children[n].push(e)}function mV(t,e,n){t.children[e]===void 0?t.children[e]=[n]:t.children[e].push(n)}const yV="name";function zC(t,e){Object.defineProperty(t,yV,{enumerable:!1,configurable:!0,writable:!1,value:e})}function bV(t,e){const n=qr(t),r=n.length;for(let i=0;i<r;i++){const s=n[i],a=t[s],o=a.length;for(let u=0;u<o;u++){const c=a[u];c.tokenTypeIdx===void 0&&this[c.name](c.children,e)}}}function vV(t,e){const n=function(){};zC(n,t+"BaseSemantics");const r={visit:function(i,s){if(kr(i)&&(i=i[0]),!vt(i))return this[i.name](i.children,s)},validateVisitor:function(){const i=EV(this,e);if(!Et(i)){const s=me(i,a=>a.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${s.join(`

`).replace(/\n/g,`
	`)}`)}}};return n.prototype=r,n.prototype.constructor=n,n._RULE_NAMES=e,n}function _V(t,e,n){const r=function(){};zC(r,t+"BaseSemanticsWithDefaults");const i=Object.create(n.prototype);return W(e,s=>{i[s]=bV}),r.prototype=i,r.prototype.constructor=r,r}var Qm;(function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"})(Qm||(Qm={}));function EV(t,e){return wV(t,e)}function wV(t,e){const n=jt(e,i=>as(t[i])===!1),r=me(n,i=>({msg:`Missing visitor method: <${i}> on ${t.constructor.name} CST Visitor.`,type:Qm.MISSING_METHOD,methodName:i}));return sl(r)}class xV{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=Be(e,"nodeLocationTracking")?e.nodeLocationTracking:fs.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=gn,this.cstFinallyStateUpdate=gn,this.cstPostTerminal=gn,this.cstPostNonTerminal=gn,this.cstPostRule=gn;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=gx,this.setNodeLocationFromNode=gx,this.cstPostRule=gn,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=gn,this.setNodeLocationFromNode=gn,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=px,this.setNodeLocationFromNode=px,this.cstPostRule=gn,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=gn,this.setNodeLocationFromNode=gn,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=gn,this.setNodeLocationFromNode=gn,this.cstPostRule=gn,this.setInitialNodeLocation=gn;else throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){const n=this.LA(1);e.location={startOffset:n.startOffset,startLine:n.startLine,startColumn:n.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){const n={name:e,children:Object.create(null)};this.setInitialNodeLocation(n),this.CST_STACK.push(n)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){const n=this.LA(0),r=e.location;r.startOffset<=n.startOffset?(r.endOffset=n.endOffset,r.endLine=n.endLine,r.endColumn=n.endColumn):(r.startOffset=NaN,r.startLine=NaN,r.startColumn=NaN)}cstPostRuleOnlyOffset(e){const n=this.LA(0),r=e.location;r.startOffset<=n.startOffset?r.endOffset=n.endOffset:r.startOffset=NaN}cstPostTerminal(e,n){const r=this.CST_STACK[this.CST_STACK.length-1];gV(r,n,e),this.setNodeLocationFromToken(r.location,n)}cstPostNonTerminal(e,n){const r=this.CST_STACK[this.CST_STACK.length-1];mV(r,n,e),this.setNodeLocationFromNode(r.location,e.location)}getBaseCstVisitorConstructor(){if(vt(this.baseCstVisitorConstructor)){const e=vV(this.className,qr(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(vt(this.baseCstVisitorWithDefaultsConstructor)){const e=_V(this.className,qr(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){const e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}}class TV{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Td}LA(e){const n=this.currIdx+e;return n<0||this.tokVectorLength<=n?Td:this.tokVector[n]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}class kV{ACTION(e){return e.call(this)}consume(e,n,r){return this.consumeInternal(n,e,r)}subrule(e,n,r){return this.subruleInternal(n,e,r)}option(e,n){return this.optionInternal(n,e)}or(e,n){return this.orInternal(n,e)}many(e,n){return this.manyInternal(e,n)}atLeastOne(e,n){return this.atLeastOneInternal(e,n)}CONSUME(e,n){return this.consumeInternal(e,0,n)}CONSUME1(e,n){return this.consumeInternal(e,1,n)}CONSUME2(e,n){return this.consumeInternal(e,2,n)}CONSUME3(e,n){return this.consumeInternal(e,3,n)}CONSUME4(e,n){return this.consumeInternal(e,4,n)}CONSUME5(e,n){return this.consumeInternal(e,5,n)}CONSUME6(e,n){return this.consumeInternal(e,6,n)}CONSUME7(e,n){return this.consumeInternal(e,7,n)}CONSUME8(e,n){return this.consumeInternal(e,8,n)}CONSUME9(e,n){return this.consumeInternal(e,9,n)}SUBRULE(e,n){return this.subruleInternal(e,0,n)}SUBRULE1(e,n){return this.subruleInternal(e,1,n)}SUBRULE2(e,n){return this.subruleInternal(e,2,n)}SUBRULE3(e,n){return this.subruleInternal(e,3,n)}SUBRULE4(e,n){return this.subruleInternal(e,4,n)}SUBRULE5(e,n){return this.subruleInternal(e,5,n)}SUBRULE6(e,n){return this.subruleInternal(e,6,n)}SUBRULE7(e,n){return this.subruleInternal(e,7,n)}SUBRULE8(e,n){return this.subruleInternal(e,8,n)}SUBRULE9(e,n){return this.subruleInternal(e,9,n)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,n,r=kd){if(sr(this.definedRulesNames,e)){const a={message:ya.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:ir.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(a)}this.definedRulesNames.push(e);const i=this.defineRule(e,n,r);return this[e]=i,i}OVERRIDE_RULE(e,n,r=kd){const i=XY(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(i);const s=this.defineRule(e,n,r);return this[e]=s,s}BACKTRACK(e,n){return function(){this.isBackTrackingStack.push(1);const r=this.saveRecogState();try{return e.apply(this,n),!0}catch(i){if(wd(i))return!1;throw i}finally{this.reloadRecogState(r),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return IW(Mt(this.gastProductionsCache))}}class AV{initRecognizerEngine(e,n){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Ed,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Be(n,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(kr(e)){if(Et(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(kr(e))this.tokensMap=sn(e,(s,a)=>(s[a.name]=a,s),{});else if(Be(e,"modes")&&Jr(In(Mt(e.modes)),TY)){const s=In(Mt(e.modes)),a=pb(s);this.tokensMap=sn(a,(o,u)=>(o[u.name]=u,o),{})}else if(z2(e))this.tokensMap=_n(e);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=Ls;const r=Be(e,"modes")?In(Mt(e.modes)):Mt(e),i=Jr(r,s=>Et(s.categoryMatches));this.tokenMatcher=i?Ed:Sl,Rl(Mt(this.tokensMap))}defineRule(e,n,r){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const i=Be(r,"resyncEnabled")?r.resyncEnabled:kd.resyncEnabled,s=Be(r,"recoveryValueFunc")?r.recoveryValueFunc:kd.recoveryValueFunc,a=this.ruleShortNameIdx<<hV+Us;this.ruleShortNameIdx++,this.shortRuleNameToFull[a]=e,this.fullRuleNameToShort[e]=a;let o;return this.outputCst===!0?o=function(...l){try{this.ruleInvocationStateUpdate(a,e,this.subruleIdx),n.apply(this,l);const h=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(h),h}catch(h){return this.invokeRuleCatch(h,i,s)}finally{this.ruleFinallyStateUpdate()}}:o=function(...l){try{return this.ruleInvocationStateUpdate(a,e,this.subruleIdx),n.apply(this,l)}catch(h){return this.invokeRuleCatch(h,i,s)}finally{this.ruleFinallyStateUpdate()}},Object.assign(o,{ruleName:e,originalGrammarAction:n})}invokeRuleCatch(e,n,r){const i=this.RULE_STACK.length===1,s=n&&!this.isBackTracking()&&this.recoveryEnabled;if(wd(e)){const a=e;if(s){const o=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(o))if(a.resyncedTokens=this.reSyncTo(o),this.outputCst){const u=this.CST_STACK[this.CST_STACK.length-1];return u.recoveredNode=!0,u}else return r(e);else{if(this.outputCst){const u=this.CST_STACK[this.CST_STACK.length-1];u.recoveredNode=!0,a.partialCstResult=u}throw a}}else{if(i)return this.moveToTerminatedState(),r(e);throw a}}else throw e}optionInternal(e,n){const r=this.getKeyForAutomaticLookahead(GC,n);return this.optionInternalLogic(e,n,r)}optionInternalLogic(e,n,r){let i=this.getLaFuncFromCache(r),s;if(typeof e!="function"){s=e.DEF;const a=e.GATE;if(a!==void 0){const o=i;i=()=>a.call(this)&&o.call(this)}}else s=e;if(i.call(this)===!0)return s.call(this)}atLeastOneInternal(e,n){const r=this.getKeyForAutomaticLookahead(Km,e);return this.atLeastOneInternalLogic(e,n,r)}atLeastOneInternalLogic(e,n,r){let i=this.getLaFuncFromCache(r),s;if(typeof n!="function"){s=n.DEF;const a=n.GATE;if(a!==void 0){const o=i;i=()=>a.call(this)&&o.call(this)}}else s=n;if(i.call(this)===!0){let a=this.doSingleRepetition(s);for(;i.call(this)===!0&&a===!0;)a=this.doSingleRepetition(s)}else throw this.raiseEarlyExitException(e,zt.REPETITION_MANDATORY,n.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,n],i,Km,e,IY)}atLeastOneSepFirstInternal(e,n){const r=this.getKeyForAutomaticLookahead(ff,e);this.atLeastOneSepFirstInternalLogic(e,n,r)}atLeastOneSepFirstInternalLogic(e,n,r){const i=n.DEF,s=n.SEP;if(this.getLaFuncFromCache(r).call(this)===!0){i.call(this);const o=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,o,i,hx],o,ff,e,hx)}else throw this.raiseEarlyExitException(e,zt.REPETITION_MANDATORY_WITH_SEPARATOR,n.ERR_MSG)}manyInternal(e,n){const r=this.getKeyForAutomaticLookahead(jm,e);return this.manyInternalLogic(e,n,r)}manyInternalLogic(e,n,r){let i=this.getLaFuncFromCache(r),s;if(typeof n!="function"){s=n.DEF;const o=n.GATE;if(o!==void 0){const u=i;i=()=>o.call(this)&&u.call(this)}}else s=n;let a=!0;for(;i.call(this)===!0&&a===!0;)a=this.doSingleRepetition(s);this.attemptInRepetitionRecovery(this.manyInternal,[e,n],i,jm,e,OY,a)}manySepFirstInternal(e,n){const r=this.getKeyForAutomaticLookahead(Zm,e);this.manySepFirstInternalLogic(e,n,r)}manySepFirstInternalLogic(e,n,r){const i=n.DEF,s=n.SEP;if(this.getLaFuncFromCache(r).call(this)===!0){i.call(this);const o=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,o,i,lx],o,Zm,e,lx)}}repetitionSepSecondInternal(e,n,r,i,s){for(;r();)this.CONSUME(n),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,n,r,i,s],r,ff,e,s)}doSingleRepetition(e){const n=this.getLexerPosition();return e.call(this),this.getLexerPosition()>n}orInternal(e,n){const r=this.getKeyForAutomaticLookahead(BC,n),i=kr(e)?e:e.DEF,a=this.getLaFuncFromCache(r).call(this,i);if(a!==void 0)return i[a].ALT.call(this);this.raiseNoAltException(n,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const e=this.LA(1),n=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new aV(n,e))}}subruleInternal(e,n,r){let i;try{const s=r!==void 0?r.ARGS:void 0;return this.subruleIdx=n,i=e.apply(this,s),this.cstPostNonTerminal(i,r!==void 0&&r.LABEL!==void 0?r.LABEL:e.ruleName),i}catch(s){throw this.subruleInternalError(s,r,e.ruleName)}}subruleInternalError(e,n,r){throw wd(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,n!==void 0&&n.LABEL!==void 0?n.LABEL:r),delete e.partialCstResult),e}consumeInternal(e,n,r){let i;try{const s=this.LA(1);this.tokenMatcher(s,e)===!0?(this.consumeToken(),i=s):this.consumeInternalError(e,s,r)}catch(s){i=this.consumeInternalRecovery(e,n,s)}return this.cstPostTerminal(r!==void 0&&r.LABEL!==void 0?r.LABEL:e.name,i),i}consumeInternalError(e,n,r){let i;const s=this.LA(0);throw r!==void 0&&r.ERR_MSG?i=r.ERR_MSG:i=this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:n,previous:s,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new $C(i,n,s))}consumeInternalRecovery(e,n,r){if(this.recoveryEnabled&&r.name==="MismatchedTokenException"&&!this.isBackTracking()){const i=this.getFollowsForInRuleRecovery(e,n);try{return this.tryInRuleRecovery(e,i)}catch(s){throw s.name===UC?r:s}}else throw r}saveRecogState(){const e=this.errors,n=_n(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:n,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,n,r){this.RULE_OCCURRENCE_STACK.push(r),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(n)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),Ls)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}class NV{initErrorHandler(e){this._errors=[],this.errorMessageProvider=Be(e,"errorMessageProvider")?e.errorMessageProvider:fs.errorMessageProvider}SAVE_ERROR(e){if(wd(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:_n(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return _n(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,n,r){const i=this.getCurrRuleFullName(),s=this.getGAstProductions()[i],o=zp(e,s,n,this.maxLookahead)[0],u=[];for(let l=1;l<=this.maxLookahead;l++)u.push(this.LA(l));const c=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:o,actual:u,previous:this.LA(0),customUserDescription:r,ruleName:i});throw this.SAVE_ERROR(new oV(c,this.LA(1),this.LA(0)))}raiseNoAltException(e,n){const r=this.getCurrRuleFullName(),i=this.getGAstProductions()[r],s=Gp(e,i,this.maxLookahead),a=[];for(let c=1;c<=this.maxLookahead;c++)a.push(this.LA(c));const o=this.LA(0),u=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:s,actual:a,previous:o,customUserDescription:n,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new sV(u,this.LA(1),o))}}class SV{initContentAssist(){}computeContentAssist(e,n){const r=this.gastProductionsCache[e];if(vt(r))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return NC([r],n,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){const n=ri(e.ruleStack),i=this.getGAstProductions()[n];return new MY(i,e).startWalking()}}const Hp={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(Hp);const mx=!0,yx=Math.pow(2,Us)-1,qC=kC({name:"RECORDING_PHASE_TOKEN",pattern:cr.NA});Rl([qC]);const HC=p_(qC,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(HC);const RV={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}};class CV{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){const n=e>0?e:"";this[`CONSUME${n}`]=function(r,i){return this.consumeInternalRecord(r,e,i)},this[`SUBRULE${n}`]=function(r,i){return this.subruleInternalRecord(r,e,i)},this[`OPTION${n}`]=function(r){return this.optionInternalRecord(r,e)},this[`OR${n}`]=function(r){return this.orInternalRecord(r,e)},this[`MANY${n}`]=function(r){this.manyInternalRecord(e,r)},this[`MANY_SEP${n}`]=function(r){this.manySepFirstInternalRecord(e,r)},this[`AT_LEAST_ONE${n}`]=function(r){this.atLeastOneInternalRecord(e,r)},this[`AT_LEAST_ONE_SEP${n}`]=function(r){this.atLeastOneSepFirstInternalRecord(e,r)}}this.consume=function(e,n,r){return this.consumeInternalRecord(n,e,r)},this.subrule=function(e,n,r){return this.subruleInternalRecord(n,e,r)},this.option=function(e,n){return this.optionInternalRecord(n,e)},this.or=function(e,n){return this.orInternalRecord(n,e)},this.many=function(e,n){this.manyInternalRecord(e,n)},this.atLeastOne=function(e,n){this.atLeastOneInternalRecord(e,n)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const e=this;for(let n=0;n<10;n++){const r=n>0?n:"";delete e[`CONSUME${r}`],delete e[`SUBRULE${r}`],delete e[`OPTION${r}`],delete e[`OR${r}`],delete e[`MANY${r}`],delete e[`MANY_SEP${r}`],delete e[`AT_LEAST_ONE${r}`],delete e[`AT_LEAST_ONE_SEP${r}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,n){return()=>!0}LA_RECORD(e){return Td}topLevelRuleRecord(e,n){try{const r=new au({definition:[],name:e});return r.name=e,this.recordingProdStack.push(r),n.call(this),this.recordingProdStack.pop(),r}catch(r){if(r.KNOWN_RECORDER_ERROR!==!0)try{r.message=r.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw r}throw r}}optionInternalRecord(e,n){return Pu.call(this,Dn,e,n)}atLeastOneInternalRecord(e,n){Pu.call(this,Mr,n,e)}atLeastOneSepFirstInternalRecord(e,n){Pu.call(this,Or,n,e,mx)}manyInternalRecord(e,n){Pu.call(this,Vt,n,e)}manySepFirstInternalRecord(e,n){Pu.call(this,fr,n,e,mx)}orInternalRecord(e,n){return MV.call(this,e,n)}subruleInternalRecord(e,n,r){if(xd(n),!e||Be(e,"ruleName")===!1){const o=new Error(`<SUBRULE${bx(n)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw o.KNOWN_RECORDER_ERROR=!0,o}const i=ni(this.recordingProdStack),s=e.ruleName,a=new rr({idx:n,nonTerminalName:s,label:r==null?void 0:r.LABEL,referencedRule:void 0});return i.definition.push(a),this.outputCst?RV:Hp}consumeInternalRecord(e,n,r){if(xd(n),!xC(e)){const a=new Error(`<CONSUME${bx(n)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw a.KNOWN_RECORDER_ERROR=!0,a}const i=ni(this.recordingProdStack),s=new Pt({idx:n,terminalType:e,label:r==null?void 0:r.LABEL});return i.definition.push(s),HC}}function Pu(t,e,n,r=!1){xd(n);const i=ni(this.recordingProdStack),s=as(e)?e:e.DEF,a=new t({definition:[],idx:n});return r&&(a.separator=e.SEP),Be(e,"MAX_LOOKAHEAD")&&(a.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(a),s.call(this),i.definition.push(a),this.recordingProdStack.pop(),Hp}function MV(t,e){xd(e);const n=ni(this.recordingProdStack),r=kr(t)===!1,i=r===!1?t:t.DEF,s=new dr({definition:[],idx:e,ignoreAmbiguities:r&&t.IGNORE_AMBIGUITIES===!0});Be(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD);const a=FT(i,o=>as(o.GATE));return s.hasPredicates=a,n.definition.push(s),W(i,o=>{const u=new hr({definition:[]});s.definition.push(u),Be(o,"IGNORE_AMBIGUITIES")?u.ignoreAmbiguities=o.IGNORE_AMBIGUITIES:Be(o,"GATE")&&(u.ignoreAmbiguities=!0),this.recordingProdStack.push(u),o.ALT.call(this),this.recordingProdStack.pop()}),Hp}function bx(t){return t===0?"":`${t}`}function xd(t){if(t<0||t>yx){const e=new Error(`Invalid DSL Method idx value: <${t}>
	Idx value must be a none negative value smaller than ${yx+1}`);throw e.KNOWN_RECORDER_ERROR=!0,e}}class OV{initPerformanceTracer(e){if(Be(e,"traceInitPerf")){const n=e.traceInitPerf,r=typeof n=="number";this.traceInitMaxIdent=r?n:1/0,this.traceInitPerf=r?n>0:n}else this.traceInitMaxIdent=0,this.traceInitPerf=fs.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,n){if(this.traceInitPerf===!0){this.traceInitIndent++;const r=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${r}--> <${e}>`);const{time:i,value:s}=dC(n),a=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(`${r}<-- <${e}> time: ${i}ms`),this.traceInitIndent--,s}else return n()}}function IV(t,e){e.forEach(n=>{const r=n.prototype;Object.getOwnPropertyNames(r).forEach(i=>{if(i==="constructor")return;const s=Object.getOwnPropertyDescriptor(r,i);s&&(s.get||s.set)?Object.defineProperty(t.prototype,i,s):t.prototype[i]=n.prototype[i]})})}const Td=p_(Ls,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(Td);const fs=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Eo,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),kd=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var ir;(function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",t[t.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(ir||(ir={}));function vx(t=void 0){return function(){return t}}class Cl{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let e;this.selfAnalysisDone=!0;const n=this.className;this.TRACE_INIT("toFastProps",()=>{pC(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),W(this.definedRulesNames,i=>{const a=this[i].originalGrammarAction;let o;this.TRACE_INIT(`${i} Rule`,()=>{o=this.topLevelRuleRecord(i,a)}),this.gastProductionsCache[i]=o})}finally{this.disableRecording()}});let r=[];if(this.TRACE_INIT("Grammar Resolving",()=>{r=rV({rules:Mt(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(r)}),this.TRACE_INIT("Grammar Validations",()=>{if(Et(r)&&this.skipValidations===!1){const i=iV({rules:Mt(this.gastProductionsCache),tokenTypes:Mt(this.tokensMap),errMsgProvider:ya,grammarName:n}),s=zY({lookaheadStrategy:this.lookaheadStrategy,rules:Mt(this.gastProductionsCache),tokenTypes:Mt(this.tokensMap),grammarName:n});this.definitionErrors=this.definitionErrors.concat(i,s)}}),Et(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const i=BW(Mt(this.gastProductionsCache));this.resyncFollows=i}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var i,s;(s=(i=this.lookaheadStrategy).initialize)===null||s===void 0||s.call(i,{rules:Mt(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(Mt(this.gastProductionsCache))})),!Cl.DEFER_DEFINITION_ERRORS_HANDLING&&!Et(this.definitionErrors))throw e=me(this.definitionErrors,i=>i.message),new Error(`Parser Definition Errors detected:
 ${e.join(`
-------------------------------
`)}`)})}constructor(e,n){this.definitionErrors=[],this.selfAnalysisDone=!1;const r=this;if(r.initErrorHandler(n),r.initLexerAdapter(),r.initLooksAhead(n),r.initRecognizerEngine(e,n),r.initRecoverable(n),r.initTreeBuilder(n),r.initContentAssist(),r.initGastRecorder(n),r.initPerformanceTracer(n),Be(n,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=Be(n,"skipValidations")?n.skipValidations:fs.skipValidations}}Cl.DEFER_DEFINITION_ERRORS_HANDLING=!1;IV(Cl,[cV,fV,xV,TV,AV,kV,NV,SV,CV,OV]);class DV extends Cl{constructor(e,n=fs){const r=_n(n);r.outputCst=!1,super(e,r)}}function Yo(t,e,n){return`${t.name}_${e}_${n}`}const Ps=1,LV=2,WC=4,YC=5,Ml=7,PV=8,FV=9,$V=10,UV=11,VC=12;class b_{constructor(e){this.target=e}isEpsilon(){return!1}}class v_ extends b_{constructor(e,n){super(e),this.tokenType=n}}class XC extends b_{constructor(e){super(e)}isEpsilon(){return!0}}class __ extends b_{constructor(e,n,r){super(e),this.rule=n,this.followState=r}isEpsilon(){return!0}}function BV(t){const e={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};GV(e,t);const n=t.length;for(let r=0;r<n;r++){const i=t[r],s=Ha(e,i,i);s!==void 0&&QV(e,i,s)}return e}function GV(t,e){const n=e.length;for(let r=0;r<n;r++){const i=e[r],s=vn(t,i,void 0,{type:LV}),a=vn(t,i,void 0,{type:Ml});s.stop=a,t.ruleToStartState.set(i,s),t.ruleToStopState.set(i,a)}}function jC(t,e,n){return n instanceof Pt?E_(t,e,n.terminalType,n):n instanceof rr?ZV(t,e,n):n instanceof dr?YV(t,e,n):n instanceof Dn?VV(t,e,n):n instanceof Vt?zV(t,e,n):n instanceof fr?qV(t,e,n):n instanceof Mr?HV(t,e,n):n instanceof Or?WV(t,e,n):Ha(t,e,n)}function zV(t,e,n){const r=vn(t,e,n,{type:YC});Bs(t,r);const i=uu(t,e,r,n,Ha(t,e,n));return ZC(t,e,n,i)}function qV(t,e,n){const r=vn(t,e,n,{type:YC});Bs(t,r);const i=uu(t,e,r,n,Ha(t,e,n)),s=E_(t,e,n.separator,n);return ZC(t,e,n,i,s)}function HV(t,e,n){const r=vn(t,e,n,{type:WC});Bs(t,r);const i=uu(t,e,r,n,Ha(t,e,n));return KC(t,e,n,i)}function WV(t,e,n){const r=vn(t,e,n,{type:WC});Bs(t,r);const i=uu(t,e,r,n,Ha(t,e,n)),s=E_(t,e,n.separator,n);return KC(t,e,n,i,s)}function YV(t,e,n){const r=vn(t,e,n,{type:Ps});Bs(t,r);const i=me(n.definition,a=>jC(t,e,a));return uu(t,e,r,n,...i)}function VV(t,e,n){const r=vn(t,e,n,{type:Ps});Bs(t,r);const i=uu(t,e,r,n,Ha(t,e,n));return XV(t,e,n,i)}function Ha(t,e,n){const r=jt(me(n.definition,i=>jC(t,e,i)),i=>i!==void 0);return r.length===1?r[0]:r.length===0?void 0:KV(t,r)}function KC(t,e,n,r,i){const s=r.left,a=r.right,o=vn(t,e,n,{type:UV});Bs(t,o);const u=vn(t,e,n,{type:VC});return s.loopback=o,u.loopback=o,t.decisionMap[Yo(e,i?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",n.idx)]=o,nn(a,o),i===void 0?(nn(o,s),nn(o,u)):(nn(o,u),nn(o,i.left),nn(i.right,s)),{left:s,right:u}}function ZC(t,e,n,r,i){const s=r.left,a=r.right,o=vn(t,e,n,{type:$V});Bs(t,o);const u=vn(t,e,n,{type:VC}),c=vn(t,e,n,{type:FV});return o.loopback=c,u.loopback=c,nn(o,s),nn(o,u),nn(a,c),i!==void 0?(nn(c,u),nn(c,i.left),nn(i.right,s)):nn(c,o),t.decisionMap[Yo(e,i?"RepetitionWithSeparator":"Repetition",n.idx)]=o,{left:o,right:u}}function XV(t,e,n,r){const i=r.left,s=r.right;return nn(i,s),t.decisionMap[Yo(e,"Option",n.idx)]=i,r}function Bs(t,e){return t.decisionStates.push(e),e.decision=t.decisionStates.length-1,e.decision}function uu(t,e,n,r,...i){const s=vn(t,e,r,{type:PV,start:n});n.end=s;for(const o of i)o!==void 0?(nn(n,o.left),nn(o.right,s)):nn(n,s);const a={left:n,right:s};return t.decisionMap[Yo(e,jV(r),r.idx)]=n,a}function jV(t){if(t instanceof dr)return"Alternation";if(t instanceof Dn)return"Option";if(t instanceof Vt)return"Repetition";if(t instanceof fr)return"RepetitionWithSeparator";if(t instanceof Mr)return"RepetitionMandatory";if(t instanceof Or)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}function KV(t,e){const n=e.length;for(let s=0;s<n-1;s++){const a=e[s];let o;a.left.transitions.length===1&&(o=a.left.transitions[0]);const u=o instanceof __,c=o,l=e[s+1].left;a.left.type===Ps&&a.right.type===Ps&&o!==void 0&&(u&&c.followState===a.right||o.target===a.right)?(u?c.followState=l:o.target=l,JV(t,a.right)):nn(a.right,l)}const r=e[0],i=e[n-1];return{left:r.left,right:i.right}}function E_(t,e,n,r){const i=vn(t,e,r,{type:Ps}),s=vn(t,e,r,{type:Ps});return w_(i,new v_(s,n)),{left:i,right:s}}function ZV(t,e,n){const r=n.referencedRule,i=t.ruleToStartState.get(r),s=vn(t,e,n,{type:Ps}),a=vn(t,e,n,{type:Ps}),o=new __(i,r,a);return w_(s,o),{left:s,right:a}}function QV(t,e,n){const r=t.ruleToStartState.get(e);nn(r,n.left);const i=t.ruleToStopState.get(e);return nn(n.right,i),{left:r,right:i}}function nn(t,e){const n=new XC(e);w_(t,n)}function vn(t,e,n,r){const i=Object.assign({atn:t,production:n,epsilonOnlyTransitions:!1,rule:e,transitions:[],nextTokenWithinRule:[],stateNumber:t.states.length},r);return t.states.push(i),i}function w_(t,e){t.transitions.length===0&&(t.epsilonOnlyTransitions=e.isEpsilon()),t.transitions.push(e)}function JV(t,e){t.states.splice(t.states.indexOf(e),1)}const Ad={};class Jm{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(e){const n=QC(e);n in this.map||(this.map[n]=this.configs.length,this.configs.push(e))}get elements(){return this.configs}get alts(){return me(this.configs,e=>e.alt)}get key(){let e="";for(const n in this.map)e+=n+":";return e}}function QC(t,e=!0){return`${e?`a${t.alt}`:""}s${t.state.stateNumber}:${t.stack.map(n=>n.stateNumber.toString()).join("_")}`}function eX(t,e){const n={};return r=>{const i=r.toString();let s=n[i];return s!==void 0||(s={atnStartState:t,decision:e,states:{}},n[i]=s),s}}class JC{constructor(){this.predicates=[]}is(e){return e>=this.predicates.length||this.predicates[e]}set(e,n){this.predicates[e]=n}toString(){let e="";const n=this.predicates.length;for(let r=0;r<n;r++)e+=this.predicates[r]===!0?"1":"0";return e}}const _x=new JC;class tX extends y_{constructor(e){var n;super(),this.logging=(n=e==null?void 0:e.logging)!==null&&n!==void 0?n:(r=>console.log(r))}initialize(e){this.atn=BV(e.rules),this.dfas=nX(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(e){const{prodOccurrence:n,rule:r,hasPredicates:i,dynamicTokensEnabled:s}=e,a=this.dfas,o=this.logging,u=Yo(r,"Alternation",n),l=this.atn.decisionMap[u].decision,h=me(fx({maxLookahead:1,occurrence:n,prodType:"Alternation",rule:r}),d=>me(d,f=>f[0]));if(Ex(h,!1)&&!s){const d=sn(h,(f,p,g)=>(W(p,m=>{m&&(f[m.tokenTypeIdx]=g,W(m.categoryMatches,y=>{f[y]=g}))}),f),{});return i?function(f){var p;const g=this.LA(1),m=d[g.tokenTypeIdx];if(f!==void 0&&m!==void 0){const y=(p=f[m])===null||p===void 0?void 0:p.GATE;if(y!==void 0&&y.call(this)===!1)return}return m}:function(){const f=this.LA(1);return d[f.tokenTypeIdx]}}else return i?function(d){const f=new JC,p=d===void 0?0:d.length;for(let m=0;m<p;m++){const y=d==null?void 0:d[m].GATE;f.set(m,y===void 0||y.call(this))}const g=p0.call(this,a,l,f,o);return typeof g=="number"?g:void 0}:function(){const d=p0.call(this,a,l,_x,o);return typeof d=="number"?d:void 0}}buildLookaheadForOptional(e){const{prodOccurrence:n,rule:r,prodType:i,dynamicTokensEnabled:s}=e,a=this.dfas,o=this.logging,u=Yo(r,i,n),l=this.atn.decisionMap[u].decision,h=me(fx({maxLookahead:1,occurrence:n,prodType:i,rule:r}),d=>me(d,f=>f[0]));if(Ex(h)&&h[0][0]&&!s){const d=h[0],f=In(d);if(f.length===1&&Et(f[0].categoryMatches)){const g=f[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===g}}else{const p=sn(f,(g,m)=>(m!==void 0&&(g[m.tokenTypeIdx]=!0,W(m.categoryMatches,y=>{g[y]=!0})),g),{});return function(){const g=this.LA(1);return p[g.tokenTypeIdx]===!0}}}return function(){const d=p0.call(this,a,l,_x,o);return typeof d=="object"?!1:d===0}}}function Ex(t,e=!0){const n=new Set;for(const r of t){const i=new Set;for(const s of r){if(s===void 0){if(e)break;return!1}const a=[s.tokenTypeIdx].concat(s.categoryMatches);for(const o of a)if(n.has(o)){if(!i.has(o))return!1}else n.add(o),i.add(o)}}return!0}function nX(t){const e=t.decisionStates.length,n=Array(e);for(let r=0;r<e;r++)n[r]=eX(t.decisionStates[r],r);return n}function p0(t,e,n,r){const i=t[e](n);let s=i.start;if(s===void 0){const o=dX(i.atnStartState);s=t2(i,e2(o)),i.start=s}return rX.apply(this,[i,s,n,r])}function rX(t,e,n,r){let i=e,s=1;const a=[];let o=this.LA(s++);for(;;){let u=cX(i,o);if(u===void 0&&(u=iX.apply(this,[t,i,o,s,n,r])),u===Ad)return uX(a,i,o);if(u.isAcceptState===!0)return u.prediction;i=u,a.push(o),o=this.LA(s++)}}function iX(t,e,n,r,i,s){const a=lX(e.configs,n,i);if(a.size===0)return wx(t,e,n,Ad),Ad;let o=e2(a);const u=fX(a,i);if(u!==void 0)o.isAcceptState=!0,o.prediction=u,o.configs.uniqueAlt=u;else if(yX(a)){const c=Do(a.alts);o.isAcceptState=!0,o.prediction=c,o.configs.uniqueAlt=c,sX.apply(this,[t,r,a.alts,s])}return o=wx(t,e,n,o),o}function sX(t,e,n,r){const i=[];for(let c=1;c<=e;c++)i.push(this.LA(c).tokenType);const s=t.atnStartState,a=s.rule,o=s.production,u=aX({topLevelRule:a,ambiguityIndices:n,production:o,prefixPath:i});r(u)}function aX(t){const e=me(t.prefixPath,i=>Oo(i)).join(", "),n=t.production.idx===0?"":t.production.idx;let r=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(", ")}> in <${oX(t.production)}${n}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return r=r+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,r}function oX(t){if(t instanceof rr)return"SUBRULE";if(t instanceof Dn)return"OPTION";if(t instanceof dr)return"OR";if(t instanceof Mr)return"AT_LEAST_ONE";if(t instanceof Or)return"AT_LEAST_ONE_SEP";if(t instanceof fr)return"MANY_SEP";if(t instanceof Vt)return"MANY";if(t instanceof Pt)return"CONSUME";throw Error("non exhaustive match")}function uX(t,e,n){const r=Ar(e.configs.elements,s=>s.state.transitions),i=q2(r.filter(s=>s instanceof v_).map(s=>s.tokenType),s=>s.tokenTypeIdx);return{actualToken:n,possibleTokenTypes:i,tokenPath:t}}function cX(t,e){return t.edges[e.tokenTypeIdx]}function lX(t,e,n){const r=new Jm,i=[];for(const a of t.elements){if(n.is(a.alt)===!1)continue;if(a.state.type===Ml){i.push(a);continue}const o=a.state.transitions.length;for(let u=0;u<o;u++){const c=a.state.transitions[u],l=hX(c,e);l!==void 0&&r.add({state:l,alt:a.alt,stack:a.stack})}}let s;if(i.length===0&&r.size===1&&(s=r),s===void 0){s=new Jm;for(const a of r.elements)Nd(a,s)}if(i.length>0&&!gX(s))for(const a of i)s.add(a);return s}function hX(t,e){if(t instanceof v_&&AC(e,t.tokenType))return t.target}function fX(t,e){let n;for(const r of t.elements)if(e.is(r.alt)===!0){if(n===void 0)n=r.alt;else if(n!==r.alt)return}return n}function e2(t){return{configs:t,edges:{},isAcceptState:!1,prediction:-1}}function wx(t,e,n,r){return r=t2(t,r),e.edges[n.tokenTypeIdx]=r,r}function t2(t,e){if(e===Ad)return e;const n=e.configs.key,r=t.states[n];return r!==void 0?r:(e.configs.finalize(),t.states[n]=e,e)}function dX(t){const e=new Jm,n=t.transitions.length;for(let r=0;r<n;r++){const s={state:t.transitions[r].target,alt:r,stack:[]};Nd(s,e)}return e}function Nd(t,e){const n=t.state;if(n.type===Ml){if(t.stack.length>0){const i=[...t.stack],a={state:i.pop(),alt:t.alt,stack:i};Nd(a,e)}else e.add(t);return}n.epsilonOnlyTransitions||e.add(t);const r=n.transitions.length;for(let i=0;i<r;i++){const s=n.transitions[i],a=pX(t,s);a!==void 0&&Nd(a,e)}}function pX(t,e){if(e instanceof XC)return{state:e.target,alt:t.alt,stack:t.stack};if(e instanceof __){const n=[...t.stack,e.followState];return{state:e.target,alt:t.alt,stack:n}}}function gX(t){for(const e of t.elements)if(e.state.type===Ml)return!0;return!1}function mX(t){for(const e of t.elements)if(e.state.type!==Ml)return!1;return!0}function yX(t){if(mX(t))return!0;const e=bX(t.elements);return vX(e)&&!_X(e)}function bX(t){const e=new Map;for(const n of t){const r=QC(n,!1);let i=e.get(r);i===void 0&&(i={},e.set(r,i)),i[n.alt]=!0}return e}function vX(t){for(const e of Array.from(t.values()))if(Object.keys(e).length>1)return!0;return!1}function _X(t){for(const e of Array.from(t.values()))if(Object.keys(e).length===1)return!0;return!1}var ey;(function(t){function e(n){return typeof n=="string"}t.is=e})(ey||(ey={}));var Sd;(function(t){function e(n){return typeof n=="string"}t.is=e})(Sd||(Sd={}));var ty;(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647;function e(n){return typeof n=="number"&&t.MIN_VALUE<=n&&n<=t.MAX_VALUE}t.is=e})(ty||(ty={}));var Xc;(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647;function e(n){return typeof n=="number"&&t.MIN_VALUE<=n&&n<=t.MAX_VALUE}t.is=e})(Xc||(Xc={}));var yt;(function(t){function e(r,i){return r===Number.MAX_VALUE&&(r=Xc.MAX_VALUE),i===Number.MAX_VALUE&&(i=Xc.MAX_VALUE),{line:r,character:i}}t.create=e;function n(r){let i=r;return V.objectLiteral(i)&&V.uinteger(i.line)&&V.uinteger(i.character)}t.is=n})(yt||(yt={}));var ct;(function(t){function e(r,i,s,a){if(V.uinteger(r)&&V.uinteger(i)&&V.uinteger(s)&&V.uinteger(a))return{start:yt.create(r,i),end:yt.create(s,a)};if(yt.is(r)&&yt.is(i))return{start:r,end:i};throw new Error(`Range#create called with invalid arguments[${r}, ${i}, ${s}, ${a}]`)}t.create=e;function n(r){let i=r;return V.objectLiteral(i)&&yt.is(i.start)&&yt.is(i.end)}t.is=n})(ct||(ct={}));var jc;(function(t){function e(r,i){return{uri:r,range:i}}t.create=e;function n(r){let i=r;return V.objectLiteral(i)&&ct.is(i.range)&&(V.string(i.uri)||V.undefined(i.uri))}t.is=n})(jc||(jc={}));var ny;(function(t){function e(r,i,s,a){return{targetUri:r,targetRange:i,targetSelectionRange:s,originSelectionRange:a}}t.create=e;function n(r){let i=r;return V.objectLiteral(i)&&ct.is(i.targetRange)&&V.string(i.targetUri)&&ct.is(i.targetSelectionRange)&&(ct.is(i.originSelectionRange)||V.undefined(i.originSelectionRange))}t.is=n})(ny||(ny={}));var Rd;(function(t){function e(r,i,s,a){return{red:r,green:i,blue:s,alpha:a}}t.create=e;function n(r){const i=r;return V.objectLiteral(i)&&V.numberRange(i.red,0,1)&&V.numberRange(i.green,0,1)&&V.numberRange(i.blue,0,1)&&V.numberRange(i.alpha,0,1)}t.is=n})(Rd||(Rd={}));var ry;(function(t){function e(r,i){return{range:r,color:i}}t.create=e;function n(r){const i=r;return V.objectLiteral(i)&&ct.is(i.range)&&Rd.is(i.color)}t.is=n})(ry||(ry={}));var iy;(function(t){function e(r,i,s){return{label:r,textEdit:i,additionalTextEdits:s}}t.create=e;function n(r){const i=r;return V.objectLiteral(i)&&V.string(i.label)&&(V.undefined(i.textEdit)||Ri.is(i))&&(V.undefined(i.additionalTextEdits)||V.typedArray(i.additionalTextEdits,Ri.is))}t.is=n})(iy||(iy={}));var sy;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(sy||(sy={}));var ay;(function(t){function e(r,i,s,a,o,u){const c={startLine:r,endLine:i};return V.defined(s)&&(c.startCharacter=s),V.defined(a)&&(c.endCharacter=a),V.defined(o)&&(c.kind=o),V.defined(u)&&(c.collapsedText=u),c}t.create=e;function n(r){const i=r;return V.objectLiteral(i)&&V.uinteger(i.startLine)&&V.uinteger(i.startLine)&&(V.undefined(i.startCharacter)||V.uinteger(i.startCharacter))&&(V.undefined(i.endCharacter)||V.uinteger(i.endCharacter))&&(V.undefined(i.kind)||V.string(i.kind))}t.is=n})(ay||(ay={}));var Cd;(function(t){function e(r,i){return{location:r,message:i}}t.create=e;function n(r){let i=r;return V.defined(i)&&jc.is(i.location)&&V.string(i.message)}t.is=n})(Cd||(Cd={}));var oy;(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})(oy||(oy={}));var uy;(function(t){t.Unnecessary=1,t.Deprecated=2})(uy||(uy={}));var cy;(function(t){function e(n){const r=n;return V.objectLiteral(r)&&V.string(r.href)}t.is=e})(cy||(cy={}));var Kc;(function(t){function e(r,i,s,a,o,u){let c={range:r,message:i};return V.defined(s)&&(c.severity=s),V.defined(a)&&(c.code=a),V.defined(o)&&(c.source=o),V.defined(u)&&(c.relatedInformation=u),c}t.create=e;function n(r){var i;let s=r;return V.defined(s)&&ct.is(s.range)&&V.string(s.message)&&(V.number(s.severity)||V.undefined(s.severity))&&(V.integer(s.code)||V.string(s.code)||V.undefined(s.code))&&(V.undefined(s.codeDescription)||V.string((i=s.codeDescription)===null||i===void 0?void 0:i.href))&&(V.string(s.source)||V.undefined(s.source))&&(V.undefined(s.relatedInformation)||V.typedArray(s.relatedInformation,Cd.is))}t.is=n})(Kc||(Kc={}));var Pa;(function(t){function e(r,i,...s){let a={title:r,command:i};return V.defined(s)&&s.length>0&&(a.arguments=s),a}t.create=e;function n(r){let i=r;return V.defined(i)&&V.string(i.title)&&V.string(i.command)}t.is=n})(Pa||(Pa={}));var Ri;(function(t){function e(s,a){return{range:s,newText:a}}t.replace=e;function n(s,a){return{range:{start:s,end:s},newText:a}}t.insert=n;function r(s){return{range:s,newText:""}}t.del=r;function i(s){const a=s;return V.objectLiteral(a)&&V.string(a.newText)&&ct.is(a.range)}t.is=i})(Ri||(Ri={}));var Ea;(function(t){function e(r,i,s){const a={label:r};return i!==void 0&&(a.needsConfirmation=i),s!==void 0&&(a.description=s),a}t.create=e;function n(r){const i=r;return V.objectLiteral(i)&&V.string(i.label)&&(V.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(V.string(i.description)||i.description===void 0)}t.is=n})(Ea||(Ea={}));var On;(function(t){function e(n){const r=n;return V.string(r)}t.is=e})(On||(On={}));var Ji;(function(t){function e(s,a,o){return{range:s,newText:a,annotationId:o}}t.replace=e;function n(s,a,o){return{range:{start:s,end:s},newText:a,annotationId:o}}t.insert=n;function r(s,a){return{range:s,newText:"",annotationId:a}}t.del=r;function i(s){const a=s;return Ri.is(a)&&(Ea.is(a.annotationId)||On.is(a.annotationId))}t.is=i})(Ji||(Ji={}));var Zc;(function(t){function e(r,i){return{textDocument:r,edits:i}}t.create=e;function n(r){let i=r;return V.defined(i)&&Qc.is(i.textDocument)&&Array.isArray(i.edits)}t.is=n})(Zc||(Zc={}));var Vo;(function(t){function e(r,i,s){let a={kind:"create",uri:r};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}t.create=e;function n(r){let i=r;return i&&i.kind==="create"&&V.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||V.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||V.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||On.is(i.annotationId))}t.is=n})(Vo||(Vo={}));var Xo;(function(t){function e(r,i,s,a){let o={kind:"rename",oldUri:r,newUri:i};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(o.options=s),a!==void 0&&(o.annotationId=a),o}t.create=e;function n(r){let i=r;return i&&i.kind==="rename"&&V.string(i.oldUri)&&V.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||V.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||V.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||On.is(i.annotationId))}t.is=n})(Xo||(Xo={}));var jo;(function(t){function e(r,i,s){let a={kind:"delete",uri:r};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}t.create=e;function n(r){let i=r;return i&&i.kind==="delete"&&V.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||V.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||V.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||On.is(i.annotationId))}t.is=n})(jo||(jo={}));var Md;(function(t){function e(n){let r=n;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(i=>V.string(i.kind)?Vo.is(i)||Xo.is(i)||jo.is(i):Zc.is(i)))}t.is=e})(Md||(Md={}));class xh{constructor(e,n){this.edits=e,this.changeAnnotations=n}insert(e,n,r){let i,s;if(r===void 0?i=Ri.insert(e,n):On.is(r)?(s=r,i=Ji.insert(e,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(r),i=Ji.insert(e,n,s)),this.edits.push(i),s!==void 0)return s}replace(e,n,r){let i,s;if(r===void 0?i=Ri.replace(e,n):On.is(r)?(s=r,i=Ji.replace(e,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(r),i=Ji.replace(e,n,s)),this.edits.push(i),s!==void 0)return s}delete(e,n){let r,i;if(n===void 0?r=Ri.del(e):On.is(n)?(i=n,r=Ji.del(e,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=Ji.del(e,i)),this.edits.push(r),i!==void 0)return i}add(e){this.edits.push(e)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(e){if(e===void 0)throw new Error("Text edit change is not configured to manage change annotations.")}}class xx{constructor(e){this._annotations=e===void 0?Object.create(null):e,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(e,n){let r;if(On.is(e)?r=e:(r=this.nextId(),n=e),this._annotations[r]!==void 0)throw new Error(`Id ${r} is already in use.`);if(n===void 0)throw new Error(`No annotation provided for id ${r}`);return this._annotations[r]=n,this._size++,r}nextId(){return this._counter++,this._counter.toString()}}class EX{constructor(e){this._textEditChanges=Object.create(null),e!==void 0?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new xx(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach(n=>{if(Zc.is(n)){const r=new xh(n.edits,this._changeAnnotations);this._textEditChanges[n.textDocument.uri]=r}})):e.changes&&Object.keys(e.changes).forEach(n=>{const r=new xh(e.changes[n]);this._textEditChanges[n]=r})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(e){if(Qc.is(e)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");const n={uri:e.uri,version:e.version};let r=this._textEditChanges[n.uri];if(!r){const i=[],s={textDocument:n,edits:i};this._workspaceEdit.documentChanges.push(s),r=new xh(i,this._changeAnnotations),this._textEditChanges[n.uri]=r}return r}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");let n=this._textEditChanges[e];if(!n){let r=[];this._workspaceEdit.changes[e]=r,n=new xh(r),this._textEditChanges[e]=n}return n}}initDocumentChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new xx,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))}createFile(e,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;Ea.is(n)||On.is(n)?i=n:r=n;let s,a;if(i===void 0?s=Vo.create(e,r):(a=On.is(i)?i:this._changeAnnotations.manage(i),s=Vo.create(e,r,a)),this._workspaceEdit.documentChanges.push(s),a!==void 0)return a}renameFile(e,n,r,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let s;Ea.is(r)||On.is(r)?s=r:i=r;let a,o;if(s===void 0?a=Xo.create(e,n,i):(o=On.is(s)?s:this._changeAnnotations.manage(s),a=Xo.create(e,n,i,o)),this._workspaceEdit.documentChanges.push(a),o!==void 0)return o}deleteFile(e,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;Ea.is(n)||On.is(n)?i=n:r=n;let s,a;if(i===void 0?s=jo.create(e,r):(a=On.is(i)?i:this._changeAnnotations.manage(i),s=jo.create(e,r,a)),this._workspaceEdit.documentChanges.push(s),a!==void 0)return a}}var ly;(function(t){function e(r){return{uri:r}}t.create=e;function n(r){let i=r;return V.defined(i)&&V.string(i.uri)}t.is=n})(ly||(ly={}));var hy;(function(t){function e(r,i){return{uri:r,version:i}}t.create=e;function n(r){let i=r;return V.defined(i)&&V.string(i.uri)&&V.integer(i.version)}t.is=n})(hy||(hy={}));var Qc;(function(t){function e(r,i){return{uri:r,version:i}}t.create=e;function n(r){let i=r;return V.defined(i)&&V.string(i.uri)&&(i.version===null||V.integer(i.version))}t.is=n})(Qc||(Qc={}));var fy;(function(t){function e(r,i,s,a){return{uri:r,languageId:i,version:s,text:a}}t.create=e;function n(r){let i=r;return V.defined(i)&&V.string(i.uri)&&V.string(i.languageId)&&V.integer(i.version)&&V.string(i.text)}t.is=n})(fy||(fy={}));var Od;(function(t){t.PlainText="plaintext",t.Markdown="markdown";function e(n){const r=n;return r===t.PlainText||r===t.Markdown}t.is=e})(Od||(Od={}));var Ko;(function(t){function e(n){const r=n;return V.objectLiteral(n)&&Od.is(r.kind)&&V.string(r.value)}t.is=e})(Ko||(Ko={}));var dy;(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(dy||(dy={}));var py;(function(t){t.PlainText=1,t.Snippet=2})(py||(py={}));var gy;(function(t){t.Deprecated=1})(gy||(gy={}));var my;(function(t){function e(r,i,s){return{newText:r,insert:i,replace:s}}t.create=e;function n(r){const i=r;return i&&V.string(i.newText)&&ct.is(i.insert)&&ct.is(i.replace)}t.is=n})(my||(my={}));var yy;(function(t){t.asIs=1,t.adjustIndentation=2})(yy||(yy={}));var by;(function(t){function e(n){const r=n;return r&&(V.string(r.detail)||r.detail===void 0)&&(V.string(r.description)||r.description===void 0)}t.is=e})(by||(by={}));var vy;(function(t){function e(n){return{label:n}}t.create=e})(vy||(vy={}));var _y;(function(t){function e(n,r){return{items:n||[],isIncomplete:!!r}}t.create=e})(_y||(_y={}));var Jc;(function(t){function e(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}t.fromPlainText=e;function n(r){const i=r;return V.string(i)||V.objectLiteral(i)&&V.string(i.language)&&V.string(i.value)}t.is=n})(Jc||(Jc={}));var Ey;(function(t){function e(n){let r=n;return!!r&&V.objectLiteral(r)&&(Ko.is(r.contents)||Jc.is(r.contents)||V.typedArray(r.contents,Jc.is))&&(n.range===void 0||ct.is(n.range))}t.is=e})(Ey||(Ey={}));var wy;(function(t){function e(n,r){return r?{label:n,documentation:r}:{label:n}}t.create=e})(wy||(wy={}));var xy;(function(t){function e(n,r,...i){let s={label:n};return V.defined(r)&&(s.documentation=r),V.defined(i)?s.parameters=i:s.parameters=[],s}t.create=e})(xy||(xy={}));var Ty;(function(t){t.Text=1,t.Read=2,t.Write=3})(Ty||(Ty={}));var ky;(function(t){function e(n,r){let i={range:n};return V.number(r)&&(i.kind=r),i}t.create=e})(ky||(ky={}));var Ay;(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})(Ay||(Ay={}));var Ny;(function(t){t.Deprecated=1})(Ny||(Ny={}));var Sy;(function(t){function e(n,r,i,s,a){let o={name:n,kind:r,location:{uri:s,range:i}};return a&&(o.containerName=a),o}t.create=e})(Sy||(Sy={}));var Ry;(function(t){function e(n,r,i,s){return s!==void 0?{name:n,kind:r,location:{uri:i,range:s}}:{name:n,kind:r,location:{uri:i}}}t.create=e})(Ry||(Ry={}));var Cy;(function(t){function e(r,i,s,a,o,u){let c={name:r,detail:i,kind:s,range:a,selectionRange:o};return u!==void 0&&(c.children=u),c}t.create=e;function n(r){let i=r;return i&&V.string(i.name)&&V.number(i.kind)&&ct.is(i.range)&&ct.is(i.selectionRange)&&(i.detail===void 0||V.string(i.detail))&&(i.deprecated===void 0||V.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}t.is=n})(Cy||(Cy={}));var My;(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"})(My||(My={}));var el;(function(t){t.Invoked=1,t.Automatic=2})(el||(el={}));var Oy;(function(t){function e(r,i,s){let a={diagnostics:r};return i!=null&&(a.only=i),s!=null&&(a.triggerKind=s),a}t.create=e;function n(r){let i=r;return V.defined(i)&&V.typedArray(i.diagnostics,Kc.is)&&(i.only===void 0||V.typedArray(i.only,V.string))&&(i.triggerKind===void 0||i.triggerKind===el.Invoked||i.triggerKind===el.Automatic)}t.is=n})(Oy||(Oy={}));var Iy;(function(t){function e(r,i,s){let a={title:r},o=!0;return typeof i=="string"?(o=!1,a.kind=i):Pa.is(i)?a.command=i:a.edit=i,o&&s!==void 0&&(a.kind=s),a}t.create=e;function n(r){let i=r;return i&&V.string(i.title)&&(i.diagnostics===void 0||V.typedArray(i.diagnostics,Kc.is))&&(i.kind===void 0||V.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||Pa.is(i.command))&&(i.isPreferred===void 0||V.boolean(i.isPreferred))&&(i.edit===void 0||Md.is(i.edit))}t.is=n})(Iy||(Iy={}));var Dy;(function(t){function e(r,i){let s={range:r};return V.defined(i)&&(s.data=i),s}t.create=e;function n(r){let i=r;return V.defined(i)&&ct.is(i.range)&&(V.undefined(i.command)||Pa.is(i.command))}t.is=n})(Dy||(Dy={}));var Ly;(function(t){function e(r,i){return{tabSize:r,insertSpaces:i}}t.create=e;function n(r){let i=r;return V.defined(i)&&V.uinteger(i.tabSize)&&V.boolean(i.insertSpaces)}t.is=n})(Ly||(Ly={}));var Py;(function(t){function e(r,i,s){return{range:r,target:i,data:s}}t.create=e;function n(r){let i=r;return V.defined(i)&&ct.is(i.range)&&(V.undefined(i.target)||V.string(i.target))}t.is=n})(Py||(Py={}));var Fy;(function(t){function e(r,i){return{range:r,parent:i}}t.create=e;function n(r){let i=r;return V.objectLiteral(i)&&ct.is(i.range)&&(i.parent===void 0||t.is(i.parent))}t.is=n})(Fy||(Fy={}));var $y;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator",t.decorator="decorator"})($y||($y={}));var Uy;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(Uy||(Uy={}));var By;(function(t){function e(n){const r=n;return V.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(By||(By={}));var Gy;(function(t){function e(r,i){return{range:r,text:i}}t.create=e;function n(r){const i=r;return i!=null&&ct.is(i.range)&&V.string(i.text)}t.is=n})(Gy||(Gy={}));var zy;(function(t){function e(r,i,s){return{range:r,variableName:i,caseSensitiveLookup:s}}t.create=e;function n(r){const i=r;return i!=null&&ct.is(i.range)&&V.boolean(i.caseSensitiveLookup)&&(V.string(i.variableName)||i.variableName===void 0)}t.is=n})(zy||(zy={}));var qy;(function(t){function e(r,i){return{range:r,expression:i}}t.create=e;function n(r){const i=r;return i!=null&&ct.is(i.range)&&(V.string(i.expression)||i.expression===void 0)}t.is=n})(qy||(qy={}));var Hy;(function(t){function e(r,i){return{frameId:r,stoppedLocation:i}}t.create=e;function n(r){const i=r;return V.defined(i)&&ct.is(r.stoppedLocation)}t.is=n})(Hy||(Hy={}));var Id;(function(t){t.Type=1,t.Parameter=2;function e(n){return n===1||n===2}t.is=e})(Id||(Id={}));var Dd;(function(t){function e(r){return{value:r}}t.create=e;function n(r){const i=r;return V.objectLiteral(i)&&(i.tooltip===void 0||V.string(i.tooltip)||Ko.is(i.tooltip))&&(i.location===void 0||jc.is(i.location))&&(i.command===void 0||Pa.is(i.command))}t.is=n})(Dd||(Dd={}));var Wy;(function(t){function e(r,i,s){const a={position:r,label:i};return s!==void 0&&(a.kind=s),a}t.create=e;function n(r){const i=r;return V.objectLiteral(i)&&yt.is(i.position)&&(V.string(i.label)||V.typedArray(i.label,Dd.is))&&(i.kind===void 0||Id.is(i.kind))&&i.textEdits===void 0||V.typedArray(i.textEdits,Ri.is)&&(i.tooltip===void 0||V.string(i.tooltip)||Ko.is(i.tooltip))&&(i.paddingLeft===void 0||V.boolean(i.paddingLeft))&&(i.paddingRight===void 0||V.boolean(i.paddingRight))}t.is=n})(Wy||(Wy={}));var Yy;(function(t){function e(n){return{kind:"snippet",value:n}}t.createSnippet=e})(Yy||(Yy={}));var Vy;(function(t){function e(n,r,i,s){return{insertText:n,filterText:r,range:i,command:s}}t.create=e})(Vy||(Vy={}));var Xy;(function(t){function e(n){return{items:n}}t.create=e})(Xy||(Xy={}));var jy;(function(t){t.Invoked=0,t.Automatic=1})(jy||(jy={}));var Ky;(function(t){function e(n,r){return{range:n,text:r}}t.create=e})(Ky||(Ky={}));var Zy;(function(t){function e(n,r){return{triggerKind:n,selectedCompletionInfo:r}}t.create=e})(Zy||(Zy={}));var Qy;(function(t){function e(n){const r=n;return V.objectLiteral(r)&&Sd.is(r.uri)&&V.string(r.name)}t.is=e})(Qy||(Qy={}));const wX=[`
`,`\r
`,"\r"];var Jy;(function(t){function e(s,a,o,u){return new xX(s,a,o,u)}t.create=e;function n(s){let a=s;return!!(V.defined(a)&&V.string(a.uri)&&(V.undefined(a.languageId)||V.string(a.languageId))&&V.uinteger(a.lineCount)&&V.func(a.getText)&&V.func(a.positionAt)&&V.func(a.offsetAt))}t.is=n;function r(s,a){let o=s.getText(),u=i(a,(l,h)=>{let d=l.range.start.line-h.range.start.line;return d===0?l.range.start.character-h.range.start.character:d}),c=o.length;for(let l=u.length-1;l>=0;l--){let h=u[l],d=s.offsetAt(h.range.start),f=s.offsetAt(h.range.end);if(f<=c)o=o.substring(0,d)+h.newText+o.substring(f,o.length);else throw new Error("Overlapping edit");c=d}return o}t.applyEdits=r;function i(s,a){if(s.length<=1)return s;const o=s.length/2|0,u=s.slice(0,o),c=s.slice(o);i(u,a),i(c,a);let l=0,h=0,d=0;for(;l<u.length&&h<c.length;)a(u[l],c[h])<=0?s[d++]=u[l++]:s[d++]=c[h++];for(;l<u.length;)s[d++]=u[l++];for(;h<c.length;)s[d++]=c[h++];return s}})(Jy||(Jy={}));let xX=class{constructor(e,n,r,i){this._uri=e,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let n=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(n,r)}return this._content}update(e,n){this._content=e.text,this._version=n,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],n=this._content,r=!0;for(let i=0;i<n.length;i++){r&&(e.push(i),r=!1);let s=n.charAt(i);r=s==="\r"||s===`
`,s==="\r"&&i+1<n.length&&n.charAt(i+1)===`
`&&i++}r&&n.length>0&&e.push(n.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let n=this.getLineOffsets(),r=0,i=n.length;if(i===0)return yt.create(0,e);for(;r<i;){let a=Math.floor((r+i)/2);n[a]>e?i=a:r=a+1}let s=r-1;return yt.create(s,e-n[s])}offsetAt(e){let n=this.getLineOffsets();if(e.line>=n.length)return this._content.length;if(e.line<0)return 0;let r=n[e.line],i=e.line+1<n.length?n[e.line+1]:this._content.length;return Math.max(Math.min(r+e.character,i),r)}get lineCount(){return this.getLineOffsets().length}};var V;(function(t){const e=Object.prototype.toString;function n(f){return typeof f<"u"}t.defined=n;function r(f){return typeof f>"u"}t.undefined=r;function i(f){return f===!0||f===!1}t.boolean=i;function s(f){return e.call(f)==="[object String]"}t.string=s;function a(f){return e.call(f)==="[object Number]"}t.number=a;function o(f,p,g){return e.call(f)==="[object Number]"&&p<=f&&f<=g}t.numberRange=o;function u(f){return e.call(f)==="[object Number]"&&-2147483648<=f&&f<=2147483647}t.integer=u;function c(f){return e.call(f)==="[object Number]"&&0<=f&&f<=2147483647}t.uinteger=c;function l(f){return e.call(f)==="[object Function]"}t.func=l;function h(f){return f!==null&&typeof f=="object"}t.objectLiteral=h;function d(f,p){return Array.isArray(f)&&f.every(p)}t.typedArray=d})(V||(V={}));const TX=Object.freeze(Object.defineProperty({__proto__:null,get AnnotatedTextEdit(){return Ji},get ChangeAnnotation(){return Ea},get ChangeAnnotationIdentifier(){return On},get CodeAction(){return Iy},get CodeActionContext(){return Oy},get CodeActionKind(){return My},get CodeActionTriggerKind(){return el},get CodeDescription(){return cy},get CodeLens(){return Dy},get Color(){return Rd},get ColorInformation(){return ry},get ColorPresentation(){return iy},get Command(){return Pa},get CompletionItem(){return vy},get CompletionItemKind(){return dy},get CompletionItemLabelDetails(){return by},get CompletionItemTag(){return gy},get CompletionList(){return _y},get CreateFile(){return Vo},get DeleteFile(){return jo},get Diagnostic(){return Kc},get DiagnosticRelatedInformation(){return Cd},get DiagnosticSeverity(){return oy},get DiagnosticTag(){return uy},get DocumentHighlight(){return ky},get DocumentHighlightKind(){return Ty},get DocumentLink(){return Py},get DocumentSymbol(){return Cy},get DocumentUri(){return ey},EOL:wX,get FoldingRange(){return ay},get FoldingRangeKind(){return sy},get FormattingOptions(){return Ly},get Hover(){return Ey},get InlayHint(){return Wy},get InlayHintKind(){return Id},get InlayHintLabelPart(){return Dd},get InlineCompletionContext(){return Zy},get InlineCompletionItem(){return Vy},get InlineCompletionList(){return Xy},get InlineCompletionTriggerKind(){return jy},get InlineValueContext(){return Hy},get InlineValueEvaluatableExpression(){return qy},get InlineValueText(){return Gy},get InlineValueVariableLookup(){return zy},get InsertReplaceEdit(){return my},get InsertTextFormat(){return py},get InsertTextMode(){return yy},get Location(){return jc},get LocationLink(){return ny},get MarkedString(){return Jc},get MarkupContent(){return Ko},get MarkupKind(){return Od},get OptionalVersionedTextDocumentIdentifier(){return Qc},get ParameterInformation(){return wy},get Position(){return yt},get Range(){return ct},get RenameFile(){return Xo},get SelectedCompletionInfo(){return Ky},get SelectionRange(){return Fy},get SemanticTokenModifiers(){return Uy},get SemanticTokenTypes(){return $y},get SemanticTokens(){return By},get SignatureInformation(){return xy},get StringValue(){return Yy},get SymbolInformation(){return Sy},get SymbolKind(){return Ay},get SymbolTag(){return Ny},get TextDocument(){return Jy},get TextDocumentEdit(){return Zc},get TextDocumentIdentifier(){return ly},get TextDocumentItem(){return fy},get TextEdit(){return Ri},get URI(){return Sd},get VersionedTextDocumentIdentifier(){return hy},WorkspaceChange:EX,get WorkspaceEdit(){return Md},get WorkspaceFolder(){return Qy},get WorkspaceSymbol(){return Ry},get integer(){return ty},get uinteger(){return Xc}},Symbol.toStringTag,{value:"Module"}));class kX{constructor(){this.nodeStack=[]}get current(){return this.nodeStack[this.nodeStack.length-1]??this.rootNode}buildRootNode(e){return this.rootNode=new r2(e),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(e){const n=new x_;return n.grammarSource=e,n.root=this.rootNode,this.current.content.push(n),this.nodeStack.push(n),n}buildLeafNode(e,n){const r=new eb(e.startOffset,e.image.length,zm(e),e.tokenType,!n);return r.grammarSource=n,r.root=this.rootNode,this.current.content.push(r),r}removeNode(e){const n=e.container;if(n){const r=n.content.indexOf(e);r>=0&&n.content.splice(r,1)}}addHiddenNodes(e){const n=[];for(const s of e){const a=new eb(s.startOffset,s.image.length,zm(s),s.tokenType,!0);a.root=this.rootNode,n.push(a)}let r=this.current,i=!1;if(r.content.length>0){r.content.push(...n);return}for(;r.container;){const s=r.container.content.indexOf(r);if(s>0){r.container.content.splice(s,0,...n),i=!0;break}r=r.container}i||this.rootNode.content.unshift(...n)}construct(e){const n=this.current;typeof e.$type=="string"&&!e.$infixName&&(this.current.astNode=e),e.$cstNode=n;const r=this.nodeStack.pop();(r==null?void 0:r.content.length)===0&&this.removeNode(r)}}class n2{get hidden(){return!1}get astNode(){var n,r;const e=typeof((n=this._astNode)==null?void 0:n.$type)=="string"?this._astNode:(r=this.container)==null?void 0:r.astNode;if(!e)throw new Error("This node has no associated AST element");return e}set astNode(e){this._astNode=e}get text(){return this.root.fullText.substring(this.offset,this.end)}}class eb extends n2{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(e,n,r,i,s=!1){super(),this._hidden=s,this._offset=e,this._tokenType=i,this._length=n,this._range=r}}class x_ extends n2{constructor(){super(...arguments),this.content=new T_(this)}get offset(){var e;return((e=this.firstNonHiddenNode)==null?void 0:e.offset)??0}get length(){return this.end-this.offset}get end(){var e;return((e=this.lastNonHiddenNode)==null?void 0:e.end)??0}get range(){const e=this.firstNonHiddenNode,n=this.lastNonHiddenNode;if(e&&n){if(this._rangeCache===void 0){const{range:r}=e,{range:i}=n;this._rangeCache={start:r.start,end:i.end.line<r.start.line?r.start:i.end}}return this._rangeCache}else return{start:yt.create(0,0),end:yt.create(0,0)}}get firstNonHiddenNode(){for(const e of this.content)if(!e.hidden)return e;return this.content[0]}get lastNonHiddenNode(){for(let e=this.content.length-1;e>=0;e--){const n=this.content[e];if(!n.hidden)return n}return this.content[this.content.length-1]}}class T_ extends Array{constructor(e){super(),this.parent=e,Object.setPrototypeOf(this,T_.prototype)}push(...e){return this.addParents(e),super.push(...e)}unshift(...e){return this.addParents(e),super.unshift(...e)}splice(e,n,...r){return this.addParents(r),super.splice(e,n,...r)}addParents(e){for(const n of e)n.container=this.parent}}class r2 extends x_{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(e){super(),this._text="",this._text=e??""}}const tb=Symbol("Datatype");function g0(t){return t.$type===tb}const Tx="",i2=t=>t.endsWith(Tx)?t:t+Tx;class s2{constructor(e){var i;this._unorderedGroups=new Map,this.allRules=new Map,this.lexer=e.parser.Lexer;const n=this.lexer.definition,r=e.LanguageMetaData.mode==="production";(i=e.shared.profilers.LangiumProfiler)!=null&&i.isActive("parsing")?this.wrapper=new CX(n,{...e.parser.ParserConfig,skipValidations:r,errorMessageProvider:e.parser.ParserErrorMessageProvider},e.shared.profilers.LangiumProfiler.createTask("parsing",e.LanguageMetaData.languageId)):this.wrapper=new o2(n,{...e.parser.ParserConfig,skipValidations:r,errorMessageProvider:e.parser.ParserErrorMessageProvider})}alternatives(e,n){this.wrapper.wrapOr(e,n)}optional(e,n){this.wrapper.wrapOption(e,n)}many(e,n){this.wrapper.wrapMany(e,n)}atLeastOne(e,n){this.wrapper.wrapAtLeastOne(e,n)}getRule(e){return this.allRules.get(e)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}}class AX extends s2{get current(){return this.stack[this.stack.length-1]}constructor(e){super(e),this.nodeBuilder=new kX,this.stack=[],this.assignmentMap=new Map,this.operatorPrecedence=new Map,this.linker=e.references.Linker,this.converter=e.parser.ValueConverter,this.astReflection=e.shared.AstReflection}rule(e,n){const r=this.computeRuleType(e);let i;gd(e)&&(i=e.name,this.registerPrecedenceMap(e));const s=this.wrapper.DEFINE_RULE(i2(e.name),this.startImplementation(r,i,n).bind(this));return this.allRules.set(e.name,s),ps(e)&&e.entry&&(this.mainRule=s),s}registerPrecedenceMap(e){const n=e.name,r=new Map;for(let i=0;i<e.operators.precedences.length;i++){const s=e.operators.precedences[i];for(const a of s.operators)r.set(a.value,{precedence:i,rightAssoc:s.associativity==="right"})}this.operatorPrecedence.set(n,r)}computeRuleType(e){return gd(e)?Vc(e):e.fragment?void 0:cC(e)?tb:Vc(e)}parse(e,n={}){this.nodeBuilder.buildRootNode(e);const r=this.lexerResult=this.lexer.tokenize(e);this.wrapper.input=r.tokens;const i=n.rule?this.allRules.get(n.rule):this.mainRule;if(!i)throw new Error(n.rule?`No rule found with name '${n.rule}'`:"No main rule available.");const s=this.doParse(i);return this.nodeBuilder.addHiddenNodes(r.hidden),this.unorderedGroups.clear(),this.lexerResult=void 0,Dm(s,{deep:!0}),{value:s,lexerErrors:r.errors,lexerReport:r.report,parserErrors:this.wrapper.errors}}doParse(e){let n=this.wrapper.rule(e);if(this.stack.length>0&&(n=this.construct()),n===void 0)throw new Error("No result from parser");if(this.stack.length>0)throw new Error("Parser stack is not empty after parsing");return n}startImplementation(e,n,r){return i=>{const s=!this.isRecording()&&e!==void 0;if(s){const a={$type:e};this.stack.push(a),e===tb?a.value="":n!==void 0&&(a.$infixName=n)}return r(i),s?this.construct():void 0}}extractHiddenTokens(e){const n=this.lexerResult.hidden;if(!n.length)return[];const r=e.startOffset;for(let i=0;i<n.length;i++)if(n[i].startOffset>r)return n.splice(0,i);return n.splice(0,n.length)}consume(e,n,r){const i=this.wrapper.wrapConsume(e,n);if(!this.isRecording()&&this.isValidToken(i)){const s=this.extractHiddenTokens(i);this.nodeBuilder.addHiddenNodes(s);const a=this.nodeBuilder.buildLeafNode(i,r),{assignment:o,crossRef:u}=this.getAssignment(r),c=this.current;if(o){const l=Ia(r)?i.image:this.converter.convert(i.image,a);this.assign(o.operator,o.feature,l,a,u)}else if(g0(c)){let l=i.image;Ia(r)||(l=this.converter.convert(l,a).toString()),c.value+=l}}}isValidToken(e){return!e.isInsertedInRecovery&&!isNaN(e.startOffset)&&typeof e.endOffset=="number"&&!isNaN(e.endOffset)}subrule(e,n,r,i,s){let a;!this.isRecording()&&!r&&(a=this.nodeBuilder.buildCompositeNode(i));let o;try{o=this.wrapper.wrapSubrule(e,n,s)}finally{this.isRecording()||(o===void 0&&!r&&(o=this.construct()),o!==void 0&&a&&a.length>0&&this.performSubruleAssignment(o,i,a))}}performSubruleAssignment(e,n,r){const{assignment:i,crossRef:s}=this.getAssignment(n);if(i)this.assign(i.operator,i.feature,e,r,s);else if(!i){const a=this.current;if(g0(a))a.value+=e.toString();else if(typeof e=="object"&&e){const u=this.assignWithoutOverride(e,a);this.stack.pop(),this.stack.push(u)}}}action(e,n){if(!this.isRecording()){let r=this.current;if(n.feature&&n.operator){r=this.construct(),this.nodeBuilder.removeNode(r.$cstNode),this.nodeBuilder.buildCompositeNode(n).content.push(r.$cstNode);const s={$type:e};this.stack.push(s),this.assign(n.operator,n.feature,r,r.$cstNode)}else r.$type=e}}construct(){if(this.isRecording())return;const e=this.stack.pop();return this.nodeBuilder.construct(e),"$infixName"in e?this.constructInfix(e,this.operatorPrecedence.get(e.$infixName)):g0(e)?this.converter.convert(e.value,e.$cstNode):(IH(this.astReflection,e),e)}constructInfix(e,n){const r=e.parts;if(!Array.isArray(r)||r.length===0)return;const i=e.operators;if(!Array.isArray(i)||r.length<2)return r[0];let s=0,a=-1;for(let g=0;g<i.length;g++){const m=i[g],y=n.get(m)??{precedence:1/0,rightAssoc:!1};y.precedence>a?(a=y.precedence,s=g):y.precedence===a&&(y.rightAssoc||(s=g))}const o=i.slice(0,s),u=i.slice(s+1),c=r.slice(0,s+1),l=r.slice(s+1),h={$infixName:e.$infixName,$type:e.$type,$cstNode:e.$cstNode,parts:c,operators:o},d={$infixName:e.$infixName,$type:e.$type,$cstNode:e.$cstNode,parts:l,operators:u},f=this.constructInfix(h,n),p=this.constructInfix(d,n);return{$type:e.$type,$cstNode:e.$cstNode,left:f,operator:i[s],right:p}}getAssignment(e){if(!this.assignmentMap.has(e)){const n=Ip(e,Oa);this.assignmentMap.set(e,{assignment:n,crossRef:n&&Lp(n.terminal)?n.terminal.isMulti?"multi":"single":void 0})}return this.assignmentMap.get(e)}assign(e,n,r,i,s){const a=this.current;let o;switch(s==="single"&&typeof r=="string"?o=this.linker.buildReference(a,n,i,r):s==="multi"&&typeof r=="string"?o=this.linker.buildMultiReference(a,n,i,r):o=r,e){case"=":{a[n]=o;break}case"?=":{a[n]=!0;break}case"+=":Array.isArray(a[n])||(a[n]=[]),a[n].push(o)}}assignWithoutOverride(e,n){for(const[i,s]of Object.entries(n)){const a=e[i];a===void 0?e[i]=s:Array.isArray(a)&&Array.isArray(s)&&(s.push(...a),e[i]=s)}const r=e.$cstNode;return r&&(r.astNode=void 0,e.$cstNode=void 0),e}get definitionErrors(){return this.wrapper.definitionErrors}}class NX{buildMismatchTokenMessage(e){return Eo.buildMismatchTokenMessage(e)}buildNotAllInputParsedMessage(e){return Eo.buildNotAllInputParsedMessage(e)}buildNoViableAltMessage(e){return Eo.buildNoViableAltMessage(e)}buildEarlyExitMessage(e){return Eo.buildEarlyExitMessage(e)}}class a2 extends NX{buildMismatchTokenMessage({expected:e,actual:n}){return`Expecting ${e.LABEL?"`"+e.LABEL+"`":e.name.endsWith(":KW")?`keyword '${e.name.substring(0,e.name.length-3)}'`:`token of type '${e.name}'`} but found \`${n.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:e}){return`Expecting end of file but found \`${e.image}\`.`}}class SX extends s2{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(e){this.resetState();const n=this.lexer.tokenize(e,{mode:"partial"});return this.tokens=n.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(e,n){const r=this.wrapper.DEFINE_RULE(i2(e.name),this.startImplementation(n).bind(this));return this.allRules.set(e.name,r),e.entry&&(this.mainRule=r),r}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(e){return n=>{const r=this.keepStackSize();try{e(n)}finally{this.resetStackSize(r)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){const e=this.elementStack.length;return this.stackSize=e,e}resetStackSize(e){this.removeUnexpectedElements(),this.stackSize=e}consume(e,n,r){this.wrapper.wrapConsume(e,n),this.isRecording()||(this.lastElementStack=[...this.elementStack,r],this.nextTokenIndex=this.currIdx+1)}subrule(e,n,r,i,s){this.before(i),this.wrapper.wrapSubrule(e,n,s),this.after(i)}before(e){this.isRecording()||this.elementStack.push(e)}after(e){if(!this.isRecording()){const n=this.elementStack.lastIndexOf(e);n>=0&&this.elementStack.splice(n)}}get currIdx(){return this.wrapper.currIdx}}const RX={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new a2};class o2 extends DV{constructor(e,n){const r=n&&"maxLookahead"in n;super(e,{...RX,lookaheadStrategy:r?new y_({maxLookahead:n.maxLookahead}):new tX({logging:n.skipValidations?()=>{}:void 0}),...n})}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(e,n,r){return this.RULE(e,n,r)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(e,n){return this.consume(e,n,void 0)}wrapSubrule(e,n,r){return this.subrule(e,n,{ARGS:[r]})}wrapOr(e,n){this.or(e,n)}wrapOption(e,n){this.option(e,n)}wrapMany(e,n){this.many(e,n)}wrapAtLeastOne(e,n){this.atLeastOne(e,n)}rule(e){return e.call(this,{})}}class CX extends o2{constructor(e,n,r){super(e,n),this.task=r}rule(e){this.task.start(),this.task.startSubTask(this.ruleName(e));try{return super.rule(e)}finally{this.task.stopSubTask(this.ruleName(e)),this.task.stop()}}ruleName(e){return e.ruleName}subrule(e,n,r){this.task.startSubTask(this.ruleName(n));try{return super.subrule(e,n,r)}finally{this.task.stopSubTask(this.ruleName(n))}}}function u2(t,e,n){return MX({parser:e,tokens:n,ruleNames:new Map},t),e}function MX(t,e){const n=iC(e,!1),r=Gt(e.rules).filter(ps).filter(s=>n.has(s));for(const s of r){const a={...t,consume:1,optional:1,subrule:1,many:1,or:1};t.parser.rule(s,Fa(a,s.definition))}const i=Gt(e.rules).filter(gd).filter(s=>n.has(s));for(const s of i)t.parser.rule(s,OX(t,s))}function OX(t,e){const n=e.call.rule.ref;if(!n)throw new Error("Could not resolve reference to infix operator rule: "+e.call.rule.$refText);if(gs(n))throw new Error("Cannot use terminal rule in infix expression");const r=e.operators.precedences.flatMap(f=>f.operators),i={$type:"Group",elements:[]},s={$container:i,$type:"Assignment",feature:"parts",operator:"+=",terminal:e.call},a={$container:i,$type:"Group",elements:[],cardinality:"*"};i.elements.push(s,a);const u={$container:a,$type:"Assignment",feature:"operators",operator:"+=",terminal:{$type:"Alternatives",elements:r}},c={...s,$container:a};a.elements.push(u,c);const h=r.map(f=>t.tokens[f.value]).map((f,p)=>({ALT:()=>t.parser.consume(p,f,u)}));let d;return f=>{d??(d=k_(t,n)),t.parser.subrule(0,d,!1,s,f),t.parser.many(0,{DEF:()=>{t.parser.alternatives(0,h),t.parser.subrule(1,d,!1,c,f)}})}}function Fa(t,e,n=!1){let r;if(Ia(e))r=UX(t,e);else if(Dp(e))r=IX(t,e);else if(Oa(e))r=Fa(t,e.terminal);else if(Lp(e))r=c2(t,e);else if(Da(e))r=DX(t,e);else if(ZR(e))r=PX(t,e);else if(JR(e))r=FX(t,e);else if(c_(e))r=$X(t,e);else if(UH(e)){const i=t.consume++;r=()=>t.parser.consume(i,Ls,e)}else throw new tC(e.$cstNode,`Unexpected element type: ${e.$type}`);return l2(t,n?void 0:Ld(e),r,e.cardinality)}function IX(t,e){const n=Vc(e);return()=>t.parser.action(n,e)}function DX(t,e){const n=e.rule.ref;if(kl(n)){const r=t.subrule++,i=ps(n)&&n.fragment,s=e.arguments.length>0?LX(n,e.arguments):()=>({});let a;return o=>{a??(a=k_(t,n)),t.parser.subrule(r,a,i,e,s(o))}}else if(gs(n)){const r=t.consume++,i=nb(t,n.name);return()=>t.parser.consume(r,i,e)}else if(n)Al();else throw new tC(e.$cstNode,`Undefined rule: ${e.rule.$refText}`)}function LX(t,e){if(e.some(r=>r.calledByName)){const r=e.map(i=>{var s,a;return{parameterName:(a=(s=i.parameter)==null?void 0:s.ref)==null?void 0:a.name,predicate:xi(i.value)}});return i=>{const s={};for(const{parameterName:a,predicate:o}of r)a&&(s[a]=o(i));return s}}else{const r=e.map(i=>xi(i.value));return i=>{const s={};for(let a=0;a<r.length;a++)if(a<t.parameters.length){const o=t.parameters[a].name,u=r[a];s[o]=u(i)}return s}}}function xi(t){if($H(t)){const e=xi(t.left),n=xi(t.right);return r=>e(r)||n(r)}else if(FH(t)){const e=xi(t.left),n=xi(t.right);return r=>e(r)&&n(r)}else if(zH(t)){const e=xi(t.value);return n=>!e(n)}else if(qH(t)){const e=t.parameter.ref.name;return n=>n!==void 0&&n[e]===!0}else if(LH(t)){const e=!!t.true;return()=>e}Al()}function PX(t,e){if(e.elements.length===1)return Fa(t,e.elements[0]);{const n=[];for(const i of e.elements){const s={ALT:Fa(t,i,!0)},a=Ld(i);a&&(s.GATE=xi(a)),n.push(s)}const r=t.or++;return i=>t.parser.alternatives(r,n.map(s=>{const a={ALT:()=>s.ALT(i)},o=s.GATE;return o&&(a.GATE=()=>o(i)),a}))}}function FX(t,e){if(e.elements.length===1)return Fa(t,e.elements[0]);const n=[];for(const o of e.elements){const u={ALT:Fa(t,o,!0)},c=Ld(o);c&&(u.GATE=xi(c)),n.push(u)}const r=t.or++,i=(o,u)=>{const c=u.getRuleStack().join("-");return`uGroup_${o}_${c}`},s=o=>t.parser.alternatives(r,n.map((u,c)=>{const l={ALT:()=>!0},h=t.parser;l.ALT=()=>{if(u.ALT(o),!h.isRecording()){const f=i(r,h);h.unorderedGroups.get(f)||h.unorderedGroups.set(f,[]);const p=h.unorderedGroups.get(f);typeof(p==null?void 0:p[c])>"u"&&(p[c]=!0)}};const d=u.GATE;return d?l.GATE=()=>d(o):l.GATE=()=>{const f=h.unorderedGroups.get(i(r,h));return!(f!=null&&f[c])},l})),a=l2(t,Ld(e),s,"*");return o=>{a(o),t.parser.isRecording()||t.parser.unorderedGroups.delete(i(r,t.parser))}}function $X(t,e){const n=e.elements.map(r=>Fa(t,r));return r=>n.forEach(i=>i(r))}function Ld(t){if(c_(t))return t.guardCondition}function c2(t,e,n=e.terminal){if(n)if(Da(n)&&ps(n.rule.ref)){const r=n.rule.ref,i=t.subrule++;let s;return a=>{s??(s=k_(t,r)),t.parser.subrule(i,s,!1,e,a)}}else if(Da(n)&&gs(n.rule.ref)){const r=t.consume++,i=nb(t,n.rule.ref.name);return()=>t.parser.consume(r,i,e)}else if(Ia(n)){const r=t.consume++,i=nb(t,n.value);return()=>t.parser.consume(r,i,e)}else throw new Error("Could not build cross reference parser");else{if(!e.type.ref)throw new Error("Could not resolve reference to type: "+e.type.$refText);const r=oC(e.type.ref),i=r==null?void 0:r.terminal;if(!i)throw new Error("Could not find name assignment for type: "+Vc(e.type.ref));return c2(t,e,i)}}function UX(t,e){const n=t.consume++,r=t.tokens[e.value];if(!r)throw new Error("Could not find token for keyword: "+e.value);return()=>t.parser.consume(n,r,e)}function l2(t,e,n,r){const i=e&&xi(e);if(!r)if(i){const s=t.or++;return a=>t.parser.alternatives(s,[{ALT:()=>n(a),GATE:()=>i(a)},{ALT:vx(),GATE:()=>!i(a)}])}else return n;if(r==="*"){const s=t.many++;return a=>t.parser.many(s,{DEF:()=>n(a),GATE:i?()=>i(a):void 0})}else if(r==="+"){const s=t.many++;if(i){const a=t.or++;return o=>t.parser.alternatives(a,[{ALT:()=>t.parser.atLeastOne(s,{DEF:()=>n(o)}),GATE:()=>i(o)},{ALT:vx(),GATE:()=>!i(o)}])}else return a=>t.parser.atLeastOne(s,{DEF:()=>n(a)})}else if(r==="?"){const s=t.optional++;return a=>t.parser.optional(s,{DEF:()=>n(a),GATE:i?()=>i(a):void 0})}else Al()}function k_(t,e){const n=BX(t,e),r=t.parser.getRule(n);if(!r)throw new Error(`Rule "${n}" not found."`);return r}function BX(t,e){if(kl(e))return e.name;if(t.ruleNames.has(e))return t.ruleNames.get(e);{let n=e,r=n.$container,i=e.$type;for(;!ps(r);)(c_(r)||ZR(r)||JR(r))&&(i=r.elements.indexOf(n).toString()+":"+i),n=r,r=r.$container;return i=r.name+":"+i,t.ruleNames.set(e,i),i}}function nb(t,e){const n=t.tokens[e];if(!n)throw new Error(`Token "${e}" not found."`);return n}function GX(t){const e=t.Grammar,n=t.parser.Lexer,r=new SX(t);return u2(e,r,n.definition),r.finalize(),r}function zX(t){const e=qX(t);return e.finalize(),e}function qX(t){const e=t.Grammar,n=t.parser.Lexer,r=new AX(t);return u2(e,r,n.definition)}class HX{constructor(){this.diagnostics=[]}buildTokens(e,n){const r=Gt(iC(e,!1)),i=this.buildTerminalTokens(r),s=this.buildKeywordTokens(r,i,n);return s.push(...i),s}flushLexingReport(e){return{diagnostics:this.popDiagnostics()}}popDiagnostics(){const e=[...this.diagnostics];return this.diagnostics=[],e}buildTerminalTokens(e){return e.filter(gs).filter(n=>!n.fragment).map(n=>this.buildTerminalToken(n)).toArray()}buildTerminalToken(e){const n=h_(e),r=this.requiresCustomPattern(n)?this.regexPatternFunction(n):n,i={name:e.name,PATTERN:r};return typeof r=="function"&&(i.LINE_BREAKS=!0),e.hidden&&(i.GROUP=rC(n)?cr.SKIPPED:"hidden"),i}requiresCustomPattern(e){return!!(e.flags.includes("u")||e.flags.includes("s"))}regexPatternFunction(e){const n=new RegExp(e,e.flags+"y");return(r,i)=>(n.lastIndex=i,n.exec(r))}buildKeywordTokens(e,n,r){return e.filter(kl).flatMap(i=>Tl(i).filter(Ia)).distinct(i=>i.value).toArray().sort((i,s)=>s.value.length-i.value.length).map(i=>this.buildKeywordToken(i,n,!!(r!=null&&r.caseInsensitive)))}buildKeywordToken(e,n,r){const i=this.buildKeywordPattern(e,r),s={name:e.value,PATTERN:i,LONGER_ALT:this.findLongerAlt(e,n)};return typeof i=="function"&&(s.LINE_BREAKS=!0),s}buildKeywordPattern(e,n){return n?new RegExp(Fp(e.value),"i"):e.value}findLongerAlt(e,n){return n.reduce((r,i)=>{const s=i==null?void 0:i.PATTERN;return s!=null&&s.source&&dW("^"+s.source+"$",e.value)&&r.push(i),r},[])}}class WX{convert(e,n){let r=n.grammarSource;if(Lp(r)&&(r=yW(r)),Da(r)){const i=r.rule.ref;if(!i)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(i,e,n)}return e}runConverter(e,n,r){var i;switch(e.name.toUpperCase()){case"INT":return Zi.convertInt(n);case"STRING":return Zi.convertString(n);case"ID":return Zi.convertID(n)}switch((i=TW(e))==null?void 0:i.toLowerCase()){case"number":return Zi.convertNumber(n);case"boolean":return Zi.convertBoolean(n);case"bigint":return Zi.convertBigint(n);case"date":return Zi.convertDate(n);default:return n}}}var Zi;(function(t){function e(c){let l="";for(let h=1;h<c.length-1;h++){const d=c.charAt(h);if(d==="\\"){const f=c.charAt(++h);l+=n(f)}else l+=d}return l}t.convertString=e;function n(c){switch(c){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"0":return"\0";default:return c}}function r(c){return c.charAt(0)==="^"?c.substring(1):c}t.convertID=r;function i(c){return parseInt(c)}t.convertInt=i;function s(c){return BigInt(c)}t.convertBigint=s;function a(c){return new Date(c)}t.convertDate=a;function o(c){return Number(c)}t.convertNumber=o;function u(c){return c.toLowerCase()==="true"}t.convertBoolean=u})(Zi||(Zi={}));var Ys={},Th={},kx;function Wa(){if(kx)return Th;kx=1,Object.defineProperty(Th,"__esModule",{value:!0});let t;function e(){if(t===void 0)throw new Error("No runtime abstraction layer installed");return t}return(function(n){function r(i){if(i===void 0)throw new Error("No runtime abstraction layer provided");t=i}n.install=r})(e||(e={})),Th.default=e,Th}var kn={},Ax;function Ol(){if(Ax)return kn;Ax=1,Object.defineProperty(kn,"__esModule",{value:!0}),kn.stringArray=kn.array=kn.func=kn.error=kn.number=kn.string=kn.boolean=void 0;function t(o){return o===!0||o===!1}kn.boolean=t;function e(o){return typeof o=="string"||o instanceof String}kn.string=e;function n(o){return typeof o=="number"||o instanceof Number}kn.number=n;function r(o){return o instanceof Error}kn.error=r;function i(o){return typeof o=="function"}kn.func=i;function s(o){return Array.isArray(o)}kn.array=s;function a(o){return s(o)&&o.every(u=>e(u))}return kn.stringArray=a,kn}var Vs={},Nx;function cu(){if(Nx)return Vs;Nx=1,Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.Emitter=Vs.Event=void 0;const t=Wa();var e;(function(i){const s={dispose(){}};i.None=function(){return s}})(e||(Vs.Event=e={}));class n{add(s,a=null,o){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(s),this._contexts.push(a),Array.isArray(o)&&o.push({dispose:()=>this.remove(s,a)})}remove(s,a=null){if(!this._callbacks)return;let o=!1;for(let u=0,c=this._callbacks.length;u<c;u++)if(this._callbacks[u]===s)if(this._contexts[u]===a){this._callbacks.splice(u,1),this._contexts.splice(u,1);return}else o=!0;if(o)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...s){if(!this._callbacks)return[];const a=[],o=this._callbacks.slice(0),u=this._contexts.slice(0);for(let c=0,l=o.length;c<l;c++)try{a.push(o[c].apply(u[c],s))}catch(h){(0,t.default)().console.error(h)}return a}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}class r{constructor(s){this._options=s}get event(){return this._event||(this._event=(s,a,o)=>{this._callbacks||(this._callbacks=new n),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(s,a);const u={dispose:()=>{this._callbacks&&(this._callbacks.remove(s,a),u.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(o)&&o.push(u),u}),this._event}fire(s){this._callbacks&&this._callbacks.invoke.call(this._callbacks,s)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}return Vs.Emitter=r,r._noop=function(){},Vs}var Sx;function Wp(){if(Sx)return Ys;Sx=1,Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.CancellationTokenSource=Ys.CancellationToken=void 0;const t=Wa(),e=Ol(),n=cu();var r;(function(o){o.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:n.Event.None}),o.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:n.Event.None});function u(c){const l=c;return l&&(l===o.None||l===o.Cancelled||e.boolean(l.isCancellationRequested)&&!!l.onCancellationRequested)}o.is=u})(r||(Ys.CancellationToken=r={}));const i=Object.freeze(function(o,u){const c=(0,t.default)().timer.setTimeout(o.bind(u),0);return{dispose(){c.dispose()}}});class s{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?i:(this._emitter||(this._emitter=new n.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class a{get token(){return this._token||(this._token=new s),this._token}cancel(){this._token?this._token.cancel():this._token=r.Cancelled}dispose(){this._token?this._token instanceof s&&this._token.dispose():this._token=r.None}}return Ys.CancellationTokenSource=a,Ys}var qt=Wp();function YX(){return new Promise(t=>{typeof setImmediate>"u"?setTimeout(t,0):setImmediate(t)})}let df=0,VX=10;function XX(){return df=performance.now(),new qt.CancellationTokenSource}const wo=Symbol("OperationCancelled");function Yp(t){return t===wo}async function Qn(t){if(t===qt.CancellationToken.None)return;const e=performance.now();if(e-df>=VX&&(df=e,await YX(),df=performance.now()),t.isCancellationRequested)throw wo}class A_{constructor(){this.promise=new Promise((e,n)=>{this.resolve=r=>(e(r),this),this.reject=r=>(n(r),this)})}}class tl{constructor(e,n,r,i){this._uri=e,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){const n=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(n,r)}return this._content}update(e,n){for(const r of e)if(tl.isIncremental(r)){const i=f2(r.range),s=this.offsetAt(i.start),a=this.offsetAt(i.end);this._content=this._content.substring(0,s)+r.text+this._content.substring(a,this._content.length);const o=Math.max(i.start.line,0),u=Math.max(i.end.line,0);let c=this._lineOffsets;const l=Rx(r.text,!1,s);if(u-o===l.length)for(let d=0,f=l.length;d<f;d++)c[d+o+1]=l[d];else l.length<1e4?c.splice(o+1,u-o,...l):this._lineOffsets=c=c.slice(0,o+1).concat(l,c.slice(u+1));const h=r.text.length-(a-s);if(h!==0)for(let d=o+1+l.length,f=c.length;d<f;d++)c[d]=c[d]+h}else if(tl.isFull(r))this._content=r.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=n}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=Rx(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);const n=this.getLineOffsets();let r=0,i=n.length;if(i===0)return{line:0,character:e};for(;r<i;){const a=Math.floor((r+i)/2);n[a]>e?i=a:r=a+1}const s=r-1;return e=this.ensureBeforeEOL(e,n[s]),{line:s,character:e-n[s]}}offsetAt(e){const n=this.getLineOffsets();if(e.line>=n.length)return this._content.length;if(e.line<0)return 0;const r=n[e.line];if(e.character<=0)return r;const i=e.line+1<n.length?n[e.line+1]:this._content.length,s=Math.min(r+e.character,i);return this.ensureBeforeEOL(s,r)}ensureBeforeEOL(e,n){for(;e>n&&h2(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){const n=e;return n!=null&&typeof n.text=="string"&&n.range!==void 0&&(n.rangeLength===void 0||typeof n.rangeLength=="number")}static isFull(e){const n=e;return n!=null&&typeof n.text=="string"&&n.range===void 0&&n.rangeLength===void 0}}var rb;(function(t){function e(i,s,a,o){return new tl(i,s,a,o)}t.create=e;function n(i,s,a){if(i instanceof tl)return i.update(s,a),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}t.update=n;function r(i,s){const a=i.getText(),o=ib(s.map(jX),(l,h)=>{const d=l.range.start.line-h.range.start.line;return d===0?l.range.start.character-h.range.start.character:d});let u=0;const c=[];for(const l of o){const h=i.offsetAt(l.range.start);if(h<u)throw new Error("Overlapping edit");h>u&&c.push(a.substring(u,h)),l.newText.length&&c.push(l.newText),u=i.offsetAt(l.range.end)}return c.push(a.substr(u)),c.join("")}t.applyEdits=r})(rb||(rb={}));function ib(t,e){if(t.length<=1)return t;const n=t.length/2|0,r=t.slice(0,n),i=t.slice(n);ib(r,e),ib(i,e);let s=0,a=0,o=0;for(;s<r.length&&a<i.length;)e(r[s],i[a])<=0?t[o++]=r[s++]:t[o++]=i[a++];for(;s<r.length;)t[o++]=r[s++];for(;a<i.length;)t[o++]=i[a++];return t}function Rx(t,e,n=0){const r=e?[n]:[];for(let i=0;i<t.length;i++){const s=t.charCodeAt(i);h2(s)&&(s===13&&i+1<t.length&&t.charCodeAt(i+1)===10&&i++,r.push(n+i+1))}return r}function h2(t){return t===13||t===10}function f2(t){const e=t.start,n=t.end;return e.line>n.line||e.line===n.line&&e.character>n.character?{start:n,end:e}:t}function jX(t){const e=f2(t.range);return e!==t.range?{newText:t.newText,range:e}:t}var d2;(()=>{var t={975:I=>{function M(w){if(typeof w!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(w))}function R(w,T){for(var A,N="",P=0,F=-1,B=0,H=0;H<=w.length;++H){if(H<w.length)A=w.charCodeAt(H);else{if(A===47)break;A=47}if(A===47){if(!(F===H-1||B===1))if(F!==H-1&&B===2){if(N.length<2||P!==2||N.charCodeAt(N.length-1)!==46||N.charCodeAt(N.length-2)!==46){if(N.length>2){var Y=N.lastIndexOf("/");if(Y!==N.length-1){Y===-1?(N="",P=0):P=(N=N.slice(0,Y)).length-1-N.lastIndexOf("/"),F=H,B=0;continue}}else if(N.length===2||N.length===1){N="",P=0,F=H,B=0;continue}}T&&(N.length>0?N+="/..":N="..",P=2)}else N.length>0?N+="/"+w.slice(F+1,H):N=w.slice(F+1,H),P=H-F-1;F=H,B=0}else A===46&&B!==-1?++B:B=-1}return N}var E={resolve:function(){for(var w,T="",A=!1,N=arguments.length-1;N>=-1&&!A;N--){var P;N>=0?P=arguments[N]:(w===void 0&&(w=process.cwd()),P=w),M(P),P.length!==0&&(T=P+"/"+T,A=P.charCodeAt(0)===47)}return T=R(T,!A),A?T.length>0?"/"+T:"/":T.length>0?T:"."},normalize:function(w){if(M(w),w.length===0)return".";var T=w.charCodeAt(0)===47,A=w.charCodeAt(w.length-1)===47;return(w=R(w,!T)).length!==0||T||(w="."),w.length>0&&A&&(w+="/"),T?"/"+w:w},isAbsolute:function(w){return M(w),w.length>0&&w.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var w,T=0;T<arguments.length;++T){var A=arguments[T];M(A),A.length>0&&(w===void 0?w=A:w+="/"+A)}return w===void 0?".":E.normalize(w)},relative:function(w,T){if(M(w),M(T),w===T||(w=E.resolve(w))===(T=E.resolve(T)))return"";for(var A=1;A<w.length&&w.charCodeAt(A)===47;++A);for(var N=w.length,P=N-A,F=1;F<T.length&&T.charCodeAt(F)===47;++F);for(var B=T.length-F,H=P<B?P:B,Y=-1,Q=0;Q<=H;++Q){if(Q===H){if(B>H){if(T.charCodeAt(F+Q)===47)return T.slice(F+Q+1);if(Q===0)return T.slice(F+Q)}else P>H&&(w.charCodeAt(A+Q)===47?Y=Q:Q===0&&(Y=0));break}var j=w.charCodeAt(A+Q);if(j!==T.charCodeAt(F+Q))break;j===47&&(Y=Q)}var ee="";for(Q=A+Y+1;Q<=N;++Q)Q!==N&&w.charCodeAt(Q)!==47||(ee.length===0?ee+="..":ee+="/..");return ee.length>0?ee+T.slice(F+Y):(F+=Y,T.charCodeAt(F)===47&&++F,T.slice(F))},_makeLong:function(w){return w},dirname:function(w){if(M(w),w.length===0)return".";for(var T=w.charCodeAt(0),A=T===47,N=-1,P=!0,F=w.length-1;F>=1;--F)if((T=w.charCodeAt(F))===47){if(!P){N=F;break}}else P=!1;return N===-1?A?"/":".":A&&N===1?"//":w.slice(0,N)},basename:function(w,T){if(T!==void 0&&typeof T!="string")throw new TypeError('"ext" argument must be a string');M(w);var A,N=0,P=-1,F=!0;if(T!==void 0&&T.length>0&&T.length<=w.length){if(T.length===w.length&&T===w)return"";var B=T.length-1,H=-1;for(A=w.length-1;A>=0;--A){var Y=w.charCodeAt(A);if(Y===47){if(!F){N=A+1;break}}else H===-1&&(F=!1,H=A+1),B>=0&&(Y===T.charCodeAt(B)?--B==-1&&(P=A):(B=-1,P=H))}return N===P?P=H:P===-1&&(P=w.length),w.slice(N,P)}for(A=w.length-1;A>=0;--A)if(w.charCodeAt(A)===47){if(!F){N=A+1;break}}else P===-1&&(F=!1,P=A+1);return P===-1?"":w.slice(N,P)},extname:function(w){M(w);for(var T=-1,A=0,N=-1,P=!0,F=0,B=w.length-1;B>=0;--B){var H=w.charCodeAt(B);if(H!==47)N===-1&&(P=!1,N=B+1),H===46?T===-1?T=B:F!==1&&(F=1):T!==-1&&(F=-1);else if(!P){A=B+1;break}}return T===-1||N===-1||F===0||F===1&&T===N-1&&T===A+1?"":w.slice(T,N)},format:function(w){if(w===null||typeof w!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof w);return(function(T,A){var N=A.dir||A.root,P=A.base||(A.name||"")+(A.ext||"");return N?N===A.root?N+P:N+"/"+P:P})(0,w)},parse:function(w){M(w);var T={root:"",dir:"",base:"",ext:"",name:""};if(w.length===0)return T;var A,N=w.charCodeAt(0),P=N===47;P?(T.root="/",A=1):A=0;for(var F=-1,B=0,H=-1,Y=!0,Q=w.length-1,j=0;Q>=A;--Q)if((N=w.charCodeAt(Q))!==47)H===-1&&(Y=!1,H=Q+1),N===46?F===-1?F=Q:j!==1&&(j=1):F!==-1&&(j=-1);else if(!Y){B=Q+1;break}return F===-1||H===-1||j===0||j===1&&F===H-1&&F===B+1?H!==-1&&(T.base=T.name=B===0&&P?w.slice(1,H):w.slice(B,H)):(B===0&&P?(T.name=w.slice(1,F),T.base=w.slice(1,H)):(T.name=w.slice(B,F),T.base=w.slice(B,H)),T.ext=w.slice(F,H)),B>0?T.dir=w.slice(0,B-1):P&&(T.dir="/"),T},sep:"/",delimiter:":",win32:null,posix:null};E.posix=E,I.exports=E}},e={};function n(I){var M=e[I];if(M!==void 0)return M.exports;var R=e[I]={exports:{}};return t[I](R,R.exports,n),R.exports}n.d=(I,M)=>{for(var R in M)n.o(M,R)&&!n.o(I,R)&&Object.defineProperty(I,R,{enumerable:!0,get:M[R]})},n.o=(I,M)=>Object.prototype.hasOwnProperty.call(I,M),n.r=I=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})};var r={};let i;n.r(r),n.d(r,{URI:()=>d,Utils:()=>D}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);const s=/^\w[\w\d+.-]*$/,a=/^\//,o=/^\/\//;function u(I,M){if(!I.scheme&&M)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${I.authority}", path: "${I.path}", query: "${I.query}", fragment: "${I.fragment}"}`);if(I.scheme&&!s.test(I.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(I.path){if(I.authority){if(!a.test(I.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(o.test(I.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}const c="",l="/",h=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class d{constructor(M,R,E,w,T,A=!1){Se(this,"scheme");Se(this,"authority");Se(this,"path");Se(this,"query");Se(this,"fragment");typeof M=="object"?(this.scheme=M.scheme||c,this.authority=M.authority||c,this.path=M.path||c,this.query=M.query||c,this.fragment=M.fragment||c):(this.scheme=(function(N,P){return N||P?N:"file"})(M,A),this.authority=R||c,this.path=(function(N,P){switch(N){case"https":case"http":case"file":P?P[0]!==l&&(P=l+P):P=l}return P})(this.scheme,E||c),this.query=w||c,this.fragment=T||c,u(this,A))}static isUri(M){return M instanceof d||!!M&&typeof M.authority=="string"&&typeof M.fragment=="string"&&typeof M.path=="string"&&typeof M.query=="string"&&typeof M.scheme=="string"&&typeof M.fsPath=="string"&&typeof M.with=="function"&&typeof M.toString=="function"}get fsPath(){return v(this)}with(M){if(!M)return this;let{scheme:R,authority:E,path:w,query:T,fragment:A}=M;return R===void 0?R=this.scheme:R===null&&(R=c),E===void 0?E=this.authority:E===null&&(E=c),w===void 0?w=this.path:w===null&&(w=c),T===void 0?T=this.query:T===null&&(T=c),A===void 0?A=this.fragment:A===null&&(A=c),R===this.scheme&&E===this.authority&&w===this.path&&T===this.query&&A===this.fragment?this:new p(R,E,w,T,A)}static parse(M,R=!1){const E=h.exec(M);return E?new p(E[2]||c,C(E[4]||c),C(E[5]||c),C(E[7]||c),C(E[9]||c),R):new p(c,c,c,c,c)}static file(M){let R=c;if(i&&(M=M.replace(/\\/g,l)),M[0]===l&&M[1]===l){const E=M.indexOf(l,2);E===-1?(R=M.substring(2),M=l):(R=M.substring(2,E),M=M.substring(E)||l)}return new p("file",R,M,c,c)}static from(M){const R=new p(M.scheme,M.authority,M.path,M.query,M.fragment);return u(R,!0),R}toString(M=!1){return b(this,M)}toJSON(){return this}static revive(M){if(M){if(M instanceof d)return M;{const R=new p(M);return R._formatted=M.external,R._fsPath=M._sep===f?M.fsPath:null,R}}return M}}const f=i?1:void 0;class p extends d{constructor(){super(...arguments);Se(this,"_formatted",null);Se(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=v(this)),this._fsPath}toString(R=!1){return R?b(this,!0):(this._formatted||(this._formatted=b(this,!1)),this._formatted)}toJSON(){const R={$mid:1};return this._fsPath&&(R.fsPath=this._fsPath,R._sep=f),this._formatted&&(R.external=this._formatted),this.path&&(R.path=this.path),this.scheme&&(R.scheme=this.scheme),this.authority&&(R.authority=this.authority),this.query&&(R.query=this.query),this.fragment&&(R.fragment=this.fragment),R}}const g={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function m(I,M,R){let E,w=-1;for(let T=0;T<I.length;T++){const A=I.charCodeAt(T);if(A>=97&&A<=122||A>=65&&A<=90||A>=48&&A<=57||A===45||A===46||A===95||A===126||M&&A===47||R&&A===91||R&&A===93||R&&A===58)w!==-1&&(E+=encodeURIComponent(I.substring(w,T)),w=-1),E!==void 0&&(E+=I.charAt(T));else{E===void 0&&(E=I.substr(0,T));const N=g[A];N!==void 0?(w!==-1&&(E+=encodeURIComponent(I.substring(w,T)),w=-1),E+=N):w===-1&&(w=T)}}return w!==-1&&(E+=encodeURIComponent(I.substring(w))),E!==void 0?E:I}function y(I){let M;for(let R=0;R<I.length;R++){const E=I.charCodeAt(R);E===35||E===63?(M===void 0&&(M=I.substr(0,R)),M+=g[E]):M!==void 0&&(M+=I[R])}return M!==void 0?M:I}function v(I,M){let R;return R=I.authority&&I.path.length>1&&I.scheme==="file"?`//${I.authority}${I.path}`:I.path.charCodeAt(0)===47&&(I.path.charCodeAt(1)>=65&&I.path.charCodeAt(1)<=90||I.path.charCodeAt(1)>=97&&I.path.charCodeAt(1)<=122)&&I.path.charCodeAt(2)===58?I.path[1].toLowerCase()+I.path.substr(2):I.path,i&&(R=R.replace(/\//g,"\\")),R}function b(I,M){const R=M?y:m;let E="",{scheme:w,authority:T,path:A,query:N,fragment:P}=I;if(w&&(E+=w,E+=":"),(T||w==="file")&&(E+=l,E+=l),T){let F=T.indexOf("@");if(F!==-1){const B=T.substr(0,F);T=T.substr(F+1),F=B.lastIndexOf(":"),F===-1?E+=R(B,!1,!1):(E+=R(B.substr(0,F),!1,!1),E+=":",E+=R(B.substr(F+1),!1,!0)),E+="@"}T=T.toLowerCase(),F=T.lastIndexOf(":"),F===-1?E+=R(T,!1,!0):(E+=R(T.substr(0,F),!1,!0),E+=T.substr(F))}if(A){if(A.length>=3&&A.charCodeAt(0)===47&&A.charCodeAt(2)===58){const F=A.charCodeAt(1);F>=65&&F<=90&&(A=`/${String.fromCharCode(F+32)}:${A.substr(3)}`)}else if(A.length>=2&&A.charCodeAt(1)===58){const F=A.charCodeAt(0);F>=65&&F<=90&&(A=`${String.fromCharCode(F+32)}:${A.substr(2)}`)}E+=R(A,!0,!1)}return N&&(E+="?",E+=R(N,!1,!1)),P&&(E+="#",E+=M?P:m(P,!1,!1)),E}function _(I){try{return decodeURIComponent(I)}catch{return I.length>3?I.substr(0,3)+_(I.substr(3)):I}}const k=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function C(I){return I.match(k)?I.replace(k,(M=>_(M))):I}var x=n(975);const S=x.posix||x,O="/";var D;(function(I){I.joinPath=function(M,...R){return M.with({path:S.join(M.path,...R)})},I.resolvePath=function(M,...R){let E=M.path,w=!1;E[0]!==O&&(E=O+E,w=!0);let T=S.resolve(E,...R);return w&&T[0]===O&&!M.authority&&(T=T.substring(1)),M.with({path:T})},I.dirname=function(M){if(M.path.length===0||M.path===O)return M;let R=S.dirname(M.path);return R.length===1&&R.charCodeAt(0)===46&&(R=""),M.with({path:R})},I.basename=function(M){return S.basename(M.path)},I.extname=function(M){return S.extname(M.path)}})(D||(D={})),d2=r})();const{URI:ti,Utils:Fu}=d2;var Tr;(function(t){t.basename=Fu.basename,t.dirname=Fu.dirname,t.extname=Fu.extname,t.joinPath=Fu.joinPath,t.resolvePath=Fu.resolvePath;const e=typeof process=="object"&&(process==null?void 0:process.platform)==="win32";function n(a,o){return(a==null?void 0:a.toString())===(o==null?void 0:o.toString())}t.equals=n;function r(a,o){const u=typeof a=="string"?ti.parse(a).path:a.path,c=typeof o=="string"?ti.parse(o).path:o.path,l=u.split("/").filter(g=>g.length>0),h=c.split("/").filter(g=>g.length>0);if(e){const g=/^[A-Z]:$/;if(l[0]&&g.test(l[0])&&(l[0]=l[0].toLowerCase()),h[0]&&g.test(h[0])&&(h[0]=h[0].toLowerCase()),l[0]!==h[0])return c.substring(1)}let d=0;for(;d<l.length&&l[d]===h[d];d++);const f="../".repeat(l.length-d),p=h.slice(d).join("/");return f+p}t.relative=r;function i(a){return ti.parse(a.toString()).toString()}t.normalize=i;function s(a,o){let u=typeof a=="string"?a:a.path,c=typeof o=="string"?o:o.path;return c.charAt(c.length-1)==="/"&&(c=c.slice(0,-1)),u.charAt(u.length-1)==="/"&&(u=u.slice(0,-1)),c===u?!0:c.length<u.length||c.charAt(u.length)!=="/"?!1:c.startsWith(u)}t.contains=s})(Tr||(Tr={}));class KX{constructor(){this.root={name:"",children:new Map}}normalizeUri(e){return Tr.normalize(e)}clear(){this.root.children.clear()}insert(e,n){const r=this.getNode(this.normalizeUri(e),!0);r.element=n}delete(e){const n=this.getNode(this.normalizeUri(e),!1);n!=null&&n.parent&&n.parent.children.delete(n.name)}has(e){var n;return((n=this.getNode(this.normalizeUri(e),!1))==null?void 0:n.element)!==void 0}hasNode(e){return this.getNode(this.normalizeUri(e),!1)!==void 0}find(e){var n;return(n=this.getNode(this.normalizeUri(e),!1))==null?void 0:n.element}findNode(e){const n=this.normalizeUri(e),r=this.getNode(n,!1);if(r)return{name:r.name,uri:Tr.joinPath(ti.parse(n),r.name).toString(),element:r.element}}findChildren(e){const n=this.normalizeUri(e),r=this.getNode(n,!1);return r?Array.from(r.children.values()).map(i=>({name:i.name,uri:Tr.joinPath(ti.parse(n),i.name).toString(),element:i.element})):[]}all(){return this.collectValues(this.root)}findAll(e){const n=this.getNode(Tr.normalize(e),!1);return n?this.collectValues(n):[]}getNode(e,n){const r=e.split("/");e.charAt(e.length-1)==="/"&&r.pop();let i=this.root;for(const s of r){let a=i.children.get(s);if(!a)if(n)a={name:s,children:new Map,parent:i},i.children.set(s,a);else return;i=a}return i}collectValues(e){const n=[];e.element&&n.push(e.element);for(const r of e.children.values())n.push(...this.collectValues(r));return n}}var ot;(function(t){t[t.Changed=0]="Changed",t[t.Parsed=1]="Parsed",t[t.IndexedContent=2]="IndexedContent",t[t.ComputedScopes=3]="ComputedScopes",t[t.Linked=4]="Linked",t[t.IndexedReferences=5]="IndexedReferences",t[t.Validated=6]="Validated"})(ot||(ot={}));class ZX{constructor(e){this.serviceRegistry=e.ServiceRegistry,this.textDocuments=e.workspace.TextDocuments,this.fileSystemProvider=e.workspace.FileSystemProvider}async fromUri(e,n=qt.CancellationToken.None){const r=await this.fileSystemProvider.readFile(e);return this.createAsync(e,r,n)}fromTextDocument(e,n,r){return n=n??ti.parse(e.uri),qt.CancellationToken.is(r)?this.createAsync(n,e,r):this.create(n,e,r)}fromString(e,n,r){return qt.CancellationToken.is(r)?this.createAsync(n,e,r):this.create(n,e,r)}fromModel(e,n){return this.create(n,{$model:e})}create(e,n,r){if(typeof n=="string"){const i=this.parse(e,n,r);return this.createLangiumDocument(i,e,void 0,n)}else if("$model"in n){const i={value:n.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(i,e)}else{const i=this.parse(e,n.getText(),r);return this.createLangiumDocument(i,e,n)}}async createAsync(e,n,r){if(typeof n=="string"){const i=await this.parseAsync(e,n,r);return this.createLangiumDocument(i,e,void 0,n)}else{const i=await this.parseAsync(e,n.getText(),r);return this.createLangiumDocument(i,e,n)}}createLangiumDocument(e,n,r,i){let s;if(r)s={parseResult:e,uri:n,state:ot.Parsed,references:[],textDocument:r};else{const a=this.createTextDocumentGetter(n,i);s={parseResult:e,uri:n,state:ot.Parsed,references:[],get textDocument(){return a()}}}return e.value.$document=s,s}async update(e,n){var a,o;const r=(a=e.parseResult.value.$cstNode)==null?void 0:a.root.fullText,i=(o=this.textDocuments)==null?void 0:o.get(e.uri.toString()),s=i?i.getText():await this.fileSystemProvider.readFile(e.uri);if(i)Object.defineProperty(e,"textDocument",{value:i});else{const u=this.createTextDocumentGetter(e.uri,s);Object.defineProperty(e,"textDocument",{get:u})}return r!==s&&(e.parseResult=await this.parseAsync(e.uri,s,n),e.parseResult.value.$document=e),e.state=ot.Parsed,e}parse(e,n,r){return this.serviceRegistry.getServices(e).parser.LangiumParser.parse(n,r)}parseAsync(e,n,r){return this.serviceRegistry.getServices(e).parser.AsyncParser.parse(n,r)}createTextDocumentGetter(e,n){const r=this.serviceRegistry;let i;return()=>i??(i=rb.create(e.toString(),r.getServices(e).LanguageMetaData.languageId,0,n??""))}}class QX{constructor(e){this.documentTrie=new KX,this.services=e,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.documentBuilder=()=>e.workspace.DocumentBuilder}get all(){return Gt(this.documentTrie.all())}addDocument(e){const n=e.uri.toString();if(this.documentTrie.has(n))throw new Error(`A document with the URI '${n}' is already present.`);this.documentTrie.insert(n,e)}getDocument(e){const n=e.toString();return this.documentTrie.find(n)}getDocuments(e){const n=e.toString();return this.documentTrie.findAll(n)}async getOrCreateDocument(e,n){let r=this.getDocument(e);return r||(r=await this.langiumDocumentFactory.fromUri(e,n),this.addDocument(r),r)}createDocument(e,n,r){if(r)return this.langiumDocumentFactory.fromString(n,e,r).then(i=>(this.addDocument(i),i));{const i=this.langiumDocumentFactory.fromString(n,e);return this.addDocument(i),i}}hasDocument(e){return this.documentTrie.has(e.toString())}invalidateDocument(e){const n=e.toString(),r=this.documentTrie.find(n);return r&&this.documentBuilder().resetToState(r,ot.Changed),r}deleteDocument(e){const n=e.toString(),r=this.documentTrie.find(n);return r&&(r.state=ot.Changed,this.documentTrie.delete(n)),r}deleteDocuments(e){const n=e.toString(),r=this.documentTrie.findAll(n);for(const i of r)i.state=ot.Changed;return this.documentTrie.delete(n),r}}const ro=Symbol("RefResolving");class JX{constructor(e){this.reflection=e.shared.AstReflection,this.langiumDocuments=()=>e.shared.workspace.LangiumDocuments,this.scopeProvider=e.references.ScopeProvider,this.astNodeLocator=e.workspace.AstNodeLocator,this.profiler=e.shared.profilers.LangiumProfiler,this.languageId=e.LanguageMetaData.languageId}async link(e,n=qt.CancellationToken.None){var r;if((r=this.profiler)!=null&&r.isActive("linking")){const i=this.profiler.createTask("linking",this.languageId);i.start();try{for(const s of is(e.parseResult.value))await Qn(n),pd(s).forEach(a=>{const o=`${s.$type}:${a.property}`;i.startSubTask(o);try{this.doLink(a,e)}finally{i.stopSubTask(o)}})}finally{i.stop()}}else for(const i of is(e.parseResult.value))await Qn(n),pd(i).forEach(s=>this.doLink(s,e))}doLink(e,n){const r=e.reference;if("_ref"in r&&r._ref===void 0){r._ref=ro;try{const i=this.getCandidate(e);if(Mu(i))r._ref=i;else{r._nodeDescription=i;const s=this.loadAstNode(i);r._ref=s??this.createLinkingError(e,i)}}catch(i){console.error(`An error occurred while resolving reference to '${r.$refText}':`,i);const s=i.message??String(i);r._ref={info:e,message:`An error occurred while resolving reference to '${r.$refText}': ${s}`}}n.references.push(r)}else if("_items"in r&&r._items===void 0){r._items=ro;try{const i=this.getCandidates(e),s=[];if(Mu(i))r._linkingError=i;else for(const a of i){const o=this.loadAstNode(a);o&&s.push({ref:o,$nodeDescription:a})}r._items=s}catch(i){r._linkingError={info:e,message:`An error occurred while resolving reference to '${r.$refText}': ${i}`},r._items=[]}n.references.push(r)}}unlink(e){for(const n of e.references)"_ref"in n?(n._ref=void 0,delete n._nodeDescription):"_items"in n&&(n._items=void 0,delete n._linkingError);e.references=[]}getCandidate(e){return this.scopeProvider.getScope(e).getElement(e.reference.$refText)??this.createLinkingError(e)}getCandidates(e){const r=this.scopeProvider.getScope(e).getElements(e.reference.$refText).distinct(i=>`${i.documentUri}#${i.path}`).toArray();return r.length>0?r:this.createLinkingError(e)}buildReference(e,n,r,i){const s=this,a={$refNode:r,$refText:i,_ref:void 0,get ref(){if(qn(this._ref))return this._ref;if(CH(this._nodeDescription)){const o=s.loadAstNode(this._nodeDescription);this._ref=o??s.createLinkingError({reference:a,container:e,property:n},this._nodeDescription)}else if(this._ref===void 0){this._ref=ro;const o=ef(e).$document,u=s.getLinkedNode({reference:a,container:e,property:n});if(u.error&&o&&o.state<ot.ComputedScopes)return this._ref=void 0;this._ref=u.node??u.error,this._nodeDescription=u.descr,o==null||o.references.push(this)}else this._ref===ro&&s.throwCyclicReferenceError(e,n,i);return qn(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return Mu(this._ref)?this._ref:void 0}};return a}buildMultiReference(e,n,r,i){const s=this,a={$refNode:r,$refText:i,_items:void 0,get items(){if(Array.isArray(this._items))return this._items;if(this._items===void 0){this._items=ro;const o=ef(e).$document,u=s.getCandidates({reference:a,container:e,property:n}),c=[];if(Mu(u))this._linkingError=u;else for(const l of u){const h=s.loadAstNode(l);h&&c.push({ref:h,$nodeDescription:l})}this._items=c,o==null||o.references.push(this)}else this._items===ro&&s.throwCyclicReferenceError(e,n,i);return Array.isArray(this._items)?this._items:[]},get error(){if(this._linkingError)return this._linkingError;if(!(this.items.length>0))return this._linkingError=s.createLinkingError({reference:a,container:e,property:n})}};return a}throwCyclicReferenceError(e,n,r){throw new Error(`Cyclic reference resolution detected: ${this.astNodeLocator.getAstNodePath(e)}/${n} (symbol '${r}')`)}getLinkedNode(e){try{const n=this.getCandidate(e);if(Mu(n))return{error:n};const r=this.loadAstNode(n);return r?{node:r,descr:n}:{descr:n,error:this.createLinkingError(e,n)}}catch(n){console.error(`An error occurred while resolving reference to '${e.reference.$refText}':`,n);const r=n.message??String(n);return{error:{info:e,message:`An error occurred while resolving reference to '${e.reference.$refText}': ${r}`}}}}loadAstNode(e){if(e.node)return e.node;const n=this.langiumDocuments().getDocument(e.documentUri);if(n)return this.astNodeLocator.getAstNode(n.parseResult.value,e.path)}createLinkingError(e,n){const r=ef(e.container).$document;r&&r.state<ot.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${r.uri}).`);const i=this.reflection.getReferenceType(e);return{info:e,message:`Could not resolve reference to ${i} named '${e.reference.$refText}'.`,targetDescription:n}}}function ej(t){return typeof t.name=="string"}class tj{getName(e){if(ej(e))return e.name}getNameNode(e){return aC(e.$cstNode,"name")}}class nj{constructor(e){this.nameProvider=e.references.NameProvider,this.index=e.shared.workspace.IndexManager,this.nodeLocator=e.workspace.AstNodeLocator,this.documents=e.shared.workspace.LangiumDocuments,this.hasMultiReference=is(e.Grammar).some(n=>Lp(n)&&n.isMulti)}findDeclarations(e){if(e){const n=wW(e),r=e.astNode;if(n&&r){const i=r[n.feature];if(Qr(i)||Ss(i))return $w(i);if(Array.isArray(i)){for(const s of i)if((Qr(s)||Ss(s))&&s.$refNode&&s.$refNode.offset<=e.offset&&s.$refNode.end>=e.end)return $w(s)}}if(r){const i=this.nameProvider.getNameNode(r);if(i&&(i===e||JH(e,i)))return this.getSelfNodes(r)}}return[]}getSelfNodes(e){if(this.hasMultiReference){const n=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e)),r=this.getNodeFromReferenceDescription(n.head());if(r){for(const i of pd(r))if(Ss(i.reference)&&i.reference.items.some(s=>s.ref===e))return i.reference.items.map(s=>s.ref)}return[e]}else return[e]}getNodeFromReferenceDescription(e){if(!e)return;const n=this.documents.getDocument(e.sourceUri);if(n)return this.nodeLocator.getAstNode(n.parseResult.value,e.sourcePath)}findDeclarationNodes(e){const n=this.findDeclarations(e),r=[];for(const i of n){const s=this.nameProvider.getNameNode(i)??i.$cstNode;s&&r.push(s)}return r}findReferences(e,n){const r=[];n.includeDeclaration&&r.push(...this.getSelfReferences(e));let i=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e));return n.documentUri&&(i=i.filter(s=>Tr.equals(s.sourceUri,n.documentUri))),r.push(...i),Gt(r)}getSelfReferences(e){const n=this.getSelfNodes(e),r=[];for(const i of n){const s=this.nameProvider.getNameNode(i);if(s){const a=rs(i),o=this.nodeLocator.getAstNodePath(i);r.push({sourceUri:a.uri,sourcePath:o,targetUri:a.uri,targetPath:o,segment:md(s),local:!0})}}return r}}class nl{constructor(e){if(this.map=new Map,e)for(const[n,r]of e)this.add(n,r)}get size(){return Im.sum(Gt(this.map.values()).map(e=>e.length))}clear(){this.map.clear()}delete(e,n){if(n===void 0)return this.map.delete(e);{const r=this.map.get(e);if(r){const i=r.indexOf(n);if(i>=0)return r.length===1?this.map.delete(e):r.splice(i,1),!0}return!1}}get(e){return this.map.get(e)??[]}getStream(e){const n=this.map.get(e);return n?Gt(n):jR}has(e,n){if(n===void 0)return this.map.has(e);{const r=this.map.get(e);return r?r.indexOf(n)>=0:!1}}add(e,n){return this.map.has(e)?this.map.get(e).push(n):this.map.set(e,[n]),this}addAll(e,n){return this.map.has(e)?this.map.get(e).push(...n):this.map.set(e,Array.from(n)),this}forEach(e){this.map.forEach((n,r)=>n.forEach(i=>e(i,r,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return Gt(this.map.entries()).flatMap(([e,n])=>n.map(r=>[e,r]))}keys(){return Gt(this.map.keys())}values(){return Gt(this.map.values()).flat()}entriesGroupedByKey(){return Gt(this.map.entries())}}class Cx{get size(){return this.map.size}constructor(e){if(this.map=new Map,this.inverse=new Map,e)for(const[n,r]of e)this.set(n,r)}clear(){this.map.clear(),this.inverse.clear()}set(e,n){return this.map.set(e,n),this.inverse.set(n,e),this}get(e){return this.map.get(e)}getKey(e){return this.inverse.get(e)}delete(e){const n=this.map.get(e);return n!==void 0?(this.map.delete(e),this.inverse.delete(n),!0):!1}}class rj{constructor(e){this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider}async collectExportedSymbols(e,n=qt.CancellationToken.None){return this.collectExportedSymbolsForNode(e.parseResult.value,e,void 0,n)}async collectExportedSymbolsForNode(e,n,r=u_,i=qt.CancellationToken.None){const s=[];this.addExportedSymbol(e,s,n);for(const a of r(e))await Qn(i),this.addExportedSymbol(a,s,n);return s}addExportedSymbol(e,n,r){const i=this.nameProvider.getName(e);i&&n.push(this.descriptions.createDescription(e,i,r))}async collectLocalSymbols(e,n=qt.CancellationToken.None){const r=e.parseResult.value,i=new nl;for(const s of Tl(r))await Qn(n),this.addLocalSymbol(s,e,i);return i}addLocalSymbol(e,n,r){const i=e.$container;if(i){const s=this.nameProvider.getName(e);s&&r.add(i,this.descriptions.createDescription(e,s,n))}}}class Mx{constructor(e,n,r){this.elements=e,this.outerScope=n,this.caseInsensitive=(r==null?void 0:r.caseInsensitive)??!1,this.concatOuterScope=(r==null?void 0:r.concatOuterScope)??!0}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(e){const n=this.caseInsensitive?e.toLowerCase():e,r=this.caseInsensitive?this.elements.find(i=>i.name.toLowerCase()===n):this.elements.find(i=>i.name===e);if(r)return r;if(this.outerScope)return this.outerScope.getElement(e)}getElements(e){const n=this.caseInsensitive?e.toLowerCase():e,r=this.caseInsensitive?this.elements.filter(i=>i.name.toLowerCase()===n):this.elements.filter(i=>i.name===e);return(this.concatOuterScope||r.isEmpty())&&this.outerScope?r.concat(this.outerScope.getElements(e)):r}}class ij{constructor(e,n,r){this.elements=new nl,this.caseInsensitive=(r==null?void 0:r.caseInsensitive)??!1,this.concatOuterScope=(r==null?void 0:r.concatOuterScope)??!0;for(const i of e){const s=this.caseInsensitive?i.name.toLowerCase():i.name;this.elements.add(s,i)}this.outerScope=n}getElement(e){const n=this.caseInsensitive?e.toLowerCase():e,r=this.elements.get(n)[0];if(r)return r;if(this.outerScope)return this.outerScope.getElement(e)}getElements(e){const n=this.caseInsensitive?e.toLowerCase():e,r=this.elements.get(n);return(this.concatOuterScope||r.length===0)&&this.outerScope?Gt(r).concat(this.outerScope.getElements(e)):Gt(r)}getAllElements(){let e=Gt(this.elements.values());return this.outerScope&&(e=e.concat(this.outerScope.getAllElements())),e}}class p2{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(e){this.toDispose.push(e)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(e=>e.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}}class sj extends p2{constructor(){super(...arguments),this.cache=new Map}has(e){return this.throwIfDisposed(),this.cache.has(e)}set(e,n){this.throwIfDisposed(),this.cache.set(e,n)}get(e,n){if(this.throwIfDisposed(),this.cache.has(e))return this.cache.get(e);if(n){const r=n();return this.cache.set(e,r),r}else return}delete(e){return this.throwIfDisposed(),this.cache.delete(e)}clear(){this.throwIfDisposed(),this.cache.clear()}}class aj extends p2{constructor(e){super(),this.cache=new Map,this.converter=e??(n=>n)}has(e,n){return this.throwIfDisposed(),this.cacheForContext(e).has(n)}set(e,n,r){this.throwIfDisposed(),this.cacheForContext(e).set(n,r)}get(e,n,r){this.throwIfDisposed();const i=this.cacheForContext(e);if(i.has(n))return i.get(n);if(r){const s=r();return i.set(n,s),s}else return}delete(e,n){return this.throwIfDisposed(),this.cacheForContext(e).delete(n)}clear(e){if(this.throwIfDisposed(),e){const n=this.converter(e);this.cache.delete(n)}else this.cache.clear()}cacheForContext(e){const n=this.converter(e);let r=this.cache.get(n);return r||(r=new Map,this.cache.set(n,r)),r}}class oj extends sj{constructor(e,n){super(),n?(this.toDispose.push(e.workspace.DocumentBuilder.onBuildPhase(n,()=>{this.clear()})),this.toDispose.push(e.workspace.DocumentBuilder.onUpdate((r,i)=>{i.length>0&&this.clear()}))):this.toDispose.push(e.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}class uj{constructor(e){this.reflection=e.shared.AstReflection,this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider,this.indexManager=e.shared.workspace.IndexManager,this.globalScopeCache=new oj(e.shared)}getScope(e){const n=[],r=this.reflection.getReferenceType(e),i=rs(e.container).localSymbols;if(i){let a=e.container;do i.has(a)&&n.push(i.getStream(a).filter(o=>this.reflection.isSubtype(o.type,r))),a=a.$container;while(a)}let s=this.getGlobalScope(r,e);for(let a=n.length-1;a>=0;a--)s=this.createScope(n[a],s);return s}createScope(e,n,r){return new Mx(Gt(e),n,r)}createScopeForNodes(e,n,r){const i=Gt(e).map(s=>{const a=this.nameProvider.getName(s);if(a)return this.descriptions.createDescription(s,a)}).nonNullable();return new Mx(i,n,r)}getGlobalScope(e,n){return this.globalScopeCache.get(e,()=>new ij(this.indexManager.allElements(e)))}}function cj(t){return typeof t.$comment=="string"}function Ox(t){return typeof t=="object"&&!!t&&("$ref"in t||"$error"in t)}class lj{constructor(e){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=e.shared.workspace.LangiumDocuments,this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider,this.commentProvider=e.documentation.CommentProvider}serialize(e,n){const r=n??{},i=n==null?void 0:n.replacer,s=(o,u)=>this.replacer(o,u,r),a=i?(o,u)=>i(o,u,s):s;try{return this.currentDocument=rs(e),JSON.stringify(e,a,n==null?void 0:n.space)}finally{this.currentDocument=void 0}}deserialize(e,n){const r=n??{},i=JSON.parse(e);return this.linkNode(i,i,r),i}replacer(e,n,{refText:r,sourceText:i,textRegions:s,comments:a,uriConverter:o}){var u,c,l;if(!this.ignoreProperties.has(e))if(Qr(n)){const h=n.ref,d=r?n.$refText:void 0;if(h){const f=rs(h);let p="";this.currentDocument&&this.currentDocument!==f&&(o?p=o(f.uri,h):p=f.uri.toString());const g=this.astNodeLocator.getAstNodePath(h);return{$ref:`${p}#${g}`,$refText:d}}else return{$error:((u=n.error)==null?void 0:u.message)??"Could not resolve reference",$refText:d}}else if(Ss(n)){const h=r?n.$refText:void 0,d=[];for(const f of n.items){const p=f.ref,g=rs(f.ref);let m="";this.currentDocument&&this.currentDocument!==g&&(o?m=o(g.uri,p):m=g.uri.toString());const y=this.astNodeLocator.getAstNodePath(p);d.push(`${m}#${y}`)}return{$refs:d,$refText:h}}else if(qn(n)){let h;if(s&&(h=this.addAstNodeRegionWithAssignmentsTo({...n}),(!e||n.$document)&&(h!=null&&h.$textRegion)&&(h.$textRegion.documentURI=(c=this.currentDocument)==null?void 0:c.uri.toString())),i&&!e&&(h??(h={...n}),h.$sourceText=(l=n.$cstNode)==null?void 0:l.text),a){h??(h={...n});const d=this.commentProvider.getComment(n);d&&(h.$comment=d.replace(/\r/g,""))}return h??n}else return n}addAstNodeRegionWithAssignmentsTo(e){const n=r=>({offset:r.offset,end:r.end,length:r.length,range:r.range});if(e.$cstNode){const r=e.$textRegion=n(e.$cstNode),i=r.assignments={};return Object.keys(e).filter(s=>!s.startsWith("$")).forEach(s=>{const a=vW(e.$cstNode,s).map(n);a.length!==0&&(i[s]=a)}),e}}linkNode(e,n,r,i,s,a){for(const[u,c]of Object.entries(e))if(Array.isArray(c))for(let l=0;l<c.length;l++){const h=c[l];Ox(h)?c[l]=this.reviveReference(e,u,n,h,r):qn(h)&&this.linkNode(h,n,r,e,u,l)}else Ox(c)?e[u]=this.reviveReference(e,u,n,c,r):qn(c)&&this.linkNode(c,n,r,e,u);const o=e;o.$container=i,o.$containerProperty=s,o.$containerIndex=a}reviveReference(e,n,r,i,s){let a=i.$refText,o=i.$error,u;if(i.$ref){const c=this.getRefNode(r,i.$ref,s.uriConverter);if(qn(c))return a||(a=this.nameProvider.getName(c)),{$refText:a??"",ref:c};o=c}else if(i.$refs){const c=[];for(const l of i.$refs){const h=this.getRefNode(r,l,s.uriConverter);qn(h)&&c.push({ref:h})}if(c.length===0)u={$refText:a??"",items:c},o??(o="Could not resolve multi-reference");else return{$refText:a??"",items:c}}if(o)return u??(u={$refText:a??"",ref:void 0}),u.error={info:{container:e,property:n,reference:u},message:o},u}getRefNode(e,n,r){try{const i=n.indexOf("#");if(i===0){const u=this.astNodeLocator.getAstNode(e,n.substring(1));return u||"Could not resolve path: "+n}if(i<0){const u=r?r(n):ti.parse(n),c=this.langiumDocuments.getDocument(u);return c?c.parseResult.value:"Could not find document for URI: "+n}const s=r?r(n.substring(0,i)):ti.parse(n.substring(0,i)),a=this.langiumDocuments.getDocument(s);if(!a)return"Could not find document for URI: "+n;if(i===n.length-1)return a.parseResult.value;const o=this.astNodeLocator.getAstNode(a.parseResult.value,n.substring(i+1));return o||"Could not resolve URI: "+n}catch(i){return String(i)}}}class hj{get map(){return this.fileExtensionMap}constructor(e){this.languageIdMap=new Map,this.fileExtensionMap=new Map,this.fileNameMap=new Map,this.textDocuments=e==null?void 0:e.workspace.TextDocuments}register(e){const n=e.LanguageMetaData;for(const r of n.fileExtensions)this.fileExtensionMap.has(r)&&console.warn(`The file extension ${r} is used by multiple languages. It is now assigned to '${n.languageId}'.`),this.fileExtensionMap.set(r,e);if(n.fileNames)for(const r of n.fileNames)this.fileNameMap.has(r)&&console.warn(`The file name ${r} is used by multiple languages. It is now assigned to '${n.languageId}'.`),this.fileNameMap.set(r,e);this.languageIdMap.set(n.languageId,e)}getServices(e){var a,o;if(this.languageIdMap.size===0)throw new Error("The service registry is empty. Use `register` to register the services of a language.");const n=(o=(a=this.textDocuments)==null?void 0:a.get(e))==null?void 0:o.languageId;if(n!==void 0){const u=this.languageIdMap.get(n);if(u)return u}const r=Tr.extname(e),i=Tr.basename(e),s=this.fileNameMap.get(i)??this.fileExtensionMap.get(r);if(!s)throw n?new Error(`The service registry contains no services for the extension '${r}' for language '${n}'.`):new Error(`The service registry contains no services for the extension '${r}'.`);return s}hasServices(e){try{return this.getServices(e),!0}catch{return!1}}get all(){return Array.from(this.languageIdMap.values())}}function bc(t){return{code:t}}var sb;(function(t){t.defaults=["fast","slow","built-in"],t.all=t.defaults})(sb||(sb={}));class fj{constructor(e){this.entries=new nl,this.knownCategories=new Set(sb.defaults),this.entriesBefore=[],this.entriesAfter=[],this.reflection=e.shared.AstReflection}register(e,n=this,r="fast"){if(r==="built-in")throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");this.knownCategories.add(r);for(const[i,s]of Object.entries(e)){const a=s;if(Array.isArray(a))for(const o of a){const u={check:this.wrapValidationException(o,n),category:r};this.addEntry(i,u)}else if(typeof a=="function"){const o={check:this.wrapValidationException(a,n),category:r};this.addEntry(i,o)}else Al()}}wrapValidationException(e,n){return async(r,i,s)=>{await this.handleException(()=>e.call(n,r,i,s),"An error occurred during validation",i,r)}}async handleException(e,n,r,i){try{await e()}catch(s){if(Yp(s))throw s;console.error(`${n}:`,s),s instanceof Error&&s.stack&&console.error(s.stack);const a=s instanceof Error?s.message:String(s);r("error",`${n}: ${a}`,{node:i})}}addEntry(e,n){if(e==="AstNode"){this.entries.add("AstNode",n);return}for(const r of this.reflection.getAllSubTypes(e))this.entries.add(r,n)}getChecks(e,n){let r=Gt(this.entries.get(e)).concat(this.entries.get("AstNode"));return n&&(r=r.filter(i=>n.includes(i.category))),r.map(i=>i.check)}registerBeforeDocument(e,n=this){this.entriesBefore.push(this.wrapPreparationException(e,"An error occurred during set-up of the validation",n))}registerAfterDocument(e,n=this){this.entriesAfter.push(this.wrapPreparationException(e,"An error occurred during tear-down of the validation",n))}wrapPreparationException(e,n,r){return async(i,s,a,o)=>{await this.handleException(()=>e.call(r,i,s,a,o),n,s,i)}}get checksBefore(){return this.entriesBefore}get checksAfter(){return this.entriesAfter}getAllValidationCategories(e){return this.knownCategories}}const dj=Object.freeze({validateNode:!0,validateChildren:!0});class pj{constructor(e){this.validationRegistry=e.validation.ValidationRegistry,this.metadata=e.LanguageMetaData,this.profiler=e.shared.profilers.LangiumProfiler,this.languageId=e.LanguageMetaData.languageId}async validateDocument(e,n={},r=qt.CancellationToken.None){const i=e.parseResult,s=[];if(await Qn(r),(!n.categories||n.categories.includes("built-in"))&&(this.processLexingErrors(i,s,n),n.stopAfterLexingErrors&&s.some(a=>{var o;return((o=a.data)==null?void 0:o.code)===Kr.LexingError})||(this.processParsingErrors(i,s,n),n.stopAfterParsingErrors&&s.some(a=>{var o;return((o=a.data)==null?void 0:o.code)===Kr.ParsingError}))||(this.processLinkingErrors(e,s,n),n.stopAfterLinkingErrors&&s.some(a=>{var o;return((o=a.data)==null?void 0:o.code)===Kr.LinkingError}))))return s;try{s.push(...await this.validateAst(i.value,n,r))}catch(a){if(Yp(a))throw a;console.error("An error occurred during validation:",a)}return await Qn(r),s}processLexingErrors(e,n,r){var s;const i=[...e.lexerErrors,...((s=e.lexerReport)==null?void 0:s.diagnostics)??[]];for(const a of i){const o=a.severity??"error",u={severity:m0(o),range:{start:{line:a.line-1,character:a.column-1},end:{line:a.line-1,character:a.column+a.length-1}},message:a.message,data:mj(o),source:this.getSource()};n.push(u)}}processParsingErrors(e,n,r){for(const i of e.parserErrors){let s;if(isNaN(i.token.startOffset)){if("previousToken"in i){const a=i.previousToken;if(isNaN(a.startOffset)){const o={line:0,character:0};s={start:o,end:o}}else{const o={line:a.endLine-1,character:a.endColumn};s={start:o,end:o}}}}else s=zm(i.token);if(s){const a={severity:m0("error"),range:s,message:i.message,data:bc(Kr.ParsingError),source:this.getSource()};n.push(a)}}}processLinkingErrors(e,n,r){var i;for(const s of e.references){const a=s.error;if(a){const o={node:a.info.container,range:(i=s.$refNode)==null?void 0:i.range,property:a.info.property,index:a.info.index,data:{code:Kr.LinkingError,containerType:a.info.container.$type,property:a.info.property,refText:a.info.reference.$refText}};n.push(this.toDiagnostic("error",a.message,o))}}}async validateAst(e,n,r=qt.CancellationToken.None){const i=[],s=(a,o,u)=>{i.push(this.toDiagnostic(a,o,u))};return await this.validateAstBefore(e,n,s,r),await this.validateAstNodes(e,n,s,r),await this.validateAstAfter(e,n,s,r),i}async validateAstBefore(e,n,r,i=qt.CancellationToken.None){const s=this.validationRegistry.checksBefore;for(const a of s)await Qn(i),await a(e,r,n.categories??[],i)}async validateAstNodes(e,n,r,i=qt.CancellationToken.None){var s;if((s=this.profiler)!=null&&s.isActive("validating")){const a=this.profiler.createTask("validating",this.languageId);a.start();try{const o=is(e).iterator();for(const u of o){a.startSubTask(u.$type);const c=this.validateSingleNodeOptions(u,n);if(c.validateNode)try{const l=this.validationRegistry.getChecks(u.$type,n.categories);for(const h of l)await h(u,r,i)}finally{a.stopSubTask(u.$type)}c.validateChildren||o.prune()}}finally{a.stop()}}else{const a=is(e).iterator();for(const o of a){await Qn(i);const u=this.validateSingleNodeOptions(o,n);if(u.validateNode){const c=this.validationRegistry.getChecks(o.$type,n.categories);for(const l of c)await l(o,r,i)}u.validateChildren||a.prune()}}}validateSingleNodeOptions(e,n){return dj}async validateAstAfter(e,n,r,i=qt.CancellationToken.None){const s=this.validationRegistry.checksAfter;for(const a of s)await Qn(i),await a(e,r,n.categories??[],i)}toDiagnostic(e,n,r){return{message:n,range:gj(r),severity:m0(e),code:r.code,codeDescription:r.codeDescription,tags:r.tags,relatedInformation:r.relatedInformation,data:r.data,source:this.getSource()}}getSource(){return this.metadata.languageId}}function gj(t){if(t.range)return t.range;let e;return typeof t.property=="string"?e=aC(t.node.$cstNode,t.property,t.index):typeof t.keyword=="string"&&(e=_W(t.node.$cstNode,t.keyword,t.index)),e??(e=t.node.$cstNode),e?e.range:{start:{line:0,character:0},end:{line:0,character:0}}}function m0(t){switch(t){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+t)}}function mj(t){switch(t){case"error":return bc(Kr.LexingError);case"warning":return bc(Kr.LexingWarning);case"info":return bc(Kr.LexingInfo);case"hint":return bc(Kr.LexingHint);default:throw new Error("Invalid diagnostic severity: "+t)}}var Kr;(function(t){t.LexingError="lexing-error",t.LexingWarning="lexing-warning",t.LexingInfo="lexing-info",t.LexingHint="lexing-hint",t.ParsingError="parsing-error",t.LinkingError="linking-error"})(Kr||(Kr={}));class yj{constructor(e){this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider}createDescription(e,n,r){const i=r??rs(e);n??(n=this.nameProvider.getName(e));const s=this.astNodeLocator.getAstNodePath(e);if(!n)throw new Error(`Node at path ${s} has no name.`);let a;const o=()=>a??(a=md(this.nameProvider.getNameNode(e)??e.$cstNode));return{node:e,name:n,get nameSegment(){return o()},selectionSegment:md(e.$cstNode),type:e.$type,documentUri:i.uri,path:s}}}class bj{constructor(e){this.nodeLocator=e.workspace.AstNodeLocator}async createDescriptions(e,n=qt.CancellationToken.None){const r=[],i=e.parseResult.value;for(const s of is(i))await Qn(n),pd(s).forEach(a=>{a.reference.error||r.push(...this.createInfoDescriptions(a))});return r}createInfoDescriptions(e){const n=e.reference;if(n.error||!n.$refNode)return[];let r=[];Qr(n)&&n.$nodeDescription?r=[n.$nodeDescription]:Ss(n)&&(r=n.items.map(u=>u.$nodeDescription).filter(u=>u!==void 0));const i=rs(e.container).uri,s=this.nodeLocator.getAstNodePath(e.container),a=[],o=md(n.$refNode);for(const u of r)a.push({sourceUri:i,sourcePath:s,targetUri:u.documentUri,targetPath:u.path,segment:o,local:Tr.equals(u.documentUri,i)});return a}}class vj{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(e){if(e.$container){const n=this.getAstNodePath(e.$container),r=this.getPathSegment(e);return n+this.segmentSeparator+r}return""}getPathSegment({$containerProperty:e,$containerIndex:n}){if(!e)throw new Error("Missing '$containerProperty' in AST node.");return n!==void 0?e+this.indexSeparator+n:e}getAstNode(e,n){return n.split(this.segmentSeparator).reduce((i,s)=>{if(!i||s.length===0)return i;const a=s.indexOf(this.indexSeparator);if(a>0){const o=s.substring(0,a),u=parseInt(s.substring(a+1)),c=i[o];return c==null?void 0:c[u]}return i[s]},e)}}var _j=cu();class Ej{constructor(e){this._ready=new A_,this.onConfigurationSectionUpdateEmitter=new _j.Emitter,this.settings={},this.workspaceConfig=!1,this.serviceRegistry=e.ServiceRegistry}get ready(){return this._ready.promise}initialize(e){var n;this.workspaceConfig=((n=e.capabilities.workspace)==null?void 0:n.configuration)??!1}async initialized(e){if(this.workspaceConfig){if(e.register){const n=this.serviceRegistry.all;e.register({section:n.map(r=>this.toSectionName(r.LanguageMetaData.languageId))})}if(e.fetchConfiguration){const n=this.serviceRegistry.all.map(i=>({section:this.toSectionName(i.LanguageMetaData.languageId)})),r=await e.fetchConfiguration(n);n.forEach((i,s)=>{this.updateSectionConfiguration(i.section,r[s])})}}this._ready.resolve()}updateConfiguration(e){typeof e.settings!="object"||e.settings===null||Object.entries(e.settings).forEach(([n,r])=>{this.updateSectionConfiguration(n,r),this.onConfigurationSectionUpdateEmitter.fire({section:n,configuration:r})})}updateSectionConfiguration(e,n){this.settings[e]=n}async getConfiguration(e,n){await this.ready;const r=this.toSectionName(e);if(this.settings[r])return this.settings[r][n]}toSectionName(e){return`${e}`}get onConfigurationSectionUpdate(){return this.onConfigurationSectionUpdateEmitter.event}}var Xs={},js={},kh={},y0={},Le={},Ix;function g2(){if(Ix)return Le;Ix=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.Message=Le.NotificationType9=Le.NotificationType8=Le.NotificationType7=Le.NotificationType6=Le.NotificationType5=Le.NotificationType4=Le.NotificationType3=Le.NotificationType2=Le.NotificationType1=Le.NotificationType0=Le.NotificationType=Le.RequestType9=Le.RequestType8=Le.RequestType7=Le.RequestType6=Le.RequestType5=Le.RequestType4=Le.RequestType3=Le.RequestType2=Le.RequestType1=Le.RequestType=Le.RequestType0=Le.AbstractMessageSignature=Le.ParameterStructures=Le.ResponseError=Le.ErrorCodes=void 0;const t=Ol();var e;(function(M){M.ParseError=-32700,M.InvalidRequest=-32600,M.MethodNotFound=-32601,M.InvalidParams=-32602,M.InternalError=-32603,M.jsonrpcReservedErrorRangeStart=-32099,M.serverErrorStart=-32099,M.MessageWriteError=-32099,M.MessageReadError=-32098,M.PendingResponseRejected=-32097,M.ConnectionInactive=-32096,M.ServerNotInitialized=-32002,M.UnknownErrorCode=-32001,M.jsonrpcReservedErrorRangeEnd=-32e3,M.serverErrorEnd=-32e3})(e||(Le.ErrorCodes=e={}));class n extends Error{constructor(R,E,w){super(E),this.code=t.number(R)?R:e.UnknownErrorCode,this.data=w,Object.setPrototypeOf(this,n.prototype)}toJson(){const R={code:this.code,message:this.message};return this.data!==void 0&&(R.data=this.data),R}}Le.ResponseError=n;class r{constructor(R){this.kind=R}static is(R){return R===r.auto||R===r.byName||R===r.byPosition}toString(){return this.kind}}Le.ParameterStructures=r,r.auto=new r("auto"),r.byPosition=new r("byPosition"),r.byName=new r("byName");class i{constructor(R,E){this.method=R,this.numberOfParams=E}get parameterStructures(){return r.auto}}Le.AbstractMessageSignature=i;class s extends i{constructor(R){super(R,0)}}Le.RequestType0=s;class a extends i{constructor(R,E=r.auto){super(R,1),this._parameterStructures=E}get parameterStructures(){return this._parameterStructures}}Le.RequestType=a;class o extends i{constructor(R,E=r.auto){super(R,1),this._parameterStructures=E}get parameterStructures(){return this._parameterStructures}}Le.RequestType1=o;class u extends i{constructor(R){super(R,2)}}Le.RequestType2=u;class c extends i{constructor(R){super(R,3)}}Le.RequestType3=c;class l extends i{constructor(R){super(R,4)}}Le.RequestType4=l;class h extends i{constructor(R){super(R,5)}}Le.RequestType5=h;class d extends i{constructor(R){super(R,6)}}Le.RequestType6=d;class f extends i{constructor(R){super(R,7)}}Le.RequestType7=f;class p extends i{constructor(R){super(R,8)}}Le.RequestType8=p;class g extends i{constructor(R){super(R,9)}}Le.RequestType9=g;class m extends i{constructor(R,E=r.auto){super(R,1),this._parameterStructures=E}get parameterStructures(){return this._parameterStructures}}Le.NotificationType=m;class y extends i{constructor(R){super(R,0)}}Le.NotificationType0=y;class v extends i{constructor(R,E=r.auto){super(R,1),this._parameterStructures=E}get parameterStructures(){return this._parameterStructures}}Le.NotificationType1=v;class b extends i{constructor(R){super(R,2)}}Le.NotificationType2=b;class _ extends i{constructor(R){super(R,3)}}Le.NotificationType3=_;class k extends i{constructor(R){super(R,4)}}Le.NotificationType4=k;class C extends i{constructor(R){super(R,5)}}Le.NotificationType5=C;class x extends i{constructor(R){super(R,6)}}Le.NotificationType6=x;class S extends i{constructor(R){super(R,7)}}Le.NotificationType7=S;class O extends i{constructor(R){super(R,8)}}Le.NotificationType8=O;class D extends i{constructor(R){super(R,9)}}Le.NotificationType9=D;var I;return(function(M){function R(T){const A=T;return A&&t.string(A.method)&&(t.string(A.id)||t.number(A.id))}M.isRequest=R;function E(T){const A=T;return A&&t.string(A.method)&&T.id===void 0}M.isNotification=E;function w(T){const A=T;return A&&(A.result!==void 0||!!A.error)&&(t.string(A.id)||t.number(A.id)||A.id===null)}M.isResponse=w})(I||(Le.Message=I={})),Le}var Gi={},Dx;function m2(){if(Dx)return Gi;Dx=1;var t;Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.LRUCache=Gi.LinkedMap=Gi.Touch=void 0;var e;(function(i){i.None=0,i.First=1,i.AsOld=i.First,i.Last=2,i.AsNew=i.Last})(e||(Gi.Touch=e={}));class n{constructor(){this[t]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var s;return(s=this._head)==null?void 0:s.value}get last(){var s;return(s=this._tail)==null?void 0:s.value}has(s){return this._map.has(s)}get(s,a=e.None){const o=this._map.get(s);if(o)return a!==e.None&&this.touch(o,a),o.value}set(s,a,o=e.None){let u=this._map.get(s);if(u)u.value=a,o!==e.None&&this.touch(u,o);else{switch(u={key:s,value:a,next:void 0,previous:void 0},o){case e.None:this.addItemLast(u);break;case e.First:this.addItemFirst(u);break;case e.Last:this.addItemLast(u);break;default:this.addItemLast(u);break}this._map.set(s,u),this._size++}return this}delete(s){return!!this.remove(s)}remove(s){const a=this._map.get(s);if(a)return this._map.delete(s),this.removeItem(a),this._size--,a.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const s=this._head;return this._map.delete(s.key),this.removeItem(s),this._size--,s.value}forEach(s,a){const o=this._state;let u=this._head;for(;u;){if(a?s.bind(a)(u.value,u.key,this):s(u.value,u.key,this),this._state!==o)throw new Error("LinkedMap got modified during iteration.");u=u.next}}keys(){const s=this._state;let a=this._head;const o={[Symbol.iterator]:()=>o,next:()=>{if(this._state!==s)throw new Error("LinkedMap got modified during iteration.");if(a){const u={value:a.key,done:!1};return a=a.next,u}else return{value:void 0,done:!0}}};return o}values(){const s=this._state;let a=this._head;const o={[Symbol.iterator]:()=>o,next:()=>{if(this._state!==s)throw new Error("LinkedMap got modified during iteration.");if(a){const u={value:a.value,done:!1};return a=a.next,u}else return{value:void 0,done:!0}}};return o}entries(){const s=this._state;let a=this._head;const o={[Symbol.iterator]:()=>o,next:()=>{if(this._state!==s)throw new Error("LinkedMap got modified during iteration.");if(a){const u={value:[a.key,a.value],done:!1};return a=a.next,u}else return{value:void 0,done:!0}}};return o}[(t=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(s){if(s>=this.size)return;if(s===0){this.clear();return}let a=this._head,o=this.size;for(;a&&o>s;)this._map.delete(a.key),a=a.next,o--;this._head=a,this._size=o,a&&(a.previous=void 0),this._state++}addItemFirst(s){if(!this._head&&!this._tail)this._tail=s;else if(this._head)s.next=this._head,this._head.previous=s;else throw new Error("Invalid list");this._head=s,this._state++}addItemLast(s){if(!this._head&&!this._tail)this._head=s;else if(this._tail)s.previous=this._tail,this._tail.next=s;else throw new Error("Invalid list");this._tail=s,this._state++}removeItem(s){if(s===this._head&&s===this._tail)this._head=void 0,this._tail=void 0;else if(s===this._head){if(!s.next)throw new Error("Invalid list");s.next.previous=void 0,this._head=s.next}else if(s===this._tail){if(!s.previous)throw new Error("Invalid list");s.previous.next=void 0,this._tail=s.previous}else{const a=s.next,o=s.previous;if(!a||!o)throw new Error("Invalid list");a.previous=o,o.next=a}s.next=void 0,s.previous=void 0,this._state++}touch(s,a){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(a!==e.First&&a!==e.Last)){if(a===e.First){if(s===this._head)return;const o=s.next,u=s.previous;s===this._tail?(u.next=void 0,this._tail=u):(o.previous=u,u.next=o),s.previous=void 0,s.next=this._head,this._head.previous=s,this._head=s,this._state++}else if(a===e.Last){if(s===this._tail)return;const o=s.next,u=s.previous;s===this._head?(o.previous=void 0,this._head=o):(o.previous=u,u.next=o),s.next=void 0,s.previous=this._tail,this._tail.next=s,this._tail=s,this._state++}}}toJSON(){const s=[];return this.forEach((a,o)=>{s.push([o,a])}),s}fromJSON(s){this.clear();for(const[a,o]of s)this.set(a,o)}}Gi.LinkedMap=n;class r extends n{constructor(s,a=1){super(),this._limit=s,this._ratio=Math.min(Math.max(0,a),1)}get limit(){return this._limit}set limit(s){this._limit=s,this.checkTrim()}get ratio(){return this._ratio}set ratio(s){this._ratio=Math.min(Math.max(0,s),1),this.checkTrim()}get(s,a=e.AsNew){return super.get(s,a)}peek(s){return super.get(s,e.None)}set(s,a){return super.set(s,a,e.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}return Gi.LRUCache=r,Gi}var $u={},Lx;function wj(){if(Lx)return $u;Lx=1,Object.defineProperty($u,"__esModule",{value:!0}),$u.Disposable=void 0;var t;return(function(e){function n(r){return{dispose:r}}e.create=n})(t||($u.Disposable=t={})),$u}var Ks={},Px;function xj(){if(Px)return Ks;Px=1,Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.SharedArrayReceiverStrategy=Ks.SharedArraySenderStrategy=void 0;const t=Wp();var e;(function(a){a.Continue=0,a.Cancelled=1})(e||(e={}));class n{constructor(){this.buffers=new Map}enableCancellation(o){if(o.id===null)return;const u=new SharedArrayBuffer(4),c=new Int32Array(u,0,1);c[0]=e.Continue,this.buffers.set(o.id,u),o.$cancellationData=u}async sendCancellation(o,u){const c=this.buffers.get(u);if(c===void 0)return;const l=new Int32Array(c,0,1);Atomics.store(l,0,e.Cancelled)}cleanup(o){this.buffers.delete(o)}dispose(){this.buffers.clear()}}Ks.SharedArraySenderStrategy=n;class r{constructor(o){this.data=new Int32Array(o,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===e.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}}class i{constructor(o){this.token=new r(o)}cancel(){}dispose(){}}class s{constructor(){this.kind="request"}createCancellationTokenSource(o){const u=o.$cancellationData;return u===void 0?new t.CancellationTokenSource:new i(u)}}return Ks.SharedArrayReceiverStrategy=s,Ks}var zi={},Uu={},Fx;function y2(){if(Fx)return Uu;Fx=1,Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.Semaphore=void 0;const t=Wa();class e{constructor(r=1){if(r<=0)throw new Error("Capacity must be greater than 0");this._capacity=r,this._active=0,this._waiting=[]}lock(r){return new Promise((i,s)=>{this._waiting.push({thunk:r,resolve:i,reject:s}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,t.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;const r=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const i=r.thunk();i instanceof Promise?i.then(s=>{this._active--,r.resolve(s),this.runNext()},s=>{this._active--,r.reject(s),this.runNext()}):(this._active--,r.resolve(i),this.runNext())}catch(i){this._active--,r.reject(i),this.runNext()}}}return Uu.Semaphore=e,Uu}var $x;function Tj(){if($x)return zi;$x=1,Object.defineProperty(zi,"__esModule",{value:!0}),zi.ReadableStreamMessageReader=zi.AbstractMessageReader=zi.MessageReader=void 0;const t=Wa(),e=Ol(),n=cu(),r=y2();var i;(function(u){function c(l){let h=l;return h&&e.func(h.listen)&&e.func(h.dispose)&&e.func(h.onError)&&e.func(h.onClose)&&e.func(h.onPartialMessage)}u.is=c})(i||(zi.MessageReader=i={}));class s{constructor(){this.errorEmitter=new n.Emitter,this.closeEmitter=new n.Emitter,this.partialMessageEmitter=new n.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(c){this.errorEmitter.fire(this.asError(c))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(c){this.partialMessageEmitter.fire(c)}asError(c){return c instanceof Error?c:new Error(`Reader received error. Reason: ${e.string(c.message)?c.message:"unknown"}`)}}zi.AbstractMessageReader=s;var a;(function(u){function c(l){let h,d;const f=new Map;let p;const g=new Map;if(l===void 0||typeof l=="string")h=l??"utf-8";else{if(h=l.charset??"utf-8",l.contentDecoder!==void 0&&(d=l.contentDecoder,f.set(d.name,d)),l.contentDecoders!==void 0)for(const m of l.contentDecoders)f.set(m.name,m);if(l.contentTypeDecoder!==void 0&&(p=l.contentTypeDecoder,g.set(p.name,p)),l.contentTypeDecoders!==void 0)for(const m of l.contentTypeDecoders)g.set(m.name,m)}return p===void 0&&(p=(0,t.default)().applicationJson.decoder,g.set(p.name,p)),{charset:h,contentDecoder:d,contentDecoders:f,contentTypeDecoder:p,contentTypeDecoders:g}}u.fromOptions=c})(a||(a={}));class o extends s{constructor(c,l){super(),this.readable=c,this.options=a.fromOptions(l),this.buffer=(0,t.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new r.Semaphore(1)}set partialMessageTimeout(c){this._partialMessageTimeout=c}get partialMessageTimeout(){return this._partialMessageTimeout}listen(c){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=c;const l=this.readable.onData(h=>{this.onData(h)});return this.readable.onError(h=>this.fireError(h)),this.readable.onClose(()=>this.fireClose()),l}onData(c){try{for(this.buffer.append(c);;){if(this.nextMessageLength===-1){const h=this.buffer.tryReadHeaders(!0);if(!h)return;const d=h.get("content-length");if(!d){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(h))}`));return}const f=parseInt(d);if(isNaN(f)){this.fireError(new Error(`Content-Length value must be a number. Got ${d}`));return}this.nextMessageLength=f}const l=this.buffer.tryReadBody(this.nextMessageLength);if(l===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{const h=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(l):l,d=await this.options.contentTypeDecoder.decode(h,this.options);this.callback(d)}).catch(h=>{this.fireError(h)})}}catch(l){this.fireError(l)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,t.default)().timer.setTimeout((c,l)=>{this.partialMessageTimer=void 0,c===this.messageToken&&(this.firePartialMessage({messageToken:c,waitingTime:l}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}return zi.ReadableStreamMessageReader=o,zi}var qi={},Ux;function kj(){if(Ux)return qi;Ux=1,Object.defineProperty(qi,"__esModule",{value:!0}),qi.WriteableStreamMessageWriter=qi.AbstractMessageWriter=qi.MessageWriter=void 0;const t=Wa(),e=Ol(),n=y2(),r=cu(),i="Content-Length: ",s=`\r
`;var a;(function(l){function h(d){let f=d;return f&&e.func(f.dispose)&&e.func(f.onClose)&&e.func(f.onError)&&e.func(f.write)}l.is=h})(a||(qi.MessageWriter=a={}));class o{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(h,d,f){this.errorEmitter.fire([this.asError(h),d,f])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(h){return h instanceof Error?h:new Error(`Writer received error. Reason: ${e.string(h.message)?h.message:"unknown"}`)}}qi.AbstractMessageWriter=o;var u;(function(l){function h(d){return d===void 0||typeof d=="string"?{charset:d??"utf-8",contentTypeEncoder:(0,t.default)().applicationJson.encoder}:{charset:d.charset??"utf-8",contentEncoder:d.contentEncoder,contentTypeEncoder:d.contentTypeEncoder??(0,t.default)().applicationJson.encoder}}l.fromOptions=h})(u||(u={}));class c extends o{constructor(h,d){super(),this.writable=h,this.options=u.fromOptions(d),this.errorCount=0,this.writeSemaphore=new n.Semaphore(1),this.writable.onError(f=>this.fireError(f)),this.writable.onClose(()=>this.fireClose())}async write(h){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(h,this.options).then(f=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(f):f).then(f=>{const p=[];return p.push(i,f.byteLength.toString(),s),p.push(s),this.doWrite(h,p,f)},f=>{throw this.fireError(f),f}))}async doWrite(h,d,f){try{return await this.writable.write(d.join(""),"ascii"),this.writable.write(f)}catch(p){return this.handleError(p,h),Promise.reject(p)}}handleError(h,d){this.errorCount++,this.fireError(h,d,this.errorCount)}end(){this.writable.end()}}return qi.WriteableStreamMessageWriter=c,qi}var Bu={},Bx;function Aj(){if(Bx)return Bu;Bx=1,Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.AbstractMessageBuffer=void 0;const t=13,e=10,n=`\r
`;class r{constructor(s="utf-8"){this._encoding=s,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(s){const a=typeof s=="string"?this.fromString(s,this._encoding):s;this._chunks.push(a),this._totalLength+=a.byteLength}tryReadHeaders(s=!1){if(this._chunks.length===0)return;let a=0,o=0,u=0,c=0;e:for(;o<this._chunks.length;){const f=this._chunks[o];for(u=0;u<f.length;){switch(f[u]){case t:switch(a){case 0:a=1;break;case 2:a=3;break;default:a=0}break;case e:switch(a){case 1:a=2;break;case 3:a=4,u++;break e;default:a=0}break;default:a=0}u++}c+=f.byteLength,o++}if(a!==4)return;const l=this._read(c+u),h=new Map,d=this.toString(l,"ascii").split(n);if(d.length<2)return h;for(let f=0;f<d.length-2;f++){const p=d[f],g=p.indexOf(":");if(g===-1)throw new Error(`Message header must separate key and value using ':'
${p}`);const m=p.substr(0,g),y=p.substr(g+1).trim();h.set(s?m.toLowerCase():m,y)}return h}tryReadBody(s){if(!(this._totalLength<s))return this._read(s)}get numberOfBytes(){return this._totalLength}_read(s){if(s===0)return this.emptyBuffer();if(s>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===s){const c=this._chunks[0];return this._chunks.shift(),this._totalLength-=s,this.asNative(c)}if(this._chunks[0].byteLength>s){const c=this._chunks[0],l=this.asNative(c,s);return this._chunks[0]=c.slice(s),this._totalLength-=s,l}const a=this.allocNative(s);let o=0,u=0;for(;s>0;){const c=this._chunks[u];if(c.byteLength>s){const l=c.slice(0,s);a.set(l,o),o+=s,this._chunks[u]=c.slice(s),this._totalLength-=s,s-=s}else a.set(c,o),o+=c.byteLength,this._chunks.shift(),this._totalLength-=c.byteLength,s-=c.byteLength}return a}}return Bu.AbstractMessageBuffer=r,Bu}var b0={},Gx;function Nj(){return Gx||(Gx=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.ConnectionOptions=t.MessageStrategy=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.RequestCancellationReceiverStrategy=t.IdCancellationReceiverStrategy=t.ConnectionStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.TraceValues=t.Trace=t.NullLogger=t.ProgressType=t.ProgressToken=void 0;const e=Wa(),n=Ol(),r=g2(),i=m2(),s=cu(),a=Wp();var o;(function(R){R.type=new r.NotificationType("$/cancelRequest")})(o||(o={}));var u;(function(R){function E(w){return typeof w=="string"||typeof w=="number"}R.is=E})(u||(t.ProgressToken=u={}));var c;(function(R){R.type=new r.NotificationType("$/progress")})(c||(c={}));class l{constructor(){}}t.ProgressType=l;var h;(function(R){function E(w){return n.func(w)}R.is=E})(h||(h={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var d;(function(R){R[R.Off=0]="Off",R[R.Messages=1]="Messages",R[R.Compact=2]="Compact",R[R.Verbose=3]="Verbose"})(d||(t.Trace=d={}));var f;(function(R){R.Off="off",R.Messages="messages",R.Compact="compact",R.Verbose="verbose"})(f||(t.TraceValues=f={})),(function(R){function E(T){if(!n.string(T))return R.Off;switch(T=T.toLowerCase(),T){case"off":return R.Off;case"messages":return R.Messages;case"compact":return R.Compact;case"verbose":return R.Verbose;default:return R.Off}}R.fromString=E;function w(T){switch(T){case R.Off:return"off";case R.Messages:return"messages";case R.Compact:return"compact";case R.Verbose:return"verbose";default:return"off"}}R.toString=w})(d||(t.Trace=d={}));var p;(function(R){R.Text="text",R.JSON="json"})(p||(t.TraceFormat=p={})),(function(R){function E(w){return n.string(w)?(w=w.toLowerCase(),w==="json"?R.JSON:R.Text):R.Text}R.fromString=E})(p||(t.TraceFormat=p={}));var g;(function(R){R.type=new r.NotificationType("$/setTrace")})(g||(t.SetTraceNotification=g={}));var m;(function(R){R.type=new r.NotificationType("$/logTrace")})(m||(t.LogTraceNotification=m={}));var y;(function(R){R[R.Closed=1]="Closed",R[R.Disposed=2]="Disposed",R[R.AlreadyListening=3]="AlreadyListening"})(y||(t.ConnectionErrors=y={}));class v extends Error{constructor(E,w){super(w),this.code=E,Object.setPrototypeOf(this,v.prototype)}}t.ConnectionError=v;var b;(function(R){function E(w){const T=w;return T&&n.func(T.cancelUndispatched)}R.is=E})(b||(t.ConnectionStrategy=b={}));var _;(function(R){function E(w){const T=w;return T&&(T.kind===void 0||T.kind==="id")&&n.func(T.createCancellationTokenSource)&&(T.dispose===void 0||n.func(T.dispose))}R.is=E})(_||(t.IdCancellationReceiverStrategy=_={}));var k;(function(R){function E(w){const T=w;return T&&T.kind==="request"&&n.func(T.createCancellationTokenSource)&&(T.dispose===void 0||n.func(T.dispose))}R.is=E})(k||(t.RequestCancellationReceiverStrategy=k={}));var C;(function(R){R.Message=Object.freeze({createCancellationTokenSource(w){return new a.CancellationTokenSource}});function E(w){return _.is(w)||k.is(w)}R.is=E})(C||(t.CancellationReceiverStrategy=C={}));var x;(function(R){R.Message=Object.freeze({sendCancellation(w,T){return w.sendNotification(o.type,{id:T})},cleanup(w){}});function E(w){const T=w;return T&&n.func(T.sendCancellation)&&n.func(T.cleanup)}R.is=E})(x||(t.CancellationSenderStrategy=x={}));var S;(function(R){R.Message=Object.freeze({receiver:C.Message,sender:x.Message});function E(w){const T=w;return T&&C.is(T.receiver)&&x.is(T.sender)}R.is=E})(S||(t.CancellationStrategy=S={}));var O;(function(R){function E(w){const T=w;return T&&n.func(T.handleMessage)}R.is=E})(O||(t.MessageStrategy=O={}));var D;(function(R){function E(w){const T=w;return T&&(S.is(T.cancellationStrategy)||b.is(T.connectionStrategy)||O.is(T.messageStrategy))}R.is=E})(D||(t.ConnectionOptions=D={}));var I;(function(R){R[R.New=1]="New",R[R.Listening=2]="Listening",R[R.Closed=3]="Closed",R[R.Disposed=4]="Disposed"})(I||(I={}));function M(R,E,w,T){const A=w!==void 0?w:t.NullLogger;let N=0,P=0,F=0;const B="2.0";let H;const Y=new Map;let Q;const j=new Map,ee=new Map;let ue,se=new i.LinkedMap,z=new Map,X=new Set,ie=new Map,q=d.Off,be=p.Text,J,Ie=I.New;const ge=new s.Emitter,mt=new s.Emitter,ht=new s.Emitter,Je=new s.Emitter,Ft=new s.Emitter,St=T&&T.cancellationStrategy?T.cancellationStrategy:S.Message;function Pn(U){if(U===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+U.toString()}function Lt(U){return U===null?"res-unknown-"+(++F).toString():"res-"+U.toString()}function $t(){return"not-"+(++P).toString()}function Rt(U,ne){r.Message.isRequest(ne)?U.set(Pn(ne.id),ne):r.Message.isResponse(ne)?U.set(Lt(ne.id),ne):U.set($t(),ne)}function wt(U){}function xt(){return Ie===I.Listening}function dn(){return Ie===I.Closed}function Ct(){return Ie===I.Disposed}function Jt(){(Ie===I.New||Ie===I.Listening)&&(Ie=I.Closed,mt.fire(void 0))}function Yt(U){ge.fire([U,void 0,void 0])}function oe(U){ge.fire(U)}R.onClose(Jt),R.onError(Yt),E.onClose(Jt),E.onError(oe);function ve(){ue||se.size===0||(ue=(0,e.default)().timer.setImmediate(()=>{ue=void 0,Re()}))}function Ne(U){r.Message.isRequest(U)?Ue(U):r.Message.isNotification(U)?nt(U):r.Message.isResponse(U)?st(U):Ce(U)}function Re(){if(se.size===0)return;const U=se.shift();try{const ne=T==null?void 0:T.messageStrategy;O.is(ne)?ne.handleMessage(U,Ne):Ne(U)}finally{ve()}}const Ae=U=>{try{if(r.Message.isNotification(U)&&U.method===o.type.method){const ne=U.params.id,fe=Pn(ne),xe=se.get(fe);if(r.Message.isRequest(xe)){const tt=T==null?void 0:T.connectionStrategy,Qe=tt&&tt.cancelUndispatched?tt.cancelUndispatched(xe,wt):void 0;if(Qe&&(Qe.error!==void 0||Qe.result!==void 0)){se.delete(fe),ie.delete(ne),Qe.id=xe.id,$(Qe,U.method,Date.now()),E.write(Qe).catch(()=>A.error("Sending response for canceled message failed."));return}}const at=ie.get(ne);if(at!==void 0){at.cancel(),K(U);return}else X.add(ne)}Rt(se,U)}finally{ve()}};function Ue(U){if(Ct())return;function ne(ce,G,te){const pe={jsonrpc:B,id:U.id};ce instanceof r.ResponseError?pe.error=ce.toJson():pe.result=ce===void 0?null:ce,$(pe,G,te),E.write(pe).catch(()=>A.error("Sending response failed."))}function fe(ce,G,te){const pe={jsonrpc:B,id:U.id,error:ce.toJson()};$(pe,G,te),E.write(pe).catch(()=>A.error("Sending response failed."))}function xe(ce,G,te){ce===void 0&&(ce=null);const pe={jsonrpc:B,id:U.id,result:ce};$(pe,G,te),E.write(pe).catch(()=>A.error("Sending response failed."))}Z(U);const at=Y.get(U.method);let tt,Qe;at&&(tt=at.type,Qe=at.handler);const bt=Date.now();if(Qe||H){const ce=U.id??String(Date.now()),G=_.is(St.receiver)?St.receiver.createCancellationTokenSource(ce):St.receiver.createCancellationTokenSource(U);U.id!==null&&X.has(U.id)&&G.cancel(),U.id!==null&&ie.set(ce,G);try{let te;if(Qe)if(U.params===void 0){if(tt!==void 0&&tt.numberOfParams!==0){fe(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${U.method} defines ${tt.numberOfParams} params but received none.`),U.method,bt);return}te=Qe(G.token)}else if(Array.isArray(U.params)){if(tt!==void 0&&tt.parameterStructures===r.ParameterStructures.byName){fe(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${U.method} defines parameters by name but received parameters by position`),U.method,bt);return}te=Qe(...U.params,G.token)}else{if(tt!==void 0&&tt.parameterStructures===r.ParameterStructures.byPosition){fe(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${U.method} defines parameters by position but received parameters by name`),U.method,bt);return}te=Qe(U.params,G.token)}else H&&(te=H(U.method,U.params,G.token));const pe=te;te?pe.then?pe.then(Ve=>{ie.delete(ce),ne(Ve,U.method,bt)},Ve=>{ie.delete(ce),Ve instanceof r.ResponseError?fe(Ve,U.method,bt):Ve&&n.string(Ve.message)?fe(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${U.method} failed with message: ${Ve.message}`),U.method,bt):fe(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${U.method} failed unexpectedly without providing any details.`),U.method,bt)}):(ie.delete(ce),ne(te,U.method,bt)):(ie.delete(ce),xe(te,U.method,bt))}catch(te){ie.delete(ce),te instanceof r.ResponseError?ne(te,U.method,bt):te&&n.string(te.message)?fe(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${U.method} failed with message: ${te.message}`),U.method,bt):fe(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${U.method} failed unexpectedly without providing any details.`),U.method,bt)}}else fe(new r.ResponseError(r.ErrorCodes.MethodNotFound,`Unhandled method ${U.method}`),U.method,bt)}function st(U){if(!Ct())if(U.id===null)U.error?A.error(`Received response message without id: Error is: 
${JSON.stringify(U.error,void 0,4)}`):A.error("Received response message without id. No further error information provided.");else{const ne=U.id,fe=z.get(ne);if(ae(U,fe),fe!==void 0){z.delete(ne);try{if(U.error){const xe=U.error;fe.reject(new r.ResponseError(xe.code,xe.message,xe.data))}else if(U.result!==void 0)fe.resolve(U.result);else throw new Error("Should never happen.")}catch(xe){xe.message?A.error(`Response handler '${fe.method}' failed with message: ${xe.message}`):A.error(`Response handler '${fe.method}' failed unexpectedly.`)}}}}function nt(U){if(Ct())return;let ne,fe;if(U.method===o.type.method){const xe=U.params.id;X.delete(xe),K(U);return}else{const xe=j.get(U.method);xe&&(fe=xe.handler,ne=xe.type)}if(fe||Q)try{if(K(U),fe)if(U.params===void 0)ne!==void 0&&ne.numberOfParams!==0&&ne.parameterStructures!==r.ParameterStructures.byName&&A.error(`Notification ${U.method} defines ${ne.numberOfParams} params but received none.`),fe();else if(Array.isArray(U.params)){const xe=U.params;U.method===c.type.method&&xe.length===2&&u.is(xe[0])?fe({token:xe[0],value:xe[1]}):(ne!==void 0&&(ne.parameterStructures===r.ParameterStructures.byName&&A.error(`Notification ${U.method} defines parameters by name but received parameters by position`),ne.numberOfParams!==U.params.length&&A.error(`Notification ${U.method} defines ${ne.numberOfParams} params but received ${xe.length} arguments`)),fe(...xe))}else ne!==void 0&&ne.parameterStructures===r.ParameterStructures.byPosition&&A.error(`Notification ${U.method} defines parameters by position but received parameters by name`),fe(U.params);else Q&&Q(U.method,U.params)}catch(xe){xe.message?A.error(`Notification handler '${U.method}' failed with message: ${xe.message}`):A.error(`Notification handler '${U.method}' failed unexpectedly.`)}else ht.fire(U)}function Ce(U){if(!U){A.error("Received empty message.");return}A.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(U,null,4)}`);const ne=U;if(n.string(ne.id)||n.number(ne.id)){const fe=ne.id,xe=z.get(fe);xe&&xe.reject(new Error("The received response has neither a result nor an error property."))}}function _e(U){if(U!=null)switch(q){case d.Verbose:return JSON.stringify(U,null,4);case d.Compact:return JSON.stringify(U);default:return}}function et(U){if(!(q===d.Off||!J))if(be===p.Text){let ne;(q===d.Verbose||q===d.Compact)&&U.params&&(ne=`Params: ${_e(U.params)}

`),J.log(`Sending request '${U.method} - (${U.id})'.`,ne)}else Me("send-request",U)}function Xe(U){if(!(q===d.Off||!J))if(be===p.Text){let ne;(q===d.Verbose||q===d.Compact)&&(U.params?ne=`Params: ${_e(U.params)}

`:ne=`No parameters provided.

`),J.log(`Sending notification '${U.method}'.`,ne)}else Me("send-notification",U)}function $(U,ne,fe){if(!(q===d.Off||!J))if(be===p.Text){let xe;(q===d.Verbose||q===d.Compact)&&(U.error&&U.error.data?xe=`Error data: ${_e(U.error.data)}

`:U.result?xe=`Result: ${_e(U.result)}

`:U.error===void 0&&(xe=`No result returned.

`)),J.log(`Sending response '${ne} - (${U.id})'. Processing request took ${Date.now()-fe}ms`,xe)}else Me("send-response",U)}function Z(U){if(!(q===d.Off||!J))if(be===p.Text){let ne;(q===d.Verbose||q===d.Compact)&&U.params&&(ne=`Params: ${_e(U.params)}

`),J.log(`Received request '${U.method} - (${U.id})'.`,ne)}else Me("receive-request",U)}function K(U){if(!(q===d.Off||!J||U.method===m.type.method))if(be===p.Text){let ne;(q===d.Verbose||q===d.Compact)&&(U.params?ne=`Params: ${_e(U.params)}

`:ne=`No parameters provided.

`),J.log(`Received notification '${U.method}'.`,ne)}else Me("receive-notification",U)}function ae(U,ne){if(!(q===d.Off||!J))if(be===p.Text){let fe;if((q===d.Verbose||q===d.Compact)&&(U.error&&U.error.data?fe=`Error data: ${_e(U.error.data)}

`:U.result?fe=`Result: ${_e(U.result)}

`:U.error===void 0&&(fe=`No result returned.

`)),ne){const xe=U.error?` Request failed: ${U.error.message} (${U.error.code}).`:"";J.log(`Received response '${ne.method} - (${U.id})' in ${Date.now()-ne.timerStart}ms.${xe}`,fe)}else J.log(`Received response ${U.id} without active response promise.`,fe)}else Me("receive-response",U)}function Me(U,ne){if(!J||q===d.Off)return;const fe={isLSPMessage:!0,type:U,message:ne,timestamp:Date.now()};J.log(fe)}function ye(){if(dn())throw new v(y.Closed,"Connection is closed.");if(Ct())throw new v(y.Disposed,"Connection is disposed.")}function re(){if(xt())throw new v(y.AlreadyListening,"Connection is already listening")}function de(){if(!xt())throw new Error("Call listen() first.")}function le(U){return U===void 0?null:U}function Oe(U){if(U!==null)return U}function L(U){return U!=null&&!Array.isArray(U)&&typeof U=="object"}function $e(U,ne){switch(U){case r.ParameterStructures.auto:return L(ne)?Oe(ne):[le(ne)];case r.ParameterStructures.byName:if(!L(ne))throw new Error("Received parameters by name but param is not an object literal.");return Oe(ne);case r.ParameterStructures.byPosition:return[le(ne)];default:throw new Error(`Unknown parameter structure ${U.toString()}`)}}function Ze(U,ne){let fe;const xe=U.numberOfParams;switch(xe){case 0:fe=void 0;break;case 1:fe=$e(U.parameterStructures,ne[0]);break;default:fe=[];for(let at=0;at<ne.length&&at<xe;at++)fe.push(le(ne[at]));if(ne.length<xe)for(let at=ne.length;at<xe;at++)fe.push(null);break}return fe}const Ee={sendNotification:(U,...ne)=>{ye();let fe,xe;if(n.string(U)){fe=U;const tt=ne[0];let Qe=0,bt=r.ParameterStructures.auto;r.ParameterStructures.is(tt)&&(Qe=1,bt=tt);let ce=ne.length;const G=ce-Qe;switch(G){case 0:xe=void 0;break;case 1:xe=$e(bt,ne[Qe]);break;default:if(bt===r.ParameterStructures.byName)throw new Error(`Received ${G} parameters for 'by Name' notification parameter structure.`);xe=ne.slice(Qe,ce).map(te=>le(te));break}}else{const tt=ne;fe=U.method,xe=Ze(U,tt)}const at={jsonrpc:B,method:fe,params:xe};return Xe(at),E.write(at).catch(tt=>{throw A.error("Sending notification failed."),tt})},onNotification:(U,ne)=>{ye();let fe;return n.func(U)?Q=U:ne&&(n.string(U)?(fe=U,j.set(U,{type:void 0,handler:ne})):(fe=U.method,j.set(U.method,{type:U,handler:ne}))),{dispose:()=>{fe!==void 0?j.delete(fe):Q=void 0}}},onProgress:(U,ne,fe)=>{if(ee.has(ne))throw new Error(`Progress handler for token ${ne} already registered`);return ee.set(ne,fe),{dispose:()=>{ee.delete(ne)}}},sendProgress:(U,ne,fe)=>Ee.sendNotification(c.type,{token:ne,value:fe}),onUnhandledProgress:Je.event,sendRequest:(U,...ne)=>{ye(),de();let fe,xe,at;if(n.string(U)){fe=U;const ce=ne[0],G=ne[ne.length-1];let te=0,pe=r.ParameterStructures.auto;r.ParameterStructures.is(ce)&&(te=1,pe=ce);let Ve=ne.length;a.CancellationToken.is(G)&&(Ve=Ve-1,at=G);const ft=Ve-te;switch(ft){case 0:xe=void 0;break;case 1:xe=$e(pe,ne[te]);break;default:if(pe===r.ParameterStructures.byName)throw new Error(`Received ${ft} parameters for 'by Name' request parameter structure.`);xe=ne.slice(te,Ve).map(Ot=>le(Ot));break}}else{const ce=ne;fe=U.method,xe=Ze(U,ce);const G=U.numberOfParams;at=a.CancellationToken.is(ce[G])?ce[G]:void 0}const tt=N++;let Qe;at&&(Qe=at.onCancellationRequested(()=>{const ce=St.sender.sendCancellation(Ee,tt);return ce===void 0?(A.log(`Received no promise from cancellation strategy when cancelling id ${tt}`),Promise.resolve()):ce.catch(()=>{A.log(`Sending cancellation messages for id ${tt} failed`)})}));const bt={jsonrpc:B,id:tt,method:fe,params:xe};return et(bt),typeof St.sender.enableCancellation=="function"&&St.sender.enableCancellation(bt),new Promise(async(ce,G)=>{const te=ft=>{ce(ft),St.sender.cleanup(tt),Qe==null||Qe.dispose()},pe=ft=>{G(ft),St.sender.cleanup(tt),Qe==null||Qe.dispose()},Ve={method:fe,timerStart:Date.now(),resolve:te,reject:pe};try{await E.write(bt),z.set(tt,Ve)}catch(ft){throw A.error("Sending request failed."),Ve.reject(new r.ResponseError(r.ErrorCodes.MessageWriteError,ft.message?ft.message:"Unknown reason")),ft}})},onRequest:(U,ne)=>{ye();let fe=null;return h.is(U)?(fe=void 0,H=U):n.string(U)?(fe=null,ne!==void 0&&(fe=U,Y.set(U,{handler:ne,type:void 0}))):ne!==void 0&&(fe=U.method,Y.set(U.method,{type:U,handler:ne})),{dispose:()=>{fe!==null&&(fe!==void 0?Y.delete(fe):H=void 0)}}},hasPendingResponse:()=>z.size>0,trace:async(U,ne,fe)=>{let xe=!1,at=p.Text;fe!==void 0&&(n.boolean(fe)?xe=fe:(xe=fe.sendNotification||!1,at=fe.traceFormat||p.Text)),q=U,be=at,q===d.Off?J=void 0:J=ne,xe&&!dn()&&!Ct()&&await Ee.sendNotification(g.type,{value:d.toString(U)})},onError:ge.event,onClose:mt.event,onUnhandledNotification:ht.event,onDispose:Ft.event,end:()=>{E.end()},dispose:()=>{if(Ct())return;Ie=I.Disposed,Ft.fire(void 0);const U=new r.ResponseError(r.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const ne of z.values())ne.reject(U);z=new Map,ie=new Map,X=new Set,se=new i.LinkedMap,n.func(E.dispose)&&E.dispose(),n.func(R.dispose)&&R.dispose()},listen:()=>{ye(),re(),Ie=I.Listening,R.listen(Ae)},inspect:()=>{(0,e.default)().console.log("inspect")}};return Ee.onNotification(m.type,U=>{if(q===d.Off||!J)return;const ne=q===d.Verbose||q===d.Compact;J.log(U.message,ne?U.verbose:void 0)}),Ee.onNotification(c.type,U=>{const ne=ee.get(U.token);ne?ne(U.value):Je.fire(U)}),Ee}t.createMessageConnection=M})(b0)),b0}var zx;function ab(){return zx||(zx=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressType=t.ProgressToken=t.createMessageConnection=t.NullLogger=t.ConnectionOptions=t.ConnectionStrategy=t.AbstractMessageBuffer=t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=t.SharedArrayReceiverStrategy=t.SharedArraySenderStrategy=t.CancellationToken=t.CancellationTokenSource=t.Emitter=t.Event=t.Disposable=t.LRUCache=t.Touch=t.LinkedMap=t.ParameterStructures=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.ErrorCodes=t.ResponseError=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType0=t.RequestType=t.Message=t.RAL=void 0,t.MessageStrategy=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.TraceValues=t.Trace=void 0;const e=g2();Object.defineProperty(t,"Message",{enumerable:!0,get:function(){return e.Message}}),Object.defineProperty(t,"RequestType",{enumerable:!0,get:function(){return e.RequestType}}),Object.defineProperty(t,"RequestType0",{enumerable:!0,get:function(){return e.RequestType0}}),Object.defineProperty(t,"RequestType1",{enumerable:!0,get:function(){return e.RequestType1}}),Object.defineProperty(t,"RequestType2",{enumerable:!0,get:function(){return e.RequestType2}}),Object.defineProperty(t,"RequestType3",{enumerable:!0,get:function(){return e.RequestType3}}),Object.defineProperty(t,"RequestType4",{enumerable:!0,get:function(){return e.RequestType4}}),Object.defineProperty(t,"RequestType5",{enumerable:!0,get:function(){return e.RequestType5}}),Object.defineProperty(t,"RequestType6",{enumerable:!0,get:function(){return e.RequestType6}}),Object.defineProperty(t,"RequestType7",{enumerable:!0,get:function(){return e.RequestType7}}),Object.defineProperty(t,"RequestType8",{enumerable:!0,get:function(){return e.RequestType8}}),Object.defineProperty(t,"RequestType9",{enumerable:!0,get:function(){return e.RequestType9}}),Object.defineProperty(t,"ResponseError",{enumerable:!0,get:function(){return e.ResponseError}}),Object.defineProperty(t,"ErrorCodes",{enumerable:!0,get:function(){return e.ErrorCodes}}),Object.defineProperty(t,"NotificationType",{enumerable:!0,get:function(){return e.NotificationType}}),Object.defineProperty(t,"NotificationType0",{enumerable:!0,get:function(){return e.NotificationType0}}),Object.defineProperty(t,"NotificationType1",{enumerable:!0,get:function(){return e.NotificationType1}}),Object.defineProperty(t,"NotificationType2",{enumerable:!0,get:function(){return e.NotificationType2}}),Object.defineProperty(t,"NotificationType3",{enumerable:!0,get:function(){return e.NotificationType3}}),Object.defineProperty(t,"NotificationType4",{enumerable:!0,get:function(){return e.NotificationType4}}),Object.defineProperty(t,"NotificationType5",{enumerable:!0,get:function(){return e.NotificationType5}}),Object.defineProperty(t,"NotificationType6",{enumerable:!0,get:function(){return e.NotificationType6}}),Object.defineProperty(t,"NotificationType7",{enumerable:!0,get:function(){return e.NotificationType7}}),Object.defineProperty(t,"NotificationType8",{enumerable:!0,get:function(){return e.NotificationType8}}),Object.defineProperty(t,"NotificationType9",{enumerable:!0,get:function(){return e.NotificationType9}}),Object.defineProperty(t,"ParameterStructures",{enumerable:!0,get:function(){return e.ParameterStructures}});const n=m2();Object.defineProperty(t,"LinkedMap",{enumerable:!0,get:function(){return n.LinkedMap}}),Object.defineProperty(t,"LRUCache",{enumerable:!0,get:function(){return n.LRUCache}}),Object.defineProperty(t,"Touch",{enumerable:!0,get:function(){return n.Touch}});const r=wj();Object.defineProperty(t,"Disposable",{enumerable:!0,get:function(){return r.Disposable}});const i=cu();Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return i.Event}}),Object.defineProperty(t,"Emitter",{enumerable:!0,get:function(){return i.Emitter}});const s=Wp();Object.defineProperty(t,"CancellationTokenSource",{enumerable:!0,get:function(){return s.CancellationTokenSource}}),Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return s.CancellationToken}});const a=xj();Object.defineProperty(t,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return a.SharedArraySenderStrategy}}),Object.defineProperty(t,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return a.SharedArrayReceiverStrategy}});const o=Tj();Object.defineProperty(t,"MessageReader",{enumerable:!0,get:function(){return o.MessageReader}}),Object.defineProperty(t,"AbstractMessageReader",{enumerable:!0,get:function(){return o.AbstractMessageReader}}),Object.defineProperty(t,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return o.ReadableStreamMessageReader}});const u=kj();Object.defineProperty(t,"MessageWriter",{enumerable:!0,get:function(){return u.MessageWriter}}),Object.defineProperty(t,"AbstractMessageWriter",{enumerable:!0,get:function(){return u.AbstractMessageWriter}}),Object.defineProperty(t,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return u.WriteableStreamMessageWriter}});const c=Aj();Object.defineProperty(t,"AbstractMessageBuffer",{enumerable:!0,get:function(){return c.AbstractMessageBuffer}});const l=Nj();Object.defineProperty(t,"ConnectionStrategy",{enumerable:!0,get:function(){return l.ConnectionStrategy}}),Object.defineProperty(t,"ConnectionOptions",{enumerable:!0,get:function(){return l.ConnectionOptions}}),Object.defineProperty(t,"NullLogger",{enumerable:!0,get:function(){return l.NullLogger}}),Object.defineProperty(t,"createMessageConnection",{enumerable:!0,get:function(){return l.createMessageConnection}}),Object.defineProperty(t,"ProgressToken",{enumerable:!0,get:function(){return l.ProgressToken}}),Object.defineProperty(t,"ProgressType",{enumerable:!0,get:function(){return l.ProgressType}}),Object.defineProperty(t,"Trace",{enumerable:!0,get:function(){return l.Trace}}),Object.defineProperty(t,"TraceValues",{enumerable:!0,get:function(){return l.TraceValues}}),Object.defineProperty(t,"TraceFormat",{enumerable:!0,get:function(){return l.TraceFormat}}),Object.defineProperty(t,"SetTraceNotification",{enumerable:!0,get:function(){return l.SetTraceNotification}}),Object.defineProperty(t,"LogTraceNotification",{enumerable:!0,get:function(){return l.LogTraceNotification}}),Object.defineProperty(t,"ConnectionErrors",{enumerable:!0,get:function(){return l.ConnectionErrors}}),Object.defineProperty(t,"ConnectionError",{enumerable:!0,get:function(){return l.ConnectionError}}),Object.defineProperty(t,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return l.CancellationReceiverStrategy}}),Object.defineProperty(t,"CancellationSenderStrategy",{enumerable:!0,get:function(){return l.CancellationSenderStrategy}}),Object.defineProperty(t,"CancellationStrategy",{enumerable:!0,get:function(){return l.CancellationStrategy}}),Object.defineProperty(t,"MessageStrategy",{enumerable:!0,get:function(){return l.MessageStrategy}});const h=Wa();t.RAL=h.default})(y0)),y0}var qx;function Sj(){if(qx)return kh;qx=1,Object.defineProperty(kh,"__esModule",{value:!0});const t=ab();class e extends t.AbstractMessageBuffer{constructor(u="utf-8"){super(u),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return e.emptyBuffer}fromString(u,c){return new TextEncoder().encode(u)}toString(u,c){return c==="ascii"?this.asciiDecoder.decode(u):new TextDecoder(c).decode(u)}asNative(u,c){return c===void 0?u:u.slice(0,c)}allocNative(u){return new Uint8Array(u)}}e.emptyBuffer=new Uint8Array(0);class n{constructor(u){this.socket=u,this._onData=new t.Emitter,this._messageListener=c=>{c.data.arrayBuffer().then(h=>{this._onData.fire(new Uint8Array(h))},()=>{(0,t.RAL)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(u){return this.socket.addEventListener("close",u),t.Disposable.create(()=>this.socket.removeEventListener("close",u))}onError(u){return this.socket.addEventListener("error",u),t.Disposable.create(()=>this.socket.removeEventListener("error",u))}onEnd(u){return this.socket.addEventListener("end",u),t.Disposable.create(()=>this.socket.removeEventListener("end",u))}onData(u){return this._onData.event(u)}}class r{constructor(u){this.socket=u}onClose(u){return this.socket.addEventListener("close",u),t.Disposable.create(()=>this.socket.removeEventListener("close",u))}onError(u){return this.socket.addEventListener("error",u),t.Disposable.create(()=>this.socket.removeEventListener("error",u))}onEnd(u){return this.socket.addEventListener("end",u),t.Disposable.create(()=>this.socket.removeEventListener("end",u))}write(u,c){if(typeof u=="string"){if(c!==void 0&&c!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${c}`);this.socket.send(u)}else this.socket.send(u);return Promise.resolve()}end(){this.socket.close()}}const i=new TextEncoder,s=Object.freeze({messageBuffer:Object.freeze({create:o=>new e(o)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(o,u)=>{if(u.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${u.charset}`);return Promise.resolve(i.encode(JSON.stringify(o,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(o,u)=>{if(!(o instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(u.charset).decode(o)))}})}),stream:Object.freeze({asReadableStream:o=>new n(o),asWritableStream:o=>new r(o)}),console,timer:Object.freeze({setTimeout(o,u,...c){const l=setTimeout(o,u,...c);return{dispose:()=>clearTimeout(l)}},setImmediate(o,...u){const c=setTimeout(o,0,...u);return{dispose:()=>clearTimeout(c)}},setInterval(o,u,...c){const l=setInterval(o,u,...c);return{dispose:()=>clearInterval(l)}}})});function a(){return s}return(function(o){function u(){t.RAL.install(s)}o.install=u})(a||(a={})),kh.default=a,kh}var Hx;function lu(){return Hx||(Hx=1,(function(t){var e=js&&js.__createBinding||(Object.create?(function(u,c,l,h){h===void 0&&(h=l);var d=Object.getOwnPropertyDescriptor(c,l);(!d||("get"in d?!c.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return c[l]}}),Object.defineProperty(u,h,d)}):(function(u,c,l,h){h===void 0&&(h=l),u[h]=c[l]})),n=js&&js.__exportStar||function(u,c){for(var l in u)l!=="default"&&!Object.prototype.hasOwnProperty.call(c,l)&&e(c,u,l)};Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.BrowserMessageWriter=t.BrowserMessageReader=void 0,Sj().default.install();const i=ab();n(ab(),t);class s extends i.AbstractMessageReader{constructor(c){super(),this._onData=new i.Emitter,this._messageListener=l=>{this._onData.fire(l.data)},c.addEventListener("error",l=>this.fireError(l)),c.onmessage=this._messageListener}listen(c){return this._onData.event(c)}}t.BrowserMessageReader=s;class a extends i.AbstractMessageWriter{constructor(c){super(),this.port=c,this.errorCount=0,c.addEventListener("error",l=>this.fireError(l))}write(c){try{return this.port.postMessage(c),Promise.resolve()}catch(l){return this.handleError(l,c),Promise.reject(l)}}handleError(c,l){this.errorCount++,this.fireError(c,l,this.errorCount)}end(){}}t.BrowserMessageWriter=a;function o(u,c,l,h){return l===void 0&&(l=i.NullLogger),i.ConnectionStrategy.is(h)&&(h={connectionStrategy:h}),(0,i.createMessageConnection)(u,c,l,h)}t.createMessageConnection=o})(js)),js}var v0,Wx;function Yx(){return Wx||(Wx=1,v0=lu()),v0}var Zs={};const N_=n8(TX);var Xn={},Vx;function Wt(){if(Vx)return Xn;Vx=1,Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.ProtocolNotificationType=Xn.ProtocolNotificationType0=Xn.ProtocolRequestType=Xn.ProtocolRequestType0=Xn.RegistrationType=Xn.MessageDirection=void 0;const t=lu();var e;(function(o){o.clientToServer="clientToServer",o.serverToClient="serverToClient",o.both="both"})(e||(Xn.MessageDirection=e={}));class n{constructor(u){this.method=u}}Xn.RegistrationType=n;class r extends t.RequestType0{constructor(u){super(u)}}Xn.ProtocolRequestType0=r;class i extends t.RequestType{constructor(u){super(u,t.ParameterStructures.byName)}}Xn.ProtocolRequestType=i;class s extends t.NotificationType0{constructor(u){super(u)}}Xn.ProtocolNotificationType0=s;class a extends t.NotificationType{constructor(u){super(u,t.ParameterStructures.byName)}}return Xn.ProtocolNotificationType=a,Xn}var _0={},Zt={},Xx;function S_(){if(Xx)return Zt;Xx=1,Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.objectLiteral=Zt.typedArray=Zt.stringArray=Zt.array=Zt.func=Zt.error=Zt.number=Zt.string=Zt.boolean=void 0;function t(c){return c===!0||c===!1}Zt.boolean=t;function e(c){return typeof c=="string"||c instanceof String}Zt.string=e;function n(c){return typeof c=="number"||c instanceof Number}Zt.number=n;function r(c){return c instanceof Error}Zt.error=r;function i(c){return typeof c=="function"}Zt.func=i;function s(c){return Array.isArray(c)}Zt.array=s;function a(c){return s(c)&&c.every(l=>e(l))}Zt.stringArray=a;function o(c,l){return Array.isArray(c)&&c.every(l)}Zt.typedArray=o;function u(c){return c!==null&&typeof c=="object"}return Zt.objectLiteral=u,Zt}var Gu={},jx;function Rj(){if(jx)return Gu;jx=1,Object.defineProperty(Gu,"__esModule",{value:!0}),Gu.ImplementationRequest=void 0;const t=Wt();var e;return(function(n){n.method="textDocument/implementation",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e||(Gu.ImplementationRequest=e={})),Gu}var zu={},Kx;function Cj(){if(Kx)return zu;Kx=1,Object.defineProperty(zu,"__esModule",{value:!0}),zu.TypeDefinitionRequest=void 0;const t=Wt();var e;return(function(n){n.method="textDocument/typeDefinition",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e||(zu.TypeDefinitionRequest=e={})),zu}var Qs={},Zx;function Mj(){if(Zx)return Qs;Zx=1,Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.DidChangeWorkspaceFoldersNotification=Qs.WorkspaceFoldersRequest=void 0;const t=Wt();var e;(function(r){r.method="workspace/workspaceFolders",r.messageDirection=t.MessageDirection.serverToClient,r.type=new t.ProtocolRequestType0(r.method)})(e||(Qs.WorkspaceFoldersRequest=e={}));var n;return(function(r){r.method="workspace/didChangeWorkspaceFolders",r.messageDirection=t.MessageDirection.clientToServer,r.type=new t.ProtocolNotificationType(r.method)})(n||(Qs.DidChangeWorkspaceFoldersNotification=n={})),Qs}var qu={},Qx;function Oj(){if(Qx)return qu;Qx=1,Object.defineProperty(qu,"__esModule",{value:!0}),qu.ConfigurationRequest=void 0;const t=Wt();var e;return(function(n){n.method="workspace/configuration",n.messageDirection=t.MessageDirection.serverToClient,n.type=new t.ProtocolRequestType(n.method)})(e||(qu.ConfigurationRequest=e={})),qu}var Js={},Jx;function Ij(){if(Jx)return Js;Jx=1,Object.defineProperty(Js,"__esModule",{value:!0}),Js.ColorPresentationRequest=Js.DocumentColorRequest=void 0;const t=Wt();var e;(function(r){r.method="textDocument/documentColor",r.messageDirection=t.MessageDirection.clientToServer,r.type=new t.ProtocolRequestType(r.method)})(e||(Js.DocumentColorRequest=e={}));var n;return(function(r){r.method="textDocument/colorPresentation",r.messageDirection=t.MessageDirection.clientToServer,r.type=new t.ProtocolRequestType(r.method)})(n||(Js.ColorPresentationRequest=n={})),Js}var ea={},eT;function Dj(){if(eT)return ea;eT=1,Object.defineProperty(ea,"__esModule",{value:!0}),ea.FoldingRangeRefreshRequest=ea.FoldingRangeRequest=void 0;const t=Wt();var e;(function(r){r.method="textDocument/foldingRange",r.messageDirection=t.MessageDirection.clientToServer,r.type=new t.ProtocolRequestType(r.method)})(e||(ea.FoldingRangeRequest=e={}));var n;return(function(r){r.method="workspace/foldingRange/refresh",r.messageDirection=t.MessageDirection.serverToClient,r.type=new t.ProtocolRequestType0(r.method)})(n||(ea.FoldingRangeRefreshRequest=n={})),ea}var Hu={},tT;function Lj(){if(tT)return Hu;tT=1,Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.DeclarationRequest=void 0;const t=Wt();var e;return(function(n){n.method="textDocument/declaration",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e||(Hu.DeclarationRequest=e={})),Hu}var Wu={},nT;function Pj(){if(nT)return Wu;nT=1,Object.defineProperty(Wu,"__esModule",{value:!0}),Wu.SelectionRangeRequest=void 0;const t=Wt();var e;return(function(n){n.method="textDocument/selectionRange",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e||(Wu.SelectionRangeRequest=e={})),Wu}var Hi={},rT;function Fj(){if(rT)return Hi;rT=1,Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.WorkDoneProgressCancelNotification=Hi.WorkDoneProgressCreateRequest=Hi.WorkDoneProgress=void 0;const t=lu(),e=Wt();var n;(function(s){s.type=new t.ProgressType;function a(o){return o===s.type}s.is=a})(n||(Hi.WorkDoneProgress=n={}));var r;(function(s){s.method="window/workDoneProgress/create",s.messageDirection=e.MessageDirection.serverToClient,s.type=new e.ProtocolRequestType(s.method)})(r||(Hi.WorkDoneProgressCreateRequest=r={}));var i;return(function(s){s.method="window/workDoneProgress/cancel",s.messageDirection=e.MessageDirection.clientToServer,s.type=new e.ProtocolNotificationType(s.method)})(i||(Hi.WorkDoneProgressCancelNotification=i={})),Hi}var Wi={},iT;function $j(){if(iT)return Wi;iT=1,Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.CallHierarchyOutgoingCallsRequest=Wi.CallHierarchyIncomingCallsRequest=Wi.CallHierarchyPrepareRequest=void 0;const t=Wt();var e;(function(i){i.method="textDocument/prepareCallHierarchy",i.messageDirection=t.MessageDirection.clientToServer,i.type=new t.ProtocolRequestType(i.method)})(e||(Wi.CallHierarchyPrepareRequest=e={}));var n;(function(i){i.method="callHierarchy/incomingCalls",i.messageDirection=t.MessageDirection.clientToServer,i.type=new t.ProtocolRequestType(i.method)})(n||(Wi.CallHierarchyIncomingCallsRequest=n={}));var r;return(function(i){i.method="callHierarchy/outgoingCalls",i.messageDirection=t.MessageDirection.clientToServer,i.type=new t.ProtocolRequestType(i.method)})(r||(Wi.CallHierarchyOutgoingCallsRequest=r={})),Wi}var jn={},sT;function Uj(){if(sT)return jn;sT=1,Object.defineProperty(jn,"__esModule",{value:!0}),jn.SemanticTokensRefreshRequest=jn.SemanticTokensRangeRequest=jn.SemanticTokensDeltaRequest=jn.SemanticTokensRequest=jn.SemanticTokensRegistrationType=jn.TokenFormat=void 0;const t=Wt();var e;(function(o){o.Relative="relative"})(e||(jn.TokenFormat=e={}));var n;(function(o){o.method="textDocument/semanticTokens",o.type=new t.RegistrationType(o.method)})(n||(jn.SemanticTokensRegistrationType=n={}));var r;(function(o){o.method="textDocument/semanticTokens/full",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method),o.registrationMethod=n.method})(r||(jn.SemanticTokensRequest=r={}));var i;(function(o){o.method="textDocument/semanticTokens/full/delta",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method),o.registrationMethod=n.method})(i||(jn.SemanticTokensDeltaRequest=i={}));var s;(function(o){o.method="textDocument/semanticTokens/range",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method),o.registrationMethod=n.method})(s||(jn.SemanticTokensRangeRequest=s={}));var a;return(function(o){o.method="workspace/semanticTokens/refresh",o.messageDirection=t.MessageDirection.serverToClient,o.type=new t.ProtocolRequestType0(o.method)})(a||(jn.SemanticTokensRefreshRequest=a={})),jn}var Yu={},aT;function Bj(){if(aT)return Yu;aT=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.ShowDocumentRequest=void 0;const t=Wt();var e;return(function(n){n.method="window/showDocument",n.messageDirection=t.MessageDirection.serverToClient,n.type=new t.ProtocolRequestType(n.method)})(e||(Yu.ShowDocumentRequest=e={})),Yu}var Vu={},oT;function Gj(){if(oT)return Vu;oT=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.LinkedEditingRangeRequest=void 0;const t=Wt();var e;return(function(n){n.method="textDocument/linkedEditingRange",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e||(Vu.LinkedEditingRangeRequest=e={})),Vu}var An={},uT;function zj(){if(uT)return An;uT=1,Object.defineProperty(An,"__esModule",{value:!0}),An.WillDeleteFilesRequest=An.DidDeleteFilesNotification=An.DidRenameFilesNotification=An.WillRenameFilesRequest=An.DidCreateFilesNotification=An.WillCreateFilesRequest=An.FileOperationPatternKind=void 0;const t=Wt();var e;(function(u){u.file="file",u.folder="folder"})(e||(An.FileOperationPatternKind=e={}));var n;(function(u){u.method="workspace/willCreateFiles",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolRequestType(u.method)})(n||(An.WillCreateFilesRequest=n={}));var r;(function(u){u.method="workspace/didCreateFiles",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolNotificationType(u.method)})(r||(An.DidCreateFilesNotification=r={}));var i;(function(u){u.method="workspace/willRenameFiles",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolRequestType(u.method)})(i||(An.WillRenameFilesRequest=i={}));var s;(function(u){u.method="workspace/didRenameFiles",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolNotificationType(u.method)})(s||(An.DidRenameFilesNotification=s={}));var a;(function(u){u.method="workspace/didDeleteFiles",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolNotificationType(u.method)})(a||(An.DidDeleteFilesNotification=a={}));var o;return(function(u){u.method="workspace/willDeleteFiles",u.messageDirection=t.MessageDirection.clientToServer,u.type=new t.ProtocolRequestType(u.method)})(o||(An.WillDeleteFilesRequest=o={})),An}var Yi={},cT;function qj(){if(cT)return Yi;cT=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.MonikerRequest=Yi.MonikerKind=Yi.UniquenessLevel=void 0;const t=Wt();var e;(function(i){i.document="document",i.project="project",i.group="group",i.scheme="scheme",i.global="global"})(e||(Yi.UniquenessLevel=e={}));var n;(function(i){i.$import="import",i.$export="export",i.local="local"})(n||(Yi.MonikerKind=n={}));var r;return(function(i){i.method="textDocument/moniker",i.messageDirection=t.MessageDirection.clientToServer,i.type=new t.ProtocolRequestType(i.method)})(r||(Yi.MonikerRequest=r={})),Yi}var Vi={},lT;function Hj(){if(lT)return Vi;lT=1,Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.TypeHierarchySubtypesRequest=Vi.TypeHierarchySupertypesRequest=Vi.TypeHierarchyPrepareRequest=void 0;const t=Wt();var e;(function(i){i.method="textDocument/prepareTypeHierarchy",i.messageDirection=t.MessageDirection.clientToServer,i.type=new t.ProtocolRequestType(i.method)})(e||(Vi.TypeHierarchyPrepareRequest=e={}));var n;(function(i){i.method="typeHierarchy/supertypes",i.messageDirection=t.MessageDirection.clientToServer,i.type=new t.ProtocolRequestType(i.method)})(n||(Vi.TypeHierarchySupertypesRequest=n={}));var r;return(function(i){i.method="typeHierarchy/subtypes",i.messageDirection=t.MessageDirection.clientToServer,i.type=new t.ProtocolRequestType(i.method)})(r||(Vi.TypeHierarchySubtypesRequest=r={})),Vi}var ta={},hT;function Wj(){if(hT)return ta;hT=1,Object.defineProperty(ta,"__esModule",{value:!0}),ta.InlineValueRefreshRequest=ta.InlineValueRequest=void 0;const t=Wt();var e;(function(r){r.method="textDocument/inlineValue",r.messageDirection=t.MessageDirection.clientToServer,r.type=new t.ProtocolRequestType(r.method)})(e||(ta.InlineValueRequest=e={}));var n;return(function(r){r.method="workspace/inlineValue/refresh",r.messageDirection=t.MessageDirection.serverToClient,r.type=new t.ProtocolRequestType0(r.method)})(n||(ta.InlineValueRefreshRequest=n={})),ta}var Xi={},fT;function Yj(){if(fT)return Xi;fT=1,Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.InlayHintRefreshRequest=Xi.InlayHintResolveRequest=Xi.InlayHintRequest=void 0;const t=Wt();var e;(function(i){i.method="textDocument/inlayHint",i.messageDirection=t.MessageDirection.clientToServer,i.type=new t.ProtocolRequestType(i.method)})(e||(Xi.InlayHintRequest=e={}));var n;(function(i){i.method="inlayHint/resolve",i.messageDirection=t.MessageDirection.clientToServer,i.type=new t.ProtocolRequestType(i.method)})(n||(Xi.InlayHintResolveRequest=n={}));var r;return(function(i){i.method="workspace/inlayHint/refresh",i.messageDirection=t.MessageDirection.serverToClient,i.type=new t.ProtocolRequestType0(i.method)})(r||(Xi.InlayHintRefreshRequest=r={})),Xi}var yr={},dT;function Vj(){if(dT)return yr;dT=1,Object.defineProperty(yr,"__esModule",{value:!0}),yr.DiagnosticRefreshRequest=yr.WorkspaceDiagnosticRequest=yr.DocumentDiagnosticRequest=yr.DocumentDiagnosticReportKind=yr.DiagnosticServerCancellationData=void 0;const t=lu(),e=S_(),n=Wt();var r;(function(u){function c(l){const h=l;return h&&e.boolean(h.retriggerRequest)}u.is=c})(r||(yr.DiagnosticServerCancellationData=r={}));var i;(function(u){u.Full="full",u.Unchanged="unchanged"})(i||(yr.DocumentDiagnosticReportKind=i={}));var s;(function(u){u.method="textDocument/diagnostic",u.messageDirection=n.MessageDirection.clientToServer,u.type=new n.ProtocolRequestType(u.method),u.partialResult=new t.ProgressType})(s||(yr.DocumentDiagnosticRequest=s={}));var a;(function(u){u.method="workspace/diagnostic",u.messageDirection=n.MessageDirection.clientToServer,u.type=new n.ProtocolRequestType(u.method),u.partialResult=new t.ProgressType})(a||(yr.WorkspaceDiagnosticRequest=a={}));var o;return(function(u){u.method="workspace/diagnostic/refresh",u.messageDirection=n.MessageDirection.serverToClient,u.type=new n.ProtocolRequestType0(u.method)})(o||(yr.DiagnosticRefreshRequest=o={})),yr}var Bt={},pT;function Xj(){if(pT)return Bt;pT=1,Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.DidCloseNotebookDocumentNotification=Bt.DidSaveNotebookDocumentNotification=Bt.DidChangeNotebookDocumentNotification=Bt.NotebookCellArrayChange=Bt.DidOpenNotebookDocumentNotification=Bt.NotebookDocumentSyncRegistrationType=Bt.NotebookDocument=Bt.NotebookCell=Bt.ExecutionSummary=Bt.NotebookCellKind=void 0;const t=N_,e=S_(),n=Wt();var r;(function(f){f.Markup=1,f.Code=2;function p(g){return g===1||g===2}f.is=p})(r||(Bt.NotebookCellKind=r={}));var i;(function(f){function p(y,v){const b={executionOrder:y};return(v===!0||v===!1)&&(b.success=v),b}f.create=p;function g(y){const v=y;return e.objectLiteral(v)&&t.uinteger.is(v.executionOrder)&&(v.success===void 0||e.boolean(v.success))}f.is=g;function m(y,v){return y===v?!0:y==null||v===null||v===void 0?!1:y.executionOrder===v.executionOrder&&y.success===v.success}f.equals=m})(i||(Bt.ExecutionSummary=i={}));var s;(function(f){function p(v,b){return{kind:v,document:b}}f.create=p;function g(v){const b=v;return e.objectLiteral(b)&&r.is(b.kind)&&t.DocumentUri.is(b.document)&&(b.metadata===void 0||e.objectLiteral(b.metadata))}f.is=g;function m(v,b){const _=new Set;return v.document!==b.document&&_.add("document"),v.kind!==b.kind&&_.add("kind"),v.executionSummary!==b.executionSummary&&_.add("executionSummary"),(v.metadata!==void 0||b.metadata!==void 0)&&!y(v.metadata,b.metadata)&&_.add("metadata"),(v.executionSummary!==void 0||b.executionSummary!==void 0)&&!i.equals(v.executionSummary,b.executionSummary)&&_.add("executionSummary"),_}f.diff=m;function y(v,b){if(v===b)return!0;if(v==null||b===null||b===void 0||typeof v!=typeof b||typeof v!="object")return!1;const _=Array.isArray(v),k=Array.isArray(b);if(_!==k)return!1;if(_&&k){if(v.length!==b.length)return!1;for(let C=0;C<v.length;C++)if(!y(v[C],b[C]))return!1}if(e.objectLiteral(v)&&e.objectLiteral(b)){const C=Object.keys(v),x=Object.keys(b);if(C.length!==x.length||(C.sort(),x.sort(),!y(C,x)))return!1;for(let S=0;S<C.length;S++){const O=C[S];if(!y(v[O],b[O]))return!1}}return!0}})(s||(Bt.NotebookCell=s={}));var a;(function(f){function p(m,y,v,b){return{uri:m,notebookType:y,version:v,cells:b}}f.create=p;function g(m){const y=m;return e.objectLiteral(y)&&e.string(y.uri)&&t.integer.is(y.version)&&e.typedArray(y.cells,s.is)}f.is=g})(a||(Bt.NotebookDocument=a={}));var o;(function(f){f.method="notebookDocument/sync",f.messageDirection=n.MessageDirection.clientToServer,f.type=new n.RegistrationType(f.method)})(o||(Bt.NotebookDocumentSyncRegistrationType=o={}));var u;(function(f){f.method="notebookDocument/didOpen",f.messageDirection=n.MessageDirection.clientToServer,f.type=new n.ProtocolNotificationType(f.method),f.registrationMethod=o.method})(u||(Bt.DidOpenNotebookDocumentNotification=u={}));var c;(function(f){function p(m){const y=m;return e.objectLiteral(y)&&t.uinteger.is(y.start)&&t.uinteger.is(y.deleteCount)&&(y.cells===void 0||e.typedArray(y.cells,s.is))}f.is=p;function g(m,y,v){const b={start:m,deleteCount:y};return v!==void 0&&(b.cells=v),b}f.create=g})(c||(Bt.NotebookCellArrayChange=c={}));var l;(function(f){f.method="notebookDocument/didChange",f.messageDirection=n.MessageDirection.clientToServer,f.type=new n.ProtocolNotificationType(f.method),f.registrationMethod=o.method})(l||(Bt.DidChangeNotebookDocumentNotification=l={}));var h;(function(f){f.method="notebookDocument/didSave",f.messageDirection=n.MessageDirection.clientToServer,f.type=new n.ProtocolNotificationType(f.method),f.registrationMethod=o.method})(h||(Bt.DidSaveNotebookDocumentNotification=h={}));var d;return(function(f){f.method="notebookDocument/didClose",f.messageDirection=n.MessageDirection.clientToServer,f.type=new n.ProtocolNotificationType(f.method),f.registrationMethod=o.method})(d||(Bt.DidCloseNotebookDocumentNotification=d={})),Bt}var Xu={},gT;function jj(){if(gT)return Xu;gT=1,Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.InlineCompletionRequest=void 0;const t=Wt();var e;return(function(n){n.method="textDocument/inlineCompletion",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e||(Xu.InlineCompletionRequest=e={})),Xu}var mT;function Kj(){return mT||(mT=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceSymbolRequest=t.CodeActionResolveRequest=t.CodeActionRequest=t.DocumentSymbolRequest=t.DocumentHighlightRequest=t.ReferencesRequest=t.DefinitionRequest=t.SignatureHelpRequest=t.SignatureHelpTriggerKind=t.HoverRequest=t.CompletionResolveRequest=t.CompletionRequest=t.CompletionTriggerKind=t.PublishDiagnosticsNotification=t.WatchKind=t.RelativePattern=t.FileChangeType=t.DidChangeWatchedFilesNotification=t.WillSaveTextDocumentWaitUntilRequest=t.WillSaveTextDocumentNotification=t.TextDocumentSaveReason=t.DidSaveTextDocumentNotification=t.DidCloseTextDocumentNotification=t.DidChangeTextDocumentNotification=t.TextDocumentContentChangeEvent=t.DidOpenTextDocumentNotification=t.TextDocumentSyncKind=t.TelemetryEventNotification=t.LogMessageNotification=t.ShowMessageRequest=t.ShowMessageNotification=t.MessageType=t.DidChangeConfigurationNotification=t.ExitNotification=t.ShutdownRequest=t.InitializedNotification=t.InitializeErrorCodes=t.InitializeRequest=t.WorkDoneProgressOptions=t.TextDocumentRegistrationOptions=t.StaticRegistrationOptions=t.PositionEncodingKind=t.FailureHandlingKind=t.ResourceOperationKind=t.UnregistrationRequest=t.RegistrationRequest=t.DocumentSelector=t.NotebookCellTextDocumentFilter=t.NotebookDocumentFilter=t.TextDocumentFilter=void 0,t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.WillRenameFilesRequest=t.DidRenameFilesNotification=t.WillCreateFilesRequest=t.DidCreateFilesNotification=t.FileOperationPatternKind=t.LinkedEditingRangeRequest=t.ShowDocumentRequest=t.SemanticTokensRegistrationType=t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.TokenFormat=t.CallHierarchyPrepareRequest=t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=t.SelectionRangeRequest=t.DeclarationRequest=t.FoldingRangeRefreshRequest=t.FoldingRangeRequest=t.ColorPresentationRequest=t.DocumentColorRequest=t.ConfigurationRequest=t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=t.TypeDefinitionRequest=t.ImplementationRequest=t.ApplyWorkspaceEditRequest=t.ExecuteCommandRequest=t.PrepareRenameRequest=t.RenameRequest=t.PrepareSupportDefaultBehavior=t.DocumentOnTypeFormattingRequest=t.DocumentRangesFormattingRequest=t.DocumentRangeFormattingRequest=t.DocumentFormattingRequest=t.DocumentLinkResolveRequest=t.DocumentLinkRequest=t.CodeLensRefreshRequest=t.CodeLensResolveRequest=t.CodeLensRequest=t.WorkspaceSymbolResolveRequest=void 0,t.InlineCompletionRequest=t.DidCloseNotebookDocumentNotification=t.DidSaveNotebookDocumentNotification=t.DidChangeNotebookDocumentNotification=t.NotebookCellArrayChange=t.DidOpenNotebookDocumentNotification=t.NotebookDocumentSyncRegistrationType=t.NotebookDocument=t.NotebookCell=t.ExecutionSummary=t.NotebookCellKind=t.DiagnosticRefreshRequest=t.WorkspaceDiagnosticRequest=t.DocumentDiagnosticRequest=t.DocumentDiagnosticReportKind=t.DiagnosticServerCancellationData=t.InlayHintRefreshRequest=t.InlayHintResolveRequest=t.InlayHintRequest=t.InlineValueRefreshRequest=t.InlineValueRequest=t.TypeHierarchySupertypesRequest=t.TypeHierarchySubtypesRequest=t.TypeHierarchyPrepareRequest=void 0;const e=Wt(),n=N_,r=S_(),i=Rj();Object.defineProperty(t,"ImplementationRequest",{enumerable:!0,get:function(){return i.ImplementationRequest}});const s=Cj();Object.defineProperty(t,"TypeDefinitionRequest",{enumerable:!0,get:function(){return s.TypeDefinitionRequest}});const a=Mj();Object.defineProperty(t,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return a.WorkspaceFoldersRequest}}),Object.defineProperty(t,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return a.DidChangeWorkspaceFoldersNotification}});const o=Oj();Object.defineProperty(t,"ConfigurationRequest",{enumerable:!0,get:function(){return o.ConfigurationRequest}});const u=Ij();Object.defineProperty(t,"DocumentColorRequest",{enumerable:!0,get:function(){return u.DocumentColorRequest}}),Object.defineProperty(t,"ColorPresentationRequest",{enumerable:!0,get:function(){return u.ColorPresentationRequest}});const c=Dj();Object.defineProperty(t,"FoldingRangeRequest",{enumerable:!0,get:function(){return c.FoldingRangeRequest}}),Object.defineProperty(t,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return c.FoldingRangeRefreshRequest}});const l=Lj();Object.defineProperty(t,"DeclarationRequest",{enumerable:!0,get:function(){return l.DeclarationRequest}});const h=Pj();Object.defineProperty(t,"SelectionRangeRequest",{enumerable:!0,get:function(){return h.SelectionRangeRequest}});const d=Fj();Object.defineProperty(t,"WorkDoneProgress",{enumerable:!0,get:function(){return d.WorkDoneProgress}}),Object.defineProperty(t,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return d.WorkDoneProgressCreateRequest}}),Object.defineProperty(t,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return d.WorkDoneProgressCancelNotification}});const f=$j();Object.defineProperty(t,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return f.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(t,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return f.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(t,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return f.CallHierarchyPrepareRequest}});const p=Uj();Object.defineProperty(t,"TokenFormat",{enumerable:!0,get:function(){return p.TokenFormat}}),Object.defineProperty(t,"SemanticTokensRequest",{enumerable:!0,get:function(){return p.SemanticTokensRequest}}),Object.defineProperty(t,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return p.SemanticTokensDeltaRequest}}),Object.defineProperty(t,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return p.SemanticTokensRangeRequest}}),Object.defineProperty(t,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return p.SemanticTokensRefreshRequest}}),Object.defineProperty(t,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return p.SemanticTokensRegistrationType}});const g=Bj();Object.defineProperty(t,"ShowDocumentRequest",{enumerable:!0,get:function(){return g.ShowDocumentRequest}});const m=Gj();Object.defineProperty(t,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return m.LinkedEditingRangeRequest}});const y=zj();Object.defineProperty(t,"FileOperationPatternKind",{enumerable:!0,get:function(){return y.FileOperationPatternKind}}),Object.defineProperty(t,"DidCreateFilesNotification",{enumerable:!0,get:function(){return y.DidCreateFilesNotification}}),Object.defineProperty(t,"WillCreateFilesRequest",{enumerable:!0,get:function(){return y.WillCreateFilesRequest}}),Object.defineProperty(t,"DidRenameFilesNotification",{enumerable:!0,get:function(){return y.DidRenameFilesNotification}}),Object.defineProperty(t,"WillRenameFilesRequest",{enumerable:!0,get:function(){return y.WillRenameFilesRequest}}),Object.defineProperty(t,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return y.DidDeleteFilesNotification}}),Object.defineProperty(t,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return y.WillDeleteFilesRequest}});const v=qj();Object.defineProperty(t,"UniquenessLevel",{enumerable:!0,get:function(){return v.UniquenessLevel}}),Object.defineProperty(t,"MonikerKind",{enumerable:!0,get:function(){return v.MonikerKind}}),Object.defineProperty(t,"MonikerRequest",{enumerable:!0,get:function(){return v.MonikerRequest}});const b=Hj();Object.defineProperty(t,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return b.TypeHierarchyPrepareRequest}}),Object.defineProperty(t,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return b.TypeHierarchySubtypesRequest}}),Object.defineProperty(t,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return b.TypeHierarchySupertypesRequest}});const _=Wj();Object.defineProperty(t,"InlineValueRequest",{enumerable:!0,get:function(){return _.InlineValueRequest}}),Object.defineProperty(t,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return _.InlineValueRefreshRequest}});const k=Yj();Object.defineProperty(t,"InlayHintRequest",{enumerable:!0,get:function(){return k.InlayHintRequest}}),Object.defineProperty(t,"InlayHintResolveRequest",{enumerable:!0,get:function(){return k.InlayHintResolveRequest}}),Object.defineProperty(t,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return k.InlayHintRefreshRequest}});const C=Vj();Object.defineProperty(t,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return C.DiagnosticServerCancellationData}}),Object.defineProperty(t,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return C.DocumentDiagnosticReportKind}}),Object.defineProperty(t,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return C.DocumentDiagnosticRequest}}),Object.defineProperty(t,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return C.WorkspaceDiagnosticRequest}}),Object.defineProperty(t,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return C.DiagnosticRefreshRequest}});const x=Xj();Object.defineProperty(t,"NotebookCellKind",{enumerable:!0,get:function(){return x.NotebookCellKind}}),Object.defineProperty(t,"ExecutionSummary",{enumerable:!0,get:function(){return x.ExecutionSummary}}),Object.defineProperty(t,"NotebookCell",{enumerable:!0,get:function(){return x.NotebookCell}}),Object.defineProperty(t,"NotebookDocument",{enumerable:!0,get:function(){return x.NotebookDocument}}),Object.defineProperty(t,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return x.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(t,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return x.DidOpenNotebookDocumentNotification}}),Object.defineProperty(t,"NotebookCellArrayChange",{enumerable:!0,get:function(){return x.NotebookCellArrayChange}}),Object.defineProperty(t,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return x.DidChangeNotebookDocumentNotification}}),Object.defineProperty(t,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return x.DidSaveNotebookDocumentNotification}}),Object.defineProperty(t,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return x.DidCloseNotebookDocumentNotification}});const S=jj();Object.defineProperty(t,"InlineCompletionRequest",{enumerable:!0,get:function(){return S.InlineCompletionRequest}});var O;(function(L){function $e(Ze){const Ee=Ze;return r.string(Ee)||r.string(Ee.language)||r.string(Ee.scheme)||r.string(Ee.pattern)}L.is=$e})(O||(t.TextDocumentFilter=O={}));var D;(function(L){function $e(Ze){const Ee=Ze;return r.objectLiteral(Ee)&&(r.string(Ee.notebookType)||r.string(Ee.scheme)||r.string(Ee.pattern))}L.is=$e})(D||(t.NotebookDocumentFilter=D={}));var I;(function(L){function $e(Ze){const Ee=Ze;return r.objectLiteral(Ee)&&(r.string(Ee.notebook)||D.is(Ee.notebook))&&(Ee.language===void 0||r.string(Ee.language))}L.is=$e})(I||(t.NotebookCellTextDocumentFilter=I={}));var M;(function(L){function $e(Ze){if(!Array.isArray(Ze))return!1;for(let Ee of Ze)if(!r.string(Ee)&&!O.is(Ee)&&!I.is(Ee))return!1;return!0}L.is=$e})(M||(t.DocumentSelector=M={}));var R;(function(L){L.method="client/registerCapability",L.messageDirection=e.MessageDirection.serverToClient,L.type=new e.ProtocolRequestType(L.method)})(R||(t.RegistrationRequest=R={}));var E;(function(L){L.method="client/unregisterCapability",L.messageDirection=e.MessageDirection.serverToClient,L.type=new e.ProtocolRequestType(L.method)})(E||(t.UnregistrationRequest=E={}));var w;(function(L){L.Create="create",L.Rename="rename",L.Delete="delete"})(w||(t.ResourceOperationKind=w={}));var T;(function(L){L.Abort="abort",L.Transactional="transactional",L.TextOnlyTransactional="textOnlyTransactional",L.Undo="undo"})(T||(t.FailureHandlingKind=T={}));var A;(function(L){L.UTF8="utf-8",L.UTF16="utf-16",L.UTF32="utf-32"})(A||(t.PositionEncodingKind=A={}));var N;(function(L){function $e(Ze){const Ee=Ze;return Ee&&r.string(Ee.id)&&Ee.id.length>0}L.hasId=$e})(N||(t.StaticRegistrationOptions=N={}));var P;(function(L){function $e(Ze){const Ee=Ze;return Ee&&(Ee.documentSelector===null||M.is(Ee.documentSelector))}L.is=$e})(P||(t.TextDocumentRegistrationOptions=P={}));var F;(function(L){function $e(Ee){const U=Ee;return r.objectLiteral(U)&&(U.workDoneProgress===void 0||r.boolean(U.workDoneProgress))}L.is=$e;function Ze(Ee){const U=Ee;return U&&r.boolean(U.workDoneProgress)}L.hasWorkDoneProgress=Ze})(F||(t.WorkDoneProgressOptions=F={}));var B;(function(L){L.method="initialize",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolRequestType(L.method)})(B||(t.InitializeRequest=B={}));var H;(function(L){L.unknownProtocolVersion=1})(H||(t.InitializeErrorCodes=H={}));var Y;(function(L){L.method="initialized",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolNotificationType(L.method)})(Y||(t.InitializedNotification=Y={}));var Q;(function(L){L.method="shutdown",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolRequestType0(L.method)})(Q||(t.ShutdownRequest=Q={}));var j;(function(L){L.method="exit",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolNotificationType0(L.method)})(j||(t.ExitNotification=j={}));var ee;(function(L){L.method="workspace/didChangeConfiguration",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolNotificationType(L.method)})(ee||(t.DidChangeConfigurationNotification=ee={}));var ue;(function(L){L.Error=1,L.Warning=2,L.Info=3,L.Log=4,L.Debug=5})(ue||(t.MessageType=ue={}));var se;(function(L){L.method="window/showMessage",L.messageDirection=e.MessageDirection.serverToClient,L.type=new e.ProtocolNotificationType(L.method)})(se||(t.ShowMessageNotification=se={}));var z;(function(L){L.method="window/showMessageRequest",L.messageDirection=e.MessageDirection.serverToClient,L.type=new e.ProtocolRequestType(L.method)})(z||(t.ShowMessageRequest=z={}));var X;(function(L){L.method="window/logMessage",L.messageDirection=e.MessageDirection.serverToClient,L.type=new e.ProtocolNotificationType(L.method)})(X||(t.LogMessageNotification=X={}));var ie;(function(L){L.method="telemetry/event",L.messageDirection=e.MessageDirection.serverToClient,L.type=new e.ProtocolNotificationType(L.method)})(ie||(t.TelemetryEventNotification=ie={}));var q;(function(L){L.None=0,L.Full=1,L.Incremental=2})(q||(t.TextDocumentSyncKind=q={}));var be;(function(L){L.method="textDocument/didOpen",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolNotificationType(L.method)})(be||(t.DidOpenTextDocumentNotification=be={}));var J;(function(L){function $e(Ee){let U=Ee;return U!=null&&typeof U.text=="string"&&U.range!==void 0&&(U.rangeLength===void 0||typeof U.rangeLength=="number")}L.isIncremental=$e;function Ze(Ee){let U=Ee;return U!=null&&typeof U.text=="string"&&U.range===void 0&&U.rangeLength===void 0}L.isFull=Ze})(J||(t.TextDocumentContentChangeEvent=J={}));var Ie;(function(L){L.method="textDocument/didChange",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolNotificationType(L.method)})(Ie||(t.DidChangeTextDocumentNotification=Ie={}));var ge;(function(L){L.method="textDocument/didClose",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolNotificationType(L.method)})(ge||(t.DidCloseTextDocumentNotification=ge={}));var mt;(function(L){L.method="textDocument/didSave",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolNotificationType(L.method)})(mt||(t.DidSaveTextDocumentNotification=mt={}));var ht;(function(L){L.Manual=1,L.AfterDelay=2,L.FocusOut=3})(ht||(t.TextDocumentSaveReason=ht={}));var Je;(function(L){L.method="textDocument/willSave",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolNotificationType(L.method)})(Je||(t.WillSaveTextDocumentNotification=Je={}));var Ft;(function(L){L.method="textDocument/willSaveWaitUntil",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolRequestType(L.method)})(Ft||(t.WillSaveTextDocumentWaitUntilRequest=Ft={}));var St;(function(L){L.method="workspace/didChangeWatchedFiles",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolNotificationType(L.method)})(St||(t.DidChangeWatchedFilesNotification=St={}));var Pn;(function(L){L.Created=1,L.Changed=2,L.Deleted=3})(Pn||(t.FileChangeType=Pn={}));var Lt;(function(L){function $e(Ze){const Ee=Ze;return r.objectLiteral(Ee)&&(n.URI.is(Ee.baseUri)||n.WorkspaceFolder.is(Ee.baseUri))&&r.string(Ee.pattern)}L.is=$e})(Lt||(t.RelativePattern=Lt={}));var $t;(function(L){L.Create=1,L.Change=2,L.Delete=4})($t||(t.WatchKind=$t={}));var Rt;(function(L){L.method="textDocument/publishDiagnostics",L.messageDirection=e.MessageDirection.serverToClient,L.type=new e.ProtocolNotificationType(L.method)})(Rt||(t.PublishDiagnosticsNotification=Rt={}));var wt;(function(L){L.Invoked=1,L.TriggerCharacter=2,L.TriggerForIncompleteCompletions=3})(wt||(t.CompletionTriggerKind=wt={}));var xt;(function(L){L.method="textDocument/completion",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolRequestType(L.method)})(xt||(t.CompletionRequest=xt={}));var dn;(function(L){L.method="completionItem/resolve",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolRequestType(L.method)})(dn||(t.CompletionResolveRequest=dn={}));var Ct;(function(L){L.method="textDocument/hover",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolRequestType(L.method)})(Ct||(t.HoverRequest=Ct={}));var Jt;(function(L){L.Invoked=1,L.TriggerCharacter=2,L.ContentChange=3})(Jt||(t.SignatureHelpTriggerKind=Jt={}));var Yt;(function(L){L.method="textDocument/signatureHelp",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolRequestType(L.method)})(Yt||(t.SignatureHelpRequest=Yt={}));var oe;(function(L){L.method="textDocument/definition",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolRequestType(L.method)})(oe||(t.DefinitionRequest=oe={}));var ve;(function(L){L.method="textDocument/references",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolRequestType(L.method)})(ve||(t.ReferencesRequest=ve={}));var Ne;(function(L){L.method="textDocument/documentHighlight",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolRequestType(L.method)})(Ne||(t.DocumentHighlightRequest=Ne={}));var Re;(function(L){L.method="textDocument/documentSymbol",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolRequestType(L.method)})(Re||(t.DocumentSymbolRequest=Re={}));var Ae;(function(L){L.method="textDocument/codeAction",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolRequestType(L.method)})(Ae||(t.CodeActionRequest=Ae={}));var Ue;(function(L){L.method="codeAction/resolve",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolRequestType(L.method)})(Ue||(t.CodeActionResolveRequest=Ue={}));var st;(function(L){L.method="workspace/symbol",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolRequestType(L.method)})(st||(t.WorkspaceSymbolRequest=st={}));var nt;(function(L){L.method="workspaceSymbol/resolve",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolRequestType(L.method)})(nt||(t.WorkspaceSymbolResolveRequest=nt={}));var Ce;(function(L){L.method="textDocument/codeLens",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolRequestType(L.method)})(Ce||(t.CodeLensRequest=Ce={}));var _e;(function(L){L.method="codeLens/resolve",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolRequestType(L.method)})(_e||(t.CodeLensResolveRequest=_e={}));var et;(function(L){L.method="workspace/codeLens/refresh",L.messageDirection=e.MessageDirection.serverToClient,L.type=new e.ProtocolRequestType0(L.method)})(et||(t.CodeLensRefreshRequest=et={}));var Xe;(function(L){L.method="textDocument/documentLink",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolRequestType(L.method)})(Xe||(t.DocumentLinkRequest=Xe={}));var $;(function(L){L.method="documentLink/resolve",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolRequestType(L.method)})($||(t.DocumentLinkResolveRequest=$={}));var Z;(function(L){L.method="textDocument/formatting",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolRequestType(L.method)})(Z||(t.DocumentFormattingRequest=Z={}));var K;(function(L){L.method="textDocument/rangeFormatting",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolRequestType(L.method)})(K||(t.DocumentRangeFormattingRequest=K={}));var ae;(function(L){L.method="textDocument/rangesFormatting",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolRequestType(L.method)})(ae||(t.DocumentRangesFormattingRequest=ae={}));var Me;(function(L){L.method="textDocument/onTypeFormatting",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolRequestType(L.method)})(Me||(t.DocumentOnTypeFormattingRequest=Me={}));var ye;(function(L){L.Identifier=1})(ye||(t.PrepareSupportDefaultBehavior=ye={}));var re;(function(L){L.method="textDocument/rename",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolRequestType(L.method)})(re||(t.RenameRequest=re={}));var de;(function(L){L.method="textDocument/prepareRename",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolRequestType(L.method)})(de||(t.PrepareRenameRequest=de={}));var le;(function(L){L.method="workspace/executeCommand",L.messageDirection=e.MessageDirection.clientToServer,L.type=new e.ProtocolRequestType(L.method)})(le||(t.ExecuteCommandRequest=le={}));var Oe;(function(L){L.method="workspace/applyEdit",L.messageDirection=e.MessageDirection.serverToClient,L.type=new e.ProtocolRequestType("workspace/applyEdit")})(Oe||(t.ApplyWorkspaceEditRequest=Oe={}))})(_0)),_0}var ju={},yT;function Zj(){if(yT)return ju;yT=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.createProtocolConnection=void 0;const t=lu();function e(n,r,i,s){return t.ConnectionStrategy.is(s)&&(s={connectionStrategy:s}),(0,t.createMessageConnection)(n,r,i,s)}return ju.createProtocolConnection=e,ju}var bT;function Qj(){return bT||(bT=1,(function(t){var e=Zs&&Zs.__createBinding||(Object.create?(function(s,a,o,u){u===void 0&&(u=o);var c=Object.getOwnPropertyDescriptor(a,o);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(s,u,c)}):(function(s,a,o,u){u===void 0&&(u=o),s[u]=a[o]})),n=Zs&&Zs.__exportStar||function(s,a){for(var o in s)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&e(a,s,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.LSPErrorCodes=t.createProtocolConnection=void 0,n(lu(),t),n(N_,t),n(Wt(),t),n(Kj(),t);var r=Zj();Object.defineProperty(t,"createProtocolConnection",{enumerable:!0,get:function(){return r.createProtocolConnection}});var i;(function(s){s.lspReservedErrorRangeStart=-32899,s.RequestFailed=-32803,s.ServerCancelled=-32802,s.ContentModified=-32801,s.RequestCancelled=-32800,s.lspReservedErrorRangeEnd=-32800})(i||(t.LSPErrorCodes=i={}))})(Zs)),Zs}var vT;function Jj(){return vT||(vT=1,(function(t){var e=Xs&&Xs.__createBinding||(Object.create?(function(s,a,o,u){u===void 0&&(u=o);var c=Object.getOwnPropertyDescriptor(a,o);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(s,u,c)}):(function(s,a,o,u){u===void 0&&(u=o),s[u]=a[o]})),n=Xs&&Xs.__exportStar||function(s,a){for(var o in s)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&e(a,s,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const r=Yx();n(Yx(),t),n(Qj(),t);function i(s,a,o,u){return(0,r.createMessageConnection)(s,a,o,u)}t.createProtocolConnection=i})(Xs)),Xs}var Ah=Jj(),Ac;(function(t){function e(n){return{dispose:async()=>await n()}}t.create=e})(Ac||(Ac={}));class eK{constructor(e){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new nl,this.documentPhaseListeners=new nl,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=ot.Changed,this.langiumDocuments=e.workspace.LangiumDocuments,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.textDocuments=e.workspace.TextDocuments,this.indexManager=e.workspace.IndexManager,this.fileSystemProvider=e.workspace.FileSystemProvider,this.workspaceManager=()=>e.workspace.WorkspaceManager,this.serviceRegistry=e.ServiceRegistry}async build(e,n={},r=qt.CancellationToken.None){var i;for(const s of e){const a=s.uri.toString();if(s.state===ot.Validated){if(typeof n.validation=="boolean"&&n.validation)this.resetToState(s,ot.IndexedReferences);else if(typeof n.validation=="object"){const o=this.findMissingValidationCategories(s,n);o.length>0&&(this.buildState.set(a,{completed:!1,options:{validation:{categories:o}},result:(i=this.buildState.get(a))==null?void 0:i.result}),s.state=ot.IndexedReferences)}}else this.buildState.delete(a)}this.currentState=ot.Changed,await this.emitUpdate(e.map(s=>s.uri),[]),await this.buildDocuments(e,n,r)}async update(e,n,r=qt.CancellationToken.None){this.currentState=ot.Changed;const i=[];for(const u of n){const c=this.langiumDocuments.deleteDocuments(u);for(const l of c)i.push(l.uri),this.cleanUpDeleted(l)}const s=(await Promise.all(e.map(u=>this.findChangedUris(u)))).flat();for(const u of s){let c=this.langiumDocuments.getDocument(u);c===void 0&&(c=this.langiumDocumentFactory.fromModel({$type:"INVALID"},u),c.state=ot.Changed,this.langiumDocuments.addDocument(c)),this.resetToState(c,ot.Changed)}const a=Gt(s).concat(i).map(u=>u.toString()).toSet();this.langiumDocuments.all.filter(u=>!a.has(u.uri.toString())&&this.shouldRelink(u,a)).forEach(u=>this.resetToState(u,ot.ComputedScopes)),await this.emitUpdate(s,i),await Qn(r);const o=this.sortDocuments(this.langiumDocuments.all.filter(u=>{var c;return u.state<ot.Validated||!((c=this.buildState.get(u.uri.toString()))!=null&&c.completed)||this.resultsAreIncomplete(u,this.updateBuildOptions)}).toArray());await this.buildDocuments(o,this.updateBuildOptions,r)}resultsAreIncomplete(e,n){return this.findMissingValidationCategories(e,n).length>=1}findMissingValidationCategories(e,n){var o,u;const r=this.buildState.get(e.uri.toString()),i=this.serviceRegistry.getServices(e.uri).validation.ValidationRegistry.getAllValidationCategories(e),s=(o=r==null?void 0:r.result)!=null&&o.validationChecks?new Set((u=r==null?void 0:r.result)==null?void 0:u.validationChecks):r!=null&&r.completed?i:new Set,a=n===void 0||n.validation===!0?i:typeof n.validation=="object"?n.validation.categories??i:[];return Gt(a).filter(c=>!s.has(c)).toArray()}async findChangedUris(e){var r;if(this.langiumDocuments.getDocument(e)??((r=this.textDocuments)==null?void 0:r.get(e)))return[e];try{const i=await this.fileSystemProvider.stat(e);if(i.isDirectory)return await this.workspaceManager().searchFolder(e);if(this.workspaceManager().shouldIncludeEntry(i))return[e]}catch{}return[]}async emitUpdate(e,n){await Promise.all(this.updateListeners.map(r=>r(e,n)))}sortDocuments(e){let n=0,r=e.length-1;for(;n<r;){for(;n<e.length&&this.hasTextDocument(e[n]);)n++;for(;r>=0&&!this.hasTextDocument(e[r]);)r--;n<r&&([e[n],e[r]]=[e[r],e[n]])}return e}hasTextDocument(e){var n;return!!((n=this.textDocuments)!=null&&n.get(e.uri))}shouldRelink(e,n){return e.references.some(r=>r.error!==void 0)?!0:this.indexManager.isAffected(e,n)}onUpdate(e){return this.updateListeners.push(e),Ac.create(()=>{const n=this.updateListeners.indexOf(e);n>=0&&this.updateListeners.splice(n,1)})}resetToState(e,n){switch(n){case ot.Changed:case ot.Parsed:this.indexManager.removeContent(e.uri);case ot.IndexedContent:e.localSymbols=void 0;case ot.ComputedScopes:this.serviceRegistry.getServices(e.uri).references.Linker.unlink(e);case ot.Linked:this.indexManager.removeReferences(e.uri);case ot.IndexedReferences:e.diagnostics=void 0,this.buildState.delete(e.uri.toString());case ot.Validated:}e.state>n&&(e.state=n)}cleanUpDeleted(e){this.buildState.delete(e.uri.toString()),this.indexManager.remove(e.uri),e.state=ot.Changed}async buildDocuments(e,n,r){this.prepareBuild(e,n),await this.runCancelable(e,ot.Parsed,r,a=>this.langiumDocumentFactory.update(a,r)),await this.runCancelable(e,ot.IndexedContent,r,a=>this.indexManager.updateContent(a,r)),await this.runCancelable(e,ot.ComputedScopes,r,async a=>{const o=this.serviceRegistry.getServices(a.uri).references.ScopeComputation;a.localSymbols=await o.collectLocalSymbols(a,r)});const i=e.filter(a=>this.shouldLink(a));await this.runCancelable(i,ot.Linked,r,a=>this.serviceRegistry.getServices(a.uri).references.Linker.link(a,r)),await this.runCancelable(i,ot.IndexedReferences,r,a=>this.indexManager.updateReferences(a,r));const s=e.filter(a=>this.shouldValidate(a)?!0:(this.markAsCompleted(a),!1));await this.runCancelable(s,ot.Validated,r,async a=>{await this.validate(a,r),this.markAsCompleted(a)})}markAsCompleted(e){const n=this.buildState.get(e.uri.toString());n&&(n.completed=!0)}prepareBuild(e,n){for(const r of e){const i=r.uri.toString(),s=this.buildState.get(i);(!s||s.completed)&&this.buildState.set(i,{completed:!1,options:n,result:s==null?void 0:s.result})}}async runCancelable(e,n,r,i){for(const a of e)a.state<n&&(await Qn(r),await i(a),a.state=n,await this.notifyDocumentPhase(a,n,r));const s=e.filter(a=>a.state===n);await this.notifyBuildPhase(s,n,r),this.currentState=n}onBuildPhase(e,n){return this.buildPhaseListeners.add(e,n),Ac.create(()=>{this.buildPhaseListeners.delete(e,n)})}onDocumentPhase(e,n){return this.documentPhaseListeners.add(e,n),Ac.create(()=>{this.documentPhaseListeners.delete(e,n)})}waitUntil(e,n,r){let i;return n&&"path"in n?i=n:r=n,r??(r=qt.CancellationToken.None),i?this.awaitDocumentState(e,i,r):this.awaitBuilderState(e,r)}awaitDocumentState(e,n,r){const i=this.langiumDocuments.getDocument(n);if(i){if(i.state>=e)return Promise.resolve(n);if(r.isCancellationRequested)return Promise.reject(wo);if(this.currentState>=e&&e>i.state)return Promise.reject(new Ah.ResponseError(Ah.LSPErrorCodes.RequestFailed,`Document state of ${n.toString()} is ${ot[i.state]}, requiring ${ot[e]}, but workspace state is already ${ot[this.currentState]}. Returning undefined.`))}else return Promise.reject(new Ah.ResponseError(Ah.LSPErrorCodes.ServerCancelled,`No document found for URI: ${n.toString()}`));return new Promise((s,a)=>{const o=this.onDocumentPhase(e,c=>{Tr.equals(c.uri,n)&&(o.dispose(),u.dispose(),s(c.uri))}),u=r.onCancellationRequested(()=>{o.dispose(),u.dispose(),a(wo)})})}awaitBuilderState(e,n){return this.currentState>=e?Promise.resolve():n.isCancellationRequested?Promise.reject(wo):new Promise((r,i)=>{const s=this.onBuildPhase(e,()=>{s.dispose(),a.dispose(),r()}),a=n.onCancellationRequested(()=>{s.dispose(),a.dispose(),i(wo)})})}async notifyDocumentPhase(e,n,r){const s=this.documentPhaseListeners.get(n).slice();for(const a of s)try{await Qn(r),await a(e,r)}catch(o){if(!Yp(o))throw o}}async notifyBuildPhase(e,n,r){if(e.length===0)return;const s=this.buildPhaseListeners.get(n).slice();for(const a of s)await Qn(r),await a(e,r)}shouldLink(e){return this.getBuildOptions(e).eagerLinking??!0}shouldValidate(e){return!!this.getBuildOptions(e).validation}async validate(e,n){const r=this.serviceRegistry.getServices(e.uri).validation.DocumentValidator,i=this.getBuildOptions(e),s=typeof i.validation=="object"?{...i.validation}:{};s.categories=this.findMissingValidationCategories(e,i);const a=await r.validateDocument(e,s,n);e.diagnostics?e.diagnostics.push(...a):e.diagnostics=a;const o=this.buildState.get(e.uri.toString());o&&(o.result??(o.result={}),o.result.validationChecks?o.result.validationChecks=Gt(o.result.validationChecks).concat(s.categories).distinct().toArray():o.result.validationChecks=[...s.categories])}getBuildOptions(e){var n;return((n=this.buildState.get(e.uri.toString()))==null?void 0:n.options)??{}}}class tK{constructor(e){this.symbolIndex=new Map,this.symbolByTypeIndex=new aj,this.referenceIndex=new Map,this.documents=e.workspace.LangiumDocuments,this.serviceRegistry=e.ServiceRegistry,this.astReflection=e.AstReflection}findAllReferences(e,n){const r=rs(e).uri,i=[];return this.referenceIndex.forEach(s=>{s.forEach(a=>{Tr.equals(a.targetUri,r)&&a.targetPath===n&&i.push(a)})}),Gt(i)}allElements(e,n){let r=Gt(this.symbolIndex.keys());return n&&(r=r.filter(i=>!n||n.has(i))),r.map(i=>this.getFileDescriptions(i,e)).flat()}getFileDescriptions(e,n){return n?this.symbolByTypeIndex.get(e,n,()=>(this.symbolIndex.get(e)??[]).filter(s=>this.astReflection.isSubtype(s.type,n))):this.symbolIndex.get(e)??[]}remove(e){this.removeContent(e),this.removeReferences(e)}removeContent(e){const n=e.toString();this.symbolIndex.delete(n),this.symbolByTypeIndex.clear(n)}removeReferences(e){const n=e.toString();this.referenceIndex.delete(n)}async updateContent(e,n=qt.CancellationToken.None){const i=await this.serviceRegistry.getServices(e.uri).references.ScopeComputation.collectExportedSymbols(e,n),s=e.uri.toString();this.symbolIndex.set(s,i),this.symbolByTypeIndex.clear(s)}async updateReferences(e,n=qt.CancellationToken.None){const i=await this.serviceRegistry.getServices(e.uri).workspace.ReferenceDescriptionProvider.createDescriptions(e,n);this.referenceIndex.set(e.uri.toString(),i)}isAffected(e,n){const r=this.referenceIndex.get(e.uri.toString());return r?r.some(i=>!i.local&&n.has(i.targetUri.toString())):!1}}class nK{constructor(e){this.initialBuildOptions={},this._ready=new A_,this.serviceRegistry=e.ServiceRegistry,this.langiumDocuments=e.workspace.LangiumDocuments,this.documentBuilder=e.workspace.DocumentBuilder,this.fileSystemProvider=e.workspace.FileSystemProvider,this.mutex=e.workspace.WorkspaceLock}get ready(){return this._ready.promise}get workspaceFolders(){return this.folders}initialize(e){this.folders=e.workspaceFolders??void 0}initialized(e){return this.mutex.write(n=>this.initializeWorkspace(this.folders??[],n))}async initializeWorkspace(e,n=qt.CancellationToken.None){const r=await this.performStartup(e);await Qn(n),await this.documentBuilder.build(r,this.initialBuildOptions,n)}async performStartup(e){const n=[],r=a=>{n.push(a),this.langiumDocuments.hasDocument(a.uri)||this.langiumDocuments.addDocument(a)};await this.loadAdditionalDocuments(e,r);const i=[];await Promise.all(e.map(a=>this.getRootFolder(a)).map(async a=>this.traverseFolder(a,i)));const s=Gt(i).distinct(a=>a.toString()).filter(a=>!this.langiumDocuments.hasDocument(a));return await this.loadWorkspaceDocuments(s,r),this._ready.resolve(),n}async loadWorkspaceDocuments(e,n){await Promise.all(e.map(async r=>{const i=await this.langiumDocuments.getOrCreateDocument(r);n(i)}))}loadAdditionalDocuments(e,n){return Promise.resolve()}getRootFolder(e){return ti.parse(e.uri)}async traverseFolder(e,n){try{const r=await this.fileSystemProvider.readDirectory(e);await Promise.all(r.map(async i=>{this.shouldIncludeEntry(i)&&(i.isDirectory?await this.traverseFolder(i.uri,n):i.isFile&&n.push(i.uri))}))}catch(r){console.error("Failure to read directory content of "+e.toString(!0),r)}}async searchFolder(e){const n=[];return await this.traverseFolder(e,n),n}shouldIncludeEntry(e){const n=Tr.basename(e.uri);return n.startsWith(".")?!1:e.isDirectory?n!=="node_modules"&&n!=="out":e.isFile?this.serviceRegistry.hasServices(e.uri):!1}}class rK{buildUnexpectedCharactersMessage(e,n,r,i,s){return Ym.buildUnexpectedCharactersMessage(e,n,r,i,s)}buildUnableToPopLexerModeMessage(e){return Ym.buildUnableToPopLexerModeMessage(e)}}const iK={mode:"full"};class sK{constructor(e){this.errorMessageProvider=e.parser.LexerErrorMessageProvider,this.tokenBuilder=e.parser.TokenBuilder;const n=this.tokenBuilder.buildTokens(e.Grammar,{caseInsensitive:e.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(n);const r=_T(n)?Object.values(n):n,i=e.LanguageMetaData.mode==="production";this.chevrotainLexer=new cr(r,{positionTracking:"full",skipValidations:i,errorMessageProvider:this.errorMessageProvider})}get definition(){return this.tokenTypes}tokenize(e,n=iK){var i,s;const r=this.chevrotainLexer.tokenize(e);return{tokens:r.tokens,errors:r.errors,hidden:r.groups.hidden??[],report:(s=(i=this.tokenBuilder).flushLexingReport)==null?void 0:s.call(i,e)}}toTokenTypeDictionary(e){if(_T(e))return e;const n=b2(e)?Object.values(e.modes).flat():e,r={};return n.forEach(i=>r[i.name]=i),r}}function aK(t){return Array.isArray(t)&&(t.length===0||"name"in t[0])}function b2(t){return t&&"modes"in t&&"defaultMode"in t}function _T(t){return!aK(t)&&!b2(t)}function oK(t,e,n){let r,i;typeof t=="string"?(i=e,r=n):(i=t.range.start,r=e),i||(i=yt.create(0,0));const s=v2(t),a=R_(r),o=lK({lines:s,position:i,options:a});return gK({index:0,tokens:o,position:i})}function uK(t,e){const n=R_(e),r=v2(t);if(r.length===0)return!1;const i=r[0],s=r[r.length-1],a=n.start,o=n.end;return!!(a!=null&&a.exec(i))&&!!(o!=null&&o.exec(s))}function v2(t){let e="";return typeof t=="string"?e=t:e=t.text,e.split(uW)}const ET=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,cK=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;function lK(t){var i,s,a;const e=[];let n=t.position.line,r=t.position.character;for(let o=0;o<t.lines.length;o++){const u=o===0,c=o===t.lines.length-1;let l=t.lines[o],h=0;if(u&&t.options.start){const f=(i=t.options.start)==null?void 0:i.exec(l);f&&(h=f.index+f[0].length)}else{const f=(s=t.options.line)==null?void 0:s.exec(l);f&&(h=f.index+f[0].length)}if(c){const f=(a=t.options.end)==null?void 0:a.exec(l);f&&(l=l.substring(0,f.index))}if(l=l.substring(0,pK(l)),ob(l,h)>=l.length){if(e.length>0){const f=yt.create(n,r);e.push({type:"break",content:"",range:ct.create(f,f)})}}else{ET.lastIndex=h;const f=ET.exec(l);if(f){const p=f[0],g=f[1],m=yt.create(n,r+h),y=yt.create(n,r+h+p.length);e.push({type:"tag",content:g,range:ct.create(m,y)}),h+=p.length,h=ob(l,h)}if(h<l.length){const p=l.substring(h),g=Array.from(p.matchAll(cK));e.push(...hK(g,p,n,r+h))}}n++,r=0}return e.length>0&&e[e.length-1].type==="break"?e.slice(0,-1):e}function hK(t,e,n,r){const i=[];if(t.length===0){const s=yt.create(n,r),a=yt.create(n,r+e.length);i.push({type:"text",content:e,range:ct.create(s,a)})}else{let s=0;for(const o of t){const u=o.index,c=e.substring(s,u);c.length>0&&i.push({type:"text",content:e.substring(s,u),range:ct.create(yt.create(n,s+r),yt.create(n,u+r))});let l=c.length+1;const h=o[1];if(i.push({type:"inline-tag",content:h,range:ct.create(yt.create(n,s+l+r),yt.create(n,s+l+h.length+r))}),l+=h.length,o.length===4){l+=o[2].length;const d=o[3];i.push({type:"text",content:d,range:ct.create(yt.create(n,s+l+r),yt.create(n,s+l+d.length+r))})}else i.push({type:"text",content:"",range:ct.create(yt.create(n,s+l+r),yt.create(n,s+l+r))});s=u+o[0].length}const a=e.substring(s);a.length>0&&i.push({type:"text",content:a,range:ct.create(yt.create(n,s+r),yt.create(n,s+r+a.length))})}return i}const fK=/\S/,dK=/\s*$/;function ob(t,e){const n=t.substring(e).match(fK);return n?e+n.index:t.length}function pK(t){const e=t.match(dK);if(e&&typeof e.index=="number")return e.index}function gK(t){var s,a;const e=yt.create(t.position.line,t.position.character);if(t.tokens.length===0)return new wT([],ct.create(e,e));const n=[];for(;t.index<t.tokens.length;){const o=mK(t,n[n.length-1]);o&&n.push(o)}const r=((s=n[0])==null?void 0:s.range.start)??e,i=((a=n[n.length-1])==null?void 0:a.range.end)??e;return new wT(n,ct.create(r,i))}function mK(t,e){const n=t.tokens[t.index];if(n.type==="tag")return E2(t,!1);if(n.type==="text"||n.type==="inline-tag")return _2(t);yK(n,e),t.index++}function yK(t,e){if(e){const n=new x2("",t.range);"inlines"in e?e.inlines.push(n):e.content.inlines.push(n)}}function _2(t){let e=t.tokens[t.index];const n=e;let r=e;const i=[];for(;e&&e.type!=="break"&&e.type!=="tag";)i.push(bK(t)),r=e,e=t.tokens[t.index];return new ub(i,ct.create(n.range.start,r.range.end))}function bK(t){return t.tokens[t.index].type==="inline-tag"?E2(t,!0):w2(t)}function E2(t,e){const n=t.tokens[t.index++],r=n.content.substring(1),i=t.tokens[t.index];if((i==null?void 0:i.type)==="text")if(e){const s=w2(t);return new w0(r,new ub([s],s.range),e,ct.create(n.range.start,s.range.end))}else{const s=_2(t);return new w0(r,s,e,ct.create(n.range.start,s.range.end))}else{const s=n.range;return new w0(r,new ub([],s),e,s)}}function w2(t){const e=t.tokens[t.index++];return new x2(e.content,e.range)}function R_(t){if(!t)return R_({start:"/**",end:"*/",line:"*"});const{start:e,end:n,line:r}=t;return{start:E0(e,!0),end:E0(n,!1),line:E0(r,!0)}}function E0(t,e){if(typeof t=="string"||typeof t=="object"){const n=typeof t=="string"?Fp(t):t.source;return e?new RegExp(`^\\s*${n}`):new RegExp(`\\s*${n}\\s*$`)}else return t}class wT{constructor(e,n){this.elements=e,this.range=n}getTag(e){return this.getAllTags().find(n=>n.name===e)}getTags(e){return this.getAllTags().filter(n=>n.name===e)}getAllTags(){return this.elements.filter(e=>"name"in e)}toString(){let e="";for(const n of this.elements)if(e.length===0)e=n.toString();else{const r=n.toString();e+=xT(e)+r}return e.trim()}toMarkdown(e){let n="";for(const r of this.elements)if(n.length===0)n=r.toMarkdown(e);else{const i=r.toMarkdown(e);n+=xT(n)+i}return n.trim()}}class w0{constructor(e,n,r,i){this.name=e,this.content=n,this.inline=r,this.range=i}toString(){let e=`@${this.name}`;const n=this.content.toString();return this.content.inlines.length===1?e=`${e} ${n}`:this.content.inlines.length>1&&(e=`${e}
${n}`),this.inline?`{${e}}`:e}toMarkdown(e){var n;return((n=e==null?void 0:e.renderTag)==null?void 0:n.call(e,this))??this.toMarkdownDefault(e)}toMarkdownDefault(e){const n=this.content.toMarkdown(e);if(this.inline){const s=vK(this.name,n,e??{});if(typeof s=="string")return s}let r="";(e==null?void 0:e.tag)==="italic"||(e==null?void 0:e.tag)===void 0?r="*":(e==null?void 0:e.tag)==="bold"?r="**":(e==null?void 0:e.tag)==="bold-italic"&&(r="***");let i=`${r}@${this.name}${r}`;return this.content.inlines.length===1?i=`${i}  ${n}`:this.content.inlines.length>1&&(i=`${i}
${n}`),this.inline?`{${i}}`:i}}function vK(t,e,n){var r;if(t==="linkplain"||t==="linkcode"||t==="link"){const i=e.indexOf(" ");let s=e;if(i>0){const o=ob(e,i);s=e.substring(o),e=e.substring(0,i)}return(t==="linkcode"||t==="link"&&n.link==="code")&&(s=`\`${s}\``),((r=n.renderLink)==null?void 0:r.call(n,e,s))??_K(e,s)}}function _K(t,e){try{return ti.parse(t,!0),`[${e}](${t})`}catch{return t}}class ub{constructor(e,n){this.inlines=e,this.range=n}toString(){let e="";for(let n=0;n<this.inlines.length;n++){const r=this.inlines[n],i=this.inlines[n+1];e+=r.toString(),i&&i.range.start.line>r.range.start.line&&(e+=`
`)}return e}toMarkdown(e){let n="";for(let r=0;r<this.inlines.length;r++){const i=this.inlines[r],s=this.inlines[r+1];n+=i.toMarkdown(e),s&&s.range.start.line>i.range.start.line&&(n+=`
`)}return n}}class x2{constructor(e,n){this.text=e,this.range=n}toString(){return this.text}toMarkdown(){return this.text}}function xT(t){return t.endsWith(`
`)?`
`:`

`}class EK{constructor(e){this.indexManager=e.shared.workspace.IndexManager,this.commentProvider=e.documentation.CommentProvider}getDocumentation(e){const n=this.commentProvider.getComment(e);if(n&&uK(n))return oK(n).toMarkdown({renderLink:(i,s)=>this.documentationLinkRenderer(e,i,s),renderTag:i=>this.documentationTagRenderer(e,i)})}documentationLinkRenderer(e,n,r){const i=this.findNameInLocalSymbols(e,n)??this.findNameInGlobalScope(e,n);if(i&&i.nameSegment){const s=i.nameSegment.range.start.line+1,a=i.nameSegment.range.start.character+1,o=i.documentUri.with({fragment:`L${s},${a}`});return`[${r}](${o.toString()})`}else return}documentationTagRenderer(e,n){}findNameInLocalSymbols(e,n){const i=rs(e).localSymbols;if(!i)return;let s=e;do{const o=i.getStream(s).find(u=>u.name===n);if(o)return o;s=s.$container}while(s)}findNameInGlobalScope(e,n){return this.indexManager.allElements().find(i=>i.name===n)}}class wK{constructor(e){this.grammarConfig=()=>e.parser.GrammarConfig}getComment(e){var n;return cj(e)?e.$comment:(n=rW(e.$cstNode,this.grammarConfig().multilineCommentRules))==null?void 0:n.text}}class xK{constructor(e){this.syncParser=e.parser.LangiumParser}parse(e,n){return Promise.resolve(this.syncParser.parse(e))}}class TK{constructor(){this.previousTokenSource=new qt.CancellationTokenSource,this.writeQueue=[],this.readQueue=[],this.done=!0}write(e){this.cancelWrite();const n=XX();return this.previousTokenSource=n,this.enqueue(this.writeQueue,e,n.token)}read(e){return this.enqueue(this.readQueue,e)}enqueue(e,n,r=qt.CancellationToken.None){const i=new A_,s={action:n,deferred:i,cancellationToken:r};return e.push(s),this.performNextOperation(),i.promise}async performNextOperation(){if(!this.done)return;const e=[];if(this.writeQueue.length>0)e.push(this.writeQueue.shift());else if(this.readQueue.length>0)e.push(...this.readQueue.splice(0,this.readQueue.length));else return;this.done=!1,await Promise.all(e.map(async({action:n,deferred:r,cancellationToken:i})=>{try{const s=await Promise.resolve().then(()=>n(i));r.resolve(s)}catch(s){Yp(s)?r.resolve(void 0):r.reject(s)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}}class kK{constructor(e){this.grammarElementIdMap=new Cx,this.tokenTypeIdMap=new Cx,this.grammar=e.Grammar,this.lexer=e.parser.Lexer,this.linker=e.references.Linker}dehydrate(e){return{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport?this.dehydrateLexerReport(e.lexerReport):void 0,parserErrors:e.parserErrors.map(n=>({...n,message:n.message})),value:this.dehydrateAstNode(e.value,this.createDehyrationContext(e.value))}}dehydrateLexerReport(e){return e}createDehyrationContext(e){const n=new Map,r=new Map;for(const i of is(e))n.set(i,{});if(e.$cstNode)for(const i of Gm(e.$cstNode))r.set(i,{});return{astNodes:n,cstNodes:r}}dehydrateAstNode(e,n){const r=n.astNodes.get(e);r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,e.$cstNode!==void 0&&(r.$cstNode=this.dehydrateCstNode(e.$cstNode,n));for(const[i,s]of Object.entries(e))if(!i.startsWith("$"))if(Array.isArray(s)){const a=[];r[i]=a;for(const o of s)qn(o)?a.push(this.dehydrateAstNode(o,n)):Qr(o)?a.push(this.dehydrateReference(o,n)):a.push(o)}else qn(s)?r[i]=this.dehydrateAstNode(s,n):Qr(s)?r[i]=this.dehydrateReference(s,n):s!==void 0&&(r[i]=s);return r}dehydrateReference(e,n){const r={};return r.$refText=e.$refText,e.$refNode&&(r.$refNode=n.cstNodes.get(e.$refNode)),r}dehydrateCstNode(e,n){const r=n.cstNodes.get(e);return XR(e)?r.fullText=e.fullText:r.grammarSource=this.getGrammarElementId(e.grammarSource),r.hidden=e.hidden,r.astNode=n.astNodes.get(e.astNode),Yc(e)?r.content=e.content.map(i=>this.dehydrateCstNode(i,n)):VR(e)&&(r.tokenType=e.tokenType.name,r.offset=e.offset,r.length=e.length,r.startLine=e.range.start.line,r.startColumn=e.range.start.character,r.endLine=e.range.end.line,r.endColumn=e.range.end.character),r}hydrate(e){const n=e.value,r=this.createHydrationContext(n);return"$cstNode"in n&&this.hydrateCstNode(n.$cstNode,r),{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport,parserErrors:e.parserErrors,value:this.hydrateAstNode(n,r)}}createHydrationContext(e){const n=new Map,r=new Map;for(const s of is(e))n.set(s,{});let i;if(e.$cstNode)for(const s of Gm(e.$cstNode)){let a;"fullText"in s?(a=new r2(s.fullText),i=a):"content"in s?a=new x_:"tokenType"in s&&(a=this.hydrateCstLeafNode(s)),a&&(r.set(s,a),a.root=i)}return{astNodes:n,cstNodes:r}}hydrateAstNode(e,n){const r=n.astNodes.get(e);r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,e.$cstNode&&(r.$cstNode=n.cstNodes.get(e.$cstNode));for(const[i,s]of Object.entries(e))if(!i.startsWith("$"))if(Array.isArray(s)){const a=[];r[i]=a;for(const o of s)qn(o)?a.push(this.setParent(this.hydrateAstNode(o,n),r)):Qr(o)?a.push(this.hydrateReference(o,r,i,n)):a.push(o)}else qn(s)?r[i]=this.setParent(this.hydrateAstNode(s,n),r):Qr(s)?r[i]=this.hydrateReference(s,r,i,n):s!==void 0&&(r[i]=s);return r}setParent(e,n){return e.$container=n,e}hydrateReference(e,n,r,i){return this.linker.buildReference(n,r,i.cstNodes.get(e.$refNode),e.$refText)}hydrateCstNode(e,n,r=0){const i=n.cstNodes.get(e);if(typeof e.grammarSource=="number"&&(i.grammarSource=this.getGrammarElement(e.grammarSource)),i.astNode=n.astNodes.get(e.astNode),Yc(i))for(const s of e.content){const a=this.hydrateCstNode(s,n,r++);i.content.push(a)}return i}hydrateCstLeafNode(e){const n=this.getTokenType(e.tokenType),r=e.offset,i=e.length,s=e.startLine,a=e.startColumn,o=e.endLine,u=e.endColumn,c=e.hidden;return new eb(r,i,{start:{line:s,character:a},end:{line:o,character:u}},n,c)}getTokenType(e){return this.lexer.definition[e]}getGrammarElementId(e){if(e)return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(e)}getGrammarElement(e){return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.getKey(e)}createGrammarElementIdMap(){let e=0;for(const n of is(this.grammar))DH(n)&&this.grammarElementIdMap.set(n,e++)}}function AK(t){return{documentation:{CommentProvider:e=>new wK(e),DocumentationProvider:e=>new EK(e)},parser:{AsyncParser:e=>new xK(e),GrammarConfig:e=>CW(e),LangiumParser:e=>zX(e),CompletionParser:e=>GX(e),ValueConverter:()=>new WX,TokenBuilder:()=>new HX,Lexer:e=>new sK(e),ParserErrorMessageProvider:()=>new a2,LexerErrorMessageProvider:()=>new rK},workspace:{AstNodeLocator:()=>new vj,AstNodeDescriptionProvider:e=>new yj(e),ReferenceDescriptionProvider:e=>new bj(e)},references:{Linker:e=>new JX(e),NameProvider:()=>new tj,ScopeProvider:e=>new uj(e),ScopeComputation:e=>new rj(e),References:e=>new nj(e)},serializer:{Hydrator:e=>new kK(e),JsonSerializer:e=>new lj(e)},validation:{DocumentValidator:e=>new pj(e),ValidationRegistry:e=>new fj(e)},shared:()=>t.shared}}function NK(t){return{ServiceRegistry:e=>new hj(e),workspace:{LangiumDocuments:e=>new QX(e),LangiumDocumentFactory:e=>new ZX(e),DocumentBuilder:e=>new eK(e),IndexManager:e=>new tK(e),WorkspaceManager:e=>new nK(e),FileSystemProvider:e=>t.fileSystemProvider(e),WorkspaceLock:()=>new TK,ConfigurationProvider:e=>new Ej(e)},profilers:{}}}var TT;(function(t){t.merge=(e,n)=>rl(rl({},e),n)})(TT||(TT={}));function kT(t,e,n,r,i,s,a,o,u){const c=[t,e,n,r,i,s,a,o,u].reduce(rl,{});return T2(c)}const SK=Symbol("isProxy");function T2(t,e){const n=new Proxy({},{deleteProperty:()=>!1,set:()=>{throw new Error("Cannot set property on injected service container")},get:(r,i)=>i===SK?!0:NT(r,i,t,e||n),getOwnPropertyDescriptor:(r,i)=>(NT(r,i,t,e||n),Object.getOwnPropertyDescriptor(r,i)),has:(r,i)=>i in t,ownKeys:()=>[...Object.getOwnPropertyNames(t)]});return n}const AT=Symbol();function NT(t,e,n,r){if(e in t){if(t[e]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable. Cause: "+t[e]);if(t[e]===AT)throw new Error('Cycle detected. Please make "'+String(e)+'" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');return t[e]}else if(e in n){const i=n[e];t[e]=AT;try{t[e]=typeof i=="function"?i(r):T2(i,r)}catch(s){throw t[e]=s instanceof Error?s:void 0,s}return t[e]}else return}function rl(t,e){if(e){for(const[n,r]of Object.entries(e))if(r!=null)if(typeof r=="object"){const i=t[n];typeof i=="object"&&i!==null?t[n]=rl(i,r):t[n]=rl({},r)}else t[n]=r}return t}class RK{stat(e){throw new Error("No file system is available.")}statSync(e){throw new Error("No file system is available.")}async exists(){return!1}existsSync(){return!1}readBinary(){throw new Error("No file system is available.")}readBinarySync(){throw new Error("No file system is available.")}readFile(){throw new Error("No file system is available.")}readFileSync(){throw new Error("No file system is available.")}async readDirectory(){return[]}readDirectorySync(){return[]}}const CK={fileSystemProvider:()=>new RK},MK={Grammar:()=>{},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},OK={AstReflection:()=>new eC};function IK(){const t=kT(NK(CK),OK),e=kT(AK({shared:t}),MK);return t.ServiceRegistry.register(e),e}function NJ(t){const e=IK(),n=e.serializer.JsonSerializer.deserialize(t);return e.shared.workspace.LangiumDocumentFactory.fromModel(n,ti.parse(`memory:/${n.name??"grammar"}.langium`)),n}const Nn=[];for(let t=0;t<256;++t)Nn.push((t+256).toString(16).slice(1));function DK(t,e=0){return(Nn[t[e+0]]+Nn[t[e+1]]+Nn[t[e+2]]+Nn[t[e+3]]+"-"+Nn[t[e+4]]+Nn[t[e+5]]+"-"+Nn[t[e+6]]+Nn[t[e+7]]+"-"+Nn[t[e+8]]+Nn[t[e+9]]+"-"+Nn[t[e+10]]+Nn[t[e+11]]+Nn[t[e+12]]+Nn[t[e+13]]+Nn[t[e+14]]+Nn[t[e+15]]).toLowerCase()}let x0;const LK=new Uint8Array(16);function PK(){if(!x0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");x0=crypto.getRandomValues.bind(crypto)}return x0(LK)}const FK=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ST={randomUUID:FK};function SJ(t,e,n){var i;if(ST.randomUUID&&!t)return ST.randomUUID();t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??PK();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,DK(r)}function RT(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function k2(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function T0(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function $K(t){return t.target.depth}function RJ(t){return t.depth}function CJ(t,e){return e-1-t.height}function UK(t,e){return t.sourceLinks.length?t.depth:e-1}function MJ(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?k2(t.sourceLinks,$K)-1:0}function Nh(t){return function(){return t}}function CT(t,e){return Pd(t.source,e.source)||t.index-e.index}function MT(t,e){return Pd(t.target,e.target)||t.index-e.index}function Pd(t,e){return t.y0-e.y0}function k0(t){return t.value}function BK(t){return t.index}function GK(t){return t.nodes}function zK(t){return t.links}function OT(t,e){const n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function IT({nodes:t}){for(const e of t){let n=e.y0,r=n;for(const i of e.sourceLinks)i.y0=n+i.width/2,n+=i.width;for(const i of e.targetLinks)i.y1=r+i.width/2,r+=i.width}}function OJ(){let t=0,e=0,n=1,r=1,i=24,s=8,a,o=BK,u=UK,c,l,h=GK,d=zK,f=6;function p(){const w={nodes:h.apply(null,arguments),links:d.apply(null,arguments)};return g(w),m(w),y(w),v(w),k(w),IT(w),w}p.update=function(w){return IT(w),w},p.nodeId=function(w){return arguments.length?(o=typeof w=="function"?w:Nh(w),p):o},p.nodeAlign=function(w){return arguments.length?(u=typeof w=="function"?w:Nh(w),p):u},p.nodeSort=function(w){return arguments.length?(c=w,p):c},p.nodeWidth=function(w){return arguments.length?(i=+w,p):i},p.nodePadding=function(w){return arguments.length?(s=a=+w,p):s},p.nodes=function(w){return arguments.length?(h=typeof w=="function"?w:Nh(w),p):h},p.links=function(w){return arguments.length?(d=typeof w=="function"?w:Nh(w),p):d},p.linkSort=function(w){return arguments.length?(l=w,p):l},p.size=function(w){return arguments.length?(t=e=0,n=+w[0],r=+w[1],p):[n-t,r-e]},p.extent=function(w){return arguments.length?(t=+w[0][0],n=+w[1][0],e=+w[0][1],r=+w[1][1],p):[[t,e],[n,r]]},p.iterations=function(w){return arguments.length?(f=+w,p):f};function g({nodes:w,links:T}){for(const[N,P]of w.entries())P.index=N,P.sourceLinks=[],P.targetLinks=[];const A=new Map(w.map((N,P)=>[o(N,P,w),N]));for(const[N,P]of T.entries()){P.index=N;let{source:F,target:B}=P;typeof F!="object"&&(F=P.source=OT(A,F)),typeof B!="object"&&(B=P.target=OT(A,B)),F.sourceLinks.push(P),B.targetLinks.push(P)}if(l!=null)for(const{sourceLinks:N,targetLinks:P}of w)N.sort(l),P.sort(l)}function m({nodes:w}){for(const T of w)T.value=T.fixedValue===void 0?Math.max(T0(T.sourceLinks,k0),T0(T.targetLinks,k0)):T.fixedValue}function y({nodes:w}){const T=w.length;let A=new Set(w),N=new Set,P=0;for(;A.size;){for(const F of A){F.depth=P;for(const{target:B}of F.sourceLinks)N.add(B)}if(++P>T)throw new Error("circular link");A=N,N=new Set}}function v({nodes:w}){const T=w.length;let A=new Set(w),N=new Set,P=0;for(;A.size;){for(const F of A){F.height=P;for(const{source:B}of F.targetLinks)N.add(B)}if(++P>T)throw new Error("circular link");A=N,N=new Set}}function b({nodes:w}){const T=RT(w,P=>P.depth)+1,A=(n-t-i)/(T-1),N=new Array(T);for(const P of w){const F=Math.max(0,Math.min(T-1,Math.floor(u.call(null,P,T))));P.layer=F,P.x0=t+F*A,P.x1=P.x0+i,N[F]?N[F].push(P):N[F]=[P]}if(c)for(const P of N)P.sort(c);return N}function _(w){const T=k2(w,A=>(r-e-(A.length-1)*a)/T0(A,k0));for(const A of w){let N=e;for(const P of A){P.y0=N,P.y1=N+P.value*T,N=P.y1+a;for(const F of P.sourceLinks)F.width=F.value*T}N=(r-N+a)/(A.length+1);for(let P=0;P<A.length;++P){const F=A[P];F.y0+=N*(P+1),F.y1+=N*(P+1)}M(A)}}function k(w){const T=b(w);a=Math.min(s,(r-e)/(RT(T,A=>A.length)-1)),_(T);for(let A=0;A<f;++A){const N=Math.pow(.99,A),P=Math.max(1-N,(A+1)/f);x(T,N,P),C(T,N,P)}}function C(w,T,A){for(let N=1,P=w.length;N<P;++N){const F=w[N];for(const B of F){let H=0,Y=0;for(const{source:j,value:ee}of B.targetLinks){let ue=ee*(B.layer-j.layer);H+=R(j,B)*ue,Y+=ue}if(!(Y>0))continue;let Q=(H/Y-B.y0)*T;B.y0+=Q,B.y1+=Q,I(B)}c===void 0&&F.sort(Pd),S(F,A)}}function x(w,T,A){for(let N=w.length,P=N-2;P>=0;--P){const F=w[P];for(const B of F){let H=0,Y=0;for(const{target:j,value:ee}of B.sourceLinks){let ue=ee*(j.layer-B.layer);H+=E(B,j)*ue,Y+=ue}if(!(Y>0))continue;let Q=(H/Y-B.y0)*T;B.y0+=Q,B.y1+=Q,I(B)}c===void 0&&F.sort(Pd),S(F,A)}}function S(w,T){const A=w.length>>1,N=w[A];D(w,N.y0-a,A-1,T),O(w,N.y1+a,A+1,T),D(w,r,w.length-1,T),O(w,e,0,T)}function O(w,T,A,N){for(;A<w.length;++A){const P=w[A],F=(T-P.y0)*N;F>1e-6&&(P.y0+=F,P.y1+=F),T=P.y1+a}}function D(w,T,A,N){for(;A>=0;--A){const P=w[A],F=(P.y1-T)*N;F>1e-6&&(P.y0-=F,P.y1-=F),T=P.y0-a}}function I({sourceLinks:w,targetLinks:T}){if(l===void 0){for(const{source:{sourceLinks:A}}of T)A.sort(MT);for(const{target:{targetLinks:A}}of w)A.sort(CT)}}function M(w){if(l===void 0)for(const{sourceLinks:T,targetLinks:A}of w)T.sort(MT),A.sort(CT)}function R(w,T){let A=w.y0-(w.sourceLinks.length-1)*a/2;for(const{target:N,width:P}of w.sourceLinks){if(N===T)break;A+=P+a}for(const{source:N,width:P}of T.targetLinks){if(N===w)break;A-=P}return A}function E(w,T){let A=T.y0-(T.targetLinks.length-1)*a/2;for(const{source:N,width:P}of T.targetLinks){if(N===w)break;A+=P+a}for(const{target:N,width:P}of w.sourceLinks){if(N===T)break;A-=P}return A}return p}var cb=Math.PI,lb=2*cb,ua=1e-6,qK=lb-ua;function hb(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function A2(){return new hb}hb.prototype=A2.prototype={constructor:hb,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,s){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+s)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var s=this._x1,a=this._y1,o=n-t,u=r-e,c=s-t,l=a-e,h=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>ua)if(!(Math.abs(l*o-u*c)>ua)||!i)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var d=n-s,f=r-a,p=o*o+u*u,g=d*d+f*f,m=Math.sqrt(p),y=Math.sqrt(h),v=i*Math.tan((cb-Math.acos((p+h-g)/(2*m*y)))/2),b=v/y,_=v/m;Math.abs(b-1)>ua&&(this._+="L"+(t+b*c)+","+(e+b*l)),this._+="A"+i+","+i+",0,0,"+ +(l*d>c*f)+","+(this._x1=t+_*o)+","+(this._y1=e+_*u)}},arc:function(t,e,n,r,i,s){t=+t,e=+e,n=+n,s=!!s;var a=n*Math.cos(r),o=n*Math.sin(r),u=t+a,c=e+o,l=1^s,h=s?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+u+","+c:(Math.abs(this._x1-u)>ua||Math.abs(this._y1-c)>ua)&&(this._+="L"+u+","+c),n&&(h<0&&(h=h%lb+lb),h>qK?this._+="A"+n+","+n+",0,1,"+l+","+(t-a)+","+(e-o)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):h>ua&&(this._+="A"+n+","+n+",0,"+ +(h>=cb)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function DT(t){return function(){return t}}function HK(t){return t[0]}function WK(t){return t[1]}var YK=Array.prototype.slice;function VK(t){return t.source}function XK(t){return t.target}function jK(t){var e=VK,n=XK,r=HK,i=WK,s=null;function a(){var o,u=YK.call(arguments),c=e.apply(this,u),l=n.apply(this,u);if(s||(s=o=A2()),t(s,+r.apply(this,(u[0]=c,u)),+i.apply(this,u),+r.apply(this,(u[0]=l,u)),+i.apply(this,u)),o)return s=null,o+""||null}return a.source=function(o){return arguments.length?(e=o,a):e},a.target=function(o){return arguments.length?(n=o,a):n},a.x=function(o){return arguments.length?(r=typeof o=="function"?o:DT(+o),a):r},a.y=function(o){return arguments.length?(i=typeof o=="function"?o:DT(+o),a):i},a.context=function(o){return arguments.length?(s=o??null,a):s},a}function KK(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function ZK(){return jK(KK)}function QK(t){return[t.source.x1,t.y0]}function JK(t){return[t.target.x0,t.y1]}function IJ(){return ZK().source(QK).target(JK)}var pf={exports:{}},gf={exports:{}},eZ=gf.exports,LT;function tZ(){return LT||(LT=1,(function(t,e){(function(r,i){t.exports=i()})(eZ,function(){return(function(n){var r={};function i(s){if(r[s])return r[s].exports;var a=r[s]={i:s,l:!1,exports:{}};return n[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=n,i.c=r,i.i=function(s){return s},i.d=function(s,a,o){i.o(s,a)||Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:o})},i.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(a,"a",a),a},i.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},i.p="",i(i.s=28)})([(function(n,r,i){function s(){}s.QUALITY=1,s.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,s.DEFAULT_INCREMENTAL=!1,s.DEFAULT_ANIMATION_ON_LAYOUT=!0,s.DEFAULT_ANIMATION_DURING_LAYOUT=!1,s.DEFAULT_ANIMATION_PERIOD=50,s.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,s.DEFAULT_GRAPH_MARGIN=15,s.NODE_DIMENSIONS_INCLUDE_LABELS=!1,s.SIMPLE_NODE_SIZE=40,s.SIMPLE_NODE_HALF_SIZE=s.SIMPLE_NODE_SIZE/2,s.EMPTY_COMPOUND_NODE_SIZE=40,s.MIN_EDGE_LENGTH=1,s.WORLD_BOUNDARY=1e6,s.INITIAL_WORLD_BOUNDARY=s.WORLD_BOUNDARY/1e3,s.WORLD_CENTER_X=1200,s.WORLD_CENTER_Y=900,n.exports=s}),(function(n,r,i){var s=i(2),a=i(8),o=i(9);function u(l,h,d){s.call(this,d),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=d,this.bendpoints=[],this.source=l,this.target=h}u.prototype=Object.create(s.prototype);for(var c in s)u[c]=s[c];u.prototype.getSource=function(){return this.source},u.prototype.getTarget=function(){return this.target},u.prototype.isInterGraph=function(){return this.isInterGraph},u.prototype.getLength=function(){return this.length},u.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},u.prototype.getBendpoints=function(){return this.bendpoints},u.prototype.getLca=function(){return this.lca},u.prototype.getSourceInLca=function(){return this.sourceInLca},u.prototype.getTargetInLca=function(){return this.targetInLca},u.prototype.getOtherEnd=function(l){if(this.source===l)return this.target;if(this.target===l)return this.source;throw"Node is not incident with this edge"},u.prototype.getOtherEndInGraph=function(l,h){for(var d=this.getOtherEnd(l),f=h.getGraphManager().getRoot();;){if(d.getOwner()==h)return d;if(d.getOwner()==f)break;d=d.getOwner().getParent()}return null},u.prototype.updateLength=function(){var l=new Array(4);this.isOverlapingSourceAndTarget=a.getIntersection(this.target.getRect(),this.source.getRect(),l),this.isOverlapingSourceAndTarget||(this.lengthX=l[0]-l[2],this.lengthY=l[1]-l[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},u.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},n.exports=u}),(function(n,r,i){function s(a){this.vGraphObject=a}n.exports=s}),(function(n,r,i){var s=i(2),a=i(10),o=i(13),u=i(0),c=i(16),l=i(5);function h(f,p,g,m){g==null&&m==null&&(m=p),s.call(this,m),f.graphManager!=null&&(f=f.graphManager),this.estimatedSize=a.MIN_VALUE,this.inclusionTreeDepth=a.MAX_VALUE,this.vGraphObject=m,this.edges=[],this.graphManager=f,g!=null&&p!=null?this.rect=new o(p.x,p.y,g.width,g.height):this.rect=new o}h.prototype=Object.create(s.prototype);for(var d in s)h[d]=s[d];h.prototype.getEdges=function(){return this.edges},h.prototype.getChild=function(){return this.child},h.prototype.getOwner=function(){return this.owner},h.prototype.getWidth=function(){return this.rect.width},h.prototype.setWidth=function(f){this.rect.width=f},h.prototype.getHeight=function(){return this.rect.height},h.prototype.setHeight=function(f){this.rect.height=f},h.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},h.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},h.prototype.getCenter=function(){return new l(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},h.prototype.getLocation=function(){return new l(this.rect.x,this.rect.y)},h.prototype.getRect=function(){return this.rect},h.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},h.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},h.prototype.setRect=function(f,p){this.rect.x=f.x,this.rect.y=f.y,this.rect.width=p.width,this.rect.height=p.height},h.prototype.setCenter=function(f,p){this.rect.x=f-this.rect.width/2,this.rect.y=p-this.rect.height/2},h.prototype.setLocation=function(f,p){this.rect.x=f,this.rect.y=p},h.prototype.moveBy=function(f,p){this.rect.x+=f,this.rect.y+=p},h.prototype.getEdgeListToNode=function(f){var p=[],g=this;return g.edges.forEach(function(m){if(m.target==f){if(m.source!=g)throw"Incorrect edge source!";p.push(m)}}),p},h.prototype.getEdgesBetween=function(f){var p=[],g=this;return g.edges.forEach(function(m){if(!(m.source==g||m.target==g))throw"Incorrect edge source and/or target";(m.target==f||m.source==f)&&p.push(m)}),p},h.prototype.getNeighborsList=function(){var f=new Set,p=this;return p.edges.forEach(function(g){if(g.source==p)f.add(g.target);else{if(g.target!=p)throw"Incorrect incidency!";f.add(g.source)}}),f},h.prototype.withChildren=function(){var f=new Set,p,g;if(f.add(this),this.child!=null)for(var m=this.child.getNodes(),y=0;y<m.length;y++)p=m[y],g=p.withChildren(),g.forEach(function(v){f.add(v)});return f},h.prototype.getNoOfChildren=function(){var f=0,p;if(this.child==null)f=1;else for(var g=this.child.getNodes(),m=0;m<g.length;m++)p=g[m],f+=p.getNoOfChildren();return f==0&&(f=1),f},h.prototype.getEstimatedSize=function(){if(this.estimatedSize==a.MIN_VALUE)throw"assert failed";return this.estimatedSize},h.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},h.prototype.scatter=function(){var f,p,g=-u.INITIAL_WORLD_BOUNDARY,m=u.INITIAL_WORLD_BOUNDARY;f=u.WORLD_CENTER_X+c.nextDouble()*(m-g)+g;var y=-u.INITIAL_WORLD_BOUNDARY,v=u.INITIAL_WORLD_BOUNDARY;p=u.WORLD_CENTER_Y+c.nextDouble()*(v-y)+y,this.rect.x=f,this.rect.y=p},h.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var f=this.getChild();if(f.updateBounds(!0),this.rect.x=f.getLeft(),this.rect.y=f.getTop(),this.setWidth(f.getRight()-f.getLeft()),this.setHeight(f.getBottom()-f.getTop()),u.NODE_DIMENSIONS_INCLUDE_LABELS){var p=f.getRight()-f.getLeft(),g=f.getBottom()-f.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(p+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>p?(this.rect.x-=(this.labelWidth-p)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(p+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(g+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>g?(this.rect.y-=(this.labelHeight-g)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(g+this.labelHeight))}}},h.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==a.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},h.prototype.transform=function(f){var p=this.rect.x;p>u.WORLD_BOUNDARY?p=u.WORLD_BOUNDARY:p<-u.WORLD_BOUNDARY&&(p=-u.WORLD_BOUNDARY);var g=this.rect.y;g>u.WORLD_BOUNDARY?g=u.WORLD_BOUNDARY:g<-u.WORLD_BOUNDARY&&(g=-u.WORLD_BOUNDARY);var m=new l(p,g),y=f.inverseTransformPoint(m);this.setLocation(y.x,y.y)},h.prototype.getLeft=function(){return this.rect.x},h.prototype.getRight=function(){return this.rect.x+this.rect.width},h.prototype.getTop=function(){return this.rect.y},h.prototype.getBottom=function(){return this.rect.y+this.rect.height},h.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},n.exports=h}),(function(n,r,i){var s=i(0);function a(){}for(var o in s)a[o]=s[o];a.MAX_ITERATIONS=2500,a.DEFAULT_EDGE_LENGTH=50,a.DEFAULT_SPRING_STRENGTH=.45,a.DEFAULT_REPULSION_STRENGTH=4500,a.DEFAULT_GRAVITY_STRENGTH=.4,a.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,a.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,a.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,a.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,a.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,a.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,a.COOLING_ADAPTATION_FACTOR=.33,a.ADAPTATION_LOWER_NODE_LIMIT=1e3,a.ADAPTATION_UPPER_NODE_LIMIT=5e3,a.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,a.MAX_NODE_DISPLACEMENT=a.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,a.MIN_REPULSION_DIST=a.DEFAULT_EDGE_LENGTH/10,a.CONVERGENCE_CHECK_PERIOD=100,a.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,a.MIN_EDGE_LENGTH=1,a.GRID_CALCULATION_CHECK_PERIOD=10,n.exports=a}),(function(n,r,i){function s(a,o){a==null&&o==null?(this.x=0,this.y=0):(this.x=a,this.y=o)}s.prototype.getX=function(){return this.x},s.prototype.getY=function(){return this.y},s.prototype.setX=function(a){this.x=a},s.prototype.setY=function(a){this.y=a},s.prototype.getDifference=function(a){return new DimensionD(this.x-a.x,this.y-a.y)},s.prototype.getCopy=function(){return new s(this.x,this.y)},s.prototype.translate=function(a){return this.x+=a.width,this.y+=a.height,this},n.exports=s}),(function(n,r,i){var s=i(2),a=i(10),o=i(0),u=i(7),c=i(3),l=i(1),h=i(13),d=i(12),f=i(11);function p(m,y,v){s.call(this,v),this.estimatedSize=a.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=m,y!=null&&y instanceof u?this.graphManager=y:y!=null&&y instanceof Layout&&(this.graphManager=y.graphManager)}p.prototype=Object.create(s.prototype);for(var g in s)p[g]=s[g];p.prototype.getNodes=function(){return this.nodes},p.prototype.getEdges=function(){return this.edges},p.prototype.getGraphManager=function(){return this.graphManager},p.prototype.getParent=function(){return this.parent},p.prototype.getLeft=function(){return this.left},p.prototype.getRight=function(){return this.right},p.prototype.getTop=function(){return this.top},p.prototype.getBottom=function(){return this.bottom},p.prototype.isConnected=function(){return this.isConnected},p.prototype.add=function(m,y,v){if(y==null&&v==null){var b=m;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(b)>-1)throw"Node already in graph!";return b.owner=this,this.getNodes().push(b),b}else{var _=m;if(!(this.getNodes().indexOf(y)>-1&&this.getNodes().indexOf(v)>-1))throw"Source or target not in graph!";if(!(y.owner==v.owner&&y.owner==this))throw"Both owners must be this graph!";return y.owner!=v.owner?null:(_.source=y,_.target=v,_.isInterGraph=!1,this.getEdges().push(_),y.edges.push(_),v!=y&&v.edges.push(_),_)}},p.prototype.remove=function(m){var y=m;if(m instanceof c){if(y==null)throw"Node is null!";if(!(y.owner!=null&&y.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var v=y.edges.slice(),b,_=v.length,k=0;k<_;k++)b=v[k],b.isInterGraph?this.graphManager.remove(b):b.source.owner.remove(b);var C=this.nodes.indexOf(y);if(C==-1)throw"Node not in owner node list!";this.nodes.splice(C,1)}else if(m instanceof l){var b=m;if(b==null)throw"Edge is null!";if(!(b.source!=null&&b.target!=null))throw"Source and/or target is null!";if(!(b.source.owner!=null&&b.target.owner!=null&&b.source.owner==this&&b.target.owner==this))throw"Source and/or target owner is invalid!";var x=b.source.edges.indexOf(b),S=b.target.edges.indexOf(b);if(!(x>-1&&S>-1))throw"Source and/or target doesn't know this edge!";b.source.edges.splice(x,1),b.target!=b.source&&b.target.edges.splice(S,1);var C=b.source.owner.getEdges().indexOf(b);if(C==-1)throw"Not in owner's edge list!";b.source.owner.getEdges().splice(C,1)}},p.prototype.updateLeftTop=function(){for(var m=a.MAX_VALUE,y=a.MAX_VALUE,v,b,_,k=this.getNodes(),C=k.length,x=0;x<C;x++){var S=k[x];v=S.getTop(),b=S.getLeft(),m>v&&(m=v),y>b&&(y=b)}return m==a.MAX_VALUE?null:(k[0].getParent().paddingLeft!=null?_=k[0].getParent().paddingLeft:_=this.margin,this.left=y-_,this.top=m-_,new d(this.left,this.top))},p.prototype.updateBounds=function(m){for(var y=a.MAX_VALUE,v=-a.MAX_VALUE,b=a.MAX_VALUE,_=-a.MAX_VALUE,k,C,x,S,O,D=this.nodes,I=D.length,M=0;M<I;M++){var R=D[M];m&&R.child!=null&&R.updateBounds(),k=R.getLeft(),C=R.getRight(),x=R.getTop(),S=R.getBottom(),y>k&&(y=k),v<C&&(v=C),b>x&&(b=x),_<S&&(_=S)}var E=new h(y,b,v-y,_-b);y==a.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),D[0].getParent().paddingLeft!=null?O=D[0].getParent().paddingLeft:O=this.margin,this.left=E.x-O,this.right=E.x+E.width+O,this.top=E.y-O,this.bottom=E.y+E.height+O},p.calculateBounds=function(m){for(var y=a.MAX_VALUE,v=-a.MAX_VALUE,b=a.MAX_VALUE,_=-a.MAX_VALUE,k,C,x,S,O=m.length,D=0;D<O;D++){var I=m[D];k=I.getLeft(),C=I.getRight(),x=I.getTop(),S=I.getBottom(),y>k&&(y=k),v<C&&(v=C),b>x&&(b=x),_<S&&(_=S)}var M=new h(y,b,v-y,_-b);return M},p.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==a.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){for(var m=0,y=this.nodes,v=y.length,b=0;b<v;b++){var _=y[b];m+=_.calcEstimatedSize()}return m==0?this.estimatedSize=o.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=m/Math.sqrt(this.nodes.length),this.estimatedSize},p.prototype.updateConnected=function(){var m=this;if(this.nodes.length==0){this.isConnected=!0;return}var y=new f,v=new Set,b=this.nodes[0],_,k,C=b.withChildren();for(C.forEach(function(M){y.push(M),v.add(M)});y.length!==0;){b=y.shift(),_=b.getEdges();for(var x=_.length,S=0;S<x;S++){var O=_[S];if(k=O.getOtherEndInGraph(b,this),k!=null&&!v.has(k)){var D=k.withChildren();D.forEach(function(M){y.push(M),v.add(M)})}}}if(this.isConnected=!1,v.size>=this.nodes.length){var I=0;v.forEach(function(M){M.owner==m&&I++}),I==this.nodes.length&&(this.isConnected=!0)}},n.exports=p}),(function(n,r,i){var s,a=i(1);function o(u){s=i(6),this.layout=u,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var u=this.layout.newGraph(),c=this.layout.newNode(null),l=this.add(u,c);return this.setRootGraph(l),this.rootGraph},o.prototype.add=function(u,c,l,h,d){if(l==null&&h==null&&d==null){if(u==null)throw"Graph is null!";if(c==null)throw"Parent node is null!";if(this.graphs.indexOf(u)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(u),u.parent!=null)throw"Already has a parent!";if(c.child!=null)throw"Already has a child!";return u.parent=c,c.child=u,u}else{d=l,h=c,l=u;var f=h.getOwner(),p=d.getOwner();if(!(f!=null&&f.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(p!=null&&p.getGraphManager()==this))throw"Target not in this graph mgr!";if(f==p)return l.isInterGraph=!1,f.add(l,h,d);if(l.isInterGraph=!0,l.source=h,l.target=d,this.edges.indexOf(l)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(l),!(l.source!=null&&l.target!=null))throw"Edge source and/or target is null!";if(!(l.source.edges.indexOf(l)==-1&&l.target.edges.indexOf(l)==-1))throw"Edge already in source and/or target incidency list!";return l.source.edges.push(l),l.target.edges.push(l),l}},o.prototype.remove=function(u){if(u instanceof s){var c=u;if(c.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(c==this.rootGraph||c.parent!=null&&c.parent.graphManager==this))throw"Invalid parent node!";var l=[];l=l.concat(c.getEdges());for(var h,d=l.length,f=0;f<d;f++)h=l[f],c.remove(h);var p=[];p=p.concat(c.getNodes());var g;d=p.length;for(var f=0;f<d;f++)g=p[f],c.remove(g);c==this.rootGraph&&this.setRootGraph(null);var m=this.graphs.indexOf(c);this.graphs.splice(m,1),c.parent=null}else if(u instanceof a){if(h=u,h==null)throw"Edge is null!";if(!h.isInterGraph)throw"Not an inter-graph edge!";if(!(h.source!=null&&h.target!=null))throw"Source and/or target is null!";if(!(h.source.edges.indexOf(h)!=-1&&h.target.edges.indexOf(h)!=-1))throw"Source and/or target doesn't know this edge!";var m=h.source.edges.indexOf(h);if(h.source.edges.splice(m,1),m=h.target.edges.indexOf(h),h.target.edges.splice(m,1),!(h.source.owner!=null&&h.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(h.source.owner.getGraphManager().edges.indexOf(h)==-1)throw"Not in owner graph manager's edge list!";var m=h.source.owner.getGraphManager().edges.indexOf(h);h.source.owner.getGraphManager().edges.splice(m,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var u=[],c=this.getGraphs(),l=c.length,h=0;h<l;h++)u=u.concat(c[h].getNodes());this.allNodes=u}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){var u=[],c=this.getGraphs();c.length;for(var l=0;l<c.length;l++)u=u.concat(c[l].getEdges());u=u.concat(this.edges),this.allEdges=u}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(u){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=u},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(u){if(u.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=u,u.parent==null&&(u.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(u,c){if(!(u!=null&&c!=null))throw"assert failed";if(u==c)return!0;var l=u.getOwner(),h;do{if(h=l.getParent(),h==null)break;if(h==c)return!0;if(l=h.getOwner(),l==null)break}while(!0);l=c.getOwner();do{if(h=l.getParent(),h==null)break;if(h==u)return!0;if(l=h.getOwner(),l==null)break}while(!0);return!1},o.prototype.calcLowestCommonAncestors=function(){for(var u,c,l,h,d,f=this.getAllEdges(),p=f.length,g=0;g<p;g++){if(u=f[g],c=u.source,l=u.target,u.lca=null,u.sourceInLca=c,u.targetInLca=l,c==l){u.lca=c.getOwner();continue}for(h=c.getOwner();u.lca==null;){for(u.targetInLca=l,d=l.getOwner();u.lca==null;){if(d==h){u.lca=d;break}if(d==this.rootGraph)break;if(u.lca!=null)throw"assert failed";u.targetInLca=d.getParent(),d=u.targetInLca.getOwner()}if(h==this.rootGraph)break;u.lca==null&&(u.sourceInLca=h.getParent(),h=u.sourceInLca.getOwner())}if(u.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(u,c){if(u==c)return u.getOwner();var l=u.getOwner();do{if(l==null)break;var h=c.getOwner();do{if(h==null)break;if(h==l)return h;h=h.getParent().getOwner()}while(!0);l=l.getParent().getOwner()}while(!0);return l},o.prototype.calcInclusionTreeDepths=function(u,c){u==null&&c==null&&(u=this.rootGraph,c=1);for(var l,h=u.getNodes(),d=h.length,f=0;f<d;f++)l=h[f],l.inclusionTreeDepth=c,l.child!=null&&this.calcInclusionTreeDepths(l.child,c+1)},o.prototype.includesInvalidEdge=function(){for(var u,c=[],l=this.edges.length,h=0;h<l;h++)u=this.edges[h],this.isOneAncestorOfOther(u.source,u.target)&&c.push(u);for(var h=0;h<c.length;h++)this.remove(c[h]);return!1},n.exports=o}),(function(n,r,i){var s=i(12);function a(){}a.calcSeparationAmount=function(o,u,c,l){if(!o.intersects(u))throw"assert failed";var h=new Array(2);this.decideDirectionsForOverlappingNodes(o,u,h),c[0]=Math.min(o.getRight(),u.getRight())-Math.max(o.x,u.x),c[1]=Math.min(o.getBottom(),u.getBottom())-Math.max(o.y,u.y),o.getX()<=u.getX()&&o.getRight()>=u.getRight()?c[0]+=Math.min(u.getX()-o.getX(),o.getRight()-u.getRight()):u.getX()<=o.getX()&&u.getRight()>=o.getRight()&&(c[0]+=Math.min(o.getX()-u.getX(),u.getRight()-o.getRight())),o.getY()<=u.getY()&&o.getBottom()>=u.getBottom()?c[1]+=Math.min(u.getY()-o.getY(),o.getBottom()-u.getBottom()):u.getY()<=o.getY()&&u.getBottom()>=o.getBottom()&&(c[1]+=Math.min(o.getY()-u.getY(),u.getBottom()-o.getBottom()));var d=Math.abs((u.getCenterY()-o.getCenterY())/(u.getCenterX()-o.getCenterX()));u.getCenterY()===o.getCenterY()&&u.getCenterX()===o.getCenterX()&&(d=1);var f=d*c[0],p=c[1]/d;c[0]<p?p=c[0]:f=c[1],c[0]=-1*h[0]*(p/2+l),c[1]=-1*h[1]*(f/2+l)},a.decideDirectionsForOverlappingNodes=function(o,u,c){o.getCenterX()<u.getCenterX()?c[0]=-1:c[0]=1,o.getCenterY()<u.getCenterY()?c[1]=-1:c[1]=1},a.getIntersection2=function(o,u,c){var l=o.getCenterX(),h=o.getCenterY(),d=u.getCenterX(),f=u.getCenterY();if(o.intersects(u))return c[0]=l,c[1]=h,c[2]=d,c[3]=f,!0;var p=o.getX(),g=o.getY(),m=o.getRight(),y=o.getX(),v=o.getBottom(),b=o.getRight(),_=o.getWidthHalf(),k=o.getHeightHalf(),C=u.getX(),x=u.getY(),S=u.getRight(),O=u.getX(),D=u.getBottom(),I=u.getRight(),M=u.getWidthHalf(),R=u.getHeightHalf(),E=!1,w=!1;if(l===d){if(h>f)return c[0]=l,c[1]=g,c[2]=d,c[3]=D,!1;if(h<f)return c[0]=l,c[1]=v,c[2]=d,c[3]=x,!1}else if(h===f){if(l>d)return c[0]=p,c[1]=h,c[2]=S,c[3]=f,!1;if(l<d)return c[0]=m,c[1]=h,c[2]=C,c[3]=f,!1}else{var T=o.height/o.width,A=u.height/u.width,N=(f-h)/(d-l),P=void 0,F=void 0,B=void 0,H=void 0,Y=void 0,Q=void 0;if(-T===N?l>d?(c[0]=y,c[1]=v,E=!0):(c[0]=m,c[1]=g,E=!0):T===N&&(l>d?(c[0]=p,c[1]=g,E=!0):(c[0]=b,c[1]=v,E=!0)),-A===N?d>l?(c[2]=O,c[3]=D,w=!0):(c[2]=S,c[3]=x,w=!0):A===N&&(d>l?(c[2]=C,c[3]=x,w=!0):(c[2]=I,c[3]=D,w=!0)),E&&w)return!1;if(l>d?h>f?(P=this.getCardinalDirection(T,N,4),F=this.getCardinalDirection(A,N,2)):(P=this.getCardinalDirection(-T,N,3),F=this.getCardinalDirection(-A,N,1)):h>f?(P=this.getCardinalDirection(-T,N,1),F=this.getCardinalDirection(-A,N,3)):(P=this.getCardinalDirection(T,N,2),F=this.getCardinalDirection(A,N,4)),!E)switch(P){case 1:H=g,B=l+-k/N,c[0]=B,c[1]=H;break;case 2:B=b,H=h+_*N,c[0]=B,c[1]=H;break;case 3:H=v,B=l+k/N,c[0]=B,c[1]=H;break;case 4:B=y,H=h+-_*N,c[0]=B,c[1]=H;break}if(!w)switch(F){case 1:Q=x,Y=d+-R/N,c[2]=Y,c[3]=Q;break;case 2:Y=I,Q=f+M*N,c[2]=Y,c[3]=Q;break;case 3:Q=D,Y=d+R/N,c[2]=Y,c[3]=Q;break;case 4:Y=O,Q=f+-M*N,c[2]=Y,c[3]=Q;break}}return!1},a.getCardinalDirection=function(o,u,c){return o>u?c:1+c%4},a.getIntersection=function(o,u,c,l){if(l==null)return this.getIntersection2(o,u,c);var h=o.x,d=o.y,f=u.x,p=u.y,g=c.x,m=c.y,y=l.x,v=l.y,b=void 0,_=void 0,k=void 0,C=void 0,x=void 0,S=void 0,O=void 0,D=void 0,I=void 0;return k=p-d,x=h-f,O=f*d-h*p,C=v-m,S=g-y,D=y*m-g*v,I=k*S-C*x,I===0?null:(b=(x*D-S*O)/I,_=(C*O-k*D)/I,new s(b,_))},a.angleOfVector=function(o,u,c,l){var h=void 0;return o!==c?(h=Math.atan((l-u)/(c-o)),c<o?h+=Math.PI:l<u&&(h+=this.TWO_PI)):l<u?h=this.ONE_AND_HALF_PI:h=this.HALF_PI,h},a.doIntersect=function(o,u,c,l){var h=o.x,d=o.y,f=u.x,p=u.y,g=c.x,m=c.y,y=l.x,v=l.y,b=(f-h)*(v-m)-(y-g)*(p-d);if(b===0)return!1;var _=((v-m)*(y-h)+(g-y)*(v-d))/b,k=((d-p)*(y-h)+(f-h)*(v-d))/b;return 0<_&&_<1&&0<k&&k<1},a.findCircleLineIntersections=function(o,u,c,l,h,d,f){var p=(c-o)*(c-o)+(l-u)*(l-u),g=2*((o-h)*(c-o)+(u-d)*(l-u)),m=(o-h)*(o-h)+(u-d)*(u-d)-f*f,y=g*g-4*p*m;if(y>=0){var v=(-g+Math.sqrt(g*g-4*p*m))/(2*p),b=(-g-Math.sqrt(g*g-4*p*m))/(2*p),_=null;return v>=0&&v<=1?[v]:b>=0&&b<=1?[b]:_}else return null},a.HALF_PI=.5*Math.PI,a.ONE_AND_HALF_PI=1.5*Math.PI,a.TWO_PI=2*Math.PI,a.THREE_PI=3*Math.PI,n.exports=a}),(function(n,r,i){function s(){}s.sign=function(a){return a>0?1:a<0?-1:0},s.floor=function(a){return a<0?Math.ceil(a):Math.floor(a)},s.ceil=function(a){return a<0?Math.floor(a):Math.ceil(a)},n.exports=s}),(function(n,r,i){function s(){}s.MAX_VALUE=2147483647,s.MIN_VALUE=-2147483648,n.exports=s}),(function(n,r,i){var s=(function(){function h(d,f){for(var p=0;p<f.length;p++){var g=f[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return function(d,f,p){return f&&h(d.prototype,f),p&&h(d,p),d}})();function a(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function(d){return{value:d,next:null,prev:null}},u=function(d,f,p,g){return d!==null?d.next=f:g.head=f,p!==null?p.prev=f:g.tail=f,f.prev=d,f.next=p,g.length++,f},c=function(d,f){var p=d.prev,g=d.next;return p!==null?p.next=g:f.head=g,g!==null?g.prev=p:f.tail=p,d.prev=d.next=null,f.length--,d},l=(function(){function h(d){var f=this;a(this,h),this.length=0,this.head=null,this.tail=null,d!=null&&d.forEach(function(p){return f.push(p)})}return s(h,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(f,p){return u(p.prev,o(f),p,this)}},{key:"insertAfter",value:function(f,p){return u(p,o(f),p.next,this)}},{key:"insertNodeBefore",value:function(f,p){return u(p.prev,f,p,this)}},{key:"insertNodeAfter",value:function(f,p){return u(p,f,p.next,this)}},{key:"push",value:function(f){return u(this.tail,o(f),null,this)}},{key:"unshift",value:function(f){return u(null,o(f),this.head,this)}},{key:"remove",value:function(f){return c(f,this)}},{key:"pop",value:function(){return c(this.tail,this).value}},{key:"popNode",value:function(){return c(this.tail,this)}},{key:"shift",value:function(){return c(this.head,this).value}},{key:"shiftNode",value:function(){return c(this.head,this)}},{key:"get_object_at",value:function(f){if(f<=this.length()){for(var p=1,g=this.head;p<f;)g=g.next,p++;return g.value}}},{key:"set_object_at",value:function(f,p){if(f<=this.length()){for(var g=1,m=this.head;g<f;)m=m.next,g++;m.value=p}}}]),h})();n.exports=l}),(function(n,r,i){function s(a,o,u){this.x=null,this.y=null,a==null&&o==null&&u==null?(this.x=0,this.y=0):typeof a=="number"&&typeof o=="number"&&u==null?(this.x=a,this.y=o):a.constructor.name=="Point"&&o==null&&u==null&&(u=a,this.x=u.x,this.y=u.y)}s.prototype.getX=function(){return this.x},s.prototype.getY=function(){return this.y},s.prototype.getLocation=function(){return new s(this.x,this.y)},s.prototype.setLocation=function(a,o,u){a.constructor.name=="Point"&&o==null&&u==null?(u=a,this.setLocation(u.x,u.y)):typeof a=="number"&&typeof o=="number"&&u==null&&(parseInt(a)==a&&parseInt(o)==o?this.move(a,o):(this.x=Math.floor(a+.5),this.y=Math.floor(o+.5)))},s.prototype.move=function(a,o){this.x=a,this.y=o},s.prototype.translate=function(a,o){this.x+=a,this.y+=o},s.prototype.equals=function(a){if(a.constructor.name=="Point"){var o=a;return this.x==o.x&&this.y==o.y}return this==a},s.prototype.toString=function(){return new s().constructor.name+"[x="+this.x+",y="+this.y+"]"},n.exports=s}),(function(n,r,i){function s(a,o,u,c){this.x=0,this.y=0,this.width=0,this.height=0,a!=null&&o!=null&&u!=null&&c!=null&&(this.x=a,this.y=o,this.width=u,this.height=c)}s.prototype.getX=function(){return this.x},s.prototype.setX=function(a){this.x=a},s.prototype.getY=function(){return this.y},s.prototype.setY=function(a){this.y=a},s.prototype.getWidth=function(){return this.width},s.prototype.setWidth=function(a){this.width=a},s.prototype.getHeight=function(){return this.height},s.prototype.setHeight=function(a){this.height=a},s.prototype.getRight=function(){return this.x+this.width},s.prototype.getBottom=function(){return this.y+this.height},s.prototype.intersects=function(a){return!(this.getRight()<a.x||this.getBottom()<a.y||a.getRight()<this.x||a.getBottom()<this.y)},s.prototype.getCenterX=function(){return this.x+this.width/2},s.prototype.getMinX=function(){return this.getX()},s.prototype.getMaxX=function(){return this.getX()+this.width},s.prototype.getCenterY=function(){return this.y+this.height/2},s.prototype.getMinY=function(){return this.getY()},s.prototype.getMaxY=function(){return this.getY()+this.height},s.prototype.getWidthHalf=function(){return this.width/2},s.prototype.getHeightHalf=function(){return this.height/2},n.exports=s}),(function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function a(){}a.lastID=0,a.createID=function(o){return a.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=a.getString(),a.lastID++),o.uniqueID)},a.getString=function(o){return o==null&&(o=a.lastID),"Object#"+o},a.isPrimitive=function(o){var u=typeof o>"u"?"undefined":s(o);return o==null||u!="object"&&u!="function"},n.exports=a}),(function(n,r,i){function s(g){if(Array.isArray(g)){for(var m=0,y=Array(g.length);m<g.length;m++)y[m]=g[m];return y}else return Array.from(g)}var a=i(0),o=i(7),u=i(3),c=i(1),l=i(6),h=i(5),d=i(17),f=i(29);function p(g){f.call(this),this.layoutQuality=a.QUALITY,this.createBendsAsNeeded=a.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=a.DEFAULT_INCREMENTAL,this.animationOnLayout=a.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=a.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=a.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=a.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,g!=null&&(this.isRemoteUse=g)}p.RANDOM_SEED=1,p.prototype=Object.create(f.prototype),p.prototype.getGraphManager=function(){return this.graphManager},p.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},p.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},p.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},p.prototype.newGraphManager=function(){var g=new o(this);return this.graphManager=g,g},p.prototype.newGraph=function(g){return new l(null,this.graphManager,g)},p.prototype.newNode=function(g){return new u(this.graphManager,g)},p.prototype.newEdge=function(g){return new c(null,null,g)},p.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},p.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var g;return this.checkLayoutSuccess()?g=!1:g=this.layout(),a.ANIMATE==="during"?!1:(g&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,g)},p.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},p.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var g=this.graphManager.getAllEdges(),m=0;m<g.length;m++)g[m];for(var y=this.graphManager.getRoot().getNodes(),m=0;m<y.length;m++)y[m];this.update(this.graphManager.getRoot())}},p.prototype.update=function(g){if(g==null)this.update2();else if(g instanceof u){var m=g;if(m.getChild()!=null)for(var y=m.getChild().getNodes(),v=0;v<y.length;v++)update(y[v]);if(m.vGraphObject!=null){var b=m.vGraphObject;b.update(m)}}else if(g instanceof c){var _=g;if(_.vGraphObject!=null){var k=_.vGraphObject;k.update(_)}}else if(g instanceof l){var C=g;if(C.vGraphObject!=null){var x=C.vGraphObject;x.update(C)}}},p.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=a.QUALITY,this.animationDuringLayout=a.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=a.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=a.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=a.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=a.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=a.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},p.prototype.transform=function(g){if(g==null)this.transform(new h(0,0));else{var m=new d,y=this.graphManager.getRoot().updateLeftTop();if(y!=null){m.setWorldOrgX(g.x),m.setWorldOrgY(g.y),m.setDeviceOrgX(y.x),m.setDeviceOrgY(y.y);for(var v=this.getAllNodes(),b,_=0;_<v.length;_++)b=v[_],b.transform(m)}}},p.prototype.positionNodesRandomly=function(g){if(g==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var m,y,v=g.getNodes(),b=0;b<v.length;b++)m=v[b],y=m.getChild(),y==null||y.getNodes().length==0?m.scatter():(this.positionNodesRandomly(y),m.updateBounds())},p.prototype.getFlatForest=function(){for(var g=[],m=!0,y=this.graphManager.getRoot().getNodes(),v=!0,b=0;b<y.length;b++)y[b].getChild()!=null&&(v=!1);if(!v)return g;var _=new Set,k=[],C=new Map,x=[];for(x=x.concat(y);x.length>0&&m;){for(k.push(x[0]);k.length>0&&m;){var S=k[0];k.splice(0,1),_.add(S);for(var O=S.getEdges(),b=0;b<O.length;b++){var D=O[b].getOtherEnd(S);if(C.get(S)!=D)if(!_.has(D))k.push(D),C.set(D,S);else{m=!1;break}}}if(!m)g=[];else{var I=[].concat(s(_));g.push(I);for(var b=0;b<I.length;b++){var M=I[b],R=x.indexOf(M);R>-1&&x.splice(R,1)}_=new Set,C=new Map}}return g},p.prototype.createDummyNodesForBendpoints=function(g){for(var m=[],y=g.source,v=this.graphManager.calcLowestCommonAncestor(g.source,g.target),b=0;b<g.bendpoints.length;b++){var _=this.newNode(null);_.setRect(new Point(0,0),new Dimension(1,1)),v.add(_);var k=this.newEdge(null);this.graphManager.add(k,y,_),m.add(_),y=_}var k=this.newEdge(null);return this.graphManager.add(k,y,g.target),this.edgeToDummyNodes.set(g,m),g.isInterGraph()?this.graphManager.remove(g):v.remove(g),m},p.prototype.createBendpointsFromDummyNodes=function(){var g=[];g=g.concat(this.graphManager.getAllEdges()),g=[].concat(s(this.edgeToDummyNodes.keys())).concat(g);for(var m=0;m<g.length;m++){var y=g[m];if(y.bendpoints.length>0){for(var v=this.edgeToDummyNodes.get(y),b=0;b<v.length;b++){var _=v[b],k=new h(_.getCenterX(),_.getCenterY()),C=y.bendpoints.get(b);C.x=k.x,C.y=k.y,_.getOwner().remove(_)}this.graphManager.add(y,y.source,y.target)}}},p.transform=function(g,m,y,v){if(y!=null&&v!=null){var b=m;if(g<=50){var _=m/y;b-=(m-_)/50*(50-g)}else{var k=m*v;b+=(k-m)/50*(g-50)}return b}else{var C,x;return g<=50?(C=9*m/500,x=m/10):(C=9*m/50,x=-8*m),C*g+x}},p.findCenterOfTree=function(g){var m=[];m=m.concat(g);var y=[],v=new Map,b=!1,_=null;(m.length==1||m.length==2)&&(b=!0,_=m[0]);for(var k=0;k<m.length;k++){var C=m[k],x=C.getNeighborsList().size;v.set(C,C.getNeighborsList().size),x==1&&y.push(C)}var S=[];for(S=S.concat(y);!b;){var O=[];O=O.concat(S),S=[];for(var k=0;k<m.length;k++){var C=m[k],D=m.indexOf(C);D>=0&&m.splice(D,1);var I=C.getNeighborsList();I.forEach(function(E){if(y.indexOf(E)<0){var w=v.get(E),T=w-1;T==1&&S.push(E),v.set(E,T)}})}y=y.concat(S),(m.length==1||m.length==2)&&(b=!0,_=m[0])}return _},p.prototype.setGraphManager=function(g){this.graphManager=g},n.exports=p}),(function(n,r,i){function s(){}s.seed=1,s.x=0,s.nextDouble=function(){return s.x=Math.sin(s.seed++)*1e4,s.x-Math.floor(s.x)},n.exports=s}),(function(n,r,i){var s=i(5);function a(o,u){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}a.prototype.getWorldOrgX=function(){return this.lworldOrgX},a.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},a.prototype.getWorldOrgY=function(){return this.lworldOrgY},a.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},a.prototype.getWorldExtX=function(){return this.lworldExtX},a.prototype.setWorldExtX=function(o){this.lworldExtX=o},a.prototype.getWorldExtY=function(){return this.lworldExtY},a.prototype.setWorldExtY=function(o){this.lworldExtY=o},a.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},a.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},a.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},a.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},a.prototype.getDeviceExtX=function(){return this.ldeviceExtX},a.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},a.prototype.getDeviceExtY=function(){return this.ldeviceExtY},a.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},a.prototype.transformX=function(o){var u=0,c=this.lworldExtX;return c!=0&&(u=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/c),u},a.prototype.transformY=function(o){var u=0,c=this.lworldExtY;return c!=0&&(u=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/c),u},a.prototype.inverseTransformX=function(o){var u=0,c=this.ldeviceExtX;return c!=0&&(u=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/c),u},a.prototype.inverseTransformY=function(o){var u=0,c=this.ldeviceExtY;return c!=0&&(u=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/c),u},a.prototype.inverseTransformPoint=function(o){var u=new s(this.inverseTransformX(o.x),this.inverseTransformY(o.y));return u},n.exports=a}),(function(n,r,i){function s(f){if(Array.isArray(f)){for(var p=0,g=Array(f.length);p<f.length;p++)g[p]=f[p];return g}else return Array.from(f)}var a=i(15),o=i(4),u=i(0),c=i(8),l=i(9);function h(){a.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}h.prototype=Object.create(a.prototype);for(var d in a)h[d]=a[d];h.prototype.initParameters=function(){a.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},h.prototype.calcIdealEdgeLengths=function(){for(var f,p,g,m,y,v,b,_=this.getGraphManager().getAllEdges(),k=0;k<_.length;k++)f=_[k],p=f.idealLength,f.isInterGraph&&(m=f.getSource(),y=f.getTarget(),v=f.getSourceInLca().getEstimatedSize(),b=f.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(f.idealLength+=v+b-2*u.SIMPLE_NODE_SIZE),g=f.getLca().getInclusionTreeDepth(),f.idealLength+=p*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(m.getInclusionTreeDepth()+y.getInclusionTreeDepth()-2*g))},h.prototype.initSpringEmbedder=function(){var f=this.getAllNodes().length;this.incremental?(f>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(f>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},h.prototype.calcSpringForces=function(){for(var f=this.getAllEdges(),p,g=0;g<f.length;g++)p=f[g],this.calcSpringForce(p,p.idealLength)},h.prototype.calcRepulsionForces=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g,m,y,v,b=this.getAllNodes(),_;if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&f&&this.updateGrid(),_=new Set,g=0;g<b.length;g++)y=b[g],this.calculateRepulsionForceOfANode(y,_,f,p),_.add(y);else for(g=0;g<b.length;g++)for(y=b[g],m=g+1;m<b.length;m++)v=b[m],y.getOwner()==v.getOwner()&&this.calcRepulsionForce(y,v)},h.prototype.calcGravitationalForces=function(){for(var f,p=this.getAllNodesToApplyGravitation(),g=0;g<p.length;g++)f=p[g],this.calcGravitationalForce(f)},h.prototype.moveNodes=function(){for(var f=this.getAllNodes(),p,g=0;g<f.length;g++)p=f[g],p.move()},h.prototype.calcSpringForce=function(f,p){var g=f.getSource(),m=f.getTarget(),y,v,b,_;if(this.uniformLeafNodeSizes&&g.getChild()==null&&m.getChild()==null)f.updateLengthSimple();else if(f.updateLength(),f.isOverlapingSourceAndTarget)return;y=f.getLength(),y!=0&&(v=f.edgeElasticity*(y-p),b=v*(f.lengthX/y),_=v*(f.lengthY/y),g.springForceX+=b,g.springForceY+=_,m.springForceX-=b,m.springForceY-=_)},h.prototype.calcRepulsionForce=function(f,p){var g=f.getRect(),m=p.getRect(),y=new Array(2),v=new Array(4),b,_,k,C,x,S,O;if(g.intersects(m)){c.calcSeparationAmount(g,m,y,o.DEFAULT_EDGE_LENGTH/2),S=2*y[0],O=2*y[1];var D=f.noOfChildren*p.noOfChildren/(f.noOfChildren+p.noOfChildren);f.repulsionForceX-=D*S,f.repulsionForceY-=D*O,p.repulsionForceX+=D*S,p.repulsionForceY+=D*O}else this.uniformLeafNodeSizes&&f.getChild()==null&&p.getChild()==null?(b=m.getCenterX()-g.getCenterX(),_=m.getCenterY()-g.getCenterY()):(c.getIntersection(g,m,v),b=v[2]-v[0],_=v[3]-v[1]),Math.abs(b)<o.MIN_REPULSION_DIST&&(b=l.sign(b)*o.MIN_REPULSION_DIST),Math.abs(_)<o.MIN_REPULSION_DIST&&(_=l.sign(_)*o.MIN_REPULSION_DIST),k=b*b+_*_,C=Math.sqrt(k),x=(f.nodeRepulsion/2+p.nodeRepulsion/2)*f.noOfChildren*p.noOfChildren/k,S=x*b/C,O=x*_/C,f.repulsionForceX-=S,f.repulsionForceY-=O,p.repulsionForceX+=S,p.repulsionForceY+=O},h.prototype.calcGravitationalForce=function(f){var p,g,m,y,v,b,_,k;p=f.getOwner(),g=(p.getRight()+p.getLeft())/2,m=(p.getTop()+p.getBottom())/2,y=f.getCenterX()-g,v=f.getCenterY()-m,b=Math.abs(y)+f.getWidth()/2,_=Math.abs(v)+f.getHeight()/2,f.getOwner()==this.graphManager.getRoot()?(k=p.getEstimatedSize()*this.gravityRangeFactor,(b>k||_>k)&&(f.gravitationForceX=-this.gravityConstant*y,f.gravitationForceY=-this.gravityConstant*v)):(k=p.getEstimatedSize()*this.compoundGravityRangeFactor,(b>k||_>k)&&(f.gravitationForceX=-this.gravityConstant*y*this.compoundGravityConstant,f.gravitationForceY=-this.gravityConstant*v*this.compoundGravityConstant))},h.prototype.isConverged=function(){var f,p=!1;return this.totalIterations>this.maxIterations/3&&(p=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),f=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,f||p},h.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},h.prototype.calcNoOfChildrenForAllNodes=function(){for(var f,p=this.graphManager.getAllNodes(),g=0;g<p.length;g++)f=p[g],f.noOfChildren=f.getNoOfChildren()},h.prototype.calcGrid=function(f){var p=0,g=0;p=parseInt(Math.ceil((f.getRight()-f.getLeft())/this.repulsionRange)),g=parseInt(Math.ceil((f.getBottom()-f.getTop())/this.repulsionRange));for(var m=new Array(p),y=0;y<p;y++)m[y]=new Array(g);for(var y=0;y<p;y++)for(var v=0;v<g;v++)m[y][v]=new Array;return m},h.prototype.addNodeToGrid=function(f,p,g){var m=0,y=0,v=0,b=0;m=parseInt(Math.floor((f.getRect().x-p)/this.repulsionRange)),y=parseInt(Math.floor((f.getRect().width+f.getRect().x-p)/this.repulsionRange)),v=parseInt(Math.floor((f.getRect().y-g)/this.repulsionRange)),b=parseInt(Math.floor((f.getRect().height+f.getRect().y-g)/this.repulsionRange));for(var _=m;_<=y;_++)for(var k=v;k<=b;k++)this.grid[_][k].push(f),f.setGridCoordinates(m,y,v,b)},h.prototype.updateGrid=function(){var f,p,g=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),f=0;f<g.length;f++)p=g[f],this.addNodeToGrid(p,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},h.prototype.calculateRepulsionForceOfANode=function(f,p,g,m){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&g||m){var y=new Set;f.surrounding=new Array;for(var v,b=this.grid,_=f.startX-1;_<f.finishX+2;_++)for(var k=f.startY-1;k<f.finishY+2;k++)if(!(_<0||k<0||_>=b.length||k>=b[0].length)){for(var C=0;C<b[_][k].length;C++)if(v=b[_][k][C],!(f.getOwner()!=v.getOwner()||f==v)&&!p.has(v)&&!y.has(v)){var x=Math.abs(f.getCenterX()-v.getCenterX())-(f.getWidth()/2+v.getWidth()/2),S=Math.abs(f.getCenterY()-v.getCenterY())-(f.getHeight()/2+v.getHeight()/2);x<=this.repulsionRange&&S<=this.repulsionRange&&y.add(v)}}f.surrounding=[].concat(s(y))}for(_=0;_<f.surrounding.length;_++)this.calcRepulsionForce(f,f.surrounding[_])},h.prototype.calcRepulsionRange=function(){return 0},n.exports=h}),(function(n,r,i){var s=i(1),a=i(4);function o(c,l,h){s.call(this,c,l,h),this.idealLength=a.DEFAULT_EDGE_LENGTH,this.edgeElasticity=a.DEFAULT_SPRING_STRENGTH}o.prototype=Object.create(s.prototype);for(var u in s)o[u]=s[u];n.exports=o}),(function(n,r,i){var s=i(3),a=i(4);function o(c,l,h,d){s.call(this,c,l,h,d),this.nodeRepulsion=a.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}o.prototype=Object.create(s.prototype);for(var u in s)o[u]=s[u];o.prototype.setGridCoordinates=function(c,l,h,d){this.startX=c,this.finishX=l,this.startY=h,this.finishY=d},n.exports=o}),(function(n,r,i){function s(a,o){this.width=0,this.height=0,a!==null&&o!==null&&(this.height=o,this.width=a)}s.prototype.getWidth=function(){return this.width},s.prototype.setWidth=function(a){this.width=a},s.prototype.getHeight=function(){return this.height},s.prototype.setHeight=function(a){this.height=a},n.exports=s}),(function(n,r,i){var s=i(14);function a(){this.map={},this.keys=[]}a.prototype.put=function(o,u){var c=s.createID(o);this.contains(c)||(this.map[c]=u,this.keys.push(o))},a.prototype.contains=function(o){return s.createID(o),this.map[o]!=null},a.prototype.get=function(o){var u=s.createID(o);return this.map[u]},a.prototype.keySet=function(){return this.keys},n.exports=a}),(function(n,r,i){var s=i(14);function a(){this.set={}}a.prototype.add=function(o){var u=s.createID(o);this.contains(u)||(this.set[u]=o)},a.prototype.remove=function(o){delete this.set[s.createID(o)]},a.prototype.clear=function(){this.set={}},a.prototype.contains=function(o){return this.set[s.createID(o)]==o},a.prototype.isEmpty=function(){return this.size()===0},a.prototype.size=function(){return Object.keys(this.set).length},a.prototype.addAllTo=function(o){for(var u=Object.keys(this.set),c=u.length,l=0;l<c;l++)o.push(this.set[u[l]])},a.prototype.size=function(){return Object.keys(this.set).length},a.prototype.addAll=function(o){for(var u=o.length,c=0;c<u;c++){var l=o[c];this.add(l)}},n.exports=a}),(function(n,r,i){function s(){}s.multMat=function(a,o){for(var u=[],c=0;c<a.length;c++){u[c]=[];for(var l=0;l<o[0].length;l++){u[c][l]=0;for(var h=0;h<a[0].length;h++)u[c][l]+=a[c][h]*o[h][l]}}return u},s.transpose=function(a){for(var o=[],u=0;u<a[0].length;u++){o[u]=[];for(var c=0;c<a.length;c++)o[u][c]=a[c][u]}return o},s.multCons=function(a,o){for(var u=[],c=0;c<a.length;c++)u[c]=a[c]*o;return u},s.minusOp=function(a,o){for(var u=[],c=0;c<a.length;c++)u[c]=a[c]-o[c];return u},s.dotProduct=function(a,o){for(var u=0,c=0;c<a.length;c++)u+=a[c]*o[c];return u},s.mag=function(a){return Math.sqrt(this.dotProduct(a,a))},s.normalize=function(a){for(var o=[],u=this.mag(a),c=0;c<a.length;c++)o[c]=a[c]/u;return o},s.multGamma=function(a){for(var o=[],u=0,c=0;c<a.length;c++)u+=a[c];u*=-1/a.length;for(var l=0;l<a.length;l++)o[l]=u+a[l];return o},s.multL=function(a,o,u){for(var c=[],l=[],h=[],d=0;d<o[0].length;d++){for(var f=0,p=0;p<o.length;p++)f+=-.5*o[p][d]*a[p];l[d]=f}for(var g=0;g<u.length;g++){for(var m=0,y=0;y<u.length;y++)m+=u[g][y]*l[y];h[g]=m}for(var v=0;v<o.length;v++){for(var b=0,_=0;_<o[0].length;_++)b+=o[v][_]*h[_];c[v]=b}return c},n.exports=s}),(function(n,r,i){var s=(function(){function c(l,h){for(var d=0;d<h.length;d++){var f=h[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,h,d){return h&&c(l.prototype,h),d&&c(l,d),l}})();function a(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}var o=i(11),u=(function(){function c(l,h){a(this,c),(h!==null||h!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var d=void 0;l instanceof o?d=l.size():d=l.length,this._quicksort(l,0,d-1)}return s(c,[{key:"_quicksort",value:function(h,d,f){if(d<f){var p=this._partition(h,d,f);this._quicksort(h,d,p),this._quicksort(h,p+1,f)}}},{key:"_partition",value:function(h,d,f){for(var p=this._get(h,d),g=d,m=f;;){for(;this.compareFunction(p,this._get(h,m));)m--;for(;this.compareFunction(this._get(h,g),p);)g++;if(g<m)this._swap(h,g,m),g++,m--;else return m}}},{key:"_get",value:function(h,d){return h instanceof o?h.get_object_at(d):h[d]}},{key:"_set",value:function(h,d,f){h instanceof o?h.set_object_at(d,f):h[d]=f}},{key:"_swap",value:function(h,d,f){var p=this._get(h,d);this._set(h,d,this._get(h,f)),this._set(h,f,p)}},{key:"_defaultCompareFunction",value:function(h,d){return d>h}}]),c})();n.exports=u}),(function(n,r,i){function s(){}s.svd=function(a){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=a.length,this.n=a[0].length;var o=Math.min(this.m,this.n);this.s=(function(le){for(var Oe=[];le-- >0;)Oe.push(0);return Oe})(Math.min(this.m+1,this.n)),this.U=(function(le){var Oe=function L($e){if($e.length==0)return 0;for(var Ze=[],Ee=0;Ee<$e[0];Ee++)Ze.push(L($e.slice(1)));return Ze};return Oe(le)})([this.m,o]),this.V=(function(le){var Oe=function L($e){if($e.length==0)return 0;for(var Ze=[],Ee=0;Ee<$e[0];Ee++)Ze.push(L($e.slice(1)));return Ze};return Oe(le)})([this.n,this.n]);for(var u=(function(le){for(var Oe=[];le-- >0;)Oe.push(0);return Oe})(this.n),c=(function(le){for(var Oe=[];le-- >0;)Oe.push(0);return Oe})(this.m),l=!0,h=Math.min(this.m-1,this.n),d=Math.max(0,Math.min(this.n-2,this.m)),f=0;f<Math.max(h,d);f++){if(f<h){this.s[f]=0;for(var p=f;p<this.m;p++)this.s[f]=s.hypot(this.s[f],a[p][f]);if(this.s[f]!==0){a[f][f]<0&&(this.s[f]=-this.s[f]);for(var g=f;g<this.m;g++)a[g][f]/=this.s[f];a[f][f]+=1}this.s[f]=-this.s[f]}for(var m=f+1;m<this.n;m++){if((function(le,Oe){return le&&Oe})(f<h,this.s[f]!==0)){for(var y=0,v=f;v<this.m;v++)y+=a[v][f]*a[v][m];y=-y/a[f][f];for(var b=f;b<this.m;b++)a[b][m]+=y*a[b][f]}u[m]=a[f][m]}if((function(le,Oe){return Oe})(l,f<h))for(var _=f;_<this.m;_++)this.U[_][f]=a[_][f];if(f<d){u[f]=0;for(var k=f+1;k<this.n;k++)u[f]=s.hypot(u[f],u[k]);if(u[f]!==0){u[f+1]<0&&(u[f]=-u[f]);for(var C=f+1;C<this.n;C++)u[C]/=u[f];u[f+1]+=1}if(u[f]=-u[f],(function(le,Oe){return le&&Oe})(f+1<this.m,u[f]!==0)){for(var x=f+1;x<this.m;x++)c[x]=0;for(var S=f+1;S<this.n;S++)for(var O=f+1;O<this.m;O++)c[O]+=u[S]*a[O][S];for(var D=f+1;D<this.n;D++)for(var I=-u[D]/u[f+1],M=f+1;M<this.m;M++)a[M][D]+=I*c[M]}for(var R=f+1;R<this.n;R++)this.V[R][f]=u[R]}}var E=Math.min(this.n,this.m+1);h<this.n&&(this.s[h]=a[h][h]),this.m<E&&(this.s[E-1]=0),d+1<E&&(u[d]=a[d][E-1]),u[E-1]=0;{for(var w=h;w<o;w++){for(var T=0;T<this.m;T++)this.U[T][w]=0;this.U[w][w]=1}for(var A=h-1;A>=0;A--)if(this.s[A]!==0){for(var N=A+1;N<o;N++){for(var P=0,F=A;F<this.m;F++)P+=this.U[F][A]*this.U[F][N];P=-P/this.U[A][A];for(var B=A;B<this.m;B++)this.U[B][N]+=P*this.U[B][A]}for(var H=A;H<this.m;H++)this.U[H][A]=-this.U[H][A];this.U[A][A]=1+this.U[A][A];for(var Y=0;Y<A-1;Y++)this.U[Y][A]=0}else{for(var Q=0;Q<this.m;Q++)this.U[Q][A]=0;this.U[A][A]=1}}for(var j=this.n-1;j>=0;j--){if((function(le,Oe){return le&&Oe})(j<d,u[j]!==0))for(var ee=j+1;ee<o;ee++){for(var ue=0,se=j+1;se<this.n;se++)ue+=this.V[se][j]*this.V[se][ee];ue=-ue/this.V[j+1][j];for(var z=j+1;z<this.n;z++)this.V[z][ee]+=ue*this.V[z][j]}for(var X=0;X<this.n;X++)this.V[X][j]=0;this.V[j][j]=1}for(var ie=E-1,q=Math.pow(2,-52),be=Math.pow(2,-966);E>0;){var J=void 0,Ie=void 0;for(J=E-2;J>=-1&&J!==-1;J--)if(Math.abs(u[J])<=be+q*(Math.abs(this.s[J])+Math.abs(this.s[J+1]))){u[J]=0;break}if(J===E-2)Ie=4;else{var ge=void 0;for(ge=E-1;ge>=J&&ge!==J;ge--){var mt=(ge!==E?Math.abs(u[ge]):0)+(ge!==J+1?Math.abs(u[ge-1]):0);if(Math.abs(this.s[ge])<=be+q*mt){this.s[ge]=0;break}}ge===J?Ie=3:ge===E-1?Ie=1:(Ie=2,J=ge)}switch(J++,Ie){case 1:{var ht=u[E-2];u[E-2]=0;for(var Je=E-2;Je>=J;Je--){var Ft=s.hypot(this.s[Je],ht),St=this.s[Je]/Ft,Pn=ht/Ft;this.s[Je]=Ft,Je!==J&&(ht=-Pn*u[Je-1],u[Je-1]=St*u[Je-1]);for(var Lt=0;Lt<this.n;Lt++)Ft=St*this.V[Lt][Je]+Pn*this.V[Lt][E-1],this.V[Lt][E-1]=-Pn*this.V[Lt][Je]+St*this.V[Lt][E-1],this.V[Lt][Je]=Ft}}break;case 2:{var $t=u[J-1];u[J-1]=0;for(var Rt=J;Rt<E;Rt++){var wt=s.hypot(this.s[Rt],$t),xt=this.s[Rt]/wt,dn=$t/wt;this.s[Rt]=wt,$t=-dn*u[Rt],u[Rt]=xt*u[Rt];for(var Ct=0;Ct<this.m;Ct++)wt=xt*this.U[Ct][Rt]+dn*this.U[Ct][J-1],this.U[Ct][J-1]=-dn*this.U[Ct][Rt]+xt*this.U[Ct][J-1],this.U[Ct][Rt]=wt}}break;case 3:{var Jt=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[E-1]),Math.abs(this.s[E-2])),Math.abs(u[E-2])),Math.abs(this.s[J])),Math.abs(u[J])),Yt=this.s[E-1]/Jt,oe=this.s[E-2]/Jt,ve=u[E-2]/Jt,Ne=this.s[J]/Jt,Re=u[J]/Jt,Ae=((oe+Yt)*(oe-Yt)+ve*ve)/2,Ue=Yt*ve*(Yt*ve),st=0;(function(le,Oe){return le||Oe})(Ae!==0,Ue!==0)&&(st=Math.sqrt(Ae*Ae+Ue),Ae<0&&(st=-st),st=Ue/(Ae+st));for(var nt=(Ne+Yt)*(Ne-Yt)+st,Ce=Ne*Re,_e=J;_e<E-1;_e++){var et=s.hypot(nt,Ce),Xe=nt/et,$=Ce/et;_e!==J&&(u[_e-1]=et),nt=Xe*this.s[_e]+$*u[_e],u[_e]=Xe*u[_e]-$*this.s[_e],Ce=$*this.s[_e+1],this.s[_e+1]=Xe*this.s[_e+1];for(var Z=0;Z<this.n;Z++)et=Xe*this.V[Z][_e]+$*this.V[Z][_e+1],this.V[Z][_e+1]=-$*this.V[Z][_e]+Xe*this.V[Z][_e+1],this.V[Z][_e]=et;if(et=s.hypot(nt,Ce),Xe=nt/et,$=Ce/et,this.s[_e]=et,nt=Xe*u[_e]+$*this.s[_e+1],this.s[_e+1]=-$*u[_e]+Xe*this.s[_e+1],Ce=$*u[_e+1],u[_e+1]=Xe*u[_e+1],_e<this.m-1)for(var K=0;K<this.m;K++)et=Xe*this.U[K][_e]+$*this.U[K][_e+1],this.U[K][_e+1]=-$*this.U[K][_e]+Xe*this.U[K][_e+1],this.U[K][_e]=et}u[E-2]=nt}break;case 4:{if(this.s[J]<=0){this.s[J]=this.s[J]<0?-this.s[J]:0;for(var ae=0;ae<=ie;ae++)this.V[ae][J]=-this.V[ae][J]}for(;J<ie&&!(this.s[J]>=this.s[J+1]);){var Me=this.s[J];if(this.s[J]=this.s[J+1],this.s[J+1]=Me,J<this.n-1)for(var ye=0;ye<this.n;ye++)Me=this.V[ye][J+1],this.V[ye][J+1]=this.V[ye][J],this.V[ye][J]=Me;if(J<this.m-1)for(var re=0;re<this.m;re++)Me=this.U[re][J+1],this.U[re][J+1]=this.U[re][J],this.U[re][J]=Me;J++}E--}break}}var de={U:this.U,V:this.V,S:this.s};return de},s.hypot=function(a,o){var u=void 0;return Math.abs(a)>Math.abs(o)?(u=o/a,u=Math.abs(a)*Math.sqrt(1+u*u)):o!=0?(u=a/o,u=Math.abs(o)*Math.sqrt(1+u*u)):u=0,u},n.exports=s}),(function(n,r,i){var s=(function(){function u(c,l){for(var h=0;h<l.length;h++){var d=l[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}return function(c,l,h){return l&&u(c.prototype,l),h&&u(c,h),c}})();function a(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}var o=(function(){function u(c,l){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;a(this,u),this.sequence1=c,this.sequence2=l,this.match_score=h,this.mismatch_penalty=d,this.gap_penalty=f,this.iMax=c.length+1,this.jMax=l.length+1,this.grid=new Array(this.iMax);for(var p=0;p<this.iMax;p++){this.grid[p]=new Array(this.jMax);for(var g=0;g<this.jMax;g++)this.grid[p][g]=0}this.tracebackGrid=new Array(this.iMax);for(var m=0;m<this.iMax;m++){this.tracebackGrid[m]=new Array(this.jMax);for(var y=0;y<this.jMax;y++)this.tracebackGrid[m][y]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return s(u,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var l=1;l<this.jMax;l++)this.grid[0][l]=this.grid[0][l-1]+this.gap_penalty,this.tracebackGrid[0][l]=[!1,!1,!0];for(var h=1;h<this.iMax;h++)this.grid[h][0]=this.grid[h-1][0]+this.gap_penalty,this.tracebackGrid[h][0]=[!1,!0,!1];for(var d=1;d<this.iMax;d++)for(var f=1;f<this.jMax;f++){var p=void 0;this.sequence1[d-1]===this.sequence2[f-1]?p=this.grid[d-1][f-1]+this.match_score:p=this.grid[d-1][f-1]+this.mismatch_penalty;var g=this.grid[d-1][f]+this.gap_penalty,m=this.grid[d][f-1]+this.gap_penalty,y=[p,g,m],v=this.arrayAllMaxIndexes(y);this.grid[d][f]=y[v[0]],this.tracebackGrid[d][f]=[v.includes(0),v.includes(1),v.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var l=[];for(l.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});l[0];){var h=l[0],d=this.tracebackGrid[h.pos[0]][h.pos[1]];d[0]&&l.push({pos:[h.pos[0]-1,h.pos[1]-1],seq1:this.sequence1[h.pos[0]-1]+h.seq1,seq2:this.sequence2[h.pos[1]-1]+h.seq2}),d[1]&&l.push({pos:[h.pos[0]-1,h.pos[1]],seq1:this.sequence1[h.pos[0]-1]+h.seq1,seq2:"-"+h.seq2}),d[2]&&l.push({pos:[h.pos[0],h.pos[1]-1],seq1:"-"+h.seq1,seq2:this.sequence2[h.pos[1]-1]+h.seq2}),h.pos[0]===0&&h.pos[1]===0&&this.alignments.push({sequence1:h.seq1,sequence2:h.seq2}),l.shift()}return this.alignments}},{key:"getAllIndexes",value:function(l,h){for(var d=[],f=-1;(f=l.indexOf(h,f+1))!==-1;)d.push(f);return d}},{key:"arrayAllMaxIndexes",value:function(l){return this.getAllIndexes(l,Math.max.apply(null,l))}}]),u})();n.exports=o}),(function(n,r,i){var s=function(){};s.FDLayout=i(18),s.FDLayoutConstants=i(4),s.FDLayoutEdge=i(19),s.FDLayoutNode=i(20),s.DimensionD=i(21),s.HashMap=i(22),s.HashSet=i(23),s.IGeometry=i(8),s.IMath=i(9),s.Integer=i(10),s.Point=i(12),s.PointD=i(5),s.RandomSeed=i(16),s.RectangleD=i(13),s.Transform=i(17),s.UniqueIDGeneretor=i(14),s.Quicksort=i(25),s.LinkedList=i(11),s.LGraphObject=i(2),s.LGraph=i(6),s.LEdge=i(1),s.LGraphManager=i(7),s.LNode=i(3),s.Layout=i(15),s.LayoutConstants=i(0),s.NeedlemanWunsch=i(27),s.Matrix=i(24),s.SVD=i(26),n.exports=s}),(function(n,r,i){function s(){this.listeners=[]}var a=s.prototype;a.addListener=function(o,u){this.listeners.push({event:o,callback:u})},a.removeListener=function(o,u){for(var c=this.listeners.length;c>=0;c--){var l=this.listeners[c];l.event===o&&l.callback===u&&this.listeners.splice(c,1)}},a.emit=function(o,u){for(var c=0;c<this.listeners.length;c++){var l=this.listeners[c];o===l.event&&l.callback(u)}},n.exports=s})])})})(gf)),gf.exports}var nZ=pf.exports,PT;function DJ(){return PT||(PT=1,(function(t,e){(function(r,i){t.exports=i(tZ())})(nZ,function(n){return(()=>{var r={45:((o,u,c)=>{var l={};l.layoutBase=c(551),l.CoSEConstants=c(806),l.CoSEEdge=c(767),l.CoSEGraph=c(880),l.CoSEGraphManager=c(578),l.CoSELayout=c(765),l.CoSENode=c(991),l.ConstraintHandler=c(902),o.exports=l}),806:((o,u,c)=>{var l=c(551).FDLayoutConstants;function h(){}for(var d in l)h[d]=l[d];h.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,h.DEFAULT_RADIAL_SEPARATION=l.DEFAULT_EDGE_LENGTH,h.DEFAULT_COMPONENT_SEPERATION=60,h.TILE=!0,h.TILING_PADDING_VERTICAL=10,h.TILING_PADDING_HORIZONTAL=10,h.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,h.ENFORCE_CONSTRAINTS=!0,h.APPLY_LAYOUT=!0,h.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,h.TREE_REDUCTION_ON_INCREMENTAL=!0,h.PURE_INCREMENTAL=h.DEFAULT_INCREMENTAL,o.exports=h}),767:((o,u,c)=>{var l=c(551).FDLayoutEdge;function h(f,p,g){l.call(this,f,p,g)}h.prototype=Object.create(l.prototype);for(var d in l)h[d]=l[d];o.exports=h}),880:((o,u,c)=>{var l=c(551).LGraph;function h(f,p,g){l.call(this,f,p,g)}h.prototype=Object.create(l.prototype);for(var d in l)h[d]=l[d];o.exports=h}),578:((o,u,c)=>{var l=c(551).LGraphManager;function h(f){l.call(this,f)}h.prototype=Object.create(l.prototype);for(var d in l)h[d]=l[d];o.exports=h}),765:((o,u,c)=>{var l=c(551).FDLayout,h=c(578),d=c(880),f=c(991),p=c(767),g=c(806),m=c(902),y=c(551).FDLayoutConstants,v=c(551).LayoutConstants,b=c(551).Point,_=c(551).PointD,k=c(551).DimensionD,C=c(551).Layout,x=c(551).Integer,S=c(551).IGeometry,O=c(551).LGraph,D=c(551).Transform,I=c(551).LinkedList;function M(){l.call(this),this.toBeTiled={},this.constraints={}}M.prototype=Object.create(l.prototype);for(var R in l)M[R]=l[R];M.prototype.newGraphManager=function(){var E=new h(this);return this.graphManager=E,E},M.prototype.newGraph=function(E){return new d(null,this.graphManager,E)},M.prototype.newNode=function(E){return new f(this.graphManager,E)},M.prototype.newEdge=function(E){return new p(null,null,E)},M.prototype.initParameters=function(){l.prototype.initParameters.call(this,arguments),this.isSubLayout||(g.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=g.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=g.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=y.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=y.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=y.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=y.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},M.prototype.initSpringEmbedder=function(){l.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/y.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},M.prototype.layout=function(){var E=v.DEFAULT_CREATE_BENDS_AS_NEEDED;return E&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},M.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(g.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var w=new Set(this.getAllNodes()),T=this.nodesWithGravity.filter(function(P){return w.has(P)});this.graphManager.setAllNodesToApplyGravitation(T)}}else{var E=this.getFlatForest();if(E.length>0)this.positionNodesRadially(E);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var w=new Set(this.getAllNodes()),T=this.nodesWithGravity.filter(function(A){return w.has(A)});this.graphManager.setAllNodesToApplyGravitation(T),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(m.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),g.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},M.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%y.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var E=new Set(this.getAllNodes()),w=this.nodesWithGravity.filter(function(N){return E.has(N)});this.graphManager.setAllNodesToApplyGravitation(w),this.graphManager.updateBounds(),this.updateGrid(),g.PURE_INCREMENTAL?this.coolingFactor=y.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=y.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),g.PURE_INCREMENTAL?this.coolingFactor=y.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=y.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var T=!this.isTreeGrowing&&!this.isGrowthFinished,A=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(T,A),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},M.prototype.getPositionsData=function(){for(var E=this.graphManager.getAllNodes(),w={},T=0;T<E.length;T++){var A=E[T].rect,N=E[T].id;w[N]={id:N,x:A.getCenterX(),y:A.getCenterY(),w:A.width,h:A.height}}return w},M.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var E=!1;if(y.ANIMATE==="during")this.emit("layoutstarted");else{for(;!E;)E=this.tick();this.graphManager.updateBounds()}},M.prototype.moveNodes=function(){for(var E=this.getAllNodes(),w,T=0;T<E.length;T++)w=E[T],w.calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(var T=0;T<E.length;T++)w=E[T],w.move()},M.prototype.initConstraintVariables=function(){var E=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var w=this.graphManager.getAllNodes(),T=0;T<w.length;T++){var A=w[T];this.idToNodeMap.set(A.id,A)}var N=function z(X){for(var ie=X.getChild().getNodes(),q,be=0,J=0;J<ie.length;J++)q=ie[J],q.getChild()==null?E.fixedNodeSet.has(q.id)&&(be+=100):be+=z(q);return be};if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(ie){E.fixedNodeSet.add(ie.nodeId)});for(var w=this.graphManager.getAllNodes(),A,T=0;T<w.length;T++)if(A=w[T],A.getChild()!=null){var P=N(A);P>0&&(A.fixedNodeWeight=P)}}if(this.constraints.relativePlacementConstraint){var F=new Map,B=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(z){E.fixedNodesOnHorizontal.add(z),E.fixedNodesOnVertical.add(z)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var H=this.constraints.alignmentConstraint.vertical,T=0;T<H.length;T++)this.dummyToNodeForVerticalAlignment.set("dummy"+T,[]),H[T].forEach(function(X){F.set(X,"dummy"+T),E.dummyToNodeForVerticalAlignment.get("dummy"+T).push(X),E.fixedNodeSet.has(X)&&E.fixedNodesOnHorizontal.add("dummy"+T)});if(this.constraints.alignmentConstraint.horizontal)for(var Y=this.constraints.alignmentConstraint.horizontal,T=0;T<Y.length;T++)this.dummyToNodeForHorizontalAlignment.set("dummy"+T,[]),Y[T].forEach(function(X){B.set(X,"dummy"+T),E.dummyToNodeForHorizontalAlignment.get("dummy"+T).push(X),E.fixedNodeSet.has(X)&&E.fixedNodesOnVertical.add("dummy"+T)})}if(g.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(z){var X,ie,q;for(q=z.length-1;q>=2*z.length/3;q--)X=Math.floor(Math.random()*(q+1)),ie=z[q],z[q]=z[X],z[X]=ie;return z},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(z){if(z.left){var X=F.has(z.left)?F.get(z.left):z.left,ie=F.has(z.right)?F.get(z.right):z.right;E.nodesInRelativeHorizontal.includes(X)||(E.nodesInRelativeHorizontal.push(X),E.nodeToRelativeConstraintMapHorizontal.set(X,[]),E.dummyToNodeForVerticalAlignment.has(X)?E.nodeToTempPositionMapHorizontal.set(X,E.idToNodeMap.get(E.dummyToNodeForVerticalAlignment.get(X)[0]).getCenterX()):E.nodeToTempPositionMapHorizontal.set(X,E.idToNodeMap.get(X).getCenterX())),E.nodesInRelativeHorizontal.includes(ie)||(E.nodesInRelativeHorizontal.push(ie),E.nodeToRelativeConstraintMapHorizontal.set(ie,[]),E.dummyToNodeForVerticalAlignment.has(ie)?E.nodeToTempPositionMapHorizontal.set(ie,E.idToNodeMap.get(E.dummyToNodeForVerticalAlignment.get(ie)[0]).getCenterX()):E.nodeToTempPositionMapHorizontal.set(ie,E.idToNodeMap.get(ie).getCenterX())),E.nodeToRelativeConstraintMapHorizontal.get(X).push({right:ie,gap:z.gap}),E.nodeToRelativeConstraintMapHorizontal.get(ie).push({left:X,gap:z.gap})}else{var q=B.has(z.top)?B.get(z.top):z.top,be=B.has(z.bottom)?B.get(z.bottom):z.bottom;E.nodesInRelativeVertical.includes(q)||(E.nodesInRelativeVertical.push(q),E.nodeToRelativeConstraintMapVertical.set(q,[]),E.dummyToNodeForHorizontalAlignment.has(q)?E.nodeToTempPositionMapVertical.set(q,E.idToNodeMap.get(E.dummyToNodeForHorizontalAlignment.get(q)[0]).getCenterY()):E.nodeToTempPositionMapVertical.set(q,E.idToNodeMap.get(q).getCenterY())),E.nodesInRelativeVertical.includes(be)||(E.nodesInRelativeVertical.push(be),E.nodeToRelativeConstraintMapVertical.set(be,[]),E.dummyToNodeForHorizontalAlignment.has(be)?E.nodeToTempPositionMapVertical.set(be,E.idToNodeMap.get(E.dummyToNodeForHorizontalAlignment.get(be)[0]).getCenterY()):E.nodeToTempPositionMapVertical.set(be,E.idToNodeMap.get(be).getCenterY())),E.nodeToRelativeConstraintMapVertical.get(q).push({bottom:be,gap:z.gap}),E.nodeToRelativeConstraintMapVertical.get(be).push({top:q,gap:z.gap})}});else{var Q=new Map,j=new Map;this.constraints.relativePlacementConstraint.forEach(function(z){if(z.left){var X=F.has(z.left)?F.get(z.left):z.left,ie=F.has(z.right)?F.get(z.right):z.right;Q.has(X)?Q.get(X).push(ie):Q.set(X,[ie]),Q.has(ie)?Q.get(ie).push(X):Q.set(ie,[X])}else{var q=B.has(z.top)?B.get(z.top):z.top,be=B.has(z.bottom)?B.get(z.bottom):z.bottom;j.has(q)?j.get(q).push(be):j.set(q,[be]),j.has(be)?j.get(be).push(q):j.set(be,[q])}});var ee=function(X,ie){var q=[],be=[],J=new I,Ie=new Set,ge=0;return X.forEach(function(mt,ht){if(!Ie.has(ht)){q[ge]=[],be[ge]=!1;var Je=ht;for(J.push(Je),Ie.add(Je),q[ge].push(Je);J.length!=0;){Je=J.shift(),ie.has(Je)&&(be[ge]=!0);var Ft=X.get(Je);Ft.forEach(function(St){Ie.has(St)||(J.push(St),Ie.add(St),q[ge].push(St))})}ge++}}),{components:q,isFixed:be}},ue=ee(Q,E.fixedNodesOnHorizontal);this.componentsOnHorizontal=ue.components,this.fixedComponentsOnHorizontal=ue.isFixed;var se=ee(j,E.fixedNodesOnVertical);this.componentsOnVertical=se.components,this.fixedComponentsOnVertical=se.isFixed}}},M.prototype.updateDisplacements=function(){var E=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(se){var z=E.idToNodeMap.get(se.nodeId);z.displacementX=0,z.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var w=this.constraints.alignmentConstraint.vertical,T=0;T<w.length;T++){for(var A=0,N=0;N<w[T].length;N++){if(this.fixedNodeSet.has(w[T][N])){A=0;break}A+=this.idToNodeMap.get(w[T][N]).displacementX}for(var P=A/w[T].length,N=0;N<w[T].length;N++)this.idToNodeMap.get(w[T][N]).displacementX=P}if(this.constraints.alignmentConstraint.horizontal)for(var F=this.constraints.alignmentConstraint.horizontal,T=0;T<F.length;T++){for(var B=0,N=0;N<F[T].length;N++){if(this.fixedNodeSet.has(F[T][N])){B=0;break}B+=this.idToNodeMap.get(F[T][N]).displacementY}for(var H=B/F[T].length,N=0;N<F[T].length;N++)this.idToNodeMap.get(F[T][N]).displacementY=H}}if(this.constraints.relativePlacementConstraint)if(g.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(se){if(!E.fixedNodesOnHorizontal.has(se)){var z=0;E.dummyToNodeForVerticalAlignment.has(se)?z=E.idToNodeMap.get(E.dummyToNodeForVerticalAlignment.get(se)[0]).displacementX:z=E.idToNodeMap.get(se).displacementX,E.nodeToRelativeConstraintMapHorizontal.get(se).forEach(function(X){if(X.right){var ie=E.nodeToTempPositionMapHorizontal.get(X.right)-E.nodeToTempPositionMapHorizontal.get(se)-z;ie<X.gap&&(z-=X.gap-ie)}else{var ie=E.nodeToTempPositionMapHorizontal.get(se)-E.nodeToTempPositionMapHorizontal.get(X.left)+z;ie<X.gap&&(z+=X.gap-ie)}}),E.nodeToTempPositionMapHorizontal.set(se,E.nodeToTempPositionMapHorizontal.get(se)+z),E.dummyToNodeForVerticalAlignment.has(se)?E.dummyToNodeForVerticalAlignment.get(se).forEach(function(X){E.idToNodeMap.get(X).displacementX=z}):E.idToNodeMap.get(se).displacementX=z}}),this.nodesInRelativeVertical.forEach(function(se){if(!E.fixedNodesOnHorizontal.has(se)){var z=0;E.dummyToNodeForHorizontalAlignment.has(se)?z=E.idToNodeMap.get(E.dummyToNodeForHorizontalAlignment.get(se)[0]).displacementY:z=E.idToNodeMap.get(se).displacementY,E.nodeToRelativeConstraintMapVertical.get(se).forEach(function(X){if(X.bottom){var ie=E.nodeToTempPositionMapVertical.get(X.bottom)-E.nodeToTempPositionMapVertical.get(se)-z;ie<X.gap&&(z-=X.gap-ie)}else{var ie=E.nodeToTempPositionMapVertical.get(se)-E.nodeToTempPositionMapVertical.get(X.top)+z;ie<X.gap&&(z+=X.gap-ie)}}),E.nodeToTempPositionMapVertical.set(se,E.nodeToTempPositionMapVertical.get(se)+z),E.dummyToNodeForHorizontalAlignment.has(se)?E.dummyToNodeForHorizontalAlignment.get(se).forEach(function(X){E.idToNodeMap.get(X).displacementY=z}):E.idToNodeMap.get(se).displacementY=z}});else{for(var T=0;T<this.componentsOnHorizontal.length;T++){var Y=this.componentsOnHorizontal[T];if(this.fixedComponentsOnHorizontal[T])for(var N=0;N<Y.length;N++)this.dummyToNodeForVerticalAlignment.has(Y[N])?this.dummyToNodeForVerticalAlignment.get(Y[N]).forEach(function(X){E.idToNodeMap.get(X).displacementX=0}):this.idToNodeMap.get(Y[N]).displacementX=0;else{for(var Q=0,j=0,N=0;N<Y.length;N++)if(this.dummyToNodeForVerticalAlignment.has(Y[N])){var ee=this.dummyToNodeForVerticalAlignment.get(Y[N]);Q+=ee.length*this.idToNodeMap.get(ee[0]).displacementX,j+=ee.length}else Q+=this.idToNodeMap.get(Y[N]).displacementX,j++;for(var ue=Q/j,N=0;N<Y.length;N++)this.dummyToNodeForVerticalAlignment.has(Y[N])?this.dummyToNodeForVerticalAlignment.get(Y[N]).forEach(function(X){E.idToNodeMap.get(X).displacementX=ue}):this.idToNodeMap.get(Y[N]).displacementX=ue}}for(var T=0;T<this.componentsOnVertical.length;T++){var Y=this.componentsOnVertical[T];if(this.fixedComponentsOnVertical[T])for(var N=0;N<Y.length;N++)this.dummyToNodeForHorizontalAlignment.has(Y[N])?this.dummyToNodeForHorizontalAlignment.get(Y[N]).forEach(function(ie){E.idToNodeMap.get(ie).displacementY=0}):this.idToNodeMap.get(Y[N]).displacementY=0;else{for(var Q=0,j=0,N=0;N<Y.length;N++)if(this.dummyToNodeForHorizontalAlignment.has(Y[N])){var ee=this.dummyToNodeForHorizontalAlignment.get(Y[N]);Q+=ee.length*this.idToNodeMap.get(ee[0]).displacementY,j+=ee.length}else Q+=this.idToNodeMap.get(Y[N]).displacementY,j++;for(var ue=Q/j,N=0;N<Y.length;N++)this.dummyToNodeForHorizontalAlignment.has(Y[N])?this.dummyToNodeForHorizontalAlignment.get(Y[N]).forEach(function(J){E.idToNodeMap.get(J).displacementY=ue}):this.idToNodeMap.get(Y[N]).displacementY=ue}}}},M.prototype.calculateNodesToApplyGravitationTo=function(){var E=[],w,T=this.graphManager.getGraphs(),A=T.length,N;for(N=0;N<A;N++)w=T[N],w.updateConnected(),w.isConnected||(E=E.concat(w.getNodes()));return E},M.prototype.createBendpoints=function(){var E=[];E=E.concat(this.graphManager.getAllEdges());var w=new Set,T;for(T=0;T<E.length;T++){var A=E[T];if(!w.has(A)){var N=A.getSource(),P=A.getTarget();if(N==P)A.getBendpoints().push(new _),A.getBendpoints().push(new _),this.createDummyNodesForBendpoints(A),w.add(A);else{var F=[];if(F=F.concat(N.getEdgeListToNode(P)),F=F.concat(P.getEdgeListToNode(N)),!w.has(F[0])){if(F.length>1){var B;for(B=0;B<F.length;B++){var H=F[B];H.getBendpoints().push(new _),this.createDummyNodesForBendpoints(H)}}F.forEach(function(Y){w.add(Y)})}}}if(w.size==E.length)break}},M.prototype.positionNodesRadially=function(E){for(var w=new b(0,0),T=Math.ceil(Math.sqrt(E.length)),A=0,N=0,P=0,F=new _(0,0),B=0;B<E.length;B++){B%T==0&&(P=0,N=A,B!=0&&(N+=g.DEFAULT_COMPONENT_SEPERATION),A=0);var H=E[B],Y=C.findCenterOfTree(H);w.x=P,w.y=N,F=M.radialLayout(H,Y,w),F.y>A&&(A=Math.floor(F.y)),P=Math.floor(F.x+g.DEFAULT_COMPONENT_SEPERATION)}this.transform(new _(v.WORLD_CENTER_X-F.x/2,v.WORLD_CENTER_Y-F.y/2))},M.radialLayout=function(E,w,T){var A=Math.max(this.maxDiagonalInTree(E),g.DEFAULT_RADIAL_SEPARATION);M.branchRadialLayout(w,null,0,359,0,A);var N=O.calculateBounds(E),P=new D;P.setDeviceOrgX(N.getMinX()),P.setDeviceOrgY(N.getMinY()),P.setWorldOrgX(T.x),P.setWorldOrgY(T.y);for(var F=0;F<E.length;F++){var B=E[F];B.transform(P)}var H=new _(N.getMaxX(),N.getMaxY());return P.inverseTransformPoint(H)},M.branchRadialLayout=function(E,w,T,A,N,P){var F=(A-T+1)/2;F<0&&(F+=180);var B=(F+T)%360,H=B*S.TWO_PI/360,Y=N*Math.cos(H),Q=N*Math.sin(H);E.setCenter(Y,Q);var j=[];j=j.concat(E.getEdges());var ee=j.length;w!=null&&ee--;for(var ue=0,se=j.length,z,X=E.getEdgesBetween(w);X.length>1;){var ie=X[0];X.splice(0,1);var q=j.indexOf(ie);q>=0&&j.splice(q,1),se--,ee--}w!=null?z=(j.indexOf(X[0])+1)%se:z=0;for(var be=Math.abs(A-T)/ee,J=z;ue!=ee;J=++J%se){var Ie=j[J].getOtherEnd(E);if(Ie!=w){var ge=(T+ue*be)%360,mt=(ge+be)%360;M.branchRadialLayout(Ie,E,ge,mt,N+P,P),ue++}}},M.maxDiagonalInTree=function(E){for(var w=x.MIN_VALUE,T=0;T<E.length;T++){var A=E[T],N=A.getDiagonal();N>w&&(w=N)}return w},M.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},M.prototype.groupZeroDegreeMembers=function(){var E=this,w={};this.memberGroups={},this.idToDummyNode={};for(var T=[],A=this.graphManager.getAllNodes(),N=0;N<A.length;N++){var P=A[N],F=P.getParent();this.getNodeDegreeWithChildren(P)===0&&(F.id==null||!this.getToBeTiled(F))&&T.push(P)}for(var N=0;N<T.length;N++){var P=T[N],B=P.getParent().id;typeof w[B]>"u"&&(w[B]=[]),w[B]=w[B].concat(P)}Object.keys(w).forEach(function(H){if(w[H].length>1){var Y="DummyCompound_"+H;E.memberGroups[Y]=w[H];var Q=w[H][0].getParent(),j=new f(E.graphManager);j.id=Y,j.paddingLeft=Q.paddingLeft||0,j.paddingRight=Q.paddingRight||0,j.paddingBottom=Q.paddingBottom||0,j.paddingTop=Q.paddingTop||0,E.idToDummyNode[Y]=j;var ee=E.getGraphManager().add(E.newGraph(),j),ue=Q.getChild();ue.add(j);for(var se=0;se<w[H].length;se++){var z=w[H][se];ue.remove(z),ee.add(z)}}})},M.prototype.clearCompounds=function(){var E={},w={};this.performDFSOnCompounds();for(var T=0;T<this.compoundOrder.length;T++)w[this.compoundOrder[T].id]=this.compoundOrder[T],E[this.compoundOrder[T].id]=[].concat(this.compoundOrder[T].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[T].getChild()),this.compoundOrder[T].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(E,w)},M.prototype.clearZeroDegreeMembers=function(){var E=this,w=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(T){var A=E.idToDummyNode[T];if(w[T]=E.tileNodes(E.memberGroups[T],A.paddingLeft+A.paddingRight),A.rect.width=w[T].width,A.rect.height=w[T].height,A.setCenter(w[T].centerX,w[T].centerY),A.labelMarginLeft=0,A.labelMarginTop=0,g.NODE_DIMENSIONS_INCLUDE_LABELS){var N=A.rect.width,P=A.rect.height;A.labelWidth&&(A.labelPosHorizontal=="left"?(A.rect.x-=A.labelWidth,A.setWidth(N+A.labelWidth),A.labelMarginLeft=A.labelWidth):A.labelPosHorizontal=="center"&&A.labelWidth>N?(A.rect.x-=(A.labelWidth-N)/2,A.setWidth(A.labelWidth),A.labelMarginLeft=(A.labelWidth-N)/2):A.labelPosHorizontal=="right"&&A.setWidth(N+A.labelWidth)),A.labelHeight&&(A.labelPosVertical=="top"?(A.rect.y-=A.labelHeight,A.setHeight(P+A.labelHeight),A.labelMarginTop=A.labelHeight):A.labelPosVertical=="center"&&A.labelHeight>P?(A.rect.y-=(A.labelHeight-P)/2,A.setHeight(A.labelHeight),A.labelMarginTop=(A.labelHeight-P)/2):A.labelPosVertical=="bottom"&&A.setHeight(P+A.labelHeight))}})},M.prototype.repopulateCompounds=function(){for(var E=this.compoundOrder.length-1;E>=0;E--){var w=this.compoundOrder[E],T=w.id,A=w.paddingLeft,N=w.paddingTop,P=w.labelMarginLeft,F=w.labelMarginTop;this.adjustLocations(this.tiledMemberPack[T],w.rect.x,w.rect.y,A,N,P,F)}},M.prototype.repopulateZeroDegreeMembers=function(){var E=this,w=this.tiledZeroDegreePack;Object.keys(w).forEach(function(T){var A=E.idToDummyNode[T],N=A.paddingLeft,P=A.paddingTop,F=A.labelMarginLeft,B=A.labelMarginTop;E.adjustLocations(w[T],A.rect.x,A.rect.y,N,P,F,B)})},M.prototype.getToBeTiled=function(E){var w=E.id;if(this.toBeTiled[w]!=null)return this.toBeTiled[w];var T=E.getChild();if(T==null)return this.toBeTiled[w]=!1,!1;for(var A=T.getNodes(),N=0;N<A.length;N++){var P=A[N];if(this.getNodeDegree(P)>0)return this.toBeTiled[w]=!1,!1;if(P.getChild()==null){this.toBeTiled[P.id]=!1;continue}if(!this.getToBeTiled(P))return this.toBeTiled[w]=!1,!1}return this.toBeTiled[w]=!0,!0},M.prototype.getNodeDegree=function(E){E.id;for(var w=E.getEdges(),T=0,A=0;A<w.length;A++){var N=w[A];N.getSource().id!==N.getTarget().id&&(T=T+1)}return T},M.prototype.getNodeDegreeWithChildren=function(E){var w=this.getNodeDegree(E);if(E.getChild()==null)return w;for(var T=E.getChild().getNodes(),A=0;A<T.length;A++){var N=T[A];w+=this.getNodeDegreeWithChildren(N)}return w},M.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},M.prototype.fillCompexOrderByDFS=function(E){for(var w=0;w<E.length;w++){var T=E[w];T.getChild()!=null&&this.fillCompexOrderByDFS(T.getChild().getNodes()),this.getToBeTiled(T)&&this.compoundOrder.push(T)}},M.prototype.adjustLocations=function(E,w,T,A,N,P,F){w+=A+P,T+=N+F;for(var B=w,H=0;H<E.rows.length;H++){var Y=E.rows[H];w=B;for(var Q=0,j=0;j<Y.length;j++){var ee=Y[j];ee.rect.x=w,ee.rect.y=T,w+=ee.rect.width+E.horizontalPadding,ee.rect.height>Q&&(Q=ee.rect.height)}T+=Q+E.verticalPadding}},M.prototype.tileCompoundMembers=function(E,w){var T=this;this.tiledMemberPack=[],Object.keys(E).forEach(function(A){var N=w[A];if(T.tiledMemberPack[A]=T.tileNodes(E[A],N.paddingLeft+N.paddingRight),N.rect.width=T.tiledMemberPack[A].width,N.rect.height=T.tiledMemberPack[A].height,N.setCenter(T.tiledMemberPack[A].centerX,T.tiledMemberPack[A].centerY),N.labelMarginLeft=0,N.labelMarginTop=0,g.NODE_DIMENSIONS_INCLUDE_LABELS){var P=N.rect.width,F=N.rect.height;N.labelWidth&&(N.labelPosHorizontal=="left"?(N.rect.x-=N.labelWidth,N.setWidth(P+N.labelWidth),N.labelMarginLeft=N.labelWidth):N.labelPosHorizontal=="center"&&N.labelWidth>P?(N.rect.x-=(N.labelWidth-P)/2,N.setWidth(N.labelWidth),N.labelMarginLeft=(N.labelWidth-P)/2):N.labelPosHorizontal=="right"&&N.setWidth(P+N.labelWidth)),N.labelHeight&&(N.labelPosVertical=="top"?(N.rect.y-=N.labelHeight,N.setHeight(F+N.labelHeight),N.labelMarginTop=N.labelHeight):N.labelPosVertical=="center"&&N.labelHeight>F?(N.rect.y-=(N.labelHeight-F)/2,N.setHeight(N.labelHeight),N.labelMarginTop=(N.labelHeight-F)/2):N.labelPosVertical=="bottom"&&N.setHeight(F+N.labelHeight))}})},M.prototype.tileNodes=function(E,w){var T=this.tileNodesByFavoringDim(E,w,!0),A=this.tileNodesByFavoringDim(E,w,!1),N=this.getOrgRatio(T),P=this.getOrgRatio(A),F;return P<N?F=A:F=T,F},M.prototype.getOrgRatio=function(E){var w=E.width,T=E.height,A=w/T;return A<1&&(A=1/A),A},M.prototype.calcIdealRowWidth=function(E,w){var T=g.TILING_PADDING_VERTICAL,A=g.TILING_PADDING_HORIZONTAL,N=E.length,P=0,F=0,B=0;E.forEach(function(se){P+=se.getWidth(),F+=se.getHeight(),se.getWidth()>B&&(B=se.getWidth())});var H=P/N,Y=F/N,Q=Math.pow(T-A,2)+4*(H+A)*(Y+T)*N,j=(A-T+Math.sqrt(Q))/(2*(H+A)),ee;w?(ee=Math.ceil(j),ee==j&&ee++):ee=Math.floor(j);var ue=ee*(H+A)-A;return B>ue&&(ue=B),ue+=A*2,ue},M.prototype.tileNodesByFavoringDim=function(E,w,T){var A=g.TILING_PADDING_VERTICAL,N=g.TILING_PADDING_HORIZONTAL,P=g.TILING_COMPARE_BY,F={rows:[],rowWidth:[],rowHeight:[],width:0,height:w,verticalPadding:A,horizontalPadding:N,centerX:0,centerY:0};P&&(F.idealRowWidth=this.calcIdealRowWidth(E,T));var B=function(z){return z.rect.width*z.rect.height},H=function(z,X){return B(X)-B(z)};E.sort(function(se,z){var X=H;return F.idealRowWidth?(X=P,X(se.id,z.id)):X(se,z)});for(var Y=0,Q=0,j=0;j<E.length;j++){var ee=E[j];Y+=ee.getCenterX(),Q+=ee.getCenterY()}F.centerX=Y/E.length,F.centerY=Q/E.length;for(var j=0;j<E.length;j++){var ee=E[j];if(F.rows.length==0)this.insertNodeToRow(F,ee,0,w);else if(this.canAddHorizontal(F,ee.rect.width,ee.rect.height)){var ue=F.rows.length-1;F.idealRowWidth||(ue=this.getShortestRowIndex(F)),this.insertNodeToRow(F,ee,ue,w)}else this.insertNodeToRow(F,ee,F.rows.length,w);this.shiftToLastRow(F)}return F},M.prototype.insertNodeToRow=function(E,w,T,A){var N=A;if(T==E.rows.length){var P=[];E.rows.push(P),E.rowWidth.push(N),E.rowHeight.push(0)}var F=E.rowWidth[T]+w.rect.width;E.rows[T].length>0&&(F+=E.horizontalPadding),E.rowWidth[T]=F,E.width<F&&(E.width=F);var B=w.rect.height;T>0&&(B+=E.verticalPadding);var H=0;B>E.rowHeight[T]&&(H=E.rowHeight[T],E.rowHeight[T]=B,H=E.rowHeight[T]-H),E.height+=H,E.rows[T].push(w)},M.prototype.getShortestRowIndex=function(E){for(var w=-1,T=Number.MAX_VALUE,A=0;A<E.rows.length;A++)E.rowWidth[A]<T&&(w=A,T=E.rowWidth[A]);return w},M.prototype.getLongestRowIndex=function(E){for(var w=-1,T=Number.MIN_VALUE,A=0;A<E.rows.length;A++)E.rowWidth[A]>T&&(w=A,T=E.rowWidth[A]);return w},M.prototype.canAddHorizontal=function(E,w,T){if(E.idealRowWidth){var A=E.rows.length-1,N=E.rowWidth[A];return N+w+E.horizontalPadding<=E.idealRowWidth}var P=this.getShortestRowIndex(E);if(P<0)return!0;var F=E.rowWidth[P];if(F+E.horizontalPadding+w<=E.width)return!0;var B=0;E.rowHeight[P]<T&&P>0&&(B=T+E.verticalPadding-E.rowHeight[P]);var H;E.width-F>=w+E.horizontalPadding?H=(E.height+B)/(F+w+E.horizontalPadding):H=(E.height+B)/E.width,B=T+E.verticalPadding;var Y;return E.width<w?Y=(E.height+B)/w:Y=(E.height+B)/E.width,Y<1&&(Y=1/Y),H<1&&(H=1/H),H<Y},M.prototype.shiftToLastRow=function(E){var w=this.getLongestRowIndex(E),T=E.rowWidth.length-1,A=E.rows[w],N=A[A.length-1],P=N.width+E.horizontalPadding;if(E.width-E.rowWidth[T]>P&&w!=T){A.splice(-1,1),E.rows[T].push(N),E.rowWidth[w]=E.rowWidth[w]-P,E.rowWidth[T]=E.rowWidth[T]+P,E.width=E.rowWidth[instance.getLongestRowIndex(E)];for(var F=Number.MIN_VALUE,B=0;B<A.length;B++)A[B].height>F&&(F=A[B].height);w>0&&(F+=E.verticalPadding);var H=E.rowHeight[w]+E.rowHeight[T];E.rowHeight[w]=F,E.rowHeight[T]<N.height+E.verticalPadding&&(E.rowHeight[T]=N.height+E.verticalPadding);var Y=E.rowHeight[w]+E.rowHeight[T];E.height+=Y-H,this.shiftToLastRow(E)}},M.prototype.tilingPreLayout=function(){g.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},M.prototype.tilingPostLayout=function(){g.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},M.prototype.reduceTrees=function(){for(var E=[],w=!0,T;w;){var A=this.graphManager.getAllNodes(),N=[];w=!1;for(var P=0;P<A.length;P++)if(T=A[P],T.getEdges().length==1&&!T.getEdges()[0].isInterGraph&&T.getChild()==null){if(g.PURE_INCREMENTAL){var F=T.getEdges()[0].getOtherEnd(T),B=new k(T.getCenterX()-F.getCenterX(),T.getCenterY()-F.getCenterY());N.push([T,T.getEdges()[0],T.getOwner(),B])}else N.push([T,T.getEdges()[0],T.getOwner()]);w=!0}if(w==!0){for(var H=[],Y=0;Y<N.length;Y++)N[Y][0].getEdges().length==1&&(H.push(N[Y]),N[Y][0].getOwner().remove(N[Y][0]));E.push(H),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=E},M.prototype.growTree=function(E){for(var w=E.length,T=E[w-1],A,N=0;N<T.length;N++)A=T[N],this.findPlaceforPrunedNode(A),A[2].add(A[0]),A[2].add(A[1],A[1].source,A[1].target);E.splice(E.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},M.prototype.findPlaceforPrunedNode=function(E){var w,T,A=E[0];if(A==E[1].source?T=E[1].target:T=E[1].source,g.PURE_INCREMENTAL)A.setCenter(T.getCenterX()+E[3].getWidth(),T.getCenterY()+E[3].getHeight());else{var N=T.startX,P=T.finishX,F=T.startY,B=T.finishY,H=0,Y=0,Q=0,j=0,ee=[H,Q,Y,j];if(F>0)for(var ue=N;ue<=P;ue++)ee[0]+=this.grid[ue][F-1].length+this.grid[ue][F].length-1;if(P<this.grid.length-1)for(var ue=F;ue<=B;ue++)ee[1]+=this.grid[P+1][ue].length+this.grid[P][ue].length-1;if(B<this.grid[0].length-1)for(var ue=N;ue<=P;ue++)ee[2]+=this.grid[ue][B+1].length+this.grid[ue][B].length-1;if(N>0)for(var ue=F;ue<=B;ue++)ee[3]+=this.grid[N-1][ue].length+this.grid[N][ue].length-1;for(var se=x.MAX_VALUE,z,X,ie=0;ie<ee.length;ie++)ee[ie]<se?(se=ee[ie],z=1,X=ie):ee[ie]==se&&z++;if(z==3&&se==0)ee[0]==0&&ee[1]==0&&ee[2]==0?w=1:ee[0]==0&&ee[1]==0&&ee[3]==0?w=0:ee[0]==0&&ee[2]==0&&ee[3]==0?w=3:ee[1]==0&&ee[2]==0&&ee[3]==0&&(w=2);else if(z==2&&se==0){var q=Math.floor(Math.random()*2);ee[0]==0&&ee[1]==0?q==0?w=0:w=1:ee[0]==0&&ee[2]==0?q==0?w=0:w=2:ee[0]==0&&ee[3]==0?q==0?w=0:w=3:ee[1]==0&&ee[2]==0?q==0?w=1:w=2:ee[1]==0&&ee[3]==0?q==0?w=1:w=3:q==0?w=2:w=3}else if(z==4&&se==0){var q=Math.floor(Math.random()*4);w=q}else w=X;w==0?A.setCenter(T.getCenterX(),T.getCenterY()-T.getHeight()/2-y.DEFAULT_EDGE_LENGTH-A.getHeight()/2):w==1?A.setCenter(T.getCenterX()+T.getWidth()/2+y.DEFAULT_EDGE_LENGTH+A.getWidth()/2,T.getCenterY()):w==2?A.setCenter(T.getCenterX(),T.getCenterY()+T.getHeight()/2+y.DEFAULT_EDGE_LENGTH+A.getHeight()/2):A.setCenter(T.getCenterX()-T.getWidth()/2-y.DEFAULT_EDGE_LENGTH-A.getWidth()/2,T.getCenterY())}},o.exports=M}),991:((o,u,c)=>{var l=c(551).FDLayoutNode,h=c(551).IMath;function d(p,g,m,y){l.call(this,p,g,m,y)}d.prototype=Object.create(l.prototype);for(var f in l)d[f]=l[f];d.prototype.calculateDisplacement=function(){var p=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=p.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=p.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=p.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=p.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>p.coolingFactor*p.maxNodeDisplacement&&(this.displacementX=p.coolingFactor*p.maxNodeDisplacement*h.sign(this.displacementX)),Math.abs(this.displacementY)>p.coolingFactor*p.maxNodeDisplacement&&(this.displacementY=p.coolingFactor*p.maxNodeDisplacement*h.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},d.prototype.propogateDisplacementToChildren=function(p,g){for(var m=this.getChild().getNodes(),y,v=0;v<m.length;v++)y=m[v],y.getChild()==null?(y.displacementX+=p,y.displacementY+=g):y.propogateDisplacementToChildren(p,g)},d.prototype.move=function(){var p=this.graphManager.getLayout();(this.child==null||this.child.getNodes().length==0)&&(this.moveBy(this.displacementX,this.displacementY),p.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},d.prototype.setPred1=function(p){this.pred1=p},d.prototype.getPred1=function(){return pred1},d.prototype.getPred2=function(){return pred2},d.prototype.setNext=function(p){this.next=p},d.prototype.getNext=function(){return next},d.prototype.setProcessed=function(p){this.processed=p},d.prototype.isProcessed=function(){return processed},o.exports=d}),902:((o,u,c)=>{function l(m){if(Array.isArray(m)){for(var y=0,v=Array(m.length);y<m.length;y++)v[y]=m[y];return v}else return Array.from(m)}var h=c(806),d=c(551).LinkedList,f=c(551).Matrix,p=c(551).SVD;function g(){}g.handleConstraints=function(m){var y={};y.fixedNodeConstraint=m.constraints.fixedNodeConstraint,y.alignmentConstraint=m.constraints.alignmentConstraint,y.relativePlacementConstraint=m.constraints.relativePlacementConstraint;for(var v=new Map,b=new Map,_=[],k=[],C=m.getAllNodes(),x=0,S=0;S<C.length;S++){var O=C[S];O.getChild()==null&&(b.set(O.id,x++),_.push(O.getCenterX()),k.push(O.getCenterY()),v.set(O.id,O))}y.relativePlacementConstraint&&y.relativePlacementConstraint.forEach(function(oe){!oe.gap&&oe.gap!=0&&(oe.left?oe.gap=h.DEFAULT_EDGE_LENGTH+v.get(oe.left).getWidth()/2+v.get(oe.right).getWidth()/2:oe.gap=h.DEFAULT_EDGE_LENGTH+v.get(oe.top).getHeight()/2+v.get(oe.bottom).getHeight()/2)});var D=function(ve,Ne){return{x:ve.x-Ne.x,y:ve.y-Ne.y}},I=function(ve){var Ne=0,Re=0;return ve.forEach(function(Ae){Ne+=_[b.get(Ae)],Re+=k[b.get(Ae)]}),{x:Ne/ve.size,y:Re/ve.size}},M=function(ve,Ne,Re,Ae,Ue){function st(K,ae){var Me=new Set(K),ye=!0,re=!1,de=void 0;try{for(var le=ae[Symbol.iterator](),Oe;!(ye=(Oe=le.next()).done);ye=!0){var L=Oe.value;Me.add(L)}}catch($e){re=!0,de=$e}finally{try{!ye&&le.return&&le.return()}finally{if(re)throw de}}return Me}var nt=new Map;ve.forEach(function(K,ae){nt.set(ae,0)}),ve.forEach(function(K,ae){K.forEach(function(Me){nt.set(Me.id,nt.get(Me.id)+1)})});var Ce=new Map,_e=new Map,et=new d;nt.forEach(function(K,ae){K==0?(et.push(ae),Re||(Ne=="horizontal"?Ce.set(ae,b.has(ae)?_[b.get(ae)]:Ae.get(ae)):Ce.set(ae,b.has(ae)?k[b.get(ae)]:Ae.get(ae)))):Ce.set(ae,Number.NEGATIVE_INFINITY),Re&&_e.set(ae,new Set([ae]))}),Re&&Ue.forEach(function(K){var ae=[];if(K.forEach(function(re){Re.has(re)&&ae.push(re)}),ae.length>0){var Me=0;ae.forEach(function(re){Ne=="horizontal"?(Ce.set(re,b.has(re)?_[b.get(re)]:Ae.get(re)),Me+=Ce.get(re)):(Ce.set(re,b.has(re)?k[b.get(re)]:Ae.get(re)),Me+=Ce.get(re))}),Me=Me/ae.length,K.forEach(function(re){Re.has(re)||Ce.set(re,Me)})}else{var ye=0;K.forEach(function(re){Ne=="horizontal"?ye+=b.has(re)?_[b.get(re)]:Ae.get(re):ye+=b.has(re)?k[b.get(re)]:Ae.get(re)}),ye=ye/K.length,K.forEach(function(re){Ce.set(re,ye)})}});for(var Xe=function(){var ae=et.shift(),Me=ve.get(ae);Me.forEach(function(ye){if(Ce.get(ye.id)<Ce.get(ae)+ye.gap)if(Re&&Re.has(ye.id)){var re=void 0;if(Ne=="horizontal"?re=b.has(ye.id)?_[b.get(ye.id)]:Ae.get(ye.id):re=b.has(ye.id)?k[b.get(ye.id)]:Ae.get(ye.id),Ce.set(ye.id,re),re<Ce.get(ae)+ye.gap){var de=Ce.get(ae)+ye.gap-re;_e.get(ae).forEach(function(le){Ce.set(le,Ce.get(le)-de)})}}else Ce.set(ye.id,Ce.get(ae)+ye.gap);nt.set(ye.id,nt.get(ye.id)-1),nt.get(ye.id)==0&&et.push(ye.id),Re&&_e.set(ye.id,st(_e.get(ae),_e.get(ye.id)))})};et.length!=0;)Xe();if(Re){var $=new Set;ve.forEach(function(K,ae){K.length==0&&$.add(ae)});var Z=[];_e.forEach(function(K,ae){if($.has(ae)){var Me=!1,ye=!0,re=!1,de=void 0;try{for(var le=K[Symbol.iterator](),Oe;!(ye=(Oe=le.next()).done);ye=!0){var L=Oe.value;Re.has(L)&&(Me=!0)}}catch(Ee){re=!0,de=Ee}finally{try{!ye&&le.return&&le.return()}finally{if(re)throw de}}if(!Me){var $e=!1,Ze=void 0;Z.forEach(function(Ee,U){Ee.has([].concat(l(K))[0])&&($e=!0,Ze=U)}),$e?K.forEach(function(Ee){Z[Ze].add(Ee)}):Z.push(new Set(K))}}}),Z.forEach(function(K,ae){var Me=Number.POSITIVE_INFINITY,ye=Number.POSITIVE_INFINITY,re=Number.NEGATIVE_INFINITY,de=Number.NEGATIVE_INFINITY,le=!0,Oe=!1,L=void 0;try{for(var $e=K[Symbol.iterator](),Ze;!(le=(Ze=$e.next()).done);le=!0){var Ee=Ze.value,U=void 0;Ne=="horizontal"?U=b.has(Ee)?_[b.get(Ee)]:Ae.get(Ee):U=b.has(Ee)?k[b.get(Ee)]:Ae.get(Ee);var ne=Ce.get(Ee);U<Me&&(Me=U),U>re&&(re=U),ne<ye&&(ye=ne),ne>de&&(de=ne)}}catch(G){Oe=!0,L=G}finally{try{!le&&$e.return&&$e.return()}finally{if(Oe)throw L}}var fe=(Me+re)/2-(ye+de)/2,xe=!0,at=!1,tt=void 0;try{for(var Qe=K[Symbol.iterator](),bt;!(xe=(bt=Qe.next()).done);xe=!0){var ce=bt.value;Ce.set(ce,Ce.get(ce)+fe)}}catch(G){at=!0,tt=G}finally{try{!xe&&Qe.return&&Qe.return()}finally{if(at)throw tt}}})}return Ce},R=function(ve){var Ne=0,Re=0,Ae=0,Ue=0;if(ve.forEach(function(_e){_e.left?_[b.get(_e.left)]-_[b.get(_e.right)]>=0?Ne++:Re++:k[b.get(_e.top)]-k[b.get(_e.bottom)]>=0?Ae++:Ue++}),Ne>Re&&Ae>Ue)for(var st=0;st<b.size;st++)_[st]=-1*_[st],k[st]=-1*k[st];else if(Ne>Re)for(var nt=0;nt<b.size;nt++)_[nt]=-1*_[nt];else if(Ae>Ue)for(var Ce=0;Ce<b.size;Ce++)k[Ce]=-1*k[Ce]},E=function(ve){var Ne=[],Re=new d,Ae=new Set,Ue=0;return ve.forEach(function(st,nt){if(!Ae.has(nt)){Ne[Ue]=[];var Ce=nt;for(Re.push(Ce),Ae.add(Ce),Ne[Ue].push(Ce);Re.length!=0;){Ce=Re.shift();var _e=ve.get(Ce);_e.forEach(function(et){Ae.has(et.id)||(Re.push(et.id),Ae.add(et.id),Ne[Ue].push(et.id))})}Ue++}}),Ne},w=function(ve){var Ne=new Map;return ve.forEach(function(Re,Ae){Ne.set(Ae,[])}),ve.forEach(function(Re,Ae){Re.forEach(function(Ue){Ne.get(Ae).push(Ue),Ne.get(Ue.id).push({id:Ae,gap:Ue.gap,direction:Ue.direction})})}),Ne},T=function(ve){var Ne=new Map;return ve.forEach(function(Re,Ae){Ne.set(Ae,[])}),ve.forEach(function(Re,Ae){Re.forEach(function(Ue){Ne.get(Ue.id).push({id:Ae,gap:Ue.gap,direction:Ue.direction})})}),Ne},A=[],N=[],P=!1,F=!1,B=new Set,H=new Map,Y=new Map,Q=[];if(y.fixedNodeConstraint&&y.fixedNodeConstraint.forEach(function(oe){B.add(oe.nodeId)}),y.relativePlacementConstraint&&(y.relativePlacementConstraint.forEach(function(oe){oe.left?(H.has(oe.left)?H.get(oe.left).push({id:oe.right,gap:oe.gap,direction:"horizontal"}):H.set(oe.left,[{id:oe.right,gap:oe.gap,direction:"horizontal"}]),H.has(oe.right)||H.set(oe.right,[])):(H.has(oe.top)?H.get(oe.top).push({id:oe.bottom,gap:oe.gap,direction:"vertical"}):H.set(oe.top,[{id:oe.bottom,gap:oe.gap,direction:"vertical"}]),H.has(oe.bottom)||H.set(oe.bottom,[]))}),Y=w(H),Q=E(Y)),h.TRANSFORM_ON_CONSTRAINT_HANDLING){if(y.fixedNodeConstraint&&y.fixedNodeConstraint.length>1)y.fixedNodeConstraint.forEach(function(oe,ve){A[ve]=[oe.position.x,oe.position.y],N[ve]=[_[b.get(oe.nodeId)],k[b.get(oe.nodeId)]]}),P=!0;else if(y.alignmentConstraint)(function(){var oe=0;if(y.alignmentConstraint.vertical){for(var ve=y.alignmentConstraint.vertical,Ne=function(Ce){var _e=new Set;ve[Ce].forEach(function($){_e.add($)});var et=new Set([].concat(l(_e)).filter(function($){return B.has($)})),Xe=void 0;et.size>0?Xe=_[b.get(et.values().next().value)]:Xe=I(_e).x,ve[Ce].forEach(function($){A[oe]=[Xe,k[b.get($)]],N[oe]=[_[b.get($)],k[b.get($)]],oe++})},Re=0;Re<ve.length;Re++)Ne(Re);P=!0}if(y.alignmentConstraint.horizontal){for(var Ae=y.alignmentConstraint.horizontal,Ue=function(Ce){var _e=new Set;Ae[Ce].forEach(function($){_e.add($)});var et=new Set([].concat(l(_e)).filter(function($){return B.has($)})),Xe=void 0;et.size>0?Xe=_[b.get(et.values().next().value)]:Xe=I(_e).y,Ae[Ce].forEach(function($){A[oe]=[_[b.get($)],Xe],N[oe]=[_[b.get($)],k[b.get($)]],oe++})},st=0;st<Ae.length;st++)Ue(st);P=!0}y.relativePlacementConstraint&&(F=!0)})();else if(y.relativePlacementConstraint){for(var j=0,ee=0,ue=0;ue<Q.length;ue++)Q[ue].length>j&&(j=Q[ue].length,ee=ue);if(j<Y.size/2)R(y.relativePlacementConstraint),P=!1,F=!1;else{var se=new Map,z=new Map,X=[];Q[ee].forEach(function(oe){H.get(oe).forEach(function(ve){ve.direction=="horizontal"?(se.has(oe)?se.get(oe).push(ve):se.set(oe,[ve]),se.has(ve.id)||se.set(ve.id,[]),X.push({left:oe,right:ve.id})):(z.has(oe)?z.get(oe).push(ve):z.set(oe,[ve]),z.has(ve.id)||z.set(ve.id,[]),X.push({top:oe,bottom:ve.id}))})}),R(X),F=!1;var ie=M(se,"horizontal"),q=M(z,"vertical");Q[ee].forEach(function(oe,ve){N[ve]=[_[b.get(oe)],k[b.get(oe)]],A[ve]=[],ie.has(oe)?A[ve][0]=ie.get(oe):A[ve][0]=_[b.get(oe)],q.has(oe)?A[ve][1]=q.get(oe):A[ve][1]=k[b.get(oe)]}),P=!0}}if(P){for(var be=void 0,J=f.transpose(A),Ie=f.transpose(N),ge=0;ge<J.length;ge++)J[ge]=f.multGamma(J[ge]),Ie[ge]=f.multGamma(Ie[ge]);var mt=f.multMat(J,f.transpose(Ie)),ht=p.svd(mt);be=f.multMat(ht.V,f.transpose(ht.U));for(var Je=0;Je<b.size;Je++){var Ft=[_[Je],k[Je]],St=[be[0][0],be[1][0]],Pn=[be[0][1],be[1][1]];_[Je]=f.dotProduct(Ft,St),k[Je]=f.dotProduct(Ft,Pn)}F&&R(y.relativePlacementConstraint)}}if(h.ENFORCE_CONSTRAINTS){if(y.fixedNodeConstraint&&y.fixedNodeConstraint.length>0){var Lt={x:0,y:0};y.fixedNodeConstraint.forEach(function(oe,ve){var Ne={x:_[b.get(oe.nodeId)],y:k[b.get(oe.nodeId)]},Re=oe.position,Ae=D(Re,Ne);Lt.x+=Ae.x,Lt.y+=Ae.y}),Lt.x/=y.fixedNodeConstraint.length,Lt.y/=y.fixedNodeConstraint.length,_.forEach(function(oe,ve){_[ve]+=Lt.x}),k.forEach(function(oe,ve){k[ve]+=Lt.y}),y.fixedNodeConstraint.forEach(function(oe){_[b.get(oe.nodeId)]=oe.position.x,k[b.get(oe.nodeId)]=oe.position.y})}if(y.alignmentConstraint){if(y.alignmentConstraint.vertical)for(var $t=y.alignmentConstraint.vertical,Rt=function(ve){var Ne=new Set;$t[ve].forEach(function(Ue){Ne.add(Ue)});var Re=new Set([].concat(l(Ne)).filter(function(Ue){return B.has(Ue)})),Ae=void 0;Re.size>0?Ae=_[b.get(Re.values().next().value)]:Ae=I(Ne).x,Ne.forEach(function(Ue){B.has(Ue)||(_[b.get(Ue)]=Ae)})},wt=0;wt<$t.length;wt++)Rt(wt);if(y.alignmentConstraint.horizontal)for(var xt=y.alignmentConstraint.horizontal,dn=function(ve){var Ne=new Set;xt[ve].forEach(function(Ue){Ne.add(Ue)});var Re=new Set([].concat(l(Ne)).filter(function(Ue){return B.has(Ue)})),Ae=void 0;Re.size>0?Ae=k[b.get(Re.values().next().value)]:Ae=I(Ne).y,Ne.forEach(function(Ue){B.has(Ue)||(k[b.get(Ue)]=Ae)})},Ct=0;Ct<xt.length;Ct++)dn(Ct)}y.relativePlacementConstraint&&(function(){var oe=new Map,ve=new Map,Ne=new Map,Re=new Map,Ae=new Map,Ue=new Map,st=new Set,nt=new Set;if(B.forEach(function(Pe){st.add(Pe),nt.add(Pe)}),y.alignmentConstraint){if(y.alignmentConstraint.vertical)for(var Ce=y.alignmentConstraint.vertical,_e=function(ke){Ne.set("dummy"+ke,[]),Ce[ke].forEach(function(Ge){oe.set(Ge,"dummy"+ke),Ne.get("dummy"+ke).push(Ge),B.has(Ge)&&st.add("dummy"+ke)}),Ae.set("dummy"+ke,_[b.get(Ce[ke][0])])},et=0;et<Ce.length;et++)_e(et);if(y.alignmentConstraint.horizontal)for(var Xe=y.alignmentConstraint.horizontal,$=function(ke){Re.set("dummy"+ke,[]),Xe[ke].forEach(function(Ge){ve.set(Ge,"dummy"+ke),Re.get("dummy"+ke).push(Ge),B.has(Ge)&&nt.add("dummy"+ke)}),Ue.set("dummy"+ke,k[b.get(Xe[ke][0])])},Z=0;Z<Xe.length;Z++)$(Z)}var K=new Map,ae=new Map,Me=function(ke){H.get(ke).forEach(function(Ge){var tn=void 0,Kt=void 0;Ge.direction=="horizontal"?(tn=oe.get(ke)?oe.get(ke):ke,oe.get(Ge.id)?Kt={id:oe.get(Ge.id),gap:Ge.gap,direction:Ge.direction}:Kt=Ge,K.has(tn)?K.get(tn).push(Kt):K.set(tn,[Kt]),K.has(Kt.id)||K.set(Kt.id,[])):(tn=ve.get(ke)?ve.get(ke):ke,ve.get(Ge.id)?Kt={id:ve.get(Ge.id),gap:Ge.gap,direction:Ge.direction}:Kt=Ge,ae.has(tn)?ae.get(tn).push(Kt):ae.set(tn,[Kt]),ae.has(Kt.id)||ae.set(Kt.id,[]))})},ye=!0,re=!1,de=void 0;try{for(var le=H.keys()[Symbol.iterator](),Oe;!(ye=(Oe=le.next()).done);ye=!0){var L=Oe.value;Me(L)}}catch(Pe){re=!0,de=Pe}finally{try{!ye&&le.return&&le.return()}finally{if(re)throw de}}var $e=w(K),Ze=w(ae),Ee=E($e),U=E(Ze),ne=T(K),fe=T(ae),xe=[],at=[];Ee.forEach(function(Pe,ke){xe[ke]=[],Pe.forEach(function(Ge){ne.get(Ge).length==0&&xe[ke].push(Ge)})}),U.forEach(function(Pe,ke){at[ke]=[],Pe.forEach(function(Ge){fe.get(Ge).length==0&&at[ke].push(Ge)})});var tt=M(K,"horizontal",st,Ae,xe),Qe=M(ae,"vertical",nt,Ue,at),bt=function(ke){Ne.get(ke)?Ne.get(ke).forEach(function(Ge){_[b.get(Ge)]=tt.get(ke)}):_[b.get(ke)]=tt.get(ke)},ce=!0,G=!1,te=void 0;try{for(var pe=tt.keys()[Symbol.iterator](),Ve;!(ce=(Ve=pe.next()).done);ce=!0){var ft=Ve.value;bt(ft)}}catch(Pe){G=!0,te=Pe}finally{try{!ce&&pe.return&&pe.return()}finally{if(G)throw te}}var Ot=function(ke){Re.get(ke)?Re.get(ke).forEach(function(Ge){k[b.get(Ge)]=Qe.get(ke)}):k[b.get(ke)]=Qe.get(ke)},en=!0,xn=!1,$r=void 0;try{for(var he=Qe.keys()[Symbol.iterator](),we;!(en=(we=he.next()).done);en=!0){var ft=we.value;Ot(ft)}}catch(Pe){xn=!0,$r=Pe}finally{try{!en&&he.return&&he.return()}finally{if(xn)throw $r}}})()}for(var Jt=0;Jt<C.length;Jt++){var Yt=C[Jt];Yt.getChild()==null&&Yt.setCenter(_[b.get(Yt.id)],k[b.get(Yt.id)])}},o.exports=g}),551:(o=>{o.exports=n})},i={};function s(o){var u=i[o];if(u!==void 0)return u.exports;var c=i[o]={exports:{}};return r[o](c,c.exports,s),c.exports}var a=s(45);return a})()})})(pf)),pf.exports}export{Na as $,zZ as A,oQ as B,sZ as C,sQ as D,WP as E,mF as F,WZ as G,VZ as H,HZ as I,YZ as J,rN as K,jZ as L,Fo as M,eN as N,Kn as O,XZ as P,cQ as Q,Wn as R,qd as S,Aa as T,QA as U,NF as V,yQ as W,tu as X,KA as Y,lQ as Z,uQ as _,AM as a,jQ as a$,rQ as a0,aN as a1,kF as a2,nQ as a3,rm as a4,iQ as a5,V1 as a6,tQ as a7,PF as a8,pQ as a9,T6 as aA,NN as aB,fQ as aC,ZA as aD,t8 as aE,wJ as aF,AQ as aG,NQ as aH,kQ as aI,TQ as aJ,xQ as aK,f8 as aL,SQ as aM,IQ as aN,sJ as aO,aJ as aP,iJ as aQ,rJ as aR,nJ as aS,tJ as aT,eJ as aU,Q7 as aV,ZQ as aW,JQ as aX,QQ as aY,XQ as aZ,KQ as a_,mQ as aa,UZ as ab,GZ as ac,hQ as ad,Ms as ae,JZ as af,gF as ag,QZ as ah,ZZ as ai,eQ as aj,nN as ak,yv as al,tN as am,H1 as an,XP as ao,BZ as ap,nm as aq,VP as ar,LF as as,Ns as at,KZ as au,am as av,im as aw,dQ as ax,R6 as ay,k6 as az,oZ as b,IJ as b$,VQ as b0,qQ as b1,zQ as b2,YQ as b3,WQ as b4,HQ as b5,oJ as b6,bJ as b7,Nt as b8,lJ as b9,OQ as bA,YS as bB,Bv as bC,Tp as bD,MB as bE,CB as bF,zo as bG,RB as bH,SB as bI,Qf as bJ,El as bK,$v as bL,Fv as bM,vo as bN,Zf as bO,MQ as bP,UQ as bQ,$S as bR,GQ as bS,pB as bT,SJ as bU,OJ as bV,UK as bW,MJ as bX,CJ as bY,RJ as bZ,$Q as b_,fJ as ba,hJ as bb,uJ as bc,cJ as bd,vJ as be,BQ as bf,ww as bg,_J as bh,EJ as bi,Li as bj,TJ as bk,xJ as bl,wQ as bm,MH as bn,WX as bo,HX as bp,NJ as bq,CK as br,kT as bs,NK as bt,AK as bu,FQ as bv,CQ as bw,RQ as bx,xB as by,DQ as bz,mZ as c,LS as c0,FS as c1,PQ as c2,kJ as c3,DJ as c4,vQ as c5,ii as c6,_Q as c7,bQ as c8,Ke as c9,lZ as d,fZ as e,yZ as f,cZ as g,aZ as h,dZ as i,uZ as j,bZ as k,pZ as l,eM as m,vZ as n,kM as o,hZ as p,IZ as q,Sc as r,gZ as s,Ta as t,At as u,qZ as v,cp as w,gQ as x,aQ as y,qP as z};
