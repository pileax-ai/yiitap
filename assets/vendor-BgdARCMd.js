var KS=Object.defineProperty;var ZS=(t,e,n)=>e in t?KS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var _e=(t,e,n)=>ZS(t,typeof e!="symbol"?e+"":e,n);import{c as Bo,i as Yy,k as sa,f as si,b as Z,d as Mt,e as jS,v as Mi,r as Is,h as Ng,j as no,a as ht,l as Fa,n as _m,o as $a,p as Ls,q as Jx,s as Em,t as QS,w as xm,z as JS,x as lc,y as bh,A as yh,B as eC,m as Sg,C as Gf,D as tC,E as nC,F as rC,G as iC,H as or,I as zr,J as Le,K as Ne,L as ur,M as Li,N as ew,O as Gn,P as Pr,Q as ln,R as wm,S as Fr,T as Ua,U as Qt,V as vr,W as Re,X as hc,Y as zf,Z as Gu,_ as Di,$ as Zs,a0 as Am,a1 as qy,a2 as cr,a3 as pt,a4 as Ar,a5 as Hf,a6 as Ur,a7 as mn,a8 as Xy,a9 as Kt,aa as Ba,ab as zu,ac as _r,ad as sC,ae as aC,af as oC,ag as uC}from"./vendor-utils-BJ8JZwuU.js";function cC(t){let e=0;for(let n=0;n<t.length;++n)t[n]==="&"&&++e;return e}const tw=/\s*,(?![^(]*\))\s*/g,lC=/\s+/g;function hC(t,e){const n=[];return e.split(tw).forEach(r=>{let i=cC(r);if(i){if(i===1){t.forEach(a=>{n.push(r.replace("&",a))});return}}else{t.forEach(a=>{n.push((a&&a+" ")+r)});return}let s=[r];for(;i--;){const a=[];s.forEach(o=>{t.forEach(u=>{a.push(o.replace("&",u))})}),s=a}s.forEach(a=>n.push(a))}),n}function fC(t,e){const n=[];return e.split(tw).forEach(r=>{t.forEach(i=>{n.push((i&&i+" ")+r)})}),n}function dC(t){let e=[""];return t.forEach(n=>{n=n&&n.trim(),n&&(n.includes("&")?e=hC(e,n):e=fC(e,n))}),e.join(", ").replace(lC," ")}function Vy(t){if(!t)return;const e=t.parentElement;e&&e.removeChild(t)}function Wf(t,e){return(e??document.head).querySelector(`style[cssr-id="${t}"]`)}function pC(t){const e=document.createElement("style");return e.setAttribute("cssr-id",t),e}function Bc(t){return t?/^\s*@(s|m)/.test(t):!1}const gC=/[A-Z]/g;function nw(t){return t.replace(gC,e=>"-"+e.toLowerCase())}function mC(t,e="  "){return typeof t=="object"&&t!==null?` {
`+Object.entries(t).map(n=>e+`  ${nw(n[0])}: ${n[1]};`).join(`
`)+`
`+e+"}":`: ${t};`}function bC(t,e,n){return typeof t=="function"?t({context:e.context,props:n}):t}function Ky(t,e,n,r){if(!e)return"";const i=bC(e,n,r);if(!i)return"";if(typeof i=="string")return`${t} {
${i}
}`;const s=Object.keys(i);if(s.length===0)return n.config.keepEmptyBlock?t+` {
}`:"";const a=t?[t+" {"]:[];return s.forEach(o=>{const u=i[o];if(o==="raw"){a.push(`
`+u+`
`);return}o=nw(o),u!=null&&a.push(`  ${o}${mC(u)}`)}),t&&a.push("}"),a.join(`
`)}function Cg(t,e,n){t&&t.forEach(r=>{if(Array.isArray(r))Cg(r,e,n);else if(typeof r=="function"){const i=r(e);Array.isArray(i)?Cg(i,e,n):i&&n(i)}else r&&n(r)})}function rw(t,e,n,r,i){const s=t.$;let a="";if(!s||typeof s=="string")Bc(s)?a=s:e.push(s);else if(typeof s=="function"){const c=s({context:r.context,props:i});Bc(c)?a=c:e.push(c)}else if(s.before&&s.before(r.context),!s.$||typeof s.$=="string")Bc(s.$)?a=s.$:e.push(s.$);else if(s.$){const c=s.$({context:r.context,props:i});Bc(c)?a=c:e.push(c)}const o=dC(e),u=Ky(o,t.props,r,i);a?n.push(`${a} {`):u.length&&n.push(u),t.children&&Cg(t.children,{context:r.context,props:i},c=>{if(typeof c=="string"){const l=Ky(o,{raw:c},r,i);n.push(l)}else rw(c,e,n,r,i)}),e.pop(),a&&n.push("}"),s&&s.after&&s.after(r.context)}function yC(t,e,n){const r=[];return rw(t,[],r,e,n),r.join(`

`)}function vC(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}typeof window<"u"&&(window.__cssrContext={});function _C(t,e,n,r){const{els:i}=e;if(n===void 0)i.forEach(Vy),e.els=[];else{const s=Wf(n,r);s&&i.includes(s)&&(Vy(s),e.els=i.filter(a=>a!==s))}}function Zy(t,e){t.push(e)}function EC(t,e,n,r,i,s,a,o,u){let c;if(n===void 0&&(c=e.render(r),n=vC(c)),u){u.adapter(n,c??e.render(r));return}o===void 0&&(o=document.head);const l=Wf(n,o);if(l!==null&&!s)return l;const h=l??pC(n);if(c===void 0&&(c=e.render(r)),h.textContent=c,l!==null)return l;if(a){const d=o.querySelector(`meta[name="${a}"]`);if(d)return o.insertBefore(h,d),Zy(e.els,h),h}return i?o.insertBefore(h,o.querySelector("style, link")):o.appendChild(h),Zy(e.els,h),h}function xC(t){return yC(this,this.instance,t)}function wC(t={}){const{id:e,ssr:n,props:r,head:i=!1,force:s=!1,anchorMetaName:a,parent:o}=t;return EC(this.instance,this,e,r,i,s,a,o,n)}function AC(t={}){const{id:e,parent:n}=t;_C(this.instance,this,e,n)}const Gc=function(t,e,n,r){return{instance:t,$:e,props:n,children:r,els:[],render:xC,mount:wC,unmount:AC}},TC=function(t,e,n,r){return Array.isArray(e)?Gc(t,{$:null},null,e):Array.isArray(n)?Gc(t,e,null,n):Array.isArray(r)?Gc(t,e,n,r):Gc(t,e,n,null)};function LV(t={}){const e={c:((...n)=>TC(e,...n)),use:(n,...r)=>n.install(e,...r),find:Wf,context:{},config:t};return e}function DV(t,e){if(t===void 0)return!1;if(e){const{context:{ids:n}}=e;return n.has(t)}return Wf(t)!==null}let vh=[];const iw=new WeakMap;function kC(){vh.forEach(t=>t(...iw.get(t))),vh=[]}function PV(t,...e){iw.set(t,e),!vh.includes(t)&&vh.push(t)===1&&requestAnimationFrame(kC)}function FV(t,e){let{target:n}=t;for(;n;){if(n.dataset&&n.dataset[e]!==void 0)return!0;n=n.parentElement}return!1}function $V(t){return t.composedPath()[0]||null}function UV(t){return typeof t=="string"?t.endsWith("px")?Number(t.slice(0,t.length-2)):Number(t):t}function BV(t){if(t!=null)return typeof t=="number"?`${t}px`:t.endsWith("px")?t:`${t}px`}function GV(t,e){const n=t.trim().split(/\s+/g),r={top:n[0]};switch(n.length){case 1:r.right=n[0],r.bottom=n[0],r.left=n[0];break;case 2:r.right=n[1],r.left=n[1],r.bottom=n[0];break;case 3:r.right=n[1],r.bottom=n[2],r.left=n[1];break;case 4:r.right=n[1],r.bottom=n[2],r.left=n[3];break;default:throw new Error("[seemly/getMargin]:"+t+" is not a valid value.")}return e===void 0?r:r[e]}const jy={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32",transparent:"#0000"};function NC(t,e,n){e/=100,n/=100;let r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5)*255,r(3)*255,r(1)*255]}function SC(t,e,n){e/=100,n/=100;let r=e*Math.min(n,1-n),i=(s,a=(s+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0)*255,i(8)*255,i(4)*255]}const fi="^\\s*",di="\\s*$",Ji="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))%\\s*",sr="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",ws="([0-9A-Fa-f])",As="([0-9A-Fa-f]{2})",sw=new RegExp(`${fi}hsl\\s*\\(${sr},${Ji},${Ji}\\)${di}`),aw=new RegExp(`${fi}hsv\\s*\\(${sr},${Ji},${Ji}\\)${di}`),ow=new RegExp(`${fi}hsla\\s*\\(${sr},${Ji},${Ji},${sr}\\)${di}`),uw=new RegExp(`${fi}hsva\\s*\\(${sr},${Ji},${Ji},${sr}\\)${di}`),CC=new RegExp(`${fi}rgb\\s*\\(${sr},${sr},${sr}\\)${di}`),RC=new RegExp(`${fi}rgba\\s*\\(${sr},${sr},${sr},${sr}\\)${di}`),OC=new RegExp(`${fi}#${ws}${ws}${ws}${di}`),MC=new RegExp(`${fi}#${As}${As}${As}${di}`),IC=new RegExp(`${fi}#${ws}${ws}${ws}${ws}${di}`),LC=new RegExp(`${fi}#${As}${As}${As}${As}${di}`);function Hn(t){return parseInt(t,16)}function DC(t){try{let e;if(e=ow.exec(t))return[_h(e[1]),Vi(e[5]),Vi(e[9]),Rs(e[13])];if(e=sw.exec(t))return[_h(e[1]),Vi(e[5]),Vi(e[9]),1];throw new Error(`[seemly/hsla]: Invalid color value ${t}.`)}catch(e){throw e}}function PC(t){try{let e;if(e=uw.exec(t))return[_h(e[1]),Vi(e[5]),Vi(e[9]),Rs(e[13])];if(e=aw.exec(t))return[_h(e[1]),Vi(e[5]),Vi(e[9]),1];throw new Error(`[seemly/hsva]: Invalid color value ${t}.`)}catch(e){throw e}}function Hu(t){try{let e;if(e=MC.exec(t))return[Hn(e[1]),Hn(e[2]),Hn(e[3]),1];if(e=CC.exec(t))return[An(e[1]),An(e[5]),An(e[9]),1];if(e=RC.exec(t))return[An(e[1]),An(e[5]),An(e[9]),Rs(e[13])];if(e=OC.exec(t))return[Hn(e[1]+e[1]),Hn(e[2]+e[2]),Hn(e[3]+e[3]),1];if(e=LC.exec(t))return[Hn(e[1]),Hn(e[2]),Hn(e[3]),Rs(Hn(e[4])/255)];if(e=IC.exec(t))return[Hn(e[1]+e[1]),Hn(e[2]+e[2]),Hn(e[3]+e[3]),Rs(Hn(e[4]+e[4])/255)];if(t in jy)return Hu(jy[t]);if(sw.test(t)||ow.test(t)){const[n,r,i,s]=DC(t);return[...SC(n,r,i),s]}else if(aw.test(t)||uw.test(t)){const[n,r,i,s]=PC(t);return[...NC(n,r,i),s]}throw new Error(`[seemly/rgba]: Invalid color value ${t}.`)}catch(e){throw e}}function FC(t){return t>1?1:t<0?0:t}function Rg(t,e,n,r){return`rgba(${An(t)}, ${An(e)}, ${An(n)}, ${FC(r)})`}function Zd(t,e,n,r,i){return An((t*e*(1-r)+n*r)/i)}function zV(t,e){Array.isArray(t)||(t=Hu(t)),Array.isArray(e)||(e=Hu(e));const n=t[3],r=e[3],i=Rs(n+r-n*r);return Rg(Zd(t[0],n,e[0],r,i),Zd(t[1],n,e[1],r,i),Zd(t[2],n,e[2],r,i),i)}function HV(t,e){const[n,r,i,s=1]=Array.isArray(t)?t:Hu(t);return typeof e.alpha=="number"?Rg(n,r,i,e.alpha):Rg(n,r,i,s)}function WV(t,e){const[n,r,i,s=1]=Array.isArray(t)?t:Hu(t),{lightness:a=1,alpha:o=1}=e;return $C([n*a,r*a,i*a,s*o])}function Rs(t){const e=Math.round(Number(t)*100)/100;return e>1?1:e<0?0:e}function _h(t){const e=Math.round(Number(t));return e>=360||e<0?0:e}function An(t){const e=Math.round(Number(t));return e>255?255:e<0?0:e}function Vi(t){const e=Math.round(Number(t));return e>100?100:e<0?0:e}function $C(t){const[e,n,r]=t;return 3 in t?`rgba(${An(e)}, ${An(n)}, ${An(r)}, ${Rs(t[3])})`:`rgba(${An(e)}, ${An(n)}, ${An(r)}, 1)`}function YV(t=8){return Math.random().toString(16).slice(2,2+t)}function Pl(t){return t.composedPath()[0]}const UC={mousemoveoutside:new WeakMap,clickoutside:new WeakMap};function BC(t,e,n){if(t==="mousemoveoutside"){const r=i=>{e.contains(Pl(i))||n(i)};return{mousemove:r,touchstart:r}}else if(t==="clickoutside"){let r=!1;const i=a=>{r=!e.contains(Pl(a))},s=a=>{r&&(e.contains(Pl(a))||n(a))};return{mousedown:i,mouseup:s,touchstart:i,touchend:s}}return console.error(`[evtd/create-trap-handler]: name \`${t}\` is invalid. This could be a bug of evtd.`),{}}function cw(t,e,n){const r=UC[t];let i=r.get(e);i===void 0&&r.set(e,i=new WeakMap);let s=i.get(n);return s===void 0&&i.set(n,s=BC(t,e,n)),s}function GC(t,e,n,r){if(t==="mousemoveoutside"||t==="clickoutside"){const i=cw(t,e,n);return Object.keys(i).forEach(s=>{WC(s,document,i[s],r)}),!0}return!1}function zC(t,e,n,r){if(t==="mousemoveoutside"||t==="clickoutside"){const i=cw(t,e,n);return Object.keys(i).forEach(s=>{YC(s,document,i[s],r)}),!0}return!1}function HC(){if(typeof window>"u")return{on:()=>{},off:()=>{}};const t=new WeakMap,e=new WeakMap;function n(){t.set(this,!0)}function r(){t.set(this,!0),e.set(this,!0)}function i(x,T,O){const I=x[T];return x[T]=function(){return O.apply(x,arguments),I.apply(x,arguments)},x}function s(x,T){x[T]=Event.prototype[T]}const a=new WeakMap,o=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function u(){var x;return(x=a.get(this))!==null&&x!==void 0?x:null}function c(x,T){o!==void 0&&Object.defineProperty(x,"currentTarget",{configurable:!0,enumerable:!0,get:T??o.get})}const l={bubble:{},capture:{}},h={};function d(){const x=function(T){const{type:O,eventPhase:I,bubbles:M}=T,R=Pl(T);if(I===2)return;const L=I===1?"capture":"bubble";let E=R;const A=[];for(;E===null&&(E=window),A.push(E),E!==window;)E=E.parentNode||null;const N=l.capture[O],C=l.bubble[O];if(i(T,"stopPropagation",n),i(T,"stopImmediatePropagation",r),c(T,u),L==="capture"){if(N===void 0)return;for(let S=A.length-1;S>=0&&!t.has(T);--S){const D=A[S],P=N.get(D);if(P!==void 0){a.set(T,D);for(const U of P){if(e.has(T))break;U(T)}}if(S===0&&!M&&C!==void 0){const U=C.get(D);if(U!==void 0)for(const Y of U){if(e.has(T))break;Y(T)}}}}else if(L==="bubble"){if(C===void 0)return;for(let S=0;S<A.length&&!t.has(T);++S){const D=A[S],P=C.get(D);if(P!==void 0){a.set(T,D);for(const U of P){if(e.has(T))break;U(T)}}}}s(T,"stopPropagation"),s(T,"stopImmediatePropagation"),c(T)};return x.displayName="evtdUnifiedHandler",x}function f(){const x=function(T){const{type:O,eventPhase:I}=T;if(I!==2)return;const M=h[O];M!==void 0&&M.forEach(R=>R(T))};return x.displayName="evtdUnifiedWindowEventHandler",x}const p=d(),g=f();function m(x,T){const O=l[x];return O[T]===void 0&&(O[T]=new Map,window.addEventListener(T,p,x==="capture")),O[T]}function b(x){return h[x]===void 0&&(h[x]=new Set,window.addEventListener(x,g)),h[x]}function v(x,T){let O=x.get(T);return O===void 0&&x.set(T,O=new Set),O}function y(x,T,O,I){const M=l[T][O];if(M!==void 0){const R=M.get(x);if(R!==void 0&&R.has(I))return!0}return!1}function _(x,T){const O=h[x];return!!(O!==void 0&&O.has(T))}function w(x,T,O,I){let M;if(typeof I=="object"&&I.once===!0?M=N=>{k(x,T,M,I),O(N)}:M=O,GC(x,T,M,I))return;const L=I===!0||typeof I=="object"&&I.capture===!0?"capture":"bubble",E=m(L,x),A=v(E,T);if(A.has(M)||A.add(M),T===window){const N=b(x);N.has(M)||N.add(M)}}function k(x,T,O,I){if(zC(x,T,O,I))return;const R=I===!0||typeof I=="object"&&I.capture===!0,L=R?"capture":"bubble",E=m(L,x),A=v(E,T);if(T===window&&!y(T,R?"bubble":"capture",x,O)&&_(x,O)){const C=h[x];C.delete(O),C.size===0&&(window.removeEventListener(x,g),h[x]=void 0)}A.has(O)&&A.delete(O),A.size===0&&E.delete(T),E.size===0&&(window.removeEventListener(x,p,L==="capture"),l[L][x]=void 0)}return{on:w,off:k}}const{on:WC,off:YC}=HC();function jd(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}function mo(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}function bo(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(o)?XC(o,h=>h.test(a)):qC(o,h=>h.test(a));let c;c=t.valueCallback?t.valueCallback(u):u,c=n.valueCallback?n.valueCallback(c):c;const l=e.slice(a.length);return{value:c,rest:l}}}function qC(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function XC(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function VC(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const KC={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ZC=(t,e,n)=>{let r;const i=KC[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},jC={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},QC=(t,e,n,r)=>jC[t],JC={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},eR={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tR={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nR={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},iR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sR=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},aR={ordinalNumber:sR,era:mo({values:JC,defaultWidth:"wide"}),quarter:mo({values:eR,defaultWidth:"wide",argumentCallback:t=>t-1}),month:mo({values:tR,defaultWidth:"wide"}),day:mo({values:nR,defaultWidth:"wide"}),dayPeriod:mo({values:rR,defaultWidth:"wide",formattingValues:iR,defaultFormattingWidth:"wide"})},oR=/^(\d+)(th|st|nd|rd)?/i,uR=/\d+/i,cR={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lR={any:[/^b/i,/^(a|c)/i]},hR={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fR={any:[/1/i,/2/i,/3/i,/4/i]},dR={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},pR={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gR={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mR={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bR={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},yR={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vR={ordinalNumber:VC({matchPattern:oR,parsePattern:uR,valueCallback:t=>parseInt(t,10)}),era:bo({matchPatterns:cR,defaultMatchWidth:"wide",parsePatterns:lR,defaultParseWidth:"any"}),quarter:bo({matchPatterns:hR,defaultMatchWidth:"wide",parsePatterns:fR,defaultParseWidth:"any",valueCallback:t=>t+1}),month:bo({matchPatterns:dR,defaultMatchWidth:"wide",parsePatterns:pR,defaultParseWidth:"any"}),day:bo({matchPatterns:gR,defaultMatchWidth:"wide",parsePatterns:mR,defaultParseWidth:"any"}),dayPeriod:bo({matchPatterns:bR,defaultMatchWidth:"any",parsePatterns:yR,defaultParseWidth:"any"})},_R={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ER={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xR={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wR={date:jd({formats:_R,defaultWidth:"full"}),time:jd({formats:ER,defaultWidth:"full"}),dateTime:jd({formats:xR,defaultWidth:"full"})},qV={code:"en-US",formatDistance:ZC,formatLong:wR,formatRelative:QC,localize:aR,match:vR,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Qy(t){return Array.isArray(t)?t:[t]}const Og={STOP:"STOP"};function lw(t,e){const n=e(t);t.children!==void 0&&n!==Og.STOP&&t.children.forEach(r=>lw(r,e))}function AR(t,e={}){const{preserveGroup:n=!1}=e,r=[],i=n?a=>{a.isLeaf||(r.push(a.key),s(a.children))}:a=>{a.isLeaf||(a.isGroup||r.push(a.key),s(a.children))};function s(a){a.forEach(i)}return s(t),r}function TR(t,e){const{isLeaf:n}=t;return n!==void 0?n:!e(t)}function kR(t){return t.children}function NR(t){return t.key}function SR(){return!1}function CR(t,e){const{isLeaf:n}=t;return!(n===!1&&!Array.isArray(e(t)))}function RR(t){return t.disabled===!0}function OR(t,e){return t.isLeaf===!1&&!Array.isArray(e(t))}function Qd(t){var e;return t==null?[]:Array.isArray(t)?t:(e=t.checkedKeys)!==null&&e!==void 0?e:[]}function Jd(t){var e;return t==null||Array.isArray(t)?[]:(e=t.indeterminateKeys)!==null&&e!==void 0?e:[]}function MR(t,e){const n=new Set(t);return e.forEach(r=>{n.has(r)||n.add(r)}),Array.from(n)}function IR(t,e){const n=new Set(t);return e.forEach(r=>{n.has(r)&&n.delete(r)}),Array.from(n)}function LR(t){return(t==null?void 0:t.type)==="group"}function XV(t){const e=new Map;return t.forEach((n,r)=>{e.set(n.key,r)}),n=>{var r;return(r=e.get(n))!==null&&r!==void 0?r:null}}class DR extends Error{constructor(){super(),this.message="SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded."}}function PR(t,e,n,r){return Eh(e.concat(t),n,r,!1)}function FR(t,e){const n=new Set;return t.forEach(r=>{const i=e.treeNodeMap.get(r);if(i!==void 0){let s=i.parent;for(;s!==null&&!(s.disabled||n.has(s.key));)n.add(s.key),s=s.parent}}),n}function $R(t,e,n,r){const i=Eh(e,n,r,!1),s=Eh(t,n,r,!0),a=FR(t,n),o=[];return i.forEach(u=>{(s.has(u)||a.has(u))&&o.push(u)}),o.forEach(u=>i.delete(u)),i}function ep(t,e){const{checkedKeys:n,keysToCheck:r,keysToUncheck:i,indeterminateKeys:s,cascade:a,leafOnly:o,checkStrategy:u,allowNotLoaded:c}=t;if(!a)return r!==void 0?{checkedKeys:MR(n,r),indeterminateKeys:Array.from(s)}:i!==void 0?{checkedKeys:IR(n,i),indeterminateKeys:Array.from(s)}:{checkedKeys:Array.from(n),indeterminateKeys:Array.from(s)};const{levelTreeNodeMap:l}=e;let h;i!==void 0?h=$R(i,n,e,c):r!==void 0?h=PR(r,n,e,c):h=Eh(n,e,c,!1);const d=u==="parent",f=u==="child"||o,p=h,g=new Set,m=Math.max.apply(null,Array.from(l.keys()));for(let b=m;b>=0;b-=1){const v=b===0,y=l.get(b);for(const _ of y){if(_.isLeaf)continue;const{key:w,shallowLoaded:k}=_;if(f&&k&&_.children.forEach(I=>{!I.disabled&&!I.isLeaf&&I.shallowLoaded&&p.has(I.key)&&p.delete(I.key)}),_.disabled||!k)continue;let x=!0,T=!1,O=!0;for(const I of _.children){const M=I.key;if(!I.disabled){if(O&&(O=!1),p.has(M))T=!0;else if(g.has(M)){T=!0,x=!1;break}else if(x=!1,T)break}}x&&!O?(d&&_.children.forEach(I=>{!I.disabled&&p.has(I.key)&&p.delete(I.key)}),p.add(w)):T&&g.add(w),v&&f&&p.has(w)&&p.delete(w)}}return{checkedKeys:Array.from(p),indeterminateKeys:Array.from(g)}}function Eh(t,e,n,r){const{treeNodeMap:i,getChildren:s}=e,a=new Set,o=new Set(t);return t.forEach(u=>{const c=i.get(u);c!==void 0&&lw(c,l=>{if(l.disabled)return Og.STOP;const{key:h}=l;if(!a.has(h)&&(a.add(h),o.add(h),OR(l.rawNode,s))){if(r)return Og.STOP;if(!n)throw new DR}})}),o}function UR(t,{includeGroup:e=!1,includeSelf:n=!0},r){var i;const s=r.treeNodeMap;let a=t==null?null:(i=s.get(t))!==null&&i!==void 0?i:null;const o={keyPath:[],treeNodePath:[],treeNode:a};if(a!=null&&a.ignored)return o.treeNode=null,o;for(;a;)!a.ignored&&(e||!a.isGroup)&&o.treeNodePath.push(a),a=a.parent;return o.treeNodePath.reverse(),n||o.treeNodePath.pop(),o.keyPath=o.treeNodePath.map(u=>u.key),o}function BR(t){if(t.length===0)return null;const e=t[0];return e.isGroup||e.ignored||e.disabled?e.getNext():e}function GR(t,e){const n=t.siblings,r=n.length,{index:i}=t;return e?n[(i+1)%r]:i===n.length-1?null:n[i+1]}function Jy(t,e,{loop:n=!1,includeDisabled:r=!1}={}){const i=e==="prev"?zR:GR,s={reverse:e==="prev"};let a=!1,o=null;function u(c){if(c!==null){if(c===t){if(!a)a=!0;else if(!t.disabled&&!t.isGroup){o=t;return}}else if((!c.disabled||r)&&!c.ignored&&!c.isGroup){o=c;return}if(c.isGroup){const l=Tm(c,s);l!==null?o=l:u(i(c,n))}else{const l=i(c,!1);if(l!==null)u(l);else{const h=HR(c);h!=null&&h.isGroup?u(i(h,n)):n&&u(i(c,!0))}}}}return u(t),o}function zR(t,e){const n=t.siblings,r=n.length,{index:i}=t;return e?n[(i-1+r)%r]:i===0?null:n[i-1]}function HR(t){return t.parent}function Tm(t,e={}){const{reverse:n=!1}=e,{children:r}=t;if(r){const{length:i}=r,s=n?i-1:0,a=n?-1:i,o=n?-1:1;for(let u=s;u!==a;u+=o){const c=r[u];if(!c.disabled&&!c.ignored)if(c.isGroup){const l=Tm(c,e);if(l!==null)return l}else return c}}return null}const WR={getChild(){return this.ignored?null:Tm(this)},getParent(){const{parent:t}=this;return t!=null&&t.isGroup?t.getParent():t},getNext(t={}){return Jy(this,"next",t)},getPrev(t={}){return Jy(this,"prev",t)}};function YR(t,e){const n=e?new Set(e):void 0,r=[];function i(s){s.forEach(a=>{r.push(a),!(a.isLeaf||!a.children||a.ignored)&&(a.isGroup||n===void 0||n.has(a.key))&&i(a.children)})}return i(t),r}function qR(t,e){const n=t.key;for(;e;){if(e.key===n)return!0;e=e.parent}return!1}function hw(t,e,n,r,i,s=null,a=0){const o=[];return t.forEach((u,c)=>{var l;const h=Object.create(r);if(h.rawNode=u,h.siblings=o,h.level=a,h.index=c,h.isFirstChild=c===0,h.isLastChild=c+1===t.length,h.parent=s,!h.ignored){const d=i(u);Array.isArray(d)&&(h.children=hw(d,e,n,r,i,h,a+1))}o.push(h),e.set(h.key,h),n.has(a)||n.set(a,[]),(l=n.get(a))===null||l===void 0||l.push(h)}),o}function VV(t,e={}){var n;const r=new Map,i=new Map,{getDisabled:s=RR,getIgnored:a=SR,getIsGroup:o=LR,getKey:u=NR}=e,c=(n=e.getChildren)!==null&&n!==void 0?n:kR,l=e.ignoreEmptyChildren?_=>{const w=c(_);return Array.isArray(w)?w.length?w:null:w}:c,h=Object.assign({get key(){return u(this.rawNode)},get disabled(){return s(this.rawNode)},get isGroup(){return o(this.rawNode)},get isLeaf(){return TR(this.rawNode,l)},get shallowLoaded(){return CR(this.rawNode,l)},get ignored(){return a(this.rawNode)},contains(_){return qR(this,_)}},WR),d=hw(t,r,i,h,l);function f(_){if(_==null)return null;const w=r.get(_);return w&&!w.isGroup&&!w.ignored?w:null}function p(_){if(_==null)return null;const w=r.get(_);return w&&!w.ignored?w:null}function g(_,w){const k=p(_);return k?k.getPrev(w):null}function m(_,w){const k=p(_);return k?k.getNext(w):null}function b(_){const w=p(_);return w?w.getParent():null}function v(_){const w=p(_);return w?w.getChild():null}const y={treeNodes:d,treeNodeMap:r,levelTreeNodeMap:i,maxLevel:Math.max(...i.keys()),getChildren:l,getFlattenedNodes(_){return YR(d,_)},getNode:f,getPrev:g,getNext:m,getParent:b,getChild:v,getFirstAvailableNode(){return BR(d)},getPath(_,w={}){return UR(_,w,y)},getCheckedKeys(_,w={}){const{cascade:k=!0,leafOnly:x=!1,checkStrategy:T="all",allowNotLoaded:O=!1}=w;return ep({checkedKeys:Qd(_),indeterminateKeys:Jd(_),cascade:k,leafOnly:x,checkStrategy:T,allowNotLoaded:O},y)},check(_,w,k={}){const{cascade:x=!0,leafOnly:T=!1,checkStrategy:O="all",allowNotLoaded:I=!1}=k;return ep({checkedKeys:Qd(w),indeterminateKeys:Jd(w),keysToCheck:_==null?[]:Qy(_),cascade:x,leafOnly:T,checkStrategy:O,allowNotLoaded:I},y)},uncheck(_,w,k={}){const{cascade:x=!0,leafOnly:T=!1,checkStrategy:O="all",allowNotLoaded:I=!1}=k;return ep({checkedKeys:Qd(w),indeterminateKeys:Jd(w),keysToUncheck:_==null?[]:Qy(_),cascade:x,leafOnly:T,checkStrategy:O,allowNotLoaded:I},y)},getNonLeafKeys(_={}){return AR(d,_)}};return y}function Ts(){return Ts=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ts.apply(this,arguments)}function XR(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Wu(t,e)}function Mg(t){return Mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mg(t)}function Wu(t,e){return Wu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wu(t,e)}function VR(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fl(t,e,n){return VR()?Fl=Reflect.construct.bind():Fl=function(i,s,a){var o=[null];o.push.apply(o,s);var u=Function.bind.apply(i,o),c=new u;return a&&Wu(c,a.prototype),c},Fl.apply(null,arguments)}function KR(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Ig(t){var e=typeof Map=="function"?new Map:void 0;return Ig=function(r){if(r===null||!KR(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return Fl(r,arguments,Mg(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Wu(i,r)},Ig(t)}var ZR=/%[sdj%]/g,jR=function(){};function Lg(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function ar(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,s=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var a=t.replace(ZR,function(o){if(o==="%%")return"%";if(i>=s)return o;switch(o){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return o}});return a}return t}function QR(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function Ht(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||QR(e)&&typeof t=="string"&&!t)}function JR(t,e,n){var r=[],i=0,s=t.length;function a(o){r.push.apply(r,o||[]),i++,i===s&&n(r)}t.forEach(function(o){e(o,a)})}function e1(t,e,n){var r=0,i=t.length;function s(a){if(a&&a.length){n(a);return}var o=r;r=r+1,o<i?e(t[o],s):n([])}s([])}function eO(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var t1=(function(t){XR(e,t);function e(n,r){var i;return i=t.call(this,"Async Validation Error")||this,i.errors=n,i.fields=r,i}return e})(Ig(Error));function tO(t,e,n,r,i){if(e.first){var s=new Promise(function(d,f){var p=function(b){return r(b),b.length?f(new t1(b,Lg(b))):d(i)},g=eO(t);e1(g,n,p)});return s.catch(function(d){return d}),s}var a=e.firstFields===!0?Object.keys(t):e.firstFields||[],o=Object.keys(t),u=o.length,c=0,l=[],h=new Promise(function(d,f){var p=function(m){if(l.push.apply(l,m),c++,c===u)return r(l),l.length?f(new t1(l,Lg(l))):d(i)};o.length||(r(l),d(i)),o.forEach(function(g){var m=t[g];a.indexOf(g)!==-1?e1(m,n,p):JR(m,n,p)})});return h.catch(function(d){return d}),h}function nO(t){return!!(t&&t.message!==void 0)}function rO(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function n1(t,e){return function(n){var r;return t.fullFields?r=rO(e,t.fullFields):r=e[n.field||t.fullField],nO(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function r1(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];typeof r=="object"&&typeof t[n]=="object"?t[n]=Ts({},t[n],r):t[n]=r}}return t}var fw=function(e,n,r,i,s,a){e.required&&(!r.hasOwnProperty(e.field)||Ht(n,a||e.type))&&i.push(ar(s.messages.required,e.fullField))},iO=function(e,n,r,i,s){(/^\s+$/.test(n)||n==="")&&i.push(ar(s.messages.whitespace,e.fullField))},zc,sO=(function(){if(zc)return zc;var t="[a-fA-F\\d:]",e=function(_){return _&&_.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),s=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),a=new RegExp("^"+n+"$"),o=new RegExp("^"+i+"$"),u=function(_){return _&&_.exact?s:new RegExp("(?:"+e(_)+n+e(_)+")|(?:"+e(_)+i+e(_)+")","g")};u.v4=function(y){return y&&y.exact?a:new RegExp(""+e(y)+n+e(y),"g")},u.v6=function(y){return y&&y.exact?o:new RegExp(""+e(y)+i+e(y),"g")};var c="(?:(?:[a-z]+:)?//)",l="(?:\\S+(?::\\S*)?@)?",h=u.v4().source,d=u.v6().source,f="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",p="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",g="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",m="(?::\\d{2,5})?",b='(?:[/?#][^\\s"]*)?',v="(?:"+c+"|www\\.)"+l+"(?:localhost|"+h+"|"+d+"|"+f+p+g+")"+m+b;return zc=new RegExp("(?:^"+v+"$)","i"),zc}),i1={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Go={integer:function(e){return Go.number(e)&&parseInt(e,10)===e},float:function(e){return Go.number(e)&&!Go.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!Go.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(i1.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(sO())},hex:function(e){return typeof e=="string"&&!!e.match(i1.hex)}},aO=function(e,n,r,i,s){if(e.required&&n===void 0){fw(e,n,r,i,s);return}var a=["integer","float","array","regexp","object","method","email","number","date","url","hex"],o=e.type;a.indexOf(o)>-1?Go[o](n)||i.push(ar(s.messages.types[o],e.fullField,e.type)):o&&typeof n!==e.type&&i.push(ar(s.messages.types[o],e.fullField,e.type))},oO=function(e,n,r,i,s){var a=typeof e.len=="number",o=typeof e.min=="number",u=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=n,h=null,d=typeof n=="number",f=typeof n=="string",p=Array.isArray(n);if(d?h="number":f?h="string":p&&(h="array"),!h)return!1;p&&(l=n.length),f&&(l=n.replace(c,"_").length),a?l!==e.len&&i.push(ar(s.messages[h].len,e.fullField,e.len)):o&&!u&&l<e.min?i.push(ar(s.messages[h].min,e.fullField,e.min)):u&&!o&&l>e.max?i.push(ar(s.messages[h].max,e.fullField,e.max)):o&&u&&(l<e.min||l>e.max)&&i.push(ar(s.messages[h].range,e.fullField,e.min,e.max))},aa="enum",uO=function(e,n,r,i,s){e[aa]=Array.isArray(e[aa])?e[aa]:[],e[aa].indexOf(n)===-1&&i.push(ar(s.messages[aa],e.fullField,e[aa].join(", ")))},cO=function(e,n,r,i,s){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||i.push(ar(s.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var a=new RegExp(e.pattern);a.test(n)||i.push(ar(s.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},Xe={required:fw,whitespace:iO,type:aO,range:oO,enum:uO,pattern:cO},lO=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ht(n,"string")&&!e.required)return r();Xe.required(e,n,i,a,s,"string"),Ht(n,"string")||(Xe.type(e,n,i,a,s),Xe.range(e,n,i,a,s),Xe.pattern(e,n,i,a,s),e.whitespace===!0&&Xe.whitespace(e,n,i,a,s))}r(a)},hO=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ht(n)&&!e.required)return r();Xe.required(e,n,i,a,s),n!==void 0&&Xe.type(e,n,i,a,s)}r(a)},fO=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(n===""&&(n=void 0),Ht(n)&&!e.required)return r();Xe.required(e,n,i,a,s),n!==void 0&&(Xe.type(e,n,i,a,s),Xe.range(e,n,i,a,s))}r(a)},dO=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ht(n)&&!e.required)return r();Xe.required(e,n,i,a,s),n!==void 0&&Xe.type(e,n,i,a,s)}r(a)},pO=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ht(n)&&!e.required)return r();Xe.required(e,n,i,a,s),Ht(n)||Xe.type(e,n,i,a,s)}r(a)},gO=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ht(n)&&!e.required)return r();Xe.required(e,n,i,a,s),n!==void 0&&(Xe.type(e,n,i,a,s),Xe.range(e,n,i,a,s))}r(a)},mO=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ht(n)&&!e.required)return r();Xe.required(e,n,i,a,s),n!==void 0&&(Xe.type(e,n,i,a,s),Xe.range(e,n,i,a,s))}r(a)},bO=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(n==null&&!e.required)return r();Xe.required(e,n,i,a,s,"array"),n!=null&&(Xe.type(e,n,i,a,s),Xe.range(e,n,i,a,s))}r(a)},yO=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ht(n)&&!e.required)return r();Xe.required(e,n,i,a,s),n!==void 0&&Xe.type(e,n,i,a,s)}r(a)},vO="enum",_O=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ht(n)&&!e.required)return r();Xe.required(e,n,i,a,s),n!==void 0&&Xe[vO](e,n,i,a,s)}r(a)},EO=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ht(n,"string")&&!e.required)return r();Xe.required(e,n,i,a,s),Ht(n,"string")||Xe.pattern(e,n,i,a,s)}r(a)},xO=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ht(n,"date")&&!e.required)return r();if(Xe.required(e,n,i,a,s),!Ht(n,"date")){var u;n instanceof Date?u=n:u=new Date(n),Xe.type(e,u,i,a,s),u&&Xe.range(e,u.getTime(),i,a,s)}}r(a)},wO=function(e,n,r,i,s){var a=[],o=Array.isArray(n)?"array":typeof n;Xe.required(e,n,i,a,s,o),r(a)},tp=function(e,n,r,i,s){var a=e.type,o=[],u=e.required||!e.required&&i.hasOwnProperty(e.field);if(u){if(Ht(n,a)&&!e.required)return r();Xe.required(e,n,i,o,s,a),Ht(n,a)||Xe.type(e,n,i,o,s)}r(o)},AO=function(e,n,r,i,s){var a=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ht(n)&&!e.required)return r();Xe.required(e,n,i,a,s)}r(a)},Mu={string:lO,method:hO,number:fO,boolean:dO,regexp:pO,integer:gO,float:mO,array:bO,object:yO,enum:_O,pattern:EO,date:xO,url:tp,hex:tp,email:tp,required:wO,any:AO};function Dg(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Pg=Dg(),Yf=(function(){function t(n){this.rules=null,this._messages=Pg,this.define(n)}var e=t.prototype;return e.define=function(r){var i=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(s){var a=r[s];i.rules[s]=Array.isArray(a)?a:[a]})},e.messages=function(r){return r&&(this._messages=r1(Dg(),r)),this._messages},e.validate=function(r,i,s){var a=this;i===void 0&&(i={}),s===void 0&&(s=function(){});var o=r,u=i,c=s;if(typeof u=="function"&&(c=u,u={}),!this.rules||Object.keys(this.rules).length===0)return c&&c(null,o),Promise.resolve(o);function l(g){var m=[],b={};function v(_){if(Array.isArray(_)){var w;m=(w=m).concat.apply(w,_)}else m.push(_)}for(var y=0;y<g.length;y++)v(g[y]);m.length?(b=Lg(m),c(m,b)):c(null,o)}if(u.messages){var h=this.messages();h===Pg&&(h=Dg()),r1(h,u.messages),u.messages=h}else u.messages=this.messages();var d={},f=u.keys||Object.keys(this.rules);f.forEach(function(g){var m=a.rules[g],b=o[g];m.forEach(function(v){var y=v;typeof y.transform=="function"&&(o===r&&(o=Ts({},o)),b=o[g]=y.transform(b)),typeof y=="function"?y={validator:y}:y=Ts({},y),y.validator=a.getValidationMethod(y),y.validator&&(y.field=g,y.fullField=y.fullField||g,y.type=a.getType(y),d[g]=d[g]||[],d[g].push({rule:y,value:b,source:o,field:g}))})});var p={};return tO(d,u,function(g,m){var b=g.rule,v=(b.type==="object"||b.type==="array")&&(typeof b.fields=="object"||typeof b.defaultField=="object");v=v&&(b.required||!b.required&&g.value),b.field=g.field;function y(k,x){return Ts({},x,{fullField:b.fullField+"."+k,fullFields:b.fullFields?[].concat(b.fullFields,[k]):[k]})}function _(k){k===void 0&&(k=[]);var x=Array.isArray(k)?k:[k];!u.suppressWarning&&x.length&&t.warning("async-validator:",x),x.length&&b.message!==void 0&&(x=[].concat(b.message));var T=x.map(n1(b,o));if(u.first&&T.length)return p[b.field]=1,m(T);if(!v)m(T);else{if(b.required&&!g.value)return b.message!==void 0?T=[].concat(b.message).map(n1(b,o)):u.error&&(T=[u.error(b,ar(u.messages.required,b.field))]),m(T);var O={};b.defaultField&&Object.keys(g.value).map(function(R){O[R]=b.defaultField}),O=Ts({},O,g.rule.fields);var I={};Object.keys(O).forEach(function(R){var L=O[R],E=Array.isArray(L)?L:[L];I[R]=E.map(y.bind(null,R))});var M=new t(I);M.messages(u.messages),g.rule.options&&(g.rule.options.messages=u.messages,g.rule.options.error=u.error),M.validate(g.value,g.rule.options||u,function(R){var L=[];T&&T.length&&L.push.apply(L,T),R&&R.length&&L.push.apply(L,R),m(L.length?L:null)})}}var w;if(b.asyncValidator)w=b.asyncValidator(b,g.value,_,g.source,u);else if(b.validator){try{w=b.validator(b,g.value,_,g.source,u)}catch(k){console.error==null||console.error(k),u.suppressValidatorError||setTimeout(function(){throw k},0),_(k.message)}w===!0?_():w===!1?_(typeof b.message=="function"?b.message(b.fullField||b.field):b.message||(b.fullField||b.field)+" fails"):w instanceof Array?_(w):w instanceof Error&&_(w.message)}w&&w.then&&w.then(function(){return _()},function(k){return _(k)})},function(g){l(g)},o)},e.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!Mu.hasOwnProperty(r.type))throw new Error(ar("Unknown rule type %s",r.type));return r.type||"string"},e.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var i=Object.keys(r),s=i.indexOf("message");return s!==-1&&i.splice(s,1),i.length===1&&i[0]==="required"?Mu.required:Mu[this.getType(r)]||void 0},t})();Yf.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");Mu[e]=n};Yf.warning=jR;Yf.messages=Pg;Yf.validators=Mu;const Fg="RFC3986",$g={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},TO="RFC1738",kO=Array.isArray,Vr=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),np=1024,NO=(t,e,n,r,i)=>{if(t.length===0)return t;let s=t;if(typeof t=="symbol"?s=Symbol.prototype.toString.call(t):typeof t!="string"&&(s=String(t)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(o){return"%26%23"+parseInt(o.slice(2),16)+"%3B"});let a="";for(let o=0;o<s.length;o+=np){const u=s.length>=np?s.slice(o,o+np):s,c=[];for(let l=0;l<u.length;++l){let h=u.charCodeAt(l);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||i===TO&&(h===40||h===41)){c[c.length]=u.charAt(l);continue}if(h<128){c[c.length]=Vr[h];continue}if(h<2048){c[c.length]=Vr[192|h>>6]+Vr[128|h&63];continue}if(h<55296||h>=57344){c[c.length]=Vr[224|h>>12]+Vr[128|h>>6&63]+Vr[128|h&63];continue}l+=1,h=65536+((h&1023)<<10|u.charCodeAt(l)&1023),c[c.length]=Vr[240|h>>18]+Vr[128|h>>12&63]+Vr[128|h>>6&63]+Vr[128|h&63]}a+=c.join("")}return a};function SO(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function s1(t,e){if(kO(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}const CO=Object.prototype.hasOwnProperty,dw={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},ti=Array.isArray,RO=Array.prototype.push,pw=function(t,e){RO.apply(t,ti(e)?e:[e])},OO=Date.prototype.toISOString,zt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:NO,encodeValuesOnly:!1,format:Fg,formatter:$g[Fg],indices:!1,serializeDate(t){return OO.call(t)},skipNulls:!1,strictNullHandling:!1};function MO(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const rp={};function gw(t,e,n,r,i,s,a,o,u,c,l,h,d,f,p,g,m,b){let v=t,y=b,_=0,w=!1;for(;(y=y.get(rp))!==void 0&&!w;){const I=y.get(t);if(_+=1,typeof I<"u"){if(I===_)throw new RangeError("Cyclic object value");w=!0}typeof y.get(rp)>"u"&&(_=0)}if(typeof c=="function"?v=c(e,v):v instanceof Date?v=d==null?void 0:d(v):n==="comma"&&ti(v)&&(v=s1(v,function(I){return I instanceof Date?d==null?void 0:d(I):I})),v===null){if(s)return u&&!g?u(e,zt.encoder,m,"key",f):e;v=""}if(MO(v)||SO(v)){if(u){const I=g?e:u(e,zt.encoder,m,"key",f);return[(p==null?void 0:p(I))+"="+(p==null?void 0:p(u(v,zt.encoder,m,"value",f)))]}return[(p==null?void 0:p(e))+"="+(p==null?void 0:p(String(v)))]}const k=[];if(typeof v>"u")return k;let x;if(n==="comma"&&ti(v))g&&u&&(v=s1(v,u)),x=[{value:v.length>0?v.join(",")||null:void 0}];else if(ti(c))x=c;else{const I=Object.keys(v);x=l?I.sort(l):I}const T=o?String(e).replace(/\./g,"%2E"):String(e),O=r&&ti(v)&&v.length===1?T+"[]":T;if(i&&ti(v)&&v.length===0)return O+"[]";for(let I=0;I<x.length;++I){const M=x[I],R=typeof M=="object"&&typeof M.value<"u"?M.value:v[M];if(a&&R===null)continue;const L=h&&o?M.replace(/\./g,"%2E"):M,E=ti(v)?typeof n=="function"?n(O,L):O:O+(h?"."+L:"["+L+"]");b.set(t,_);const A=new WeakMap;A.set(rp,b),pw(k,gw(R,E,n,r,i,s,a,o,n==="comma"&&g&&ti(v)?null:u,c,l,h,d,f,p,g,m,A))}return k}function IO(t=zt){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||zt.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=Fg;if(typeof t.format<"u"){if(!CO.call($g,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=$g[n];let i=zt.filter;(typeof t.filter=="function"||ti(t.filter))&&(i=t.filter);let s;if(t.arrayFormat&&t.arrayFormat in dw?s=t.arrayFormat:"indices"in t?s=t.indices?"indices":"repeat":s=zt.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:zt.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:zt.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:zt.allowEmptyArrays,arrayFormat:s,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:zt.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?zt.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:zt.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:zt.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:zt.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:zt.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:zt.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:zt.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:zt.strictNullHandling}}function LO(t,e={}){let n=t;const r=IO(e);let i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):ti(r.filter)&&(s=r.filter,i=s);const a=[];if(typeof n!="object"||n===null)return"";const o=dw[r.arrayFormat],u=o==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);const c=new WeakMap;for(let d=0;d<i.length;++d){const f=i[d];r.skipNulls&&n[f]===null||pw(a,gw(n[f],f,o,u,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}const l=a.join(r.delimiter);let h=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),l.length>0?h+l:""}const ma="4.104.0";let a1=!1,Iu,mw,bw,Ug,yw,vw,_w,Ew,xw;function DO(t,e={auto:!1}){if(a1)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(Iu)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${Iu}'\``);a1=e.auto,Iu=t.kind,mw=t.fetch,bw=t.FormData,Ug=t.File,yw=t.ReadableStream,vw=t.getMultipartRequestOptions,_w=t.getDefaultAgent,Ew=t.fileFromPath,xw=t.isFsReadStream}class PO{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function FO({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,i,s;try{n=fetch,r=Request,i=Response,s=Headers}catch(a){throw new Error(`this environment is missing the following Web Fetch API type: ${a.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:i,Headers:s,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(a,o)=>({...o,body:new PO(a)}),getDefaultAgent:a=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:a=>!1}}const ww=()=>{Iu||DO(FO(),{auto:!0})};ww();class Me extends Error{}class bn extends Me{constructor(e,n,r,i){super(`${bn.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.request_id=i==null?void 0:i["x-request-id"],this.error=n;const s=n;this.code=s==null?void 0:s.code,this.param=s==null?void 0:s.param,this.type=s==null?void 0:s.type}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new qf({message:r,cause:Gg(n)});const s=n==null?void 0:n.error;return e===400?new Aw(e,s,r,i):e===401?new Tw(e,s,r,i):e===403?new kw(e,s,r,i):e===404?new Nw(e,s,r,i):e===409?new Sw(e,s,r,i):e===422?new Cw(e,s,r,i):e===429?new Rw(e,s,r,i):e>=500?new Ow(e,s,r,i):new bn(e,s,r,i)}}class br extends bn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class qf extends bn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class km extends qf{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Aw extends bn{}class Tw extends bn{}class kw extends bn{}class Nw extends bn{}class Sw extends bn{}class Cw extends bn{}class Rw extends bn{}class Ow extends bn{}class Mw extends Me{constructor(){super("Could not parse response content as the length limit was reached")}}class Iw extends Me{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var Hc=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},ps=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},tr;class Xf{constructor(){tr.set(this,void 0),this.buffer=new Uint8Array,Hc(this,tr,null,"f")}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?new TextEncoder().encode(e):e;let r=new Uint8Array(this.buffer.length+n.length);r.set(this.buffer),r.set(n,this.buffer.length),this.buffer=r;const i=[];let s;for(;(s=$O(this.buffer,ps(this,tr,"f")))!=null;){if(s.carriage&&ps(this,tr,"f")==null){Hc(this,tr,s.index,"f");continue}if(ps(this,tr,"f")!=null&&(s.index!==ps(this,tr,"f")+1||s.carriage)){i.push(this.decodeText(this.buffer.slice(0,ps(this,tr,"f")-1))),this.buffer=this.buffer.slice(ps(this,tr,"f")),Hc(this,tr,null,"f");continue}const a=ps(this,tr,"f")!==null?s.preceding-1:s.preceding,o=this.decodeText(this.buffer.slice(0,a));i.push(o),this.buffer=this.buffer.slice(s.index),Hc(this,tr,null,"f")}return i}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new Me(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new Me(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new Me("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}tr=new WeakMap;Xf.NEWLINE_CHARS=new Set([`
`,"\r"]);Xf.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function $O(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function UO(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}function Lw(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class ai{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{for await(const a of BO(e,n))if(!s){if(a.data.startsWith("[DONE]")){s=!0;continue}if(a.event===null||a.event.startsWith("response.")||a.event.startsWith("transcript.")){let o;try{o=JSON.parse(a.data)}catch(u){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),u}if(o&&o.error)throw new bn(void 0,o.error,void 0,Gw(e.headers));yield o}else{let o;try{o=JSON.parse(a.data)}catch(u){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),u}if(a.event=="error")throw new bn(void 0,o.error,o.message,void 0);yield{event:a.event,data:o}}}s=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{s||n.abort()}}return new ai(i,n)}static fromReadableStream(e,n){let r=!1;async function*i(){const a=new Xf,o=Lw(e);for await(const u of o)for(const c of a.decode(u))yield c;for(const u of a.flush())yield u}async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{for await(const o of i())a||o&&(yield JSON.parse(o));a=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{a||n.abort()}}return new ai(s,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const a=r.next();e.push(a),n.push(a)}return s.shift()}});return[new ai(()=>i(e),this.controller),new ai(()=>i(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new yw({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:s,done:a}=await n.next();if(a)return i.close();const o=r.encode(JSON.stringify(s)+`
`);i.enqueue(o)}catch(s){i.error(s)}},async cancel(){var i;await((i=n.return)==null?void 0:i.call(n))}})}}async function*BO(t,e){if(!t.body)throw e.abort(),new Me("Attempted to iterate over a response with no body");const n=new zO,r=new Xf,i=Lw(t.body);for await(const s of GO(i))for(const a of r.decode(s)){const o=n.decode(a);o&&(yield o)}for(const s of r.flush()){const a=n.decode(s);a&&(yield a)}}async function*GO(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let i=new Uint8Array(e.length+r.length);i.set(e),i.set(r,e.length),e=i;let s;for(;(s=UO(e))!==-1;)yield e.slice(0,s),e=e.slice(s)}e.length>0&&(yield e)}class zO{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=HO(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function HO(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}const Dw=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",Pw=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Vf(t),Vf=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",WO=t=>Pw(t)||Dw(t)||xw(t);async function Fw(t,e,n){var i;if(t=await t,Pw(t))return t;if(Dw(t)){const s=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const a=Vf(s)?[await s.arrayBuffer()]:[s];return new Ug(a,e,n)}const r=await YO(t);if(e||(e=XO(t)??"unknown_file"),!(n!=null&&n.type)){const s=(i=r[0])==null?void 0:i.type;typeof s=="string"&&(n={...n,type:s})}return new Ug(r,e,n)}async function YO(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(Vf(t))e.push(await t.arrayBuffer());else if(VO(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${qO(t)}`);return e}function qO(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function XO(t){var e;return ip(t.name)||ip(t.filename)||((e=ip(t.path))==null?void 0:e.split(/[\\/]/).pop())}const ip=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},VO=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",o1=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",Ds=async t=>{const e=await KO(t.body);return vw(e,t)},KO=async t=>{const e=new bw;return await Promise.all(Object.entries(t||{}).map(([n,r])=>Bg(e,n,r))),e},Bg=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(WO(n)){const r=await Fw(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>Bg(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>Bg(t,`${e}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var ka={},ZO=function(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},jO=function(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Wc;ww();async function $w(t){var a;const{response:e}=t;if(t.options.stream)return ji("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):ai.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type"),r=(a=n==null?void 0:n.split(";")[0])==null?void 0:a.trim();if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.endsWith("+json"))){const o=await e.json();return ji("response",e.status,e.url,e.headers,o),Uw(o,e)}const s=await e.text();return ji("response",e.status,e.url,e.headers,s),s}function Uw(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class Kf extends Promise{constructor(e,n=$w){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new Kf(this.responsePromise,async n=>Uw(e(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class QO{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e5,httpAgent:i,fetch:s}){this.baseURL=e,this.maxRetries=sp("maxRetries",n),this.timeout=sp("timeout",r),this.httpAgent=i,this.fetch=s??mw}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...rM(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${oM()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async i=>{const s=i&&Vf(i==null?void 0:i.body)?new DataView(await i.body.arrayBuffer()):(i==null?void 0:i.body)instanceof DataView?i.body:(i==null?void 0:i.body)instanceof ArrayBuffer?new DataView(i.body):i&&ArrayBuffer.isView(i==null?void 0:i.body)?new DataView(i.body.buffer):i==null?void 0:i.body;return{method:e,path:n,...i,body:s}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){var g;const r={...e},{method:i,path:s,query:a,headers:o={}}=r,u=ArrayBuffer.isView(r.body)||r.__binaryRequest&&typeof r.body=="string"?r.body:o1(r.body)?r.body.body:r.body?JSON.stringify(r.body,null,2):null,c=this.calculateContentLength(u),l=this.buildURL(s,a);"timeout"in r&&sp("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const h=r.httpAgent??this.httpAgent??_w(l),d=r.timeout+1e3;typeof((g=h==null?void 0:h.options)==null?void 0:g.timeout)=="number"&&d>(h.options.timeout??0)&&(h.options.timeout=d),this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const f=this.buildHeaders({options:r,headers:o,contentLength:c,retryCount:n});return{req:{method:i,...u&&{body:u},headers:f,...h&&{agent:h},signal:r.signal??null},url:l,timeout:r.timeout}}buildHeaders({options:e,headers:n,contentLength:r,retryCount:i}){const s={};r&&(s["content-length"]=r);const a=this.defaultHeaders(e);return h1(s,a),h1(s,n),o1(e.body)&&Iu!=="node"&&delete s["content-type"],qc(a,"x-stainless-retry-count")===void 0&&qc(n,"x-stainless-retry-count")===void 0&&(s["x-stainless-retry-count"]=String(i)),qc(a,"x-stainless-timeout")===void 0&&qc(n,"x-stainless-timeout")===void 0&&e.timeout&&(s["x-stainless-timeout"]=String(Math.trunc(e.timeout/1e3))),this.validateHeaders(s,n),s}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,i){return bn.generate(e,n,r,i)}request(e,n=null){return new Kf(this.makeRequest(e,n))}async makeRequest(e,n){var h,d;const r=await e,i=r.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(r);const{req:s,url:a,timeout:o}=this.buildRequest(r,{retryCount:i-n});if(await this.prepareRequest(s,{url:a,options:r}),ji("request",a,r,s.headers),(h=r.signal)!=null&&h.aborted)throw new br;const u=new AbortController,c=await this.fetchWithTimeout(a,s,o,u).catch(Gg);if(c instanceof Error){if((d=r.signal)!=null&&d.aborted)throw new br;if(n)return this.retryRequest(r,n);throw c.name==="AbortError"?new km:new qf({cause:c})}const l=Gw(c.headers);if(!c.ok){if(n&&this.shouldRetry(c)){const v=`retrying, ${n} attempts remaining`;return ji(`response (error; ${v})`,c.status,a,l),this.retryRequest(r,n,l)}const f=await c.text().catch(v=>Gg(v).message),p=iM(f),g=p?void 0:f;throw ji(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,c.status,a,l,g),this.makeStatusError(c.status,p,g,l)}return{response:c,options:r,controller:u}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new JO(this,r,e)}buildURL(e,n){const r=aM(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return zw(i)||(n={...i,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Me(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,i){const{signal:s,...a}=n||{};s&&s.addEventListener("abort",()=>i.abort());const o=setTimeout(()=>i.abort(),r),u={signal:i.signal,...a};return u.method&&(u.method=u.method.toUpperCase()),this.fetch.call(void 0,e,u).finally(()=>{clearTimeout(o)})}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let i;const s=r==null?void 0:r["retry-after-ms"];if(s){const o=parseFloat(s);Number.isNaN(o)||(i=o)}const a=r==null?void 0:r["retry-after"];if(a&&!i){const o=parseFloat(a);Number.isNaN(o)?i=Date.parse(a)-Date.now():i=o*1e3}if(!(i&&0<=i&&i<60*1e3)){const o=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,o)}return await fc(i),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,a=Math.min(.5*Math.pow(2,s),8),o=1-Math.random()*.25;return a*o*1e3}getUserAgent(){return`${this.constructor.name}/JS ${ma}`}}class Bw{constructor(e,n,r,i){Wc.set(this,void 0),ZO(this,Wc,e),this.options=i,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new Me("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const r=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[i,s]of r)e.url.searchParams.set(i,s);n.query=void 0,n.path=e.url.toString()}return await jO(this,Wc,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Wc=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class JO extends Kf{constructor(e,n,r){super(n,async i=>new r(e,i.response,await $w(i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const Gw=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),eM={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},At=t=>typeof t=="object"&&t!==null&&!zw(t)&&Object.keys(t).every(e=>Hw(eM,e)),tM=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ma,"X-Stainless-OS":c1(Deno.build.os),"X-Stainless-Arch":u1(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ma,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ma,"X-Stainless-OS":c1(process.platform),"X-Stainless-Arch":u1(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=nM();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ma,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ma,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function nM(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,a=r[3]||0;return{browser:e,version:`${i}.${s}.${a}`}}}return null}const u1=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",c1=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let l1;const rM=()=>l1??(l1=tM()),iM=t=>{try{return JSON.parse(t)}catch{return}},sM=/^[a-z][a-z0-9+.-]*:/i,aM=t=>sM.test(t),fc=t=>new Promise(e=>setTimeout(e,t)),sp=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Me(`${t} must be an integer`);if(e<0)throw new Me(`${t} must be a positive integer`);return e},Gg=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},Yc=t=>{var e,n,r,i;if(typeof process<"u")return((e=ka==null?void 0:ka[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(i=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:i.trim()};function zw(t){if(!t)return!0;for(const e in t)return!1;return!0}function Hw(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function h1(t,e){for(const n in e){if(!Hw(e,n))continue;const r=n.toLowerCase();if(!r)continue;const i=e[n];i===null?delete t[r]:i!==void 0&&(t[r]=i)}}const f1=new Set(["authorization","api-key"]);function ji(t,...e){if(typeof process<"u"&&(ka==null?void 0:ka.DEBUG)==="true"){const n=e.map(r=>{if(!r)return r;if(r.headers){const s={...r,headers:{...r.headers}};for(const a in r.headers)f1.has(a.toLowerCase())&&(s.headers[a]="REDACTED");return s}let i=null;for(const s in r)f1.has(s.toLowerCase())&&(i??(i={...r}),i[s]="REDACTED");return i??r});console.log(`OpenAI:DEBUG:${t}`,...n)}}const oM=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),uM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",cM=t=>typeof(t==null?void 0:t.get)=="function",qc=(t,e)=>{var r;const n=e.toLowerCase();if(cM(t)){const i=((r=e[0])==null?void 0:r.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(s,a,o)=>a+o.toUpperCase());for(const s of[e,n,e.toUpperCase(),i]){const a=t.get(s);if(a)return a}}for(const[i,s]of Object.entries(t))if(i.toLowerCase()===n)return Array.isArray(s)?(s.length<=1||console.warn(`Received ${s.length} entries for the ${e} header, using the first entry.`),s[0]):s},lM=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.charCodeAt(i);return Array.from(new Float32Array(r.buffer))}};function ap(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class Zf extends Bw{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Wt extends Bw{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const e=this.getPaginatedItems();if(!e.length)return null;const n=(r=e[e.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class $e{constructor(e){this._client=e}}let Ww=class extends $e{list(e,n={},r){return At(n)?this.list(e,{},n):this._client.getAPIList(`/chat/completions/${e}/messages`,hM,{query:n,...r})}},jf=class extends $e{constructor(){super(...arguments),this.messages=new Ww(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(`/chat/completions/${e}`,n)}update(e,n,r){return this._client.post(`/chat/completions/${e}`,{body:n,...r})}list(e={},n){return At(e)?this.list({},e):this._client.getAPIList("/chat/completions",Qf,{query:e,...n})}del(e,n){return this._client.delete(`/chat/completions/${e}`,n)}};class Qf extends Wt{}class hM extends Wt{}jf.ChatCompletionsPage=Qf;jf.Messages=Ww;let Jf=class extends $e{constructor(){super(...arguments),this.completions=new jf(this._client)}};Jf.Completions=jf;Jf.ChatCompletionsPage=Qf;class Yw extends $e{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class qw extends $e{create(e,n){return this._client.post("/audio/transcriptions",Ds({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}}))}}class Xw extends $e{create(e,n){return this._client.post("/audio/translations",Ds({body:e,...n,__metadata:{model:e.model}}))}}class dc extends $e{constructor(){super(...arguments),this.transcriptions=new qw(this._client),this.translations=new Xw(this._client),this.speech=new Yw(this._client)}}dc.Transcriptions=qw;dc.Translations=Xw;dc.Speech=Yw;class Nm extends $e{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/batches/${e}`,n)}list(e={},n){return At(e)?this.list({},e):this._client.getAPIList("/batches",Sm,{query:e,...n})}cancel(e,n){return this._client.post(`/batches/${e}/cancel`,n)}}class Sm extends Wt{}Nm.BatchesPage=Sm;var Nr=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Et=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},zg,$l,Ul,zo,Ho,Bl,Wo,wi,Yo,xh,wh,ba,Vw;class Cm{constructor(){zg.add(this),this.controller=new AbortController,$l.set(this,void 0),Ul.set(this,()=>{}),zo.set(this,()=>{}),Ho.set(this,void 0),Bl.set(this,()=>{}),Wo.set(this,()=>{}),wi.set(this,{}),Yo.set(this,!1),xh.set(this,!1),wh.set(this,!1),ba.set(this,!1),Nr(this,$l,new Promise((e,n)=>{Nr(this,Ul,e,"f"),Nr(this,zo,n,"f")}),"f"),Nr(this,Ho,new Promise((e,n)=>{Nr(this,Bl,e,"f"),Nr(this,Wo,n,"f")}),"f"),Et(this,$l,"f").catch(()=>{}),Et(this,Ho,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},Et(this,zg,"m",Vw).bind(this))},0)}_connected(){this.ended||(Et(this,Ul,"f").call(this),this._emit("connect"))}get ended(){return Et(this,Yo,"f")}get errored(){return Et(this,xh,"f")}get aborted(){return Et(this,wh,"f")}abort(){this.controller.abort()}on(e,n){return(Et(this,wi,"f")[e]||(Et(this,wi,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=Et(this,wi,"f")[e];if(!r)return this;const i=r.findIndex(s=>s.listener===n);return i>=0&&r.splice(i,1),this}once(e,n){return(Et(this,wi,"f")[e]||(Et(this,wi,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{Nr(this,ba,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){Nr(this,ba,!0,"f"),await Et(this,Ho,"f")}_emit(e,...n){if(Et(this,Yo,"f"))return;e==="end"&&(Nr(this,Yo,!0,"f"),Et(this,Bl,"f").call(this));const r=Et(this,wi,"f")[e];if(r&&(Et(this,wi,"f")[e]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),e==="abort"){const i=n[0];!Et(this,ba,"f")&&!(r!=null&&r.length)&&Promise.reject(i),Et(this,zo,"f").call(this,i),Et(this,Wo,"f").call(this,i),this._emit("end");return}if(e==="error"){const i=n[0];!Et(this,ba,"f")&&!(r!=null&&r.length)&&Promise.reject(i),Et(this,zo,"f").call(this,i),Et(this,Wo,"f").call(this,i),this._emit("end")}}_emitFinal(){}}$l=new WeakMap,Ul=new WeakMap,zo=new WeakMap,Ho=new WeakMap,Bl=new WeakMap,Wo=new WeakMap,wi=new WeakMap,Yo=new WeakMap,xh=new WeakMap,wh=new WeakMap,ba=new WeakMap,zg=new WeakSet,Vw=function(e){if(Nr(this,xh,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new br),e instanceof br)return Nr(this,wh,!0,"f"),this._emit("abort",e);if(e instanceof Me)return this._emit("error",e);if(e instanceof Error){const n=new Me(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new Me(String(e)))};var ke=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Jn=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},hn,Hg,ni,Gl,Cr,ks,Ea,xs,Ah,nr,zl,Hl,Lu,qo,Xo,d1,p1,g1,m1,b1,y1,v1;class Dr extends Cm{constructor(){super(...arguments),hn.add(this),Hg.set(this,[]),ni.set(this,{}),Gl.set(this,{}),Cr.set(this,void 0),ks.set(this,void 0),Ea.set(this,void 0),xs.set(this,void 0),Ah.set(this,void 0),nr.set(this,void 0),zl.set(this,void 0),Hl.set(this,void 0),Lu.set(this,void 0)}[(Hg=new WeakMap,ni=new WeakMap,Gl=new WeakMap,Cr=new WeakMap,ks=new WeakMap,Ea=new WeakMap,xs=new WeakMap,Ah=new WeakMap,nr=new WeakMap,zl=new WeakMap,Hl=new WeakMap,Lu=new WeakMap,hn=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,a)=>n.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Dr;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var s;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=ai.fromReadableStream(e,this.controller);for await(const a of i)ke(this,hn,"m",qo).call(this,a);if((s=i.controller.signal)!=null&&s.aborted)throw new br;return this._addRun(ke(this,hn,"m",Xo).call(this))}toReadableStream(){return new ai(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,i,s){const a=new Dr;return a._run(()=>a._runToolAssistantStream(e,n,r,i,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(e,n,r,i,s){var c;const a=s==null?void 0:s.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const o={...i,stream:!0},u=await e.submitToolOutputs(n,r,o,{...s,signal:this.controller.signal});this._connected();for await(const l of u)ke(this,hn,"m",qo).call(this,l);if((c=u.controller.signal)!=null&&c.aborted)throw new br;return this._addRun(ke(this,hn,"m",Xo).call(this))}static createThreadAssistantStream(e,n,r){const i=new Dr;return i._run(()=>i._threadAssistantStream(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(e,n,r,i){const s=new Dr;return s._run(()=>s._runAssistantStream(e,n,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),s}currentEvent(){return ke(this,zl,"f")}currentRun(){return ke(this,Hl,"f")}currentMessageSnapshot(){return ke(this,Cr,"f")}currentRunStepSnapshot(){return ke(this,Lu,"f")}async finalRunSteps(){return await this.done(),Object.values(ke(this,ni,"f"))}async finalMessages(){return await this.done(),Object.values(ke(this,Gl,"f"))}async finalRun(){if(await this.done(),!ke(this,ks,"f"))throw Error("Final run was not received.");return ke(this,ks,"f")}async _createThreadAssistantStream(e,n,r){var o;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const s={...n,stream:!0},a=await e.createAndRun(s,{...r,signal:this.controller.signal});this._connected();for await(const u of a)ke(this,hn,"m",qo).call(this,u);if((o=a.controller.signal)!=null&&o.aborted)throw new br;return this._addRun(ke(this,hn,"m",Xo).call(this))}async _createAssistantStream(e,n,r,i){var u;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},o=await e.create(n,a,{...i,signal:this.controller.signal});this._connected();for await(const c of o)ke(this,hn,"m",qo).call(this,c);if((u=o.controller.signal)!=null&&u.aborted)throw new br;return this._addRun(ke(this,hn,"m",Xo).call(this))}static accumulateDelta(e,n){for(const[r,i]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=i;continue}let s=e[r];if(s==null){e[r]=i;continue}if(r==="index"||r==="type"){e[r]=i;continue}if(typeof s=="string"&&typeof i=="string")s+=i;else if(typeof s=="number"&&typeof i=="number")s+=i;else if(ap(s)&&ap(i))s=this.accumulateDelta(s,i);else if(Array.isArray(s)&&Array.isArray(i)){if(s.every(a=>typeof a=="string"||typeof a=="number")){s.push(...i);continue}for(const a of i){if(!ap(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const o=a.index;if(o==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof o!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${o}`);const u=s[o];u==null?s.push(a):s[o]=this.accumulateDelta(u,a)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${i}, accValue: ${s}`);e[r]=s}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,i){return await this._createAssistantStream(n,e,r,i)}async _runToolAssistantStream(e,n,r,i,s){return await this._createToolAssistantStream(r,e,n,i,s)}}qo=function(e){if(!this.ended)switch(Jn(this,zl,e,"f"),ke(this,hn,"m",g1).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":ke(this,hn,"m",v1).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ke(this,hn,"m",p1).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":ke(this,hn,"m",d1).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Xo=function(){if(this.ended)throw new Me("stream has ended, this shouldn't happen");if(!ke(this,ks,"f"))throw Error("Final run has not been received");return ke(this,ks,"f")},d1=function(e){const[n,r]=ke(this,hn,"m",b1).call(this,e,ke(this,Cr,"f"));Jn(this,Cr,n,"f"),ke(this,Gl,"f")[n.id]=n;for(const i of r){const s=n.content[i.index];(s==null?void 0:s.type)=="text"&&this._emit("textCreated",s.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const i of e.data.delta.content){if(i.type=="text"&&i.text){let s=i.text,a=n.content[i.index];if(a&&a.type=="text")this._emit("textDelta",s,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=ke(this,Ea,"f")){if(ke(this,xs,"f"))switch(ke(this,xs,"f").type){case"text":this._emit("textDone",ke(this,xs,"f").text,ke(this,Cr,"f"));break;case"image_file":this._emit("imageFileDone",ke(this,xs,"f").image_file,ke(this,Cr,"f"));break}Jn(this,Ea,i.index,"f")}Jn(this,xs,n.content[i.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(ke(this,Ea,"f")!==void 0){const i=e.data.content[ke(this,Ea,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,ke(this,Cr,"f"));break;case"text":this._emit("textDone",i.text,ke(this,Cr,"f"));break}}ke(this,Cr,"f")&&this._emit("messageDone",e.data),Jn(this,Cr,void 0,"f")}},p1=function(e){const n=ke(this,hn,"m",m1).call(this,e);switch(Jn(this,Lu,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const s of r.step_details.tool_calls)s.index==ke(this,Ah,"f")?this._emit("toolCallDelta",s,n.step_details.tool_calls[s.index]):(ke(this,nr,"f")&&this._emit("toolCallDone",ke(this,nr,"f")),Jn(this,Ah,s.index,"f"),Jn(this,nr,n.step_details.tool_calls[s.index],"f"),ke(this,nr,"f")&&this._emit("toolCallCreated",ke(this,nr,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Jn(this,Lu,void 0,"f"),e.data.step_details.type=="tool_calls"&&ke(this,nr,"f")&&(this._emit("toolCallDone",ke(this,nr,"f")),Jn(this,nr,void 0,"f")),this._emit("runStepDone",e.data,n);break}},g1=function(e){ke(this,Hg,"f").push(e),this._emit("event",e)},m1=function(e){switch(e.event){case"thread.run.step.created":return ke(this,ni,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=ke(this,ni,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const i=Dr.accumulateDelta(n,r.delta);ke(this,ni,"f")[e.data.id]=i}return ke(this,ni,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":ke(this,ni,"f")[e.data.id]=e.data;break}if(ke(this,ni,"f")[e.data.id])return ke(this,ni,"f")[e.data.id];throw new Error("No snapshot available")},b1=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=e.data;if(i.delta.content)for(const s of i.delta.content)if(s.index in n.content){let a=n.content[s.index];n.content[s.index]=ke(this,hn,"m",y1).call(this,s,a)}else n.content[s.index]=s,r.push(s);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},y1=function(e,n){return Dr.accumulateDelta(n,e)},v1=function(e){switch(Jn(this,Hl,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Jn(this,ks,e.data,"f"),ke(this,nr,"f")&&(this._emit("toolCallDone",ke(this,nr,"f")),Jn(this,nr,void 0,"f"));break}};class Rm extends $e{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/assistants/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return At(e)?this.list({},e):this._client.getAPIList("/assistants",Om,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Om extends Wt{}Rm.AssistantsPage=Om;function _1(t){return typeof t.parse=="function"}const Na=t=>(t==null?void 0:t.role)==="assistant",Kw=t=>(t==null?void 0:t.role)==="function",Zw=t=>(t==null?void 0:t.role)==="tool";function Mm(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function pc(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function fM(t,e){return!e||!jw(e)?{...t,choices:t.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:Im(t,e)}function Im(t,e){const n=t.choices.map(r=>{var i;if(r.finish_reason==="length")throw new Mw;if(r.finish_reason==="content_filter")throw new Iw;return{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((i=r.message.tool_calls)==null?void 0:i.map(s=>pM(e,s)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?dM(e,r.message.content):null}}});return{...t,choices:n}}function dM(t,e){var n,r;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=t.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function pM(t,e){var r;const n=(r=t.tools)==null?void 0:r.find(i=>{var s;return((s=i.function)==null?void 0:s.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:pc(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function gM(t,e){var r;if(!t)return!1;const n=(r=t.tools)==null?void 0:r.find(i=>{var s;return((s=i.function)==null?void 0:s.name)===e.function.name});return pc(n)||(n==null?void 0:n.function.strict)||!1}function jw(t){var e;return Mm(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>pc(n)||n.type==="function"&&n.function.strict===!0))??!1}function mM(t){for(const e of t??[]){if(e.type!=="function")throw new Me(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new Me(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Yn=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},En,Wg,Th,Yg,qg,Xg,Qw,Vg;const E1=10;class Jw extends Cm{constructor(){super(...arguments),En.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(r=e.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(Kw(e)||Zw(e))&&e.content)this._emit("functionCallResult",e.content);else if(Na(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(Na(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Me("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Yn(this,En,"m",Wg).call(this)}async finalMessage(){return await this.done(),Yn(this,En,"m",Th).call(this)}async finalFunctionCall(){return await this.done(),Yn(this,En,"m",Yg).call(this)}async finalFunctionCallResult(){return await this.done(),Yn(this,En,"m",qg).call(this)}async totalUsage(){return await this.done(),Yn(this,En,"m",Xg).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=Yn(this,En,"m",Th).call(this);n&&this._emit("finalMessage",n);const r=Yn(this,En,"m",Wg).call(this);r&&this._emit("finalContent",r);const i=Yn(this,En,"m",Yg).call(this);i&&this._emit("finalFunctionCall",i);const s=Yn(this,En,"m",qg).call(this);s!=null&&this._emit("finalFunctionCallResult",s),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",Yn(this,En,"m",Xg).call(this))}async _createChatCompletion(e,n,r){const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),Yn(this,En,"m",Qw).call(this,n);const s=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Im(s,n))}async _runChatCompletion(e,n,r){for(const i of n.messages)this._addMessage(i,!1);return await this._createChatCompletion(e,n,r)}async _runFunctions(e,n,r){var d;const i="function",{function_call:s="auto",stream:a,...o}=n,u=typeof s!="string"&&(s==null?void 0:s.name),{maxChatCompletions:c=E1}=r||{},l={};for(const f of n.functions)l[f.name||f.function.name]=f;const h=n.functions.map(f=>({name:f.name||f.function.name,parameters:f.parameters,description:f.description}));for(const f of n.messages)this._addMessage(f,!1);for(let f=0;f<c;++f){const g=(d=(await this._createChatCompletion(e,{...o,function_call:s,functions:h,messages:[...this.messages]},r)).choices[0])==null?void 0:d.message;if(!g)throw new Me("missing message in ChatCompletion response");if(!g.function_call)return;const{name:m,arguments:b}=g.function_call,v=l[m];if(v){if(u&&u!==m){const k=`Invalid function_call: ${JSON.stringify(m)}. ${JSON.stringify(u)} requested. Please try again`;this._addMessage({role:i,name:m,content:k});continue}}else{const k=`Invalid function_call: ${JSON.stringify(m)}. Available options are: ${h.map(x=>JSON.stringify(x.name)).join(", ")}. Please try again`;this._addMessage({role:i,name:m,content:k});continue}let y;try{y=_1(v)?await v.parse(b):b}catch(k){this._addMessage({role:i,name:m,content:k instanceof Error?k.message:String(k)});continue}const _=await v.function(y,this),w=Yn(this,En,"m",Vg).call(this,_);if(this._addMessage({role:i,name:m,content:w}),u)return}}async _runTools(e,n,r){var f,p,g;const i="tool",{tool_choice:s="auto",stream:a,...o}=n,u=typeof s!="string"&&((f=s==null?void 0:s.function)==null?void 0:f.name),{maxChatCompletions:c=E1}=r||{},l=n.tools.map(m=>{if(pc(m)){if(!m.$callback)throw new Me("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:m.$callback,name:m.function.name,description:m.function.description||"",parameters:m.function.parameters,parse:m.$parseRaw,strict:!0}}}return m}),h={};for(const m of l)m.type==="function"&&(h[m.function.name||m.function.function.name]=m.function);const d="tools"in n?l.map(m=>m.type==="function"?{type:"function",function:{name:m.function.name||m.function.function.name,parameters:m.function.parameters,description:m.function.description,strict:m.function.strict}}:m):void 0;for(const m of n.messages)this._addMessage(m,!1);for(let m=0;m<c;++m){const v=(p=(await this._createChatCompletion(e,{...o,tool_choice:s,tools:d,messages:[...this.messages]},r)).choices[0])==null?void 0:p.message;if(!v)throw new Me("missing message in ChatCompletion response");if(!((g=v.tool_calls)!=null&&g.length))return;for(const y of v.tool_calls){if(y.type!=="function")continue;const _=y.id,{name:w,arguments:k}=y.function,x=h[w];if(x){if(u&&u!==w){const M=`Invalid tool_call: ${JSON.stringify(w)}. ${JSON.stringify(u)} requested. Please try again`;this._addMessage({role:i,tool_call_id:_,content:M});continue}}else{const M=`Invalid tool_call: ${JSON.stringify(w)}. Available options are: ${Object.keys(h).map(R=>JSON.stringify(R)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:_,content:M});continue}let T;try{T=_1(x)?await x.parse(k):k}catch(M){const R=M instanceof Error?M.message:String(M);this._addMessage({role:i,tool_call_id:_,content:R});continue}const O=await x.function(T,this),I=Yn(this,En,"m",Vg).call(this,O);if(this._addMessage({role:i,tool_call_id:_,content:I}),u)return}}}}En=new WeakSet,Wg=function(){return Yn(this,En,"m",Th).call(this).content??null},Th=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(Na(n)){const{function_call:r,...i}=n,s={...i,content:n.content??null,refusal:n.refusal??null};return r&&(s.function_call=r),s}}throw new Me("stream ended without producing a ChatCompletionMessage with role=assistant")},Yg=function(){var e,n;for(let r=this.messages.length-1;r>=0;r--){const i=this.messages[r];if(Na(i)&&(i!=null&&i.function_call))return i.function_call;if(Na(i)&&((e=i==null?void 0:i.tool_calls)!=null&&e.length))return(n=i.tool_calls.at(-1))==null?void 0:n.function}},qg=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(Kw(n)&&n.content!=null||Zw(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var i;return r.role==="assistant"&&((i=r.tool_calls)==null?void 0:i.some(s=>s.type==="function"&&s.id===n.tool_call_id))}))return n.content}},Xg=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},Qw=function(e){if(e.n!=null&&e.n>1)throw new Me("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Vg=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Yu extends Jw{static runFunctions(e,n,r){const i=new Yu,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(e,n,s)),i}static runTools(e,n,r){const i=new Yu,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}_addMessage(e,n=!0){super._addMessage(e,n),Na(e)&&e.content&&this._emit("content",e.content)}}const eA=1,tA=2,nA=4,rA=8,iA=16,sA=32,aA=64,oA=128,uA=256,cA=oA|uA,lA=iA|sA|cA|aA,hA=eA|tA|lA,fA=nA|rA,bM=hA|fA,Zt={STR:eA,NUM:tA,ARR:nA,OBJ:rA,NULL:iA,BOOL:sA,NAN:aA,INFINITY:oA,MINUS_INFINITY:uA,INF:cA,SPECIAL:lA,ATOM:hA,COLLECTION:fA,ALL:bM};class yM extends Error{}class vM extends Error{}function _M(t,e=Zt.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return EM(t.trim(),e)}const EM=(t,e)=>{const n=t.length;let r=0;const i=d=>{throw new yM(`${d} at position ${r}`)},s=d=>{throw new vM(`${d} at position ${r}`)},a=()=>(h(),r>=n&&i("Unexpected end of input"),t[r]==='"'?o():t[r]==="{"?u():t[r]==="["?c():t.substring(r,r+4)==="null"||Zt.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||Zt.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||Zt.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||Zt.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||Zt.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||Zt.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):l()),o=()=>{const d=r;let f=!1;for(r++;r<n&&(t[r]!=='"'||f&&t[r-1]==="\\");)f=t[r]==="\\"?!f:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(d,++r-Number(f)))}catch(p){s(String(p))}else if(Zt.STR&e)try{return JSON.parse(t.substring(d,r-Number(f))+'"')}catch{return JSON.parse(t.substring(d,t.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},u=()=>{r++,h();const d={};try{for(;t[r]!=="}";){if(h(),r>=n&&Zt.OBJ&e)return d;const f=o();h(),r++;try{const p=a();Object.defineProperty(d,f,{value:p,writable:!0,enumerable:!0,configurable:!0})}catch(p){if(Zt.OBJ&e)return d;throw p}h(),t[r]===","&&r++}}catch{if(Zt.OBJ&e)return d;i("Expected '}' at end of object")}return r++,d},c=()=>{r++;const d=[];try{for(;t[r]!=="]";)d.push(a()),h(),t[r]===","&&r++}catch{if(Zt.ARR&e)return d;i("Expected ']' at end of array")}return r++,d},l=()=>{if(r===0){t==="-"&&Zt.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t)}catch(f){if(Zt.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}s(String(f))}}const d=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(Zt.NUM&e)&&i("Unterminated number literal");try{return JSON.parse(t.substring(d,r))}catch{t.substring(d,r)==="-"&&Zt.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t.substring(d,t.lastIndexOf("e")))}catch(p){s(String(p))}}},h=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return a()},x1=t=>_M(t,Zt.ALL^Zt.NUM);var oa=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},ot=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Bt,_i,ua,zi,op,Xc,up,cp,lp,Vc,hp,w1;class qu extends Jw{constructor(e){super(),Bt.add(this),_i.set(this,void 0),ua.set(this,void 0),zi.set(this,void 0),oa(this,_i,e,"f"),oa(this,ua,[],"f")}get currentChatCompletionSnapshot(){return ot(this,zi,"f")}static fromReadableStream(e){const n=new qu(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const i=new qu(n);return i._run(()=>i._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(e,n,r){var a;super._createChatCompletion;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),ot(this,Bt,"m",op).call(this);const s=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const o of s)ot(this,Bt,"m",up).call(this,o);if((a=s.controller.signal)!=null&&a.aborted)throw new br;return this._addChatCompletion(ot(this,Bt,"m",Vc).call(this))}async _fromReadableStream(e,n){var a;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),ot(this,Bt,"m",op).call(this),this._connected();const i=ai.fromReadableStream(e,this.controller);let s;for await(const o of i)s&&s!==o.id&&this._addChatCompletion(ot(this,Bt,"m",Vc).call(this)),ot(this,Bt,"m",up).call(this,o),s=o.id;if((a=i.controller.signal)!=null&&a.aborted)throw new br;return this._addChatCompletion(ot(this,Bt,"m",Vc).call(this))}[(_i=new WeakMap,ua=new WeakMap,zi=new WeakMap,Bt=new WeakSet,op=function(){this.ended||oa(this,zi,void 0,"f")},Xc=function(n){let r=ot(this,ua,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},ot(this,ua,"f")[n.index]=r,r)},up=function(n){var i,s,a,o,u,c,l,h,d,f,p,g,m,b,v;if(this.ended)return;const r=ot(this,Bt,"m",w1).call(this,n);this._emit("chunk",n,r);for(const y of n.choices){const _=r.choices[y.index];y.delta.content!=null&&((i=_.message)==null?void 0:i.role)==="assistant"&&((s=_.message)!=null&&s.content)&&(this._emit("content",y.delta.content,_.message.content),this._emit("content.delta",{delta:y.delta.content,snapshot:_.message.content,parsed:_.message.parsed})),y.delta.refusal!=null&&((a=_.message)==null?void 0:a.role)==="assistant"&&((o=_.message)!=null&&o.refusal)&&this._emit("refusal.delta",{delta:y.delta.refusal,snapshot:_.message.refusal}),((u=y.logprobs)==null?void 0:u.content)!=null&&((c=_.message)==null?void 0:c.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(l=y.logprobs)==null?void 0:l.content,snapshot:((h=_.logprobs)==null?void 0:h.content)??[]}),((d=y.logprobs)==null?void 0:d.refusal)!=null&&((f=_.message)==null?void 0:f.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(p=y.logprobs)==null?void 0:p.refusal,snapshot:((g=_.logprobs)==null?void 0:g.refusal)??[]});const w=ot(this,Bt,"m",Xc).call(this,_);_.finish_reason&&(ot(this,Bt,"m",lp).call(this,_),w.current_tool_call_index!=null&&ot(this,Bt,"m",cp).call(this,_,w.current_tool_call_index));for(const k of y.delta.tool_calls??[])w.current_tool_call_index!==k.index&&(ot(this,Bt,"m",lp).call(this,_),w.current_tool_call_index!=null&&ot(this,Bt,"m",cp).call(this,_,w.current_tool_call_index)),w.current_tool_call_index=k.index;for(const k of y.delta.tool_calls??[]){const x=(m=_.message.tool_calls)==null?void 0:m[k.index];x!=null&&x.type&&((x==null?void 0:x.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(b=x.function)==null?void 0:b.name,index:k.index,arguments:x.function.arguments,parsed_arguments:x.function.parsed_arguments,arguments_delta:((v=k.function)==null?void 0:v.arguments)??""}):(x==null||x.type,void 0))}}},cp=function(n,r){var a,o,u;if(ot(this,Bt,"m",Xc).call(this,n).done_tool_calls.has(r))return;const s=(a=n.message.tool_calls)==null?void 0:a[r];if(!s)throw new Error("no tool call snapshot");if(!s.type)throw new Error("tool call snapshot missing `type`");if(s.type==="function"){const c=(u=(o=ot(this,_i,"f"))==null?void 0:o.tools)==null?void 0:u.find(l=>l.type==="function"&&l.function.name===s.function.name);this._emit("tool_calls.function.arguments.done",{name:s.function.name,index:r,arguments:s.function.arguments,parsed_arguments:pc(c)?c.$parseRaw(s.function.arguments):c!=null&&c.function.strict?JSON.parse(s.function.arguments):null})}else s.type},lp=function(n){var i,s;const r=ot(this,Bt,"m",Xc).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const a=ot(this,Bt,"m",hp).call(this);this._emit("content.done",{content:n.message.content,parsed:a?a.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(i=n.logprobs)!=null&&i.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(s=n.logprobs)!=null&&s.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Vc=function(){if(this.ended)throw new Me("stream has ended, this shouldn't happen");const n=ot(this,zi,"f");if(!n)throw new Me("request ended without sending any chunks");return oa(this,zi,void 0,"f"),oa(this,ua,[],"f"),xM(n,ot(this,_i,"f"))},hp=function(){var r;const n=(r=ot(this,_i,"f"))==null?void 0:r.response_format;return Mm(n)?n:null},w1=function(n){var r,i,s,a;let o=ot(this,zi,"f");const{choices:u,...c}=n;o?Object.assign(o,c):o=oa(this,zi,{...c,choices:[]},"f");for(const{delta:l,finish_reason:h,index:d,logprobs:f=null,...p}of n.choices){let g=o.choices[d];if(g||(g=o.choices[d]={finish_reason:h,index:d,message:{},logprobs:f,...p}),f)if(!g.logprobs)g.logprobs=Object.assign({},f);else{const{content:k,refusal:x,...T}=f;Object.assign(g.logprobs,T),k&&((r=g.logprobs).content??(r.content=[]),g.logprobs.content.push(...k)),x&&((i=g.logprobs).refusal??(i.refusal=[]),g.logprobs.refusal.push(...x))}if(h&&(g.finish_reason=h,ot(this,_i,"f")&&jw(ot(this,_i,"f")))){if(h==="length")throw new Mw;if(h==="content_filter")throw new Iw}if(Object.assign(g,p),!l)continue;const{content:m,refusal:b,function_call:v,role:y,tool_calls:_,...w}=l;if(Object.assign(g.message,w),b&&(g.message.refusal=(g.message.refusal||"")+b),y&&(g.message.role=y),v&&(g.message.function_call?(v.name&&(g.message.function_call.name=v.name),v.arguments&&((s=g.message.function_call).arguments??(s.arguments=""),g.message.function_call.arguments+=v.arguments)):g.message.function_call=v),m&&(g.message.content=(g.message.content||"")+m,!g.message.refusal&&ot(this,Bt,"m",hp).call(this)&&(g.message.parsed=x1(g.message.content))),_){g.message.tool_calls||(g.message.tool_calls=[]);for(const{index:k,id:x,type:T,function:O,...I}of _){const M=(a=g.message.tool_calls)[k]??(a[k]={});Object.assign(M,I),x&&(M.id=x),T&&(M.type=T),O&&(M.function??(M.function={name:O.name??"",arguments:""})),O!=null&&O.name&&(M.function.name=O.name),O!=null&&O.arguments&&(M.function.arguments+=O.arguments,gM(ot(this,_i,"f"),M)&&(M.function.parsed_arguments=x1(M.function.arguments)))}}}return o},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,a)=>n.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new ai(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function xM(t,e){const{id:n,choices:r,created:i,model:s,system_fingerprint:a,...o}=t,u={...o,id:n,choices:r.map(({message:c,finish_reason:l,index:h,logprobs:d,...f})=>{if(!l)throw new Me(`missing finish_reason for choice ${h}`);const{content:p=null,function_call:g,tool_calls:m,...b}=c,v=c.role;if(!v)throw new Me(`missing role for choice ${h}`);if(g){const{arguments:y,name:_}=g;if(y==null)throw new Me(`missing function_call.arguments for choice ${h}`);if(!_)throw new Me(`missing function_call.name for choice ${h}`);return{...f,message:{content:p,function_call:{arguments:y,name:_},role:v,refusal:c.refusal??null},finish_reason:l,index:h,logprobs:d}}return m?{...f,index:h,finish_reason:l,logprobs:d,message:{...b,role:v,content:p,refusal:c.refusal??null,tool_calls:m.map((y,_)=>{const{function:w,type:k,id:x,...T}=y,{arguments:O,name:I,...M}=w||{};if(x==null)throw new Me(`missing choices[${h}].tool_calls[${_}].id
${Kc(t)}`);if(k==null)throw new Me(`missing choices[${h}].tool_calls[${_}].type
${Kc(t)}`);if(I==null)throw new Me(`missing choices[${h}].tool_calls[${_}].function.name
${Kc(t)}`);if(O==null)throw new Me(`missing choices[${h}].tool_calls[${_}].function.arguments
${Kc(t)}`);return{...T,id:x,type:k,function:{...M,name:I,arguments:O}}})}}:{...f,message:{...b,content:p,role:v,refusal:c.refusal??null},finish_reason:l,index:h,logprobs:d}}),created:i,model:s,object:"chat.completion",...a?{system_fingerprint:a}:{}};return fM(u,e)}function Kc(t){return JSON.stringify(t)}class Sa extends qu{static fromReadableStream(e){const n=new Sa(null);return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,r){const i=new Sa(null),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(e,n,s)),i}static runTools(e,n,r){const i=new Sa(n),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}}let dA=class extends $e{parse(e,n){return mM(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>Im(r,e))}runFunctions(e,n){return e.stream?Sa.runFunctions(this._client,e,n):Yu.runFunctions(this._client,e,n)}runTools(e,n){return e.stream?Sa.runTools(this._client,e,n):Yu.runTools(this._client,e,n)}stream(e,n){return qu.createChatCompletion(this._client,e,n)}};class Kg extends $e{constructor(){super(...arguments),this.completions=new dA(this._client)}}(function(t){t.Completions=dA})(Kg||(Kg={}));class pA extends $e{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class gA extends $e{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class ed extends $e{constructor(){super(...arguments),this.sessions=new pA(this._client),this.transcriptionSessions=new gA(this._client)}}ed.Sessions=pA;ed.TranscriptionSessions=gA;class Lm extends $e{create(e,n,r){return this._client.post(`/threads/${e}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,i){return this._client.post(`/threads/${e}/messages/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n={},r){return At(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,Dm,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Dm extends Wt{}Lm.MessagesPage=Dm;class Pm extends $e{retrieve(e,n,r,i={},s){return At(i)?this.retrieve(e,n,r,{},i):this._client.get(`/threads/${e}/runs/${n}/steps/${r}`,{query:i,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n,r={},i){return At(r)?this.list(e,n,{},r):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,Fm,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}}class Fm extends Wt{}Pm.RunStepsPage=Fm;let gc=class extends $e{constructor(){super(...arguments),this.steps=new Pm(this._client)}create(e,n,r){const{include:i,...s}=n;return this._client.post(`/threads/${e}/runs`,{query:{include:i},body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(e,n,r){return this._client.get(`/threads/${e}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,i){return this._client.post(`/threads/${e}/runs/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n={},r){return At(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,$m,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(e,i.id,r)}createAndStream(e,n,r){return Dr.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:a}=await this.retrieve(e,n,{...r,headers:{...r==null?void 0:r.headers,...i}}).withResponse();switch(s.status){case"queued":case"in_progress":case"cancelling":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const u=a.headers.get("openai-poll-after-ms");if(u){const c=parseInt(u);isNaN(c)||(o=c)}}await fc(o);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return s}}}stream(e,n,r){return Dr.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r,i){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(e,n,r,i){const s=await this.submitToolOutputs(e,n,r,i);return await this.poll(e,s.id,i)}submitToolOutputsStream(e,n,r,i){return Dr.createToolAssistantStream(e,n,this._client.beta.threads.runs,r,i)}};class $m extends Wt{}gc.RunsPage=$m;gc.Steps=Pm;gc.RunStepsPage=Fm;class ro extends $e{constructor(){super(...arguments),this.runs=new gc(this._client),this.messages=new Lm(this._client)}create(e={},n){return At(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/threads/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(e,n){return Dr.createThreadAssistantStream(e,this._client.beta.threads,n)}}ro.Runs=gc;ro.RunsPage=$m;ro.Messages=Lm;ro.MessagesPage=Dm;class io extends $e{constructor(){super(...arguments),this.realtime=new ed(this._client),this.chat=new Kg(this._client),this.assistants=new Rm(this._client),this.threads=new ro(this._client)}}io.Realtime=ed;io.Assistants=Rm;io.AssistantsPage=Om;io.Threads=ro;class mA extends $e{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class bA extends $e{retrieve(e,n,r){return this._client.get(`/containers/${e}/files/${n}/content`,{...r,headers:{Accept:"application/binary",...r==null?void 0:r.headers},__binaryResponse:!0})}}let td=class extends $e{constructor(){super(...arguments),this.content=new bA(this._client)}create(e,n,r){return this._client.post(`/containers/${e}/files`,Ds({body:n,...r}))}retrieve(e,n,r){return this._client.get(`/containers/${e}/files/${n}`,r)}list(e,n={},r){return At(n)?this.list(e,{},n):this._client.getAPIList(`/containers/${e}/files`,Um,{query:n,...r})}del(e,n,r){return this._client.delete(`/containers/${e}/files/${n}`,{...r,headers:{Accept:"*/*",...r==null?void 0:r.headers}})}};class Um extends Wt{}td.FileListResponsesPage=Um;td.Content=bA;class mc extends $e{constructor(){super(...arguments),this.files=new td(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get(`/containers/${e}`,n)}list(e={},n){return At(e)?this.list({},e):this._client.getAPIList("/containers",Bm,{query:e,...n})}del(e,n){return this._client.delete(`/containers/${e}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}}class Bm extends Wt{}mc.ContainerListResponsesPage=Bm;mc.Files=td;mc.FileListResponsesPage=Um;class yA extends $e{create(e,n){const r=!!e.encoding_format;let i=r?e.encoding_format:"base64";r&&ji("Request","User defined encoding_format:",e.encoding_format);const s=this._client.post("/embeddings",{body:{...e,encoding_format:i},...n});return r?s:(ji("response","Decoding base64 embeddings to float32 array"),s._thenUnwrap(a=>(a&&a.data&&a.data.forEach(o=>{const u=o.embedding;o.embedding=lM(u)}),a)))}}class Gm extends $e{retrieve(e,n,r,i){return this._client.get(`/evals/${e}/runs/${n}/output_items/${r}`,i)}list(e,n,r={},i){return At(r)?this.list(e,n,{},r):this._client.getAPIList(`/evals/${e}/runs/${n}/output_items`,zm,{query:r,...i})}}class zm extends Wt{}Gm.OutputItemListResponsesPage=zm;class bc extends $e{constructor(){super(...arguments),this.outputItems=new Gm(this._client)}create(e,n,r){return this._client.post(`/evals/${e}/runs`,{body:n,...r})}retrieve(e,n,r){return this._client.get(`/evals/${e}/runs/${n}`,r)}list(e,n={},r){return At(n)?this.list(e,{},n):this._client.getAPIList(`/evals/${e}/runs`,Hm,{query:n,...r})}del(e,n,r){return this._client.delete(`/evals/${e}/runs/${n}`,r)}cancel(e,n,r){return this._client.post(`/evals/${e}/runs/${n}`,r)}}class Hm extends Wt{}bc.RunListResponsesPage=Hm;bc.OutputItems=Gm;bc.OutputItemListResponsesPage=zm;class yc extends $e{constructor(){super(...arguments),this.runs=new bc(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(`/evals/${e}`,n)}update(e,n,r){return this._client.post(`/evals/${e}`,{body:n,...r})}list(e={},n){return At(e)?this.list({},e):this._client.getAPIList("/evals",Wm,{query:e,...n})}del(e,n){return this._client.delete(`/evals/${e}`,n)}}class Wm extends Wt{}yc.EvalListResponsesPage=Wm;yc.Runs=bc;yc.RunListResponsesPage=Hm;let Ym=class extends $e{create(e,n){return this._client.post("/files",Ds({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return At(e)?this.list({},e):this._client.getAPIList("/files",qm,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,n)}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=1800*1e3}={}){const i=new Set(["processed","error","deleted"]),s=Date.now();let a=await this.retrieve(e);for(;!a.status||!i.has(a.status);)if(await fc(n),a=await this.retrieve(e),Date.now()-s>r)throw new km({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return a}};class qm extends Wt{}Ym.FileObjectsPage=qm;class vA extends $e{}let _A=class extends $e{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class Xm extends $e{constructor(){super(...arguments),this.graders=new _A(this._client)}}Xm.Graders=_A;class Vm extends $e{create(e,n,r){return this._client.getAPIList(`/fine_tuning/checkpoints/${e}/permissions`,Km,{body:n,method:"post",...r})}retrieve(e,n={},r){return At(n)?this.retrieve(e,{},n):this._client.get(`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...r})}del(e,n,r){return this._client.delete(`/fine_tuning/checkpoints/${e}/permissions/${n}`,r)}}class Km extends Zf{}Vm.PermissionCreateResponsesPage=Km;let nd=class extends $e{constructor(){super(...arguments),this.permissions=new Vm(this._client)}};nd.Permissions=Vm;nd.PermissionCreateResponsesPage=Km;class Zm extends $e{list(e,n={},r){return At(n)?this.list(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,jm,{query:n,...r})}}class jm extends Wt{}Zm.FineTuningJobCheckpointsPage=jm;class so extends $e{constructor(){super(...arguments),this.checkpoints=new Zm(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return At(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",Qm,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return At(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,Jm,{query:n,...r})}pause(e,n){return this._client.post(`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(`/fine_tuning/jobs/${e}/resume`,n)}}class Qm extends Wt{}class Jm extends Wt{}so.FineTuningJobsPage=Qm;so.FineTuningJobEventsPage=Jm;so.Checkpoints=Zm;so.FineTuningJobCheckpointsPage=jm;class cs extends $e{constructor(){super(...arguments),this.methods=new vA(this._client),this.jobs=new so(this._client),this.checkpoints=new nd(this._client),this.alpha=new Xm(this._client)}}cs.Methods=vA;cs.Jobs=so;cs.FineTuningJobsPage=Qm;cs.FineTuningJobEventsPage=Jm;cs.Checkpoints=nd;cs.Alpha=Xm;class EA extends $e{}class eb extends $e{constructor(){super(...arguments),this.graderModels=new EA(this._client)}}eb.GraderModels=EA;class xA extends $e{createVariation(e,n){return this._client.post("/images/variations",Ds({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",Ds({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}class tb extends $e{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",nb,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}}class nb extends Zf{}tb.ModelsPage=nb;class wA extends $e{create(e,n){return this._client.post("/moderations",{body:e,...n})}}function wM(t,e){return!e||!TM(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:AA(t,e)}function AA(t,e){const n=t.output.map(i=>{if(i.type==="function_call")return{...i,parsed_arguments:SM(e,i)};if(i.type==="message"){const s=i.content.map(a=>a.type==="output_text"?{...a,parsed:AM(e,a.text)}:a);return{...i,content:s}}return i}),r=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||TA(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const i of r.output)if(i.type==="message"){for(const s of i.content)if(s.type==="output_text"&&s.parsed!==null)return s.parsed}return null}}),r}function AM(t,e){var n,r,i,s;return((r=(n=t.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((i=t.text)==null?void 0:i.format)?((s=t.text)==null?void 0:s.format).$parseRaw(e):JSON.parse(e)}function TM(t){var e;return!!Mm((e=t.text)==null?void 0:e.format)}function kM(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function NM(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function SM(t,e){const n=NM(t.tools??[],e.name);return{...e,...e,parsed_arguments:kM(n)?n.$parseRaw(e.arguments):n!=null&&n.strict?JSON.parse(e.arguments):null}}function TA(t){const e=[];for(const n of t.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&e.push(r.text);t.output_text=e.join("")}class kA extends $e{list(e,n={},r){return At(n)?this.list(e,{},n):this._client.getAPIList(`/responses/${e}/input_items`,RM,{query:n,...r})}}var ca=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Hi=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},la,Zc,Wi,jc,A1,T1,k1,N1;class rb extends Cm{constructor(e){super(),la.add(this),Zc.set(this,void 0),Wi.set(this,void 0),jc.set(this,void 0),ca(this,Zc,e,"f")}static createResponse(e,n,r){const i=new rb(n);return i._run(()=>i._createOrRetrieveResponse(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createOrRetrieveResponse(e,n,r){var o;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),Hi(this,la,"m",A1).call(this);let s,a=null;"response_id"in n?(s=await e.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),a=n.starting_after??null):s=await e.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const u of s)Hi(this,la,"m",T1).call(this,u,a);if((o=s.controller.signal)!=null&&o.aborted)throw new br;return Hi(this,la,"m",k1).call(this)}[(Zc=new WeakMap,Wi=new WeakMap,jc=new WeakMap,la=new WeakSet,A1=function(){this.ended||ca(this,Wi,void 0,"f")},T1=function(n,r){if(this.ended)return;const i=(a,o)=>{(r==null||o.sequence_number>r)&&this._emit(a,o)},s=Hi(this,la,"m",N1).call(this,n);switch(i("event",n),n.type){case"response.output_text.delta":{const a=s.output[n.output_index];if(!a)throw new Me(`missing output at index ${n.output_index}`);if(a.type==="message"){const o=a.content[n.content_index];if(!o)throw new Me(`missing content at index ${n.content_index}`);if(o.type!=="output_text")throw new Me(`expected content to be 'output_text', got ${o.type}`);i("response.output_text.delta",{...n,snapshot:o.text})}break}case"response.function_call_arguments.delta":{const a=s.output[n.output_index];if(!a)throw new Me(`missing output at index ${n.output_index}`);a.type==="function_call"&&i("response.function_call_arguments.delta",{...n,snapshot:a.arguments});break}default:i(n.type,n);break}},k1=function(){if(this.ended)throw new Me("stream has ended, this shouldn't happen");const n=Hi(this,Wi,"f");if(!n)throw new Me("request ended without sending any events");ca(this,Wi,void 0,"f");const r=CM(n,Hi(this,Zc,"f"));return ca(this,jc,r,"f"),r},N1=function(n){let r=Hi(this,Wi,"f");if(!r){if(n.type!=="response.created")throw new Me(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=ca(this,Wi,n.response,"f"),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const i=r.output[n.output_index];if(!i)throw new Me(`missing output at index ${n.output_index}`);i.type==="message"&&i.content.push(n.part);break}case"response.output_text.delta":{const i=r.output[n.output_index];if(!i)throw new Me(`missing output at index ${n.output_index}`);if(i.type==="message"){const s=i.content[n.content_index];if(!s)throw new Me(`missing content at index ${n.content_index}`);if(s.type!=="output_text")throw new Me(`expected content to be 'output_text', got ${s.type}`);s.text+=n.delta}break}case"response.function_call_arguments.delta":{const i=r.output[n.output_index];if(!i)throw new Me(`missing output at index ${n.output_index}`);i.type==="function_call"&&(i.arguments+=n.delta);break}case"response.completed":{ca(this,Wi,n.response,"f");break}}return r},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,a)=>n.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=Hi(this,jc,"f");if(!e)throw new Me("stream ended without producing a ChatCompletion");return e}}function CM(t,e){return wM(t,e)}class ib extends $e{constructor(){super(...arguments),this.inputItems=new kA(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&TA(r),r))}retrieve(e,n={},r){return this._client.get(`/responses/${e}`,{query:n,...r,stream:(n==null?void 0:n.stream)??!1})}del(e,n){return this._client.delete(`/responses/${e}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(r=>AA(r,e))}stream(e,n){return rb.createResponse(this._client,e,n)}cancel(e,n){return this._client.post(`/responses/${e}/cancel`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}}class RM extends Wt{}ib.InputItems=kA;class NA extends $e{create(e,n,r){return this._client.post(`/uploads/${e}/parts`,Ds({body:n,...r}))}}class sb extends $e{constructor(){super(...arguments),this.parts=new NA(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post(`/uploads/${e}/complete`,{body:n,...r})}}sb.Parts=NA;const OM=async t=>{const e=await Promise.allSettled(t),n=e.filter(i=>i.status==="rejected");if(n.length){for(const i of n)console.error(i.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const i of e)i.status==="fulfilled"&&r.push(i.value);return r};class rd extends $e{create(e,n,r){return this._client.post(`/vector_stores/${e}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,i){return this._client.post(`/vector_stores/${e}/files/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n={},r){return At(n)?this.list(e,{},n):this._client.getAPIList(`/vector_stores/${e}/files`,id,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(e,i.id,r)}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const s=await this.retrieve(e,n,{...r,headers:i}).withResponse(),a=s.data;switch(a.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const u=s.response.headers.get("openai-poll-after-ms");if(u){const c=parseInt(u);isNaN(c)||(o=c)}}await fc(o);break;case"failed":case"completed":return a}}}async upload(e,n,r){const i=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:i.id},r)}async uploadAndPoll(e,n,r){const i=await this.upload(e,n,r);return await this.poll(e,i.id,r)}content(e,n,r){return this._client.getAPIList(`/vector_stores/${e}/files/${n}/content`,ab,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class id extends Wt{}class ab extends Zf{}rd.VectorStoreFilesPage=id;rd.FileContentResponsesPage=ab;class SA extends $e{create(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n);return await this.poll(e,i.id,r)}listFiles(e,n,r={},i){return At(r)?this.listFiles(e,n,{},r):this._client.getAPIList(`/vector_stores/${e}/file_batches/${n}/files`,id,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:a}=await this.retrieve(e,n,{...r,headers:i}).withResponse();switch(s.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const u=a.headers.get("openai-poll-after-ms");if(u){const c=parseInt(u);isNaN(c)||(o=c)}}await fc(o);break;case"failed":case"cancelled":case"completed":return s}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},i){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const s=(i==null?void 0:i.maxConcurrency)??5,a=Math.min(s,n.length),o=this._client,u=n.values(),c=[...r];async function l(d){for(let f of d){const p=await o.files.create({file:f,purpose:"assistants"},i);c.push(p.id)}}const h=Array(a).fill(u).map(l);return await OM(h),await this.createAndPoll(e,{file_ids:c})}}class ls extends $e{constructor(){super(...arguments),this.files=new rd(this._client),this.fileBatches=new SA(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/vector_stores/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return At(e)?this.list({},e):this._client.getAPIList("/vector_stores",ob,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}search(e,n,r){return this._client.getAPIList(`/vector_stores/${e}/search`,ub,{body:n,method:"post",...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class ob extends Wt{}class ub extends Zf{}ls.VectorStoresPage=ob;ls.VectorStoreSearchResponsesPage=ub;ls.Files=rd;ls.VectorStoreFilesPage=id;ls.FileContentResponsesPage=ab;ls.FileBatches=SA;var CA;class ze extends QO{constructor({baseURL:e=Yc("OPENAI_BASE_URL"),apiKey:n=Yc("OPENAI_API_KEY"),organization:r=Yc("OPENAI_ORG_ID")??null,project:i=Yc("OPENAI_PROJECT_ID")??null,...s}={}){if(n===void 0)throw new Me("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const a={apiKey:n,organization:r,project:i,...s,baseURL:e||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&uM())throw new Me(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:a.baseURL,timeout:a.timeout??6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new mA(this),this.chat=new Jf(this),this.embeddings=new yA(this),this.files=new Ym(this),this.images=new xA(this),this.audio=new dc(this),this.moderations=new wA(this),this.models=new tb(this),this.fineTuning=new cs(this),this.graders=new eb(this),this.vectorStores=new ls(this),this.beta=new io(this),this.batches=new Nm(this),this.uploads=new sb(this),this.responses=new ib(this),this.evals=new yc(this),this.containers=new mc(this),this._options=a,this.apiKey=n,this.organization=r,this.project=i}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return LO(e,{arrayFormat:"brackets"})}}CA=ze;ze.OpenAI=CA;ze.DEFAULT_TIMEOUT=6e5;ze.OpenAIError=Me;ze.APIError=bn;ze.APIConnectionError=qf;ze.APIConnectionTimeoutError=km;ze.APIUserAbortError=br;ze.NotFoundError=Nw;ze.ConflictError=Sw;ze.RateLimitError=Rw;ze.BadRequestError=Aw;ze.AuthenticationError=Tw;ze.InternalServerError=Ow;ze.PermissionDeniedError=kw;ze.UnprocessableEntityError=Cw;ze.toFile=Fw;ze.fileFromPath=Ew;ze.Completions=mA;ze.Chat=Jf;ze.ChatCompletionsPage=Qf;ze.Embeddings=yA;ze.Files=Ym;ze.FileObjectsPage=qm;ze.Images=xA;ze.Audio=dc;ze.Moderations=wA;ze.Models=tb;ze.ModelsPage=nb;ze.FineTuning=cs;ze.Graders=eb;ze.VectorStores=ls;ze.VectorStoresPage=ob;ze.VectorStoreSearchResponsesPage=ub;ze.Beta=io;ze.Batches=Nm;ze.BatchesPage=Sm;ze.Uploads=sb;ze.Responses=ib;ze.Evals=yc;ze.EvalListResponsesPage=Wm;ze.Containers=mc;ze.ContainerListResponsesPage=Bm;const S1={};function MM(t){let e=S1[t];if(e)return e;e=S1[t]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);e.push(r)}for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2)}return e}function Ga(t,e){typeof e!="string"&&(e=Ga.defaultChars);const n=MM(e);return t.replace(/(%[a-f0-9]{2})+/gi,function(r){let i="";for(let s=0,a=r.length;s<a;s+=3){const o=parseInt(r.slice(s+1,s+3),16);if(o<128){i+=n[o];continue}if((o&224)===192&&s+3<a){const u=parseInt(r.slice(s+4,s+6),16);if((u&192)===128){const c=o<<6&1984|u&63;c<128?i+="":i+=String.fromCharCode(c),s+=3;continue}}if((o&240)===224&&s+6<a){const u=parseInt(r.slice(s+4,s+6),16),c=parseInt(r.slice(s+7,s+9),16);if((u&192)===128&&(c&192)===128){const l=o<<12&61440|u<<6&4032|c&63;l<2048||l>=55296&&l<=57343?i+="":i+=String.fromCharCode(l),s+=6;continue}}if((o&248)===240&&s+9<a){const u=parseInt(r.slice(s+4,s+6),16),c=parseInt(r.slice(s+7,s+9),16),l=parseInt(r.slice(s+10,s+12),16);if((u&192)===128&&(c&192)===128&&(l&192)===128){let h=o<<18&1835008|u<<12&258048|c<<6&4032|l&63;h<65536||h>1114111?i+="":(h-=65536,i+=String.fromCharCode(55296+(h>>10),56320+(h&1023))),s+=9;continue}}i+=""}return i})}Ga.defaultChars=";/?:@&=+$,#";Ga.componentChars="";const C1={};function IM(t){let e=C1[t];if(e)return e;e=C1[t]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);/^[0-9a-z]$/i.test(r)?e.push(r):e.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<t.length;n++)e[t.charCodeAt(n)]=t[n];return e}function vc(t,e,n){typeof e!="string"&&(n=e,e=vc.defaultChars),typeof n>"u"&&(n=!0);const r=IM(e);let i="";for(let s=0,a=t.length;s<a;s++){const o=t.charCodeAt(s);if(n&&o===37&&s+2<a&&/^[0-9a-f]{2}$/i.test(t.slice(s+1,s+3))){i+=t.slice(s,s+3),s+=2;continue}if(o<128){i+=r[o];continue}if(o>=55296&&o<=57343){if(o>=55296&&o<=56319&&s+1<a){const u=t.charCodeAt(s+1);if(u>=56320&&u<=57343){i+=encodeURIComponent(t[s]+t[s+1]),s++;continue}}i+="%EF%BF%BD";continue}i+=encodeURIComponent(t[s])}return i}vc.defaultChars=";/?:@&=+$,-_.!~*'()#";vc.componentChars="-_.!~*'()";function cb(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function kh(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const LM=/^([a-z0-9.+-]+:)/i,DM=/:[0-9]*$/,PM=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,FM=["<",">",'"',"`"," ","\r",`
`,"	"],$M=["{","}","|","\\","^","`"].concat(FM),UM=["'"].concat($M),R1=["%","/","?",";","#"].concat(UM),O1=["/","?","#"],BM=255,M1=/^[+a-z0-9A-Z_-]{0,63}$/,GM=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,I1={javascript:!0,"javascript:":!0},L1={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function lb(t,e){if(t&&t instanceof kh)return t;const n=new kh;return n.parse(t,e),n}kh.prototype.parse=function(t,e){let n,r,i,s=t;if(s=s.trim(),!e&&t.split("#").length===1){const c=PM.exec(s);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}let a=LM.exec(s);if(a&&(a=a[0],n=a.toLowerCase(),this.protocol=a,s=s.substr(a.length)),(e||a||s.match(/^\/\/[^@\/]+@[^@\/]+/))&&(i=s.substr(0,2)==="//",i&&!(a&&I1[a])&&(s=s.substr(2),this.slashes=!0)),!I1[a]&&(i||a&&!L1[a])){let c=-1;for(let p=0;p<O1.length;p++)r=s.indexOf(O1[p]),r!==-1&&(c===-1||r<c)&&(c=r);let l,h;c===-1?h=s.lastIndexOf("@"):h=s.lastIndexOf("@",c),h!==-1&&(l=s.slice(0,h),s=s.slice(h+1),this.auth=l),c=-1;for(let p=0;p<R1.length;p++)r=s.indexOf(R1[p]),r!==-1&&(c===-1||r<c)&&(c=r);c===-1&&(c=s.length),s[c-1]===":"&&c--;const d=s.slice(0,c);s=s.slice(c),this.parseHost(d),this.hostname=this.hostname||"";const f=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!f){const p=this.hostname.split(/\./);for(let g=0,m=p.length;g<m;g++){const b=p[g];if(b&&!b.match(M1)){let v="";for(let y=0,_=b.length;y<_;y++)b.charCodeAt(y)>127?v+="x":v+=b[y];if(!v.match(M1)){const y=p.slice(0,g),_=p.slice(g+1),w=b.match(GM);w&&(y.push(w[1]),_.unshift(w[2])),_.length&&(s=_.join(".")+s),this.hostname=y.join(".");break}}}}this.hostname.length>BM&&(this.hostname=""),f&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const o=s.indexOf("#");o!==-1&&(this.hash=s.substr(o),s=s.slice(0,o));const u=s.indexOf("?");return u!==-1&&(this.search=s.substr(u),s=s.slice(0,u)),s&&(this.pathname=s),L1[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};kh.prototype.parseHost=function(t){let e=DM.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const zM=Object.freeze(Object.defineProperty({__proto__:null,decode:Ga,encode:vc,format:cb,parse:lb},Symbol.toStringTag,{value:"Module"})),RA=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,OA=/[\0-\x1F\x7F-\x9F]/,HM=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,hb=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,MA=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,IA=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,WM=Object.freeze(Object.defineProperty({__proto__:null,Any:RA,Cc:OA,Cf:HM,P:hb,S:MA,Z:IA},Symbol.toStringTag,{value:"Module"})),YM=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),qM=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(t=>t.charCodeAt(0)));var fp;const XM=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),VM=(fp=String.fromCodePoint)!==null&&fp!==void 0?fp:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function KM(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=XM.get(t))!==null&&e!==void 0?e:t}var Jt;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(Jt||(Jt={}));const ZM=32;var Ki;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(Ki||(Ki={}));function Zg(t){return t>=Jt.ZERO&&t<=Jt.NINE}function jM(t){return t>=Jt.UPPER_A&&t<=Jt.UPPER_F||t>=Jt.LOWER_A&&t<=Jt.LOWER_F}function QM(t){return t>=Jt.UPPER_A&&t<=Jt.UPPER_Z||t>=Jt.LOWER_A&&t<=Jt.LOWER_Z||Zg(t)}function JM(t){return t===Jt.EQUALS||QM(t)}var Vt;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(Vt||(Vt={}));var Xi;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Xi||(Xi={}));class eI{constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=Vt.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Xi.Strict}startEntity(e){this.decodeMode=e,this.state=Vt.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case Vt.EntityStart:return e.charCodeAt(n)===Jt.NUM?(this.state=Vt.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=Vt.NamedEntity,this.stateNamedEntity(e,n));case Vt.NumericStart:return this.stateNumericStart(e,n);case Vt.NumericDecimal:return this.stateNumericDecimal(e,n);case Vt.NumericHex:return this.stateNumericHex(e,n);case Vt.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|ZM)===Jt.LOWER_X?(this.state=Vt.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=Vt.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(e.substr(n,s),i),this.consumed+=s}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(Zg(i)||jM(i))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(Zg(i))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Jt.SEMI)this.consumed+=1;else if(this.decodeMode===Xi.Strict)return 0;return this.emitCodePoint(KM(this.result),this.consumed),this.errors&&(e!==Jt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&Ki.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const a=e.charCodeAt(n);if(this.treeIndex=tI(r,i,this.treeIndex+Math.max(1,s),a),this.treeIndex<0)return this.result===0||this.decodeMode===Xi.Attribute&&(s===0||JM(a))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&Ki.VALUE_LENGTH)>>14,s!==0){if(a===Jt.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Xi.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,i=(r[n]&Ki.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[e]&~Ki.VALUE_LENGTH:i[e+1],r),n===3&&this.emitCodePoint(i[e+2],r),r}end(){var e;switch(this.state){case Vt.NamedEntity:return this.result!==0&&(this.decodeMode!==Xi.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Vt.NumericDecimal:return this.emitNumericEntity(0,2);case Vt.NumericHex:return this.emitNumericEntity(0,3);case Vt.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Vt.EntityStart:return 0}}}function LA(t){let e="";const n=new eI(t,r=>e+=VM(r));return function(i,s){let a=0,o=0;for(;(o=i.indexOf("&",o))>=0;){e+=i.slice(a,o),n.startEntity(s);const c=n.write(i,o+1);if(c<0){a=o+n.end();break}a=o+c,o=c===0?a+1:a}const u=e+i.slice(a);return e="",u}}function tI(t,e,n,r){const i=(e&Ki.BRANCH_LENGTH)>>7,s=e&Ki.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const u=r-s;return u<0||u>=i?-1:t[n+u]-1}let a=n,o=a+i-1;for(;a<=o;){const u=a+o>>>1,c=t[u];if(c<r)a=u+1;else if(c>r)o=u-1;else return t[u+i]}return-1}const nI=LA(YM);LA(qM);function DA(t,e=Xi.Legacy){return nI(t,e)}function rI(t){return Object.prototype.toString.call(t)}function fb(t){return rI(t)==="[object String]"}const iI=Object.prototype.hasOwnProperty;function sI(t,e){return iI.call(t,e)}function sd(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(r){t[r]=n[r]})}}),t}function PA(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))}function db(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534||t>=0&&t<=8||t===11||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function Nh(t){if(t>65535){t-=65536;const e=55296+(t>>10),n=56320+(t&1023);return String.fromCharCode(e,n)}return String.fromCharCode(t)}const FA=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,aI=/&([a-z#][a-z0-9]{1,31});/gi,oI=new RegExp(FA.source+"|"+aI.source,"gi"),uI=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function cI(t,e){if(e.charCodeAt(0)===35&&uI.test(e)){const r=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return db(r)?Nh(r):t}const n=DA(t);return n!==t?n:t}function lI(t){return t.indexOf("\\")<0?t:t.replace(FA,"$1")}function za(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(oI,function(e,n,r){return n||cI(e,r)})}const hI=/[&<>"]/,fI=/[&<>"]/g,dI={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function pI(t){return dI[t]}function es(t){return hI.test(t)?t.replace(fI,pI):t}const gI=/[.?*+^$[\]\\(){}|-]/g;function mI(t){return t.replace(gI,"\\$&")}function gt(t){switch(t){case 9:case 32:return!0}return!1}function Xu(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function Vu(t){return hb.test(t)||MA.test(t)}function Ku(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function ad(t){return t=t.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(t=t.replace(//g,"")),t.toLowerCase().toUpperCase()}const bI={mdurl:zM,ucmicro:WM},yI=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:PA,assign:sd,escapeHtml:es,escapeRE:mI,fromCodePoint:Nh,has:sI,isMdAsciiPunct:Ku,isPunctChar:Vu,isSpace:gt,isString:fb,isValidEntityCode:db,isWhiteSpace:Xu,lib:bI,normalizeReference:ad,unescapeAll:za,unescapeMd:lI},Symbol.toStringTag,{value:"Module"}));function vI(t,e,n){let r,i,s,a;const o=t.posMax,u=t.pos;for(t.pos=e+1,r=1;t.pos<o;){if(s=t.src.charCodeAt(t.pos),s===93&&(r--,r===0)){i=!0;break}if(a=t.pos,t.md.inline.skipToken(t),s===91){if(a===t.pos-1)r++;else if(n)return t.pos=u,-1}}let c=-1;return i&&(c=t.pos),t.pos=u,c}function _I(t,e,n){let r,i=e;const s={ok:!1,pos:0,str:""};if(t.charCodeAt(i)===60){for(i++;i<n;){if(r=t.charCodeAt(i),r===10||r===60)return s;if(r===62)return s.pos=i+1,s.str=za(t.slice(e+1,i)),s.ok=!0,s;if(r===92&&i+1<n){i+=2;continue}i++}return s}let a=0;for(;i<n&&(r=t.charCodeAt(i),!(r===32||r<32||r===127));){if(r===92&&i+1<n){if(t.charCodeAt(i+1)===32)break;i+=2;continue}if(r===40&&(a++,a>32))return s;if(r===41){if(a===0)break;a--}i++}return e===i||a!==0||(s.str=za(t.slice(e,i)),s.pos=i,s.ok=!0),s}function EI(t,e,n,r){let i,s=e;const a={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(r)a.str=r.str,a.marker=r.marker;else{if(s>=n)return a;let o=t.charCodeAt(s);if(o!==34&&o!==39&&o!==40)return a;e++,s++,o===40&&(o=41),a.marker=o}for(;s<n;){if(i=t.charCodeAt(s),i===a.marker)return a.pos=s+1,a.str+=za(t.slice(e,s)),a.ok=!0,a;if(i===40&&a.marker===41)return a;i===92&&s+1<n&&s++,s++}return a.can_continue=!0,a.str+=za(t.slice(e,s)),a}const xI=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:_I,parseLinkLabel:vI,parseLinkTitle:EI},Symbol.toStringTag,{value:"Module"})),pi={};pi.code_inline=function(t,e,n,r,i){const s=t[e];return"<code"+i.renderAttrs(s)+">"+es(s.content)+"</code>"};pi.code_block=function(t,e,n,r,i){const s=t[e];return"<pre"+i.renderAttrs(s)+"><code>"+es(t[e].content)+`</code></pre>
`};pi.fence=function(t,e,n,r,i){const s=t[e],a=s.info?za(s.info).trim():"";let o="",u="";if(a){const l=a.split(/(\s+)/g);o=l[0],u=l.slice(2).join("")}let c;if(n.highlight?c=n.highlight(s.content,o,u)||es(s.content):c=es(s.content),c.indexOf("<pre")===0)return c+`
`;if(a){const l=s.attrIndex("class"),h=s.attrs?s.attrs.slice():[];l<0?h.push(["class",n.langPrefix+o]):(h[l]=h[l].slice(),h[l][1]+=" "+n.langPrefix+o);const d={attrs:h};return`<pre><code${i.renderAttrs(d)}>${c}</code></pre>
`}return`<pre><code${i.renderAttrs(s)}>${c}</code></pre>
`};pi.image=function(t,e,n,r,i){const s=t[e];return s.attrs[s.attrIndex("alt")][1]=i.renderInlineAsText(s.children,n,r),i.renderToken(t,e,n)};pi.hardbreak=function(t,e,n){return n.xhtmlOut?`<br />
`:`<br>
`};pi.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};pi.text=function(t,e){return es(t[e].content)};pi.html_block=function(t,e){return t[e].content};pi.html_inline=function(t,e){return t[e].content};function ao(){this.rules=sd({},pi)}ao.prototype.renderAttrs=function(e){let n,r,i;if(!e.attrs)return"";for(i="",n=0,r=e.attrs.length;n<r;n++)i+=" "+es(e.attrs[n][0])+'="'+es(e.attrs[n][1])+'"';return i};ao.prototype.renderToken=function(e,n,r){const i=e[n];let s="";if(i.hidden)return"";i.block&&i.nesting!==-1&&n&&e[n-1].hidden&&(s+=`
`),s+=(i.nesting===-1?"</":"<")+i.tag,s+=this.renderAttrs(i),i.nesting===0&&r.xhtmlOut&&(s+=" /");let a=!1;if(i.block&&(a=!0,i.nesting===1&&n+1<e.length)){const o=e[n+1];(o.type==="inline"||o.hidden||o.nesting===-1&&o.tag===i.tag)&&(a=!1)}return s+=a?`>
`:">",s};ao.prototype.renderInline=function(t,e,n){let r="";const i=this.rules;for(let s=0,a=t.length;s<a;s++){const o=t[s].type;typeof i[o]<"u"?r+=i[o](t,s,e,n,this):r+=this.renderToken(t,s,e)}return r};ao.prototype.renderInlineAsText=function(t,e,n){let r="";for(let i=0,s=t.length;i<s;i++)switch(t[i].type){case"text":r+=t[i].content;break;case"image":r+=this.renderInlineAsText(t[i].children,e,n);break;case"html_inline":case"html_block":r+=t[i].content;break;case"softbreak":case"hardbreak":r+=`
`;break}return r};ao.prototype.render=function(t,e,n){let r="";const i=this.rules;for(let s=0,a=t.length;s<a;s++){const o=t[s].type;o==="inline"?r+=this.renderInline(t[s].children,e,n):typeof i[o]<"u"?r+=i[o](t,s,e,n,this):r+=this.renderToken(t,s,e,n)}return r};function Xn(){this.__rules__=[],this.__cache__=null}Xn.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};Xn.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(r){e.indexOf(r)<0&&e.push(r)})}),t.__cache__={},e.forEach(function(n){t.__cache__[n]=[],t.__rules__.forEach(function(r){r.enabled&&(n&&r.alt.indexOf(n)<0||t.__cache__[n].push(r.fn))})})};Xn.prototype.at=function(t,e,n){const r=this.__find__(t),i=n||{};if(r===-1)throw new Error("Parser rule not found: "+t);this.__rules__[r].fn=e,this.__rules__[r].alt=i.alt||[],this.__cache__=null};Xn.prototype.before=function(t,e,n,r){const i=this.__find__(t),s=r||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i,0,{name:e,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};Xn.prototype.after=function(t,e,n,r){const i=this.__find__(t),s=r||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i+1,0,{name:e,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};Xn.prototype.push=function(t,e,n){const r=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:r.alt||[]}),this.__cache__=null};Xn.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(r){const i=this.__find__(r);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[i].enabled=!0,n.push(r)},this),this.__cache__=null,n};Xn.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(t,e)};Xn.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(r){const i=this.__find__(r);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[i].enabled=!1,n.push(r)},this),this.__cache__=null,n};Xn.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};function Hr(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Hr.prototype.attrIndex=function(e){if(!this.attrs)return-1;const n=this.attrs;for(let r=0,i=n.length;r<i;r++)if(n[r][0]===e)return r;return-1};Hr.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};Hr.prototype.attrSet=function(e,n){const r=this.attrIndex(e),i=[e,n];r<0?this.attrPush(i):this.attrs[r]=i};Hr.prototype.attrGet=function(e){const n=this.attrIndex(e);let r=null;return n>=0&&(r=this.attrs[n][1]),r};Hr.prototype.attrJoin=function(e,n){const r=this.attrIndex(e);r<0?this.attrPush([e,n]):this.attrs[r][1]=this.attrs[r][1]+" "+n};function $A(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}$A.prototype.Token=Hr;const wI=/\r\n?|\n/g,AI=/\0/g;function TI(t){let e;e=t.src.replace(wI,`
`),e=e.replace(AI,""),t.src=e}function kI(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}function NI(t){const e=t.tokens;for(let n=0,r=e.length;n<r;n++){const i=e[n];i.type==="inline"&&t.md.inline.parse(i.content,t.md,t.env,i.children)}}function SI(t){return/^<a[>\s]/i.test(t)}function CI(t){return/^<\/a\s*>/i.test(t)}function RI(t){const e=t.tokens;if(t.md.options.linkify)for(let n=0,r=e.length;n<r;n++){if(e[n].type!=="inline"||!t.md.linkify.pretest(e[n].content))continue;let i=e[n].children,s=0;for(let a=i.length-1;a>=0;a--){const o=i[a];if(o.type==="link_close"){for(a--;i[a].level!==o.level&&i[a].type!=="link_open";)a--;continue}if(o.type==="html_inline"&&(SI(o.content)&&s>0&&s--,CI(o.content)&&s++),!(s>0)&&o.type==="text"&&t.md.linkify.test(o.content)){const u=o.content;let c=t.md.linkify.match(u);const l=[];let h=o.level,d=0;c.length>0&&c[0].index===0&&a>0&&i[a-1].type==="text_special"&&(c=c.slice(1));for(let f=0;f<c.length;f++){const p=c[f].url,g=t.md.normalizeLink(p);if(!t.md.validateLink(g))continue;let m=c[f].text;c[f].schema?c[f].schema==="mailto:"&&!/^mailto:/i.test(m)?m=t.md.normalizeLinkText("mailto:"+m).replace(/^mailto:/,""):m=t.md.normalizeLinkText(m):m=t.md.normalizeLinkText("http://"+m).replace(/^http:\/\//,"");const b=c[f].index;if(b>d){const w=new t.Token("text","",0);w.content=u.slice(d,b),w.level=h,l.push(w)}const v=new t.Token("link_open","a",1);v.attrs=[["href",g]],v.level=h++,v.markup="linkify",v.info="auto",l.push(v);const y=new t.Token("text","",0);y.content=m,y.level=h,l.push(y);const _=new t.Token("link_close","a",-1);_.level=--h,_.markup="linkify",_.info="auto",l.push(_),d=c[f].lastIndex}if(d<u.length){const f=new t.Token("text","",0);f.content=u.slice(d),f.level=h,l.push(f)}e[n].children=i=PA(i,a,l)}}}}const UA=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,OI=/\((c|tm|r)\)/i,MI=/\((c|tm|r)\)/ig,II={c:"",r:"",tm:""};function LI(t,e){return II[e.toLowerCase()]}function DI(t){let e=0;for(let n=t.length-1;n>=0;n--){const r=t[n];r.type==="text"&&!e&&(r.content=r.content.replace(MI,LI)),r.type==="link_open"&&r.info==="auto"&&e--,r.type==="link_close"&&r.info==="auto"&&e++}}function PI(t){let e=0;for(let n=t.length-1;n>=0;n--){const r=t[n];r.type==="text"&&!e&&UA.test(r.content)&&(r.content=r.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),r.type==="link_open"&&r.info==="auto"&&e--,r.type==="link_close"&&r.info==="auto"&&e++}}function FI(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)t.tokens[e].type==="inline"&&(OI.test(t.tokens[e].content)&&DI(t.tokens[e].children),UA.test(t.tokens[e].content)&&PI(t.tokens[e].children))}const $I=/['"]/,D1=/['"]/g,P1="";function Qc(t,e,n){return t.slice(0,e)+n+t.slice(e+1)}function UI(t,e){let n;const r=[];for(let i=0;i<t.length;i++){const s=t[i],a=t[i].level;for(n=r.length-1;n>=0&&!(r[n].level<=a);n--);if(r.length=n+1,s.type!=="text")continue;let o=s.content,u=0,c=o.length;e:for(;u<c;){D1.lastIndex=u;const l=D1.exec(o);if(!l)break;let h=!0,d=!0;u=l.index+1;const f=l[0]==="'";let p=32;if(l.index-1>=0)p=o.charCodeAt(l.index-1);else for(n=i-1;n>=0&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n--)if(t[n].content){p=t[n].content.charCodeAt(t[n].content.length-1);break}let g=32;if(u<c)g=o.charCodeAt(u);else for(n=i+1;n<t.length&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n++)if(t[n].content){g=t[n].content.charCodeAt(0);break}const m=Ku(p)||Vu(String.fromCharCode(p)),b=Ku(g)||Vu(String.fromCharCode(g)),v=Xu(p),y=Xu(g);if(y?h=!1:b&&(v||m||(h=!1)),v?d=!1:m&&(y||b||(d=!1)),g===34&&l[0]==='"'&&p>=48&&p<=57&&(d=h=!1),h&&d&&(h=m,d=b),!h&&!d){f&&(s.content=Qc(s.content,l.index,P1));continue}if(d)for(n=r.length-1;n>=0;n--){let _=r[n];if(r[n].level<a)break;if(_.single===f&&r[n].level===a){_=r[n];let w,k;f?(w=e.md.options.quotes[2],k=e.md.options.quotes[3]):(w=e.md.options.quotes[0],k=e.md.options.quotes[1]),s.content=Qc(s.content,l.index,k),t[_.token].content=Qc(t[_.token].content,_.pos,w),u+=k.length-1,_.token===i&&(u+=w.length-1),o=s.content,c=o.length,r.length=n;continue e}}h?r.push({token:i,pos:l.index,single:f,level:a}):d&&f&&(s.content=Qc(s.content,l.index,P1))}}}function BI(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)t.tokens[e].type!=="inline"||!$I.test(t.tokens[e].content)||UI(t.tokens[e].children,t)}function GI(t){let e,n;const r=t.tokens,i=r.length;for(let s=0;s<i;s++){if(r[s].type!=="inline")continue;const a=r[s].children,o=a.length;for(e=0;e<o;e++)a[e].type==="text_special"&&(a[e].type="text");for(e=n=0;e<o;e++)a[e].type==="text"&&e+1<o&&a[e+1].type==="text"?a[e+1].content=a[e].content+a[e+1].content:(e!==n&&(a[n]=a[e]),n++);e!==n&&(a.length=n)}}const dp=[["normalize",TI],["block",kI],["inline",NI],["linkify",RI],["replacements",FI],["smartquotes",BI],["text_join",GI]];function pb(){this.ruler=new Xn;for(let t=0;t<dp.length;t++)this.ruler.push(dp[t][0],dp[t][1])}pb.prototype.process=function(t){const e=this.ruler.getRules("");for(let n=0,r=e.length;n<r;n++)e[n](t)};pb.prototype.State=$A;function gi(t,e,n,r){this.src=t,this.md=e,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const i=this.src;for(let s=0,a=0,o=0,u=0,c=i.length,l=!1;a<c;a++){const h=i.charCodeAt(a);if(!l)if(gt(h)){o++,h===9?u+=4-u%4:u++;continue}else l=!0;(h===10||a===c-1)&&(h!==10&&a++,this.bMarks.push(s),this.eMarks.push(a),this.tShift.push(o),this.sCount.push(u),this.bsCount.push(0),l=!1,o=0,u=0,s=a+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}gi.prototype.push=function(t,e,n){const r=new Hr(t,e,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r};gi.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};gi.prototype.skipEmptyLines=function(e){for(let n=this.lineMax;e<n&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};gi.prototype.skipSpaces=function(e){for(let n=this.src.length;e<n;e++){const r=this.src.charCodeAt(e);if(!gt(r))break}return e};gi.prototype.skipSpacesBack=function(e,n){if(e<=n)return e;for(;e>n;)if(!gt(this.src.charCodeAt(--e)))return e+1;return e};gi.prototype.skipChars=function(e,n){for(let r=this.src.length;e<r&&this.src.charCodeAt(e)===n;e++);return e};gi.prototype.skipCharsBack=function(e,n,r){if(e<=r)return e;for(;e>r;)if(n!==this.src.charCodeAt(--e))return e+1;return e};gi.prototype.getLines=function(e,n,r,i){if(e>=n)return"";const s=new Array(n-e);for(let a=0,o=e;o<n;o++,a++){let u=0;const c=this.bMarks[o];let l=c,h;for(o+1<n||i?h=this.eMarks[o]+1:h=this.eMarks[o];l<h&&u<r;){const d=this.src.charCodeAt(l);if(gt(d))d===9?u+=4-(u+this.bsCount[o])%4:u++;else if(l-c<this.tShift[o])u++;else break;l++}u>r?s[a]=new Array(u-r+1).join(" ")+this.src.slice(l,h):s[a]=this.src.slice(l,h)}return s.join("")};gi.prototype.Token=Hr;const zI=65536;function pp(t,e){const n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];return t.src.slice(n,r)}function F1(t){const e=[],n=t.length;let r=0,i=t.charCodeAt(r),s=!1,a=0,o="";for(;r<n;)i===124&&(s?(o+=t.substring(a,r-1),a=r):(e.push(o+t.substring(a,r)),o="",a=r+1)),s=i===92,r++,i=t.charCodeAt(r);return e.push(o+t.substring(a)),e}function HI(t,e,n,r){if(e+2>n)return!1;let i=e+1;if(t.sCount[i]<t.blkIndent||t.sCount[i]-t.blkIndent>=4)return!1;let s=t.bMarks[i]+t.tShift[i];if(s>=t.eMarks[i])return!1;const a=t.src.charCodeAt(s++);if(a!==124&&a!==45&&a!==58||s>=t.eMarks[i])return!1;const o=t.src.charCodeAt(s++);if(o!==124&&o!==45&&o!==58&&!gt(o)||a===45&&gt(o))return!1;for(;s<t.eMarks[i];){const _=t.src.charCodeAt(s);if(_!==124&&_!==45&&_!==58&&!gt(_))return!1;s++}let u=pp(t,e+1),c=u.split("|");const l=[];for(let _=0;_<c.length;_++){const w=c[_].trim();if(!w){if(_===0||_===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(w))return!1;w.charCodeAt(w.length-1)===58?l.push(w.charCodeAt(0)===58?"center":"right"):w.charCodeAt(0)===58?l.push("left"):l.push("")}if(u=pp(t,e).trim(),u.indexOf("|")===-1||t.sCount[e]-t.blkIndent>=4)return!1;c=F1(u),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop();const h=c.length;if(h===0||h!==l.length)return!1;if(r)return!0;const d=t.parentType;t.parentType="table";const f=t.md.block.ruler.getRules("blockquote"),p=t.push("table_open","table",1),g=[e,0];p.map=g;const m=t.push("thead_open","thead",1);m.map=[e,e+1];const b=t.push("tr_open","tr",1);b.map=[e,e+1];for(let _=0;_<c.length;_++){const w=t.push("th_open","th",1);l[_]&&(w.attrs=[["style","text-align:"+l[_]]]);const k=t.push("inline","",0);k.content=c[_].trim(),k.children=[],t.push("th_close","th",-1)}t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let v,y=0;for(i=e+2;i<n&&!(t.sCount[i]<t.blkIndent);i++){let _=!1;for(let k=0,x=f.length;k<x;k++)if(f[k](t,i,n,!0)){_=!0;break}if(_||(u=pp(t,i).trim(),!u)||t.sCount[i]-t.blkIndent>=4||(c=F1(u),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop(),y+=h-c.length,y>zI))break;if(i===e+2){const k=t.push("tbody_open","tbody",1);k.map=v=[e+2,0]}const w=t.push("tr_open","tr",1);w.map=[i,i+1];for(let k=0;k<h;k++){const x=t.push("td_open","td",1);l[k]&&(x.attrs=[["style","text-align:"+l[k]]]);const T=t.push("inline","",0);T.content=c[k]?c[k].trim():"",T.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return v&&(t.push("tbody_close","tbody",-1),v[1]=i),t.push("table_close","table",-1),g[1]=i,t.parentType=d,t.line=i,!0}function WI(t,e,n){if(t.sCount[e]-t.blkIndent<4)return!1;let r=e+1,i=r;for(;r<n;){if(t.isEmpty(r)){r++;continue}if(t.sCount[r]-t.blkIndent>=4){r++,i=r;continue}break}t.line=i;const s=t.push("code_block","code",0);return s.content=t.getLines(e,i,4+t.blkIndent,!1)+`
`,s.map=[e,t.line],!0}function YI(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||i+3>s)return!1;const a=t.src.charCodeAt(i);if(a!==126&&a!==96)return!1;let o=i;i=t.skipChars(i,a);let u=i-o;if(u<3)return!1;const c=t.src.slice(o,i),l=t.src.slice(i,s);if(a===96&&l.indexOf(String.fromCharCode(a))>=0)return!1;if(r)return!0;let h=e,d=!1;for(;h++,!(h>=n||(i=o=t.bMarks[h]+t.tShift[h],s=t.eMarks[h],i<s&&t.sCount[h]<t.blkIndent));)if(t.src.charCodeAt(i)===a&&!(t.sCount[h]-t.blkIndent>=4)&&(i=t.skipChars(i,a),!(i-o<u)&&(i=t.skipSpaces(i),!(i<s)))){d=!0;break}u=t.sCount[e],t.line=h+(d?1:0);const f=t.push("fence","code",0);return f.info=l,f.content=t.getLines(e+1,h,u,!0),f.markup=c,f.map=[e,t.line],!0}function qI(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];const a=t.lineMax;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(i)!==62)return!1;if(r)return!0;const o=[],u=[],c=[],l=[],h=t.md.block.ruler.getRules("blockquote"),d=t.parentType;t.parentType="blockquote";let f=!1,p;for(p=e;p<n;p++){const y=t.sCount[p]<t.blkIndent;if(i=t.bMarks[p]+t.tShift[p],s=t.eMarks[p],i>=s)break;if(t.src.charCodeAt(i++)===62&&!y){let w=t.sCount[p]+1,k,x;t.src.charCodeAt(i)===32?(i++,w++,x=!1,k=!0):t.src.charCodeAt(i)===9?(k=!0,(t.bsCount[p]+w)%4===3?(i++,w++,x=!1):x=!0):k=!1;let T=w;for(o.push(t.bMarks[p]),t.bMarks[p]=i;i<s;){const O=t.src.charCodeAt(i);if(gt(O))O===9?T+=4-(T+t.bsCount[p]+(x?1:0))%4:T++;else break;i++}f=i>=s,u.push(t.bsCount[p]),t.bsCount[p]=t.sCount[p]+1+(k?1:0),c.push(t.sCount[p]),t.sCount[p]=T-w,l.push(t.tShift[p]),t.tShift[p]=i-t.bMarks[p];continue}if(f)break;let _=!1;for(let w=0,k=h.length;w<k;w++)if(h[w](t,p,n,!0)){_=!0;break}if(_){t.lineMax=p,t.blkIndent!==0&&(o.push(t.bMarks[p]),u.push(t.bsCount[p]),l.push(t.tShift[p]),c.push(t.sCount[p]),t.sCount[p]-=t.blkIndent);break}o.push(t.bMarks[p]),u.push(t.bsCount[p]),l.push(t.tShift[p]),c.push(t.sCount[p]),t.sCount[p]=-1}const g=t.blkIndent;t.blkIndent=0;const m=t.push("blockquote_open","blockquote",1);m.markup=">";const b=[e,0];m.map=b,t.md.block.tokenize(t,e,p);const v=t.push("blockquote_close","blockquote",-1);v.markup=">",t.lineMax=a,t.parentType=d,b[1]=t.line;for(let y=0;y<l.length;y++)t.bMarks[y+e]=o[y],t.tShift[y+e]=l[y],t.sCount[y+e]=c[y],t.bsCount[y+e]=u[y];return t.blkIndent=g,!0}function XI(t,e,n,r){const i=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let s=t.bMarks[e]+t.tShift[e];const a=t.src.charCodeAt(s++);if(a!==42&&a!==45&&a!==95)return!1;let o=1;for(;s<i;){const c=t.src.charCodeAt(s++);if(c!==a&&!gt(c))return!1;c===a&&o++}if(o<3)return!1;if(r)return!0;t.line=e+1;const u=t.push("hr","hr",0);return u.map=[e,t.line],u.markup=Array(o+1).join(String.fromCharCode(a)),!0}function $1(t,e){const n=t.eMarks[e];let r=t.bMarks[e]+t.tShift[e];const i=t.src.charCodeAt(r++);if(i!==42&&i!==45&&i!==43)return-1;if(r<n){const s=t.src.charCodeAt(r);if(!gt(s))return-1}return r}function U1(t,e){const n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];let i=n;if(i+1>=r)return-1;let s=t.src.charCodeAt(i++);if(s<48||s>57)return-1;for(;;){if(i>=r)return-1;if(s=t.src.charCodeAt(i++),s>=48&&s<=57){if(i-n>=10)return-1;continue}if(s===41||s===46)break;return-1}return i<r&&(s=t.src.charCodeAt(i),!gt(s))?-1:i}function VI(t,e){const n=t.level+2;for(let r=e+2,i=t.tokens.length-2;r<i;r++)t.tokens[r].level===n&&t.tokens[r].type==="paragraph_open"&&(t.tokens[r+2].hidden=!0,t.tokens[r].hidden=!0,r+=2)}function KI(t,e,n,r){let i,s,a,o,u=e,c=!0;if(t.sCount[u]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[u]-t.listIndent>=4&&t.sCount[u]<t.blkIndent)return!1;let l=!1;r&&t.parentType==="paragraph"&&t.sCount[u]>=t.blkIndent&&(l=!0);let h,d,f;if((f=U1(t,u))>=0){if(h=!0,a=t.bMarks[u]+t.tShift[u],d=Number(t.src.slice(a,f-1)),l&&d!==1)return!1}else if((f=$1(t,u))>=0)h=!1;else return!1;if(l&&t.skipSpaces(f)>=t.eMarks[u])return!1;if(r)return!0;const p=t.src.charCodeAt(f-1),g=t.tokens.length;h?(o=t.push("ordered_list_open","ol",1),d!==1&&(o.attrs=[["start",d]])):o=t.push("bullet_list_open","ul",1);const m=[u,0];o.map=m,o.markup=String.fromCharCode(p);let b=!1;const v=t.md.block.ruler.getRules("list"),y=t.parentType;for(t.parentType="list";u<n;){s=f,i=t.eMarks[u];const _=t.sCount[u]+f-(t.bMarks[u]+t.tShift[u]);let w=_;for(;s<i;){const A=t.src.charCodeAt(s);if(A===9)w+=4-(w+t.bsCount[u])%4;else if(A===32)w++;else break;s++}const k=s;let x;k>=i?x=1:x=w-_,x>4&&(x=1);const T=_+x;o=t.push("list_item_open","li",1),o.markup=String.fromCharCode(p);const O=[u,0];o.map=O,h&&(o.info=t.src.slice(a,f-1));const I=t.tight,M=t.tShift[u],R=t.sCount[u],L=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=T,t.tight=!0,t.tShift[u]=k-t.bMarks[u],t.sCount[u]=w,k>=i&&t.isEmpty(u+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,u,n,!0),(!t.tight||b)&&(c=!1),b=t.line-u>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=L,t.tShift[u]=M,t.sCount[u]=R,t.tight=I,o=t.push("list_item_close","li",-1),o.markup=String.fromCharCode(p),u=t.line,O[1]=u,u>=n||t.sCount[u]<t.blkIndent||t.sCount[u]-t.blkIndent>=4)break;let E=!1;for(let A=0,N=v.length;A<N;A++)if(v[A](t,u,n,!0)){E=!0;break}if(E)break;if(h){if(f=U1(t,u),f<0)break;a=t.bMarks[u]+t.tShift[u]}else if(f=$1(t,u),f<0)break;if(p!==t.src.charCodeAt(f-1))break}return h?o=t.push("ordered_list_close","ol",-1):o=t.push("bullet_list_close","ul",-1),o.markup=String.fromCharCode(p),m[1]=u,t.line=u,t.parentType=y,c&&VI(t,g),!0}function ZI(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e],a=e+1;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(i)!==91)return!1;function o(v){const y=t.lineMax;if(v>=y||t.isEmpty(v))return null;let _=!1;if(t.sCount[v]-t.blkIndent>3&&(_=!0),t.sCount[v]<0&&(_=!0),!_){const x=t.md.block.ruler.getRules("reference"),T=t.parentType;t.parentType="reference";let O=!1;for(let I=0,M=x.length;I<M;I++)if(x[I](t,v,y,!0)){O=!0;break}if(t.parentType=T,O)return null}const w=t.bMarks[v]+t.tShift[v],k=t.eMarks[v];return t.src.slice(w,k+1)}let u=t.src.slice(i,s+1);s=u.length;let c=-1;for(i=1;i<s;i++){const v=u.charCodeAt(i);if(v===91)return!1;if(v===93){c=i;break}else if(v===10){const y=o(a);y!==null&&(u+=y,s=u.length,a++)}else if(v===92&&(i++,i<s&&u.charCodeAt(i)===10)){const y=o(a);y!==null&&(u+=y,s=u.length,a++)}}if(c<0||u.charCodeAt(c+1)!==58)return!1;for(i=c+2;i<s;i++){const v=u.charCodeAt(i);if(v===10){const y=o(a);y!==null&&(u+=y,s=u.length,a++)}else if(!gt(v))break}const l=t.md.helpers.parseLinkDestination(u,i,s);if(!l.ok)return!1;const h=t.md.normalizeLink(l.str);if(!t.md.validateLink(h))return!1;i=l.pos;const d=i,f=a,p=i;for(;i<s;i++){const v=u.charCodeAt(i);if(v===10){const y=o(a);y!==null&&(u+=y,s=u.length,a++)}else if(!gt(v))break}let g=t.md.helpers.parseLinkTitle(u,i,s);for(;g.can_continue;){const v=o(a);if(v===null)break;u+=v,i=s,s=u.length,a++,g=t.md.helpers.parseLinkTitle(u,i,s,g)}let m;for(i<s&&p!==i&&g.ok?(m=g.str,i=g.pos):(m="",i=d,a=f);i<s;){const v=u.charCodeAt(i);if(!gt(v))break;i++}if(i<s&&u.charCodeAt(i)!==10&&m)for(m="",i=d,a=f;i<s;){const v=u.charCodeAt(i);if(!gt(v))break;i++}if(i<s&&u.charCodeAt(i)!==10)return!1;const b=ad(u.slice(1,c));return b?(r||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[b]>"u"&&(t.env.references[b]={title:m,href:h}),t.line=a),!0):!1}const jI=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],QI="[a-zA-Z_:][a-zA-Z0-9:._-]*",JI="[^\"'=<>`\\x00-\\x20]+",eL="'[^']*'",tL='"[^"]*"',nL="(?:"+JI+"|"+eL+"|"+tL+")",rL="(?:\\s+"+QI+"(?:\\s*=\\s*"+nL+")?)",BA="<[A-Za-z][A-Za-z0-9\\-]*"+rL+"*\\s*\\/?>",GA="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",iL="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",sL="<[?][\\s\\S]*?[?]>",aL="<![A-Za-z][^>]*>",oL="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",uL=new RegExp("^(?:"+BA+"|"+GA+"|"+iL+"|"+sL+"|"+aL+"|"+oL+")"),cL=new RegExp("^(?:"+BA+"|"+GA+")"),ha=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+jI.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(cL.source+"\\s*$"),/^$/,!1]];function lL(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(i)!==60)return!1;let a=t.src.slice(i,s),o=0;for(;o<ha.length&&!ha[o][0].test(a);o++);if(o===ha.length)return!1;if(r)return ha[o][2];let u=e+1;if(!ha[o][1].test(a)){for(;u<n&&!(t.sCount[u]<t.blkIndent);u++)if(i=t.bMarks[u]+t.tShift[u],s=t.eMarks[u],a=t.src.slice(i,s),ha[o][1].test(a)){a.length!==0&&u++;break}}t.line=u;const c=t.push("html_block","",0);return c.map=[e,u],c.content=t.getLines(e,u,t.blkIndent,!0),!0}function hL(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let a=t.src.charCodeAt(i);if(a!==35||i>=s)return!1;let o=1;for(a=t.src.charCodeAt(++i);a===35&&i<s&&o<=6;)o++,a=t.src.charCodeAt(++i);if(o>6||i<s&&!gt(a))return!1;if(r)return!0;s=t.skipSpacesBack(s,i);const u=t.skipCharsBack(s,35,i);u>i&&gt(t.src.charCodeAt(u-1))&&(s=u),t.line=e+1;const c=t.push("heading_open","h"+String(o),1);c.markup="########".slice(0,o),c.map=[e,t.line];const l=t.push("inline","",0);l.content=t.src.slice(i,s).trim(),l.map=[e,t.line],l.children=[];const h=t.push("heading_close","h"+String(o),-1);return h.markup="########".slice(0,o),!0}function fL(t,e,n){const r=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const i=t.parentType;t.parentType="paragraph";let s=0,a,o=e+1;for(;o<n&&!t.isEmpty(o);o++){if(t.sCount[o]-t.blkIndent>3)continue;if(t.sCount[o]>=t.blkIndent){let f=t.bMarks[o]+t.tShift[o];const p=t.eMarks[o];if(f<p&&(a=t.src.charCodeAt(f),(a===45||a===61)&&(f=t.skipChars(f,a),f=t.skipSpaces(f),f>=p))){s=a===61?1:2;break}}if(t.sCount[o]<0)continue;let d=!1;for(let f=0,p=r.length;f<p;f++)if(r[f](t,o,n,!0)){d=!0;break}if(d)break}if(!s)return!1;const u=t.getLines(e,o,t.blkIndent,!1).trim();t.line=o+1;const c=t.push("heading_open","h"+String(s),1);c.markup=String.fromCharCode(a),c.map=[e,t.line];const l=t.push("inline","",0);l.content=u,l.map=[e,t.line-1],l.children=[];const h=t.push("heading_close","h"+String(s),-1);return h.markup=String.fromCharCode(a),t.parentType=i,!0}function dL(t,e,n){const r=t.md.block.ruler.getRules("paragraph"),i=t.parentType;let s=e+1;for(t.parentType="paragraph";s<n&&!t.isEmpty(s);s++){if(t.sCount[s]-t.blkIndent>3||t.sCount[s]<0)continue;let c=!1;for(let l=0,h=r.length;l<h;l++)if(r[l](t,s,n,!0)){c=!0;break}if(c)break}const a=t.getLines(e,s,t.blkIndent,!1).trim();t.line=s;const o=t.push("paragraph_open","p",1);o.map=[e,t.line];const u=t.push("inline","",0);return u.content=a,u.map=[e,t.line],u.children=[],t.push("paragraph_close","p",-1),t.parentType=i,!0}const Jc=[["table",HI,["paragraph","reference"]],["code",WI],["fence",YI,["paragraph","reference","blockquote","list"]],["blockquote",qI,["paragraph","reference","blockquote","list"]],["hr",XI,["paragraph","reference","blockquote","list"]],["list",KI,["paragraph","reference","blockquote"]],["reference",ZI],["html_block",lL,["paragraph","reference","blockquote"]],["heading",hL,["paragraph","reference","blockquote"]],["lheading",fL],["paragraph",dL]];function od(){this.ruler=new Xn;for(let t=0;t<Jc.length;t++)this.ruler.push(Jc[t][0],Jc[t][1],{alt:(Jc[t][2]||[]).slice()})}od.prototype.tokenize=function(t,e,n){const r=this.ruler.getRules(""),i=r.length,s=t.md.options.maxNesting;let a=e,o=!1;for(;a<n&&(t.line=a=t.skipEmptyLines(a),!(a>=n||t.sCount[a]<t.blkIndent));){if(t.level>=s){t.line=n;break}const u=t.line;let c=!1;for(let l=0;l<i;l++)if(c=r[l](t,a,n,!1),c){if(u>=t.line)throw new Error("block rule didn't increment state.line");break}if(!c)throw new Error("none of the block rules matched");t.tight=!o,t.isEmpty(t.line-1)&&(o=!0),a=t.line,a<n&&t.isEmpty(a)&&(o=!0,a++,t.line=a)}};od.prototype.parse=function(t,e,n,r){if(!t)return;const i=new this.State(t,e,n,r);this.tokenize(i,i.line,i.lineMax)};od.prototype.State=gi;function _c(t,e,n,r){this.src=t,this.env=n,this.md=e,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}_c.prototype.pushPending=function(){const t=new Hr("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};_c.prototype.push=function(t,e,n){this.pending&&this.pushPending();const r=new Hr(t,e,n);let i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(i),r};_c.prototype.scanDelims=function(t,e){const n=this.posMax,r=this.src.charCodeAt(t),i=t>0?this.src.charCodeAt(t-1):32;let s=t;for(;s<n&&this.src.charCodeAt(s)===r;)s++;const a=s-t,o=s<n?this.src.charCodeAt(s):32,u=Ku(i)||Vu(String.fromCharCode(i)),c=Ku(o)||Vu(String.fromCharCode(o)),l=Xu(i),h=Xu(o),d=!h&&(!c||l||u),f=!l&&(!u||h||c);return{can_open:d&&(e||!f||u),can_close:f&&(e||!d||c),length:a}};_c.prototype.Token=Hr;function pL(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function gL(t,e){let n=t.pos;for(;n<t.posMax&&!pL(t.src.charCodeAt(n));)n++;return n===t.pos?!1:(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}const mL=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function bL(t,e){if(!t.md.options.linkify||t.linkLevel>0)return!1;const n=t.pos,r=t.posMax;if(n+3>r||t.src.charCodeAt(n)!==58||t.src.charCodeAt(n+1)!==47||t.src.charCodeAt(n+2)!==47)return!1;const i=t.pending.match(mL);if(!i)return!1;const s=i[1],a=t.md.linkify.matchAtStart(t.src.slice(n-s.length));if(!a)return!1;let o=a.url;if(o.length<=s.length)return!1;let u=o.length;for(;u>0&&o.charCodeAt(u-1)===42;)u--;u!==o.length&&(o=o.slice(0,u));const c=t.md.normalizeLink(o);if(!t.md.validateLink(c))return!1;if(!e){t.pending=t.pending.slice(0,-s.length);const l=t.push("link_open","a",1);l.attrs=[["href",c]],l.markup="linkify",l.info="auto";const h=t.push("text","",0);h.content=t.md.normalizeLinkText(o);const d=t.push("link_close","a",-1);d.markup="linkify",d.info="auto"}return t.pos+=o.length-s.length,!0}function yL(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==10)return!1;const r=t.pending.length-1,i=t.posMax;if(!e)if(r>=0&&t.pending.charCodeAt(r)===32)if(r>=1&&t.pending.charCodeAt(r-1)===32){let s=r-1;for(;s>=1&&t.pending.charCodeAt(s-1)===32;)s--;t.pending=t.pending.slice(0,s),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(n++;n<i&&gt(t.src.charCodeAt(n));)n++;return t.pos=n,!0}const gb=[];for(let t=0;t<256;t++)gb.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){gb[t.charCodeAt(0)]=1});function vL(t,e){let n=t.pos;const r=t.posMax;if(t.src.charCodeAt(n)!==92||(n++,n>=r))return!1;let i=t.src.charCodeAt(n);if(i===10){for(e||t.push("hardbreak","br",0),n++;n<r&&(i=t.src.charCodeAt(n),!!gt(i));)n++;return t.pos=n,!0}let s=t.src[n];if(i>=55296&&i<=56319&&n+1<r){const o=t.src.charCodeAt(n+1);o>=56320&&o<=57343&&(s+=t.src[n+1],n++)}const a="\\"+s;if(!e){const o=t.push("text_special","",0);i<256&&gb[i]!==0?o.content=s:o.content=a,o.markup=a,o.info="escape"}return t.pos=n+1,!0}function _L(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==96)return!1;const i=n;n++;const s=t.posMax;for(;n<s&&t.src.charCodeAt(n)===96;)n++;const a=t.src.slice(i,n),o=a.length;if(t.backticksScanned&&(t.backticks[o]||0)<=i)return e||(t.pending+=a),t.pos+=o,!0;let u=n,c;for(;(c=t.src.indexOf("`",u))!==-1;){for(u=c+1;u<s&&t.src.charCodeAt(u)===96;)u++;const l=u-c;if(l===o){if(!e){const h=t.push("code_inline","code",0);h.markup=a,h.content=t.src.slice(n,c).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=u,!0}t.backticks[l]=c}return t.backticksScanned=!0,e||(t.pending+=a),t.pos+=o,!0}function EL(t,e){const n=t.pos,r=t.src.charCodeAt(n);if(e||r!==126)return!1;const i=t.scanDelims(t.pos,!0);let s=i.length;const a=String.fromCharCode(r);if(s<2)return!1;let o;s%2&&(o=t.push("text","",0),o.content=a,s--);for(let u=0;u<s;u+=2)o=t.push("text","",0),o.content=a+a,t.delimiters.push({marker:r,length:0,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0}function B1(t,e){let n;const r=[],i=e.length;for(let s=0;s<i;s++){const a=e[s];if(a.marker!==126||a.end===-1)continue;const o=e[a.end];n=t.tokens[a.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=t.tokens[o.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",t.tokens[o.token-1].type==="text"&&t.tokens[o.token-1].content==="~"&&r.push(o.token-1)}for(;r.length;){const s=r.pop();let a=s+1;for(;a<t.tokens.length&&t.tokens[a].type==="s_close";)a++;a--,s!==a&&(n=t.tokens[a],t.tokens[a]=t.tokens[s],t.tokens[s]=n)}}function xL(t){const e=t.tokens_meta,n=t.tokens_meta.length;B1(t,t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&B1(t,e[r].delimiters)}const zA={tokenize:EL,postProcess:xL};function wL(t,e){const n=t.pos,r=t.src.charCodeAt(n);if(e||r!==95&&r!==42)return!1;const i=t.scanDelims(t.pos,r===42);for(let s=0;s<i.length;s++){const a=t.push("text","",0);a.content=String.fromCharCode(r),t.delimiters.push({marker:r,length:i.length,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close})}return t.pos+=i.length,!0}function G1(t,e){const n=e.length;for(let r=n-1;r>=0;r--){const i=e[r];if(i.marker!==95&&i.marker!==42||i.end===-1)continue;const s=e[i.end],a=r>0&&e[r-1].end===i.end+1&&e[r-1].marker===i.marker&&e[r-1].token===i.token-1&&e[i.end+1].token===s.token+1,o=String.fromCharCode(i.marker),u=t.tokens[i.token];u.type=a?"strong_open":"em_open",u.tag=a?"strong":"em",u.nesting=1,u.markup=a?o+o:o,u.content="";const c=t.tokens[s.token];c.type=a?"strong_close":"em_close",c.tag=a?"strong":"em",c.nesting=-1,c.markup=a?o+o:o,c.content="",a&&(t.tokens[e[r-1].token].content="",t.tokens[e[i.end+1].token].content="",r--)}}function AL(t){const e=t.tokens_meta,n=t.tokens_meta.length;G1(t,t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&G1(t,e[r].delimiters)}const HA={tokenize:wL,postProcess:AL};function TL(t,e){let n,r,i,s,a="",o="",u=t.pos,c=!0;if(t.src.charCodeAt(t.pos)!==91)return!1;const l=t.pos,h=t.posMax,d=t.pos+1,f=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(f<0)return!1;let p=f+1;if(p<h&&t.src.charCodeAt(p)===40){for(c=!1,p++;p<h&&(n=t.src.charCodeAt(p),!(!gt(n)&&n!==10));p++);if(p>=h)return!1;if(u=p,i=t.md.helpers.parseLinkDestination(t.src,p,t.posMax),i.ok){for(a=t.md.normalizeLink(i.str),t.md.validateLink(a)?p=i.pos:a="",u=p;p<h&&(n=t.src.charCodeAt(p),!(!gt(n)&&n!==10));p++);if(i=t.md.helpers.parseLinkTitle(t.src,p,t.posMax),p<h&&u!==p&&i.ok)for(o=i.str,p=i.pos;p<h&&(n=t.src.charCodeAt(p),!(!gt(n)&&n!==10));p++);}(p>=h||t.src.charCodeAt(p)!==41)&&(c=!0),p++}if(c){if(typeof t.env.references>"u")return!1;if(p<h&&t.src.charCodeAt(p)===91?(u=p+1,p=t.md.helpers.parseLinkLabel(t,p),p>=0?r=t.src.slice(u,p++):p=f+1):p=f+1,r||(r=t.src.slice(d,f)),s=t.env.references[ad(r)],!s)return t.pos=l,!1;a=s.href,o=s.title}if(!e){t.pos=d,t.posMax=f;const g=t.push("link_open","a",1),m=[["href",a]];g.attrs=m,o&&m.push(["title",o]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=p,t.posMax=h,!0}function kL(t,e){let n,r,i,s,a,o,u,c,l="";const h=t.pos,d=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91)return!1;const f=t.pos+2,p=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(p<0)return!1;if(s=p+1,s<d&&t.src.charCodeAt(s)===40){for(s++;s<d&&(n=t.src.charCodeAt(s),!(!gt(n)&&n!==10));s++);if(s>=d)return!1;for(c=s,o=t.md.helpers.parseLinkDestination(t.src,s,t.posMax),o.ok&&(l=t.md.normalizeLink(o.str),t.md.validateLink(l)?s=o.pos:l=""),c=s;s<d&&(n=t.src.charCodeAt(s),!(!gt(n)&&n!==10));s++);if(o=t.md.helpers.parseLinkTitle(t.src,s,t.posMax),s<d&&c!==s&&o.ok)for(u=o.str,s=o.pos;s<d&&(n=t.src.charCodeAt(s),!(!gt(n)&&n!==10));s++);else u="";if(s>=d||t.src.charCodeAt(s)!==41)return t.pos=h,!1;s++}else{if(typeof t.env.references>"u")return!1;if(s<d&&t.src.charCodeAt(s)===91?(c=s+1,s=t.md.helpers.parseLinkLabel(t,s),s>=0?i=t.src.slice(c,s++):s=p+1):s=p+1,i||(i=t.src.slice(f,p)),a=t.env.references[ad(i)],!a)return t.pos=h,!1;l=a.href,u=a.title}if(!e){r=t.src.slice(f,p);const g=[];t.md.inline.parse(r,t.md,t.env,g);const m=t.push("image","img",0),b=[["src",l],["alt",""]];m.attrs=b,m.children=g,m.content=r,u&&b.push(["title",u])}return t.pos=s,t.posMax=d,!0}const NL=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,SL=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function CL(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==60)return!1;const r=t.pos,i=t.posMax;for(;;){if(++n>=i)return!1;const a=t.src.charCodeAt(n);if(a===60)return!1;if(a===62)break}const s=t.src.slice(r+1,n);if(SL.test(s)){const a=t.md.normalizeLink(s);if(!t.md.validateLink(a))return!1;if(!e){const o=t.push("link_open","a",1);o.attrs=[["href",a]],o.markup="autolink",o.info="auto";const u=t.push("text","",0);u.content=t.md.normalizeLinkText(s);const c=t.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return t.pos+=s.length+2,!0}if(NL.test(s)){const a=t.md.normalizeLink("mailto:"+s);if(!t.md.validateLink(a))return!1;if(!e){const o=t.push("link_open","a",1);o.attrs=[["href",a]],o.markup="autolink",o.info="auto";const u=t.push("text","",0);u.content=t.md.normalizeLinkText(s);const c=t.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return t.pos+=s.length+2,!0}return!1}function RL(t){return/^<a[>\s]/i.test(t)}function OL(t){return/^<\/a\s*>/i.test(t)}function ML(t){const e=t|32;return e>=97&&e<=122}function IL(t,e){if(!t.md.options.html)return!1;const n=t.posMax,r=t.pos;if(t.src.charCodeAt(r)!==60||r+2>=n)return!1;const i=t.src.charCodeAt(r+1);if(i!==33&&i!==63&&i!==47&&!ML(i))return!1;const s=t.src.slice(r).match(uL);if(!s)return!1;if(!e){const a=t.push("html_inline","",0);a.content=s[0],RL(a.content)&&t.linkLevel++,OL(a.content)&&t.linkLevel--}return t.pos+=s[0].length,!0}const LL=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,DL=/^&([a-z][a-z0-9]{1,31});/i;function PL(t,e){const n=t.pos,r=t.posMax;if(t.src.charCodeAt(n)!==38||n+1>=r)return!1;if(t.src.charCodeAt(n+1)===35){const s=t.src.slice(n).match(LL);if(s){if(!e){const a=s[1][0].toLowerCase()==="x"?parseInt(s[1].slice(1),16):parseInt(s[1],10),o=t.push("text_special","",0);o.content=db(a)?Nh(a):Nh(65533),o.markup=s[0],o.info="entity"}return t.pos+=s[0].length,!0}}else{const s=t.src.slice(n).match(DL);if(s){const a=DA(s[0]);if(a!==s[0]){if(!e){const o=t.push("text_special","",0);o.content=a,o.markup=s[0],o.info="entity"}return t.pos+=s[0].length,!0}}}return!1}function z1(t){const e={},n=t.length;if(!n)return;let r=0,i=-2;const s=[];for(let a=0;a<n;a++){const o=t[a];if(s.push(0),(t[r].marker!==o.marker||i!==o.token-1)&&(r=a),i=o.token,o.length=o.length||0,!o.close)continue;e.hasOwnProperty(o.marker)||(e[o.marker]=[-1,-1,-1,-1,-1,-1]);const u=e[o.marker][(o.open?3:0)+o.length%3];let c=r-s[r]-1,l=c;for(;c>u;c-=s[c]+1){const h=t[c];if(h.marker===o.marker&&h.open&&h.end<0){let d=!1;if((h.close||o.open)&&(h.length+o.length)%3===0&&(h.length%3!==0||o.length%3!==0)&&(d=!0),!d){const f=c>0&&!t[c-1].open?s[c-1]+1:0;s[a]=a-c+f,s[c]=f,o.open=!1,h.end=a,h.close=!1,l=-1,i=-2;break}}}l!==-1&&(e[o.marker][(o.open?3:0)+(o.length||0)%3]=l)}}function FL(t){const e=t.tokens_meta,n=t.tokens_meta.length;z1(t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&z1(e[r].delimiters)}function $L(t){let e,n,r=0;const i=t.tokens,s=t.tokens.length;for(e=n=0;e<s;e++)i[e].nesting<0&&r--,i[e].level=r,i[e].nesting>0&&r++,i[e].type==="text"&&e+1<s&&i[e+1].type==="text"?i[e+1].content=i[e].content+i[e+1].content:(e!==n&&(i[n]=i[e]),n++);e!==n&&(i.length=n)}const gp=[["text",gL],["linkify",bL],["newline",yL],["escape",vL],["backticks",_L],["strikethrough",zA.tokenize],["emphasis",HA.tokenize],["link",TL],["image",kL],["autolink",CL],["html_inline",IL],["entity",PL]],mp=[["balance_pairs",FL],["strikethrough",zA.postProcess],["emphasis",HA.postProcess],["fragments_join",$L]];function Ec(){this.ruler=new Xn;for(let t=0;t<gp.length;t++)this.ruler.push(gp[t][0],gp[t][1]);this.ruler2=new Xn;for(let t=0;t<mp.length;t++)this.ruler2.push(mp[t][0],mp[t][1])}Ec.prototype.skipToken=function(t){const e=t.pos,n=this.ruler.getRules(""),r=n.length,i=t.md.options.maxNesting,s=t.cache;if(typeof s[e]<"u"){t.pos=s[e];return}let a=!1;if(t.level<i){for(let o=0;o<r;o++)if(t.level++,a=n[o](t,!0),t.level--,a){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;a||t.pos++,s[e]=t.pos};Ec.prototype.tokenize=function(t){const e=this.ruler.getRules(""),n=e.length,r=t.posMax,i=t.md.options.maxNesting;for(;t.pos<r;){const s=t.pos;let a=!1;if(t.level<i){for(let o=0;o<n;o++)if(a=e[o](t,!1),a){if(s>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}if(a){if(t.pos>=r)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};Ec.prototype.parse=function(t,e,n,r){const i=new this.State(t,e,n,r);this.tokenize(i);const s=this.ruler2.getRules(""),a=s.length;for(let o=0;o<a;o++)s[o](i)};Ec.prototype.State=_c;function UL(t){const e={};t=t||{},e.src_Any=RA.source,e.src_Cc=OA.source,e.src_Z=IA.source,e.src_P=hb.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function jg(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(r){t[r]=n[r]})}),t}function ud(t){return Object.prototype.toString.call(t)}function BL(t){return ud(t)==="[object String]"}function GL(t){return ud(t)==="[object Object]"}function zL(t){return ud(t)==="[object RegExp]"}function H1(t){return ud(t)==="[object Function]"}function HL(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const WA={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function WL(t){return Object.keys(t||{}).reduce(function(e,n){return e||WA.hasOwnProperty(n)},!1)}const YL={"http:":{validate:function(t,e,n){const r=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){const r=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){const r=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},qL="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",XL="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function VL(t){t.__index__=-1,t.__text_cache__=""}function KL(t){return function(e,n){const r=e.slice(n);return t.test(r)?r.match(t)[0].length:0}}function W1(){return function(t,e){e.normalize(t)}}function Sh(t){const e=t.re=UL(t.__opts__),n=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||n.push(qL),n.push(e.src_xn),e.src_tlds=n.join("|");function r(o){return o.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(r(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(r(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(r(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(r(e.tpl_host_fuzzy_test),"i");const i=[];t.__compiled__={};function s(o,u){throw new Error('(LinkifyIt) Invalid schema "'+o+'": '+u)}Object.keys(t.__schemas__).forEach(function(o){const u=t.__schemas__[o];if(u===null)return;const c={validate:null,link:null};if(t.__compiled__[o]=c,GL(u)){zL(u.validate)?c.validate=KL(u.validate):H1(u.validate)?c.validate=u.validate:s(o,u),H1(u.normalize)?c.normalize=u.normalize:u.normalize?s(o,u):c.normalize=W1();return}if(BL(u)){i.push(o);return}s(o,u)}),i.forEach(function(o){t.__compiled__[t.__schemas__[o]]&&(t.__compiled__[o].validate=t.__compiled__[t.__schemas__[o]].validate,t.__compiled__[o].normalize=t.__compiled__[t.__schemas__[o]].normalize)}),t.__compiled__[""]={validate:null,normalize:W1()};const a=Object.keys(t.__compiled__).filter(function(o){return o.length>0&&t.__compiled__[o]}).map(HL).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+a+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+a+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),VL(t)}function ZL(t,e){const n=t.__index__,r=t.__last_index__,i=t.__text_cache__.slice(n,r);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=r+e,this.raw=i,this.text=i,this.url=i}function Qg(t,e){const n=new ZL(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function lr(t,e){if(!(this instanceof lr))return new lr(t,e);e||WL(t)&&(e=t,t={}),this.__opts__=jg({},WA,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=jg({},YL,t),this.__compiled__={},this.__tlds__=XL,this.__tlds_replaced__=!1,this.re={},Sh(this)}lr.prototype.add=function(e,n){return this.__schemas__[e]=n,Sh(this),this};lr.prototype.set=function(e){return this.__opts__=jg(this.__opts__,e),this};lr.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let n,r,i,s,a,o,u,c,l;if(this.re.schema_test.test(e)){for(u=this.re.schema_search,u.lastIndex=0;(n=u.exec(e))!==null;)if(s=this.testSchemaAt(e,n[2],u.lastIndex),s){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(a=r.index+r[1].length,(this.__index__<0||a<this.__index__)&&(this.__schema__="",this.__index__=a,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(l=e.indexOf("@"),l>=0&&(i=e.match(this.re.email_fuzzy))!==null&&(a=i.index+i[1].length,o=i.index+i[0].length,(this.__index__<0||a<this.__index__||a===this.__index__&&o>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=a,this.__last_index__=o))),this.__index__>=0};lr.prototype.pretest=function(e){return this.re.pretest.test(e)};lr.prototype.testSchemaAt=function(e,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,r,this):0};lr.prototype.match=function(e){const n=[];let r=0;this.__index__>=0&&this.__text_cache__===e&&(n.push(Qg(this,r)),r=this.__last_index__);let i=r?e.slice(r):e;for(;this.test(i);)n.push(Qg(this,r)),i=i.slice(this.__last_index__),r+=this.__last_index__;return n.length?n:null};lr.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const n=this.re.schema_at_start.exec(e);if(!n)return null;const r=this.testSchemaAt(e,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,Qg(this,0)):null};lr.prototype.tlds=function(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(r,i,s){return r!==s[i-1]}).reverse(),Sh(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,Sh(this),this)};lr.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};lr.prototype.onCompile=function(){};const Ca=2147483647,oi=36,mb=1,Zu=26,jL=38,QL=700,YA=72,qA=128,XA="-",JL=/^xn--/,eD=/[^\0-\x7F]/,tD=/[\x2E\u3002\uFF0E\uFF61]/g,nD={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},bp=oi-mb,ui=Math.floor,yp=String.fromCharCode;function qi(t){throw new RangeError(nD[t])}function rD(t,e){const n=[];let r=t.length;for(;r--;)n[r]=e(t[r]);return n}function VA(t,e){const n=t.split("@");let r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(tD,".");const i=t.split("."),s=rD(i,e).join(".");return r+s}function KA(t){const e=[];let n=0;const r=t.length;for(;n<r;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}const iD=t=>String.fromCodePoint(...t),sD=function(t){return t>=48&&t<58?26+(t-48):t>=65&&t<91?t-65:t>=97&&t<123?t-97:oi},Y1=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},ZA=function(t,e,n){let r=0;for(t=n?ui(t/QL):t>>1,t+=ui(t/e);t>bp*Zu>>1;r+=oi)t=ui(t/bp);return ui(r+(bp+1)*t/(t+jL))},jA=function(t){const e=[],n=t.length;let r=0,i=qA,s=YA,a=t.lastIndexOf(XA);a<0&&(a=0);for(let o=0;o<a;++o)t.charCodeAt(o)>=128&&qi("not-basic"),e.push(t.charCodeAt(o));for(let o=a>0?a+1:0;o<n;){const u=r;for(let l=1,h=oi;;h+=oi){o>=n&&qi("invalid-input");const d=sD(t.charCodeAt(o++));d>=oi&&qi("invalid-input"),d>ui((Ca-r)/l)&&qi("overflow"),r+=d*l;const f=h<=s?mb:h>=s+Zu?Zu:h-s;if(d<f)break;const p=oi-f;l>ui(Ca/p)&&qi("overflow"),l*=p}const c=e.length+1;s=ZA(r-u,c,u==0),ui(r/c)>Ca-i&&qi("overflow"),i+=ui(r/c),r%=c,e.splice(r++,0,i)}return String.fromCodePoint(...e)},QA=function(t){const e=[];t=KA(t);const n=t.length;let r=qA,i=0,s=YA;for(const u of t)u<128&&e.push(yp(u));const a=e.length;let o=a;for(a&&e.push(XA);o<n;){let u=Ca;for(const l of t)l>=r&&l<u&&(u=l);const c=o+1;u-r>ui((Ca-i)/c)&&qi("overflow"),i+=(u-r)*c,r=u;for(const l of t)if(l<r&&++i>Ca&&qi("overflow"),l===r){let h=i;for(let d=oi;;d+=oi){const f=d<=s?mb:d>=s+Zu?Zu:d-s;if(h<f)break;const p=h-f,g=oi-f;e.push(yp(Y1(f+p%g,0))),h=ui(p/g)}e.push(yp(Y1(h,0))),s=ZA(i,c,o===a),i=0,++o}++i,++r}return e.join("")},aD=function(t){return VA(t,function(e){return JL.test(e)?jA(e.slice(4).toLowerCase()):e})},oD=function(t){return VA(t,function(e){return eD.test(e)?"xn--"+QA(e):e})},JA={version:"2.3.1",ucs2:{decode:KA,encode:iD},decode:jA,encode:QA,toASCII:oD,toUnicode:aD},uD={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},cD={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},lD={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},hD={default:uD,zero:cD,commonmark:lD},fD=/^(vbscript|javascript|file|data):/,dD=/^data:image\/(gif|png|jpeg|webp);/;function pD(t){const e=t.trim().toLowerCase();return fD.test(e)?dD.test(e):!0}const eT=["http:","https:","mailto:"];function gD(t){const e=lb(t,!0);if(e.hostname&&(!e.protocol||eT.indexOf(e.protocol)>=0))try{e.hostname=JA.toASCII(e.hostname)}catch{}return vc(cb(e))}function mD(t){const e=lb(t,!0);if(e.hostname&&(!e.protocol||eT.indexOf(e.protocol)>=0))try{e.hostname=JA.toUnicode(e.hostname)}catch{}return Ga(cb(e),Ga.defaultChars+"%")}function Br(t,e){if(!(this instanceof Br))return new Br(t,e);e||fb(t)||(e=t||{},t="default"),this.inline=new Ec,this.block=new od,this.core=new pb,this.renderer=new ao,this.linkify=new lr,this.validateLink=pD,this.normalizeLink=gD,this.normalizeLinkText=mD,this.utils=yI,this.helpers=sd({},xI),this.options={},this.configure(t),e&&this.set(e)}Br.prototype.set=function(t){return sd(this.options,t),this};Br.prototype.configure=function(t){const e=this;if(fb(t)){const n=t;if(t=hD[n],!t)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(n){t.components[n].rules&&e[n].ruler.enableOnly(t.components[n].rules),t.components[n].rules2&&e[n].ruler2.enableOnly(t.components[n].rules2)}),this};Br.prototype.enable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(i){n=n.concat(this[i].ruler.enable(t,!0))},this),n=n.concat(this.inline.ruler2.enable(t,!0));const r=t.filter(function(i){return n.indexOf(i)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this};Br.prototype.disable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(i){n=n.concat(this[i].ruler.disable(t,!0))},this),n=n.concat(this.inline.ruler2.disable(t,!0));const r=t.filter(function(i){return n.indexOf(i)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this};Br.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};Br.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");const n=new this.core.State(t,this,e);return this.core.process(n),n.tokens};Br.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};Br.prototype.parseInline=function(t,e){const n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens};Br.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};function In(t){this.content=t}In.prototype={constructor:In,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new In(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new In(n)},addToStart:function(t,e){return new In([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new In(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new In(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=In.from(t),t.size?new In(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=In.from(t),t.size?new In(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=In.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};In.from=function(t){if(t instanceof In)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new In(e)};var Ps={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ch={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},bD=typeof navigator<"u"&&/Mac/.test(navigator.platform),yD=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var dn=0;dn<10;dn++)Ps[48+dn]=Ps[96+dn]=String(dn);for(var dn=1;dn<=24;dn++)Ps[dn+111]="F"+dn;for(var dn=65;dn<=90;dn++)Ps[dn]=String.fromCharCode(dn+32),Ch[dn]=String.fromCharCode(dn);for(var vp in Ps)Ch.hasOwnProperty(vp)||(Ch[vp]=Ps[vp]);function uK(t){var e=bD&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||yD&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Ch:Ps)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function bb(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var js=bb();function tT(t){js=t}var Du={exec:()=>null};function rt(t,e=""){let n=typeof t=="string"?t:t.source;const r={replace:(i,s)=>{let a=typeof s=="string"?s:s.source;return a=a.replace(Dn.caret,"$1"),n=n.replace(i,a),r},getRegex:()=>new RegExp(n,e)};return r}var Dn={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},vD=/^(?:[ \t]*(?:\n|$))+/,_D=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,ED=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,xc=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,xD=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,yb=/(?:[*+-]|\d{1,9}[.)])/,nT=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,rT=rt(nT).replace(/bull/g,yb).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),wD=rt(nT).replace(/bull/g,yb).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),vb=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,AD=/^[^\n]+/,_b=/(?!\s*\])(?:\\.|[^\[\]\\])+/,TD=rt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",_b).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),kD=rt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,yb).getRegex(),cd="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Eb=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,ND=rt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Eb).replace("tag",cd).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),iT=rt(vb).replace("hr",xc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",cd).getRegex(),SD=rt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",iT).getRegex(),xb={blockquote:SD,code:_D,def:TD,fences:ED,heading:xD,hr:xc,html:ND,lheading:rT,list:kD,newline:vD,paragraph:iT,table:Du,text:AD},q1=rt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",xc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",cd).getRegex(),CD={...xb,lheading:wD,table:q1,paragraph:rt(vb).replace("hr",xc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",q1).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",cd).getRegex()},RD={...xb,html:rt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Eb).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Du,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:rt(vb).replace("hr",xc).replace("heading",` *#{1,6} *[^
]`).replace("lheading",rT).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},OD=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,MD=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,sT=/^( {2,}|\\)\n(?!\s*$)/,ID=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ld=/[\p{P}\p{S}]/u,wb=/[\s\p{P}\p{S}]/u,aT=/[^\s\p{P}\p{S}]/u,LD=rt(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,wb).getRegex(),oT=/(?!~)[\p{P}\p{S}]/u,DD=/(?!~)[\s\p{P}\p{S}]/u,PD=/(?:[^\s\p{P}\p{S}]|~)/u,FD=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,uT=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,$D=rt(uT,"u").replace(/punct/g,ld).getRegex(),UD=rt(uT,"u").replace(/punct/g,oT).getRegex(),cT="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",BD=rt(cT,"gu").replace(/notPunctSpace/g,aT).replace(/punctSpace/g,wb).replace(/punct/g,ld).getRegex(),GD=rt(cT,"gu").replace(/notPunctSpace/g,PD).replace(/punctSpace/g,DD).replace(/punct/g,oT).getRegex(),zD=rt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,aT).replace(/punctSpace/g,wb).replace(/punct/g,ld).getRegex(),HD=rt(/\\(punct)/,"gu").replace(/punct/g,ld).getRegex(),WD=rt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),YD=rt(Eb).replace("(?:-->|$)","-->").getRegex(),qD=rt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",YD).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Rh=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,XD=rt(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Rh).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),lT=rt(/^!?\[(label)\]\[(ref)\]/).replace("label",Rh).replace("ref",_b).getRegex(),hT=rt(/^!?\[(ref)\](?:\[\])?/).replace("ref",_b).getRegex(),VD=rt("reflink|nolink(?!\\()","g").replace("reflink",lT).replace("nolink",hT).getRegex(),Ab={_backpedal:Du,anyPunctuation:HD,autolink:WD,blockSkip:FD,br:sT,code:MD,del:Du,emStrongLDelim:$D,emStrongRDelimAst:BD,emStrongRDelimUnd:zD,escape:OD,link:XD,nolink:hT,punctuation:LD,reflink:lT,reflinkSearch:VD,tag:qD,text:ID,url:Du},KD={...Ab,link:rt(/^!?\[(label)\]\((.*?)\)/).replace("label",Rh).getRegex(),reflink:rt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Rh).getRegex()},Jg={...Ab,emStrongRDelimAst:GD,emStrongLDelim:UD,url:rt(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},ZD={...Jg,br:rt(sT).replace("{2,}","*").getRegex(),text:rt(Jg.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},el={normal:xb,gfm:CD,pedantic:RD},yo={normal:Ab,gfm:Jg,breaks:ZD,pedantic:KD},jD={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},X1=t=>jD[t];function jr(t,e){if(e){if(Dn.escapeTest.test(t))return t.replace(Dn.escapeReplace,X1)}else if(Dn.escapeTestNoEncode.test(t))return t.replace(Dn.escapeReplaceNoEncode,X1);return t}function V1(t){try{t=encodeURI(t).replace(Dn.percentDecode,"%")}catch{return null}return t}function K1(t,e){var s;const n=t.replace(Dn.findPipe,(a,o,u)=>{let c=!1,l=o;for(;--l>=0&&u[l]==="\\";)c=!c;return c?"|":" |"}),r=n.split(Dn.splitPipe);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!((s=r.at(-1))!=null&&s.trim())&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(Dn.slashPipe,"|");return r}function vo(t,e,n){const r=t.length;if(r===0)return"";let i=0;for(;i<r&&t.charAt(r-i-1)===e;)i++;return t.slice(0,r-i)}function QD(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function Z1(t,e,n,r,i){const s=e.href,a=e.title||null,o=t[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;const u={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:a,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,u}function JD(t,e,n){const r=t.match(n.other.indentCodeCompensation);if(r===null)return e;const i=r[1];return e.split(`
`).map(s=>{const a=s.match(n.other.beginningSpace);if(a===null)return s;const[o]=a;return o.length>=i.length?s.slice(i.length):s}).join(`
`)}var Oh=class{constructor(t){_e(this,"options");_e(this,"rules");_e(this,"lexer");this.options=t||js}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const n=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:vo(n,`
`)}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const n=e[0],r=JD(n,e[3]||"",this.rules);return{type:"code",raw:n,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:r}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let n=e[2].trim();if(this.rules.other.endingHash.test(n)){const r=vo(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:vo(e[0],`
`)}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){let n=vo(e[0],`
`).split(`
`),r="",i="";const s=[];for(;n.length>0;){let a=!1;const o=[];let u;for(u=0;u<n.length;u++)if(this.rules.other.blockquoteStart.test(n[u]))o.push(n[u]),a=!0;else if(!a)o.push(n[u]);else break;n=n.slice(u);const c=o.join(`
`),l=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${c}`:c,i=i?`${i}
${l}`:l;const h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(l,s,!0),this.lexer.state.top=h,n.length===0)break;const d=s.at(-1);if((d==null?void 0:d.type)==="code")break;if((d==null?void 0:d.type)==="blockquote"){const f=d,p=f.raw+`
`+n.join(`
`),g=this.blockquote(p);s[s.length-1]=g,r=r.substring(0,r.length-f.raw.length)+g.raw,i=i.substring(0,i.length-f.text.length)+g.text;break}else if((d==null?void 0:d.type)==="list"){const f=d,p=f.raw+`
`+n.join(`
`),g=this.list(p);s[s.length-1]=g,r=r.substring(0,r.length-d.raw.length)+g.raw,i=i.substring(0,i.length-f.raw.length)+g.raw,n=p.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:s,text:i}}}list(t){let e=this.rules.block.list.exec(t);if(e){let n=e[1].trim();const r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const s=this.rules.other.listItemRegex(n);let a=!1;for(;t;){let u=!1,c="",l="";if(!(e=s.exec(t))||this.rules.block.hr.test(t))break;c=e[0],t=t.substring(c.length);let h=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,b=>" ".repeat(3*b.length)),d=t.split(`
`,1)[0],f=!h.trim(),p=0;if(this.options.pedantic?(p=2,l=h.trimStart()):f?p=e[1].length+1:(p=e[2].search(this.rules.other.nonSpaceChar),p=p>4?1:p,l=h.slice(p),p+=e[1].length),f&&this.rules.other.blankLine.test(d)&&(c+=d+`
`,t=t.substring(d.length+1),u=!0),!u){const b=this.rules.other.nextBulletRegex(p),v=this.rules.other.hrRegex(p),y=this.rules.other.fencesBeginRegex(p),_=this.rules.other.headingBeginRegex(p),w=this.rules.other.htmlBeginRegex(p);for(;t;){const k=t.split(`
`,1)[0];let x;if(d=k,this.options.pedantic?(d=d.replace(this.rules.other.listReplaceNesting,"  "),x=d):x=d.replace(this.rules.other.tabCharGlobal,"    "),y.test(d)||_.test(d)||w.test(d)||b.test(d)||v.test(d))break;if(x.search(this.rules.other.nonSpaceChar)>=p||!d.trim())l+=`
`+x.slice(p);else{if(f||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||y.test(h)||_.test(h)||v.test(h))break;l+=`
`+d}!f&&!d.trim()&&(f=!0),c+=k+`
`,t=t.substring(k.length+1),h=x.slice(p)}}i.loose||(a?i.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(a=!0));let g=null,m;this.options.gfm&&(g=this.rules.other.listIsTask.exec(l),g&&(m=g[0]!=="[ ] ",l=l.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:c,task:!!g,checked:m,loose:!1,text:l,tokens:[]}),i.raw+=c}const o=i.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let u=0;u<i.items.length;u++)if(this.lexer.state.top=!1,i.items[u].tokens=this.lexer.blockTokens(i.items[u].text,[]),!i.loose){const c=i.items[u].tokens.filter(h=>h.type==="space"),l=c.length>0&&c.some(h=>this.rules.other.anyLine.test(h.raw));i.loose=l}if(i.loose)for(let u=0;u<i.items.length;u++)i.items[u].loose=!0;return i}}html(t){const e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){const e=this.rules.block.def.exec(t);if(e){const n=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:n,raw:e[0],href:r,title:i}}}table(t){var a;const e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;const n=K1(e[1]),r=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=(a=e[3])!=null&&a.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:e[0],header:[],align:[],rows:[]};if(n.length===r.length){for(const o of r)this.rules.other.tableAlignRight.test(o)?s.align.push("right"):this.rules.other.tableAlignCenter.test(o)?s.align.push("center"):this.rules.other.tableAlignLeft.test(o)?s.align.push("left"):s.align.push(null);for(let o=0;o<n.length;o++)s.header.push({text:n[o],tokens:this.lexer.inline(n[o]),header:!0,align:s.align[o]});for(const o of i)s.rows.push(K1(o,s.header.length).map((u,c)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:s.align[c]})));return s}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const n=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:n,tokens:this.lexer.inline(n)}}}text(t){const e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const n=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const s=vo(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{const s=QD(e[2],"()");if(s===-2)return;if(s>-1){const o=(e[0].indexOf("!")===0?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,o).trim(),e[3]=""}}let r=e[2],i="";if(this.options.pedantic){const s=this.rules.other.pedanticHrefTitle.exec(r);s&&(r=s[1],i=s[3])}else i=e[3]?e[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),Z1(e,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){const r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=e[r.toLowerCase()];if(!i){const s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return Z1(n,i,n[0],this.lexer,this.rules)}}emStrong(t,e,n=""){let r=this.rules.inline.emStrongLDelim.exec(t);if(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(r[1]||r[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const s=[...r[0]].length-1;let a,o,u=s,c=0;const l=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,e=e.slice(-1*t.length+s);(r=l.exec(e))!=null;){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a)continue;if(o=[...a].length,r[3]||r[4]){u+=o;continue}else if((r[5]||r[6])&&s%3&&!((s+o)%3)){c+=o;continue}if(u-=o,u>0)continue;o=Math.min(o,o+u+c);const h=[...r[0]][0].length,d=t.slice(0,s+r.index+h+o);if(Math.min(s,o)%2){const p=d.slice(1,-1);return{type:"em",raw:d,text:p,tokens:this.lexer.inlineTokens(p)}}const f=d.slice(2,-2);return{type:"strong",raw:d,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let n=e[2].replace(this.rules.other.newLineCharGlobal," ");const r=this.rules.other.nonSpaceChar.test(n),i=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&i&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:e[0],text:n}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){const e=this.rules.inline.autolink.exec(t);if(e){let n,r;return e[2]==="@"?(n=e[1],r="mailto:"+n):(n=e[1],r=n),{type:"link",raw:e[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(t){var n;let e;if(e=this.rules.inline.url.exec(t)){let r,i;if(e[2]==="@")r=e[0],i="mailto:"+r;else{let s;do s=e[0],e[0]=((n=this.rules.inline._backpedal.exec(e[0]))==null?void 0:n[0])??"";while(s!==e[0]);r=e[0],e[1]==="www."?i="http://"+e[0]:i=e[0]}return{type:"link",raw:e[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(t){const e=this.rules.inline.text.exec(t);if(e){const n=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:n}}}},Ni=class e0{constructor(e){_e(this,"tokens");_e(this,"options");_e(this,"state");_e(this,"tokenizer");_e(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||js,this.options.tokenizer=this.options.tokenizer||new Oh,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={other:Dn,block:el.normal,inline:yo.normal};this.options.pedantic?(n.block=el.pedantic,n.inline=yo.pedantic):this.options.gfm&&(n.block=el.gfm,this.options.breaks?n.inline=yo.breaks:n.inline=yo.gfm),this.tokenizer.rules=n}static get rules(){return{block:el,inline:yo}}static lex(e,n){return new e0(n).lex(e)}static lexInline(e,n){return new e0(n).inlineTokens(e)}lex(e){e=e.replace(Dn.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){var i,s,a;for(this.options.pedantic&&(e=e.replace(Dn.tabCharGlobal,"    ").replace(Dn.spaceLine,""));e;){let o;if((s=(i=this.options.extensions)==null?void 0:i.block)!=null&&s.some(c=>(o=c.call({lexer:this},e,n))?(e=e.substring(o.raw.length),n.push(o),!0):!1))continue;if(o=this.tokenizer.space(e)){e=e.substring(o.raw.length);const c=n.at(-1);o.raw.length===1&&c!==void 0?c.raw+=`
`:n.push(o);continue}if(o=this.tokenizer.code(e)){e=e.substring(o.raw.length);const c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+o.raw,c.text+=`
`+o.text,this.inlineQueue.at(-1).src=c.text):n.push(o);continue}if(o=this.tokenizer.fences(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.heading(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.hr(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.blockquote(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.list(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.html(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.def(e)){e=e.substring(o.raw.length);const c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+o.raw,c.text+=`
`+o.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.lheading(e)){e=e.substring(o.raw.length),n.push(o);continue}let u=e;if((a=this.options.extensions)!=null&&a.startBlock){let c=1/0;const l=e.slice(1);let h;this.options.extensions.startBlock.forEach(d=>{h=d.call({lexer:this},l),typeof h=="number"&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(u=e.substring(0,c+1))}if(this.state.top&&(o=this.tokenizer.paragraph(u))){const c=n.at(-1);r&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=`
`+o.raw,c.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(o),r=u.length!==e.length,e=e.substring(o.raw.length);continue}if(o=this.tokenizer.text(e)){e=e.substring(o.raw.length);const c=n.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=`
`+o.raw,c.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(o);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){var o,u,c;let r=e,i=null;if(this.tokens.links){const l=Object.keys(this.tokens.links);if(l.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)l.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let s=!1,a="";for(;e;){s||(a=""),s=!1;let l;if((u=(o=this.options.extensions)==null?void 0:o.inline)!=null&&u.some(d=>(l=d.call({lexer:this},e,n))?(e=e.substring(l.raw.length),n.push(l),!0):!1))continue;if(l=this.tokenizer.escape(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.tag(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.link(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(l.raw.length);const d=n.at(-1);l.type==="text"&&(d==null?void 0:d.type)==="text"?(d.raw+=l.raw,d.text+=l.text):n.push(l);continue}if(l=this.tokenizer.emStrong(e,r,a)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.codespan(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.br(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.del(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.autolink(e)){e=e.substring(l.raw.length),n.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(e))){e=e.substring(l.raw.length),n.push(l);continue}let h=e;if((c=this.options.extensions)!=null&&c.startInline){let d=1/0;const f=e.slice(1);let p;this.options.extensions.startInline.forEach(g=>{p=g.call({lexer:this},f),typeof p=="number"&&p>=0&&(d=Math.min(d,p))}),d<1/0&&d>=0&&(h=e.substring(0,d+1))}if(l=this.tokenizer.inlineText(h)){e=e.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(a=l.raw.slice(-1)),s=!0;const d=n.at(-1);(d==null?void 0:d.type)==="text"?(d.raw+=l.raw,d.text+=l.text):n.push(l);continue}if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return n}},Mh=class{constructor(t){_e(this,"options");_e(this,"parser");this.options=t||js}space(t){return""}code({text:t,lang:e,escaped:n}){var s;const r=(s=(e||"").match(Dn.notSpaceStart))==null?void 0:s[0],i=t.replace(Dn.endingNewline,"")+`
`;return r?'<pre><code class="language-'+jr(r)+'">'+(n?i:jr(i,!0))+`</code></pre>
`:"<pre><code>"+(n?i:jr(i,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){const e=t.ordered,n=t.start;let r="";for(let a=0;a<t.items.length;a++){const o=t.items[a];r+=this.listitem(o)}const i=e?"ol":"ul",s=e&&n!==1?' start="'+n+'"':"";return"<"+i+s+`>
`+r+"</"+i+`>
`}listitem(t){var n;let e="";if(t.task){const r=this.checkbox({checked:!!t.checked});t.loose?((n=t.tokens[0])==null?void 0:n.type)==="paragraph"?(t.tokens[0].text=r+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=r+" "+jr(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):e+=r+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",n="";for(let i=0;i<t.header.length;i++)n+=this.tablecell(t.header[i]);e+=this.tablerow({text:n});let r="";for(let i=0;i<t.rows.length;i++){const s=t.rows[i];n="";for(let a=0;a<s.length;a++)n+=this.tablecell(s[a]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){const e=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${jr(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){const r=this.parser.parseInline(n),i=V1(t);if(i===null)return r;t=i;let s='<a href="'+t+'"';return e&&(s+=' title="'+jr(e)+'"'),s+=">"+r+"</a>",s}image({href:t,title:e,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));const i=V1(t);if(i===null)return jr(n);t=i;let s=`<img src="${t}" alt="${n}"`;return e&&(s+=` title="${jr(e)}"`),s+=">",s}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:jr(t.text)}},Tb=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},Si=class t0{constructor(e){_e(this,"options");_e(this,"renderer");_e(this,"textRenderer");this.options=e||js,this.options.renderer=this.options.renderer||new Mh,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Tb}static parse(e,n){return new t0(n).parse(e)}static parseInline(e,n){return new t0(n).parseInline(e)}parse(e,n=!0){var i,s;let r="";for(let a=0;a<e.length;a++){const o=e[a];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[o.type]){const c=o,l=this.options.extensions.renderers[c.type].call({parser:this},c);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)){r+=l||"";continue}}const u=o;switch(u.type){case"space":{r+=this.renderer.space(u);continue}case"hr":{r+=this.renderer.hr(u);continue}case"heading":{r+=this.renderer.heading(u);continue}case"code":{r+=this.renderer.code(u);continue}case"table":{r+=this.renderer.table(u);continue}case"blockquote":{r+=this.renderer.blockquote(u);continue}case"list":{r+=this.renderer.list(u);continue}case"html":{r+=this.renderer.html(u);continue}case"paragraph":{r+=this.renderer.paragraph(u);continue}case"text":{let c=u,l=this.renderer.text(c);for(;a+1<e.length&&e[a+1].type==="text";)c=e[++a],l+=`
`+this.renderer.text(c);n?r+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):r+=l;continue}default:{const c='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}parseInline(e,n=this.renderer){var i,s;let r="";for(let a=0;a<e.length;a++){const o=e[a];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[o.type]){const c=this.options.extensions.renderers[o.type].call({parser:this},o);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){r+=c||"";continue}}const u=o;switch(u.type){case"escape":{r+=n.text(u);break}case"html":{r+=n.html(u);break}case"link":{r+=n.link(u);break}case"image":{r+=n.image(u);break}case"strong":{r+=n.strong(u);break}case"em":{r+=n.em(u);break}case"codespan":{r+=n.codespan(u);break}case"br":{r+=n.br(u);break}case"del":{r+=n.del(u);break}case"text":{r+=n.text(u);break}default:{const c='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}},kg,Wl=(kg=class{constructor(t){_e(this,"options");_e(this,"block");this.options=t||js}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?Ni.lex:Ni.lexInline}provideParser(){return this.block?Si.parse:Si.parseInline}},_e(kg,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),kg),e3=class{constructor(...t){_e(this,"defaults",bb());_e(this,"options",this.setOptions);_e(this,"parse",this.parseMarkdown(!0));_e(this,"parseInline",this.parseMarkdown(!1));_e(this,"Parser",Si);_e(this,"Renderer",Mh);_e(this,"TextRenderer",Tb);_e(this,"Lexer",Ni);_e(this,"Tokenizer",Oh);_e(this,"Hooks",Wl);this.use(...t)}walkTokens(t,e){var r,i;let n=[];for(const s of t)switch(n=n.concat(e.call(this,s)),s.type){case"table":{const a=s;for(const o of a.header)n=n.concat(this.walkTokens(o.tokens,e));for(const o of a.rows)for(const u of o)n=n.concat(this.walkTokens(u.tokens,e));break}case"list":{const a=s;n=n.concat(this.walkTokens(a.items,e));break}default:{const a=s;(i=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&i[a.type]?this.defaults.extensions.childTokens[a.type].forEach(o=>{const u=a[o].flat(1/0);n=n.concat(this.walkTokens(u,e))}):a.tokens&&(n=n.concat(this.walkTokens(a.tokens,e)))}}return n}use(...t){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{const r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const s=e.renderers[i.name];s?e.renderers[i.name]=function(...a){let o=i.renderer.apply(this,a);return o===!1&&(o=s.apply(this,a)),o}:e.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=e[i.level];s?s.unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&(i.level==="block"?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:i.level==="inline"&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),r.extensions=e),n.renderer){const i=this.defaults.renderer||new Mh(this.defaults);for(const s in n.renderer){if(!(s in i))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;const a=s,o=n.renderer[a],u=i[a];i[a]=(...c)=>{let l=o.apply(i,c);return l===!1&&(l=u.apply(i,c)),l||""}}r.renderer=i}if(n.tokenizer){const i=this.defaults.tokenizer||new Oh(this.defaults);for(const s in n.tokenizer){if(!(s in i))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const a=s,o=n.tokenizer[a],u=i[a];i[a]=(...c)=>{let l=o.apply(i,c);return l===!1&&(l=u.apply(i,c)),l}}r.tokenizer=i}if(n.hooks){const i=this.defaults.hooks||new Wl;for(const s in n.hooks){if(!(s in i))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;const a=s,o=n.hooks[a],u=i[a];Wl.passThroughHooks.has(s)?i[a]=c=>{if(this.defaults.async)return Promise.resolve(o.call(i,c)).then(h=>u.call(i,h));const l=o.call(i,c);return u.call(i,l)}:i[a]=(...c)=>{let l=o.apply(i,c);return l===!1&&(l=u.apply(i,c)),l}}r.hooks=i}if(n.walkTokens){const i=this.defaults.walkTokens,s=n.walkTokens;r.walkTokens=function(a){let o=[];return o.push(s.call(this,a)),i&&(o=o.concat(i.call(this,a))),o}}this.defaults={...this.defaults,...r}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return Ni.lex(t,e??this.defaults)}parser(t,e){return Si.parse(t,e??this.defaults)}parseMarkdown(t){return(n,r)=>{const i={...r},s={...this.defaults,...i},a=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=t);const o=s.hooks?s.hooks.provideLexer():t?Ni.lex:Ni.lexInline,u=s.hooks?s.hooks.provideParser():t?Si.parse:Si.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(n):n).then(c=>o(c,s)).then(c=>s.hooks?s.hooks.processAllTokens(c):c).then(c=>s.walkTokens?Promise.all(this.walkTokens(c,s.walkTokens)).then(()=>c):c).then(c=>u(c,s)).then(c=>s.hooks?s.hooks.postprocess(c):c).catch(a);try{s.hooks&&(n=s.hooks.preprocess(n));let c=o(n,s);s.hooks&&(c=s.hooks.processAllTokens(c)),s.walkTokens&&this.walkTokens(c,s.walkTokens);let l=u(c,s);return s.hooks&&(l=s.hooks.postprocess(l)),l}catch(c){return a(c)}}}onError(t,e){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const r="<p>An error occurred:</p><pre>"+jr(n.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(n);throw n}}},Fs=new e3;function ct(t,e){return Fs.parse(t,e)}ct.options=ct.setOptions=function(t){return Fs.setOptions(t),ct.defaults=Fs.defaults,tT(ct.defaults),ct};ct.getDefaults=bb;ct.defaults=js;ct.use=function(...t){return Fs.use(...t),ct.defaults=Fs.defaults,tT(ct.defaults),ct};ct.walkTokens=function(t,e){return Fs.walkTokens(t,e)};ct.parseInline=Fs.parseInline;ct.Parser=Si;ct.parser=Si.parse;ct.Renderer=Mh;ct.TextRenderer=Tb;ct.Lexer=Ni;ct.lexer=Ni.lex;ct.Tokenizer=Oh;ct.Hooks=Wl;ct.parse=ct;ct.options;ct.setOptions;ct.use;ct.walkTokens;ct.parseInline;Si.parse;Ni.lex;const Qi=()=>new Map,cK=t=>{const e=Qi();return t.forEach((n,r)=>{e.set(r,n)}),e},t3=(t,e,n)=>{let r=t.get(e);return r===void 0&&t.set(e,r=n()),r},n3=(t,e)=>{const n=[];for(const[r,i]of t)n.push(e(i,r));return n},lK=(t,e)=>{for(const[n,r]of t)if(e(r,n))return!0;return!1},fT=()=>new Set,hK=t=>t[t.length-1],fK=(t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n])},r3=Array.from,kb=(t,e)=>{for(let n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0},dT=(t,e)=>{for(let n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1},i3=(t,e)=>{const n=new Array(t);for(let r=0;r<t;r++)n[r]=e(r,n);return n},hd=Array.isArray;class dK{constructor(){this._observers=Qi()}on(e,n){return t3(this._observers,e,fT).add(n),n}once(e,n){const r=(...i)=>{this.off(e,r),n(...i)};this.on(e,r)}off(e,n){const r=this._observers.get(e);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(e))}emit(e,n){return r3((this._observers.get(e)||Qi()).values()).forEach(r=>r(...n))}destroy(){this._observers=Qi()}}const $s=Math.floor,s3=Math.abs,a3=(t,e)=>t<e?t:e,pT=(t,e)=>t>e?t:e,gT=t=>t!==0?t<0:1/t<0,pK=1,gK=2,mK=4,bK=8,yK=32,mT=64,Ha=128,vK=31,n0=63,Os=127,o3=2147483647,Ih=Number.MAX_SAFE_INTEGER,j1=Number.MIN_SAFE_INTEGER,u3=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&$s(t)===t),c3=String.fromCharCode,l3=t=>t.toLowerCase(),h3=/^\s*/g,f3=t=>t.replace(h3,""),d3=/([A-Z])/g,Q1=(t,e)=>f3(t.replace(d3,n=>`${e}${l3(n)}`)),p3=t=>{const e=unescape(encodeURIComponent(t)),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.codePointAt(i);return r},ju=typeof TextEncoder<"u"?new TextEncoder:null,g3=t=>ju.encode(t),m3=ju?g3:p3;let Pu=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Pu&&Pu.decode(new Uint8Array).length===1&&(Pu=null);const b3=(t,e)=>i3(e,()=>t).join("");class wc{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const _K=()=>new wc,y3=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},Nb=t=>{const e=new Uint8Array(y3(t));let n=0;for(let r=0;r<t.bufs.length;r++){const i=t.bufs[r];e.set(i,n),n+=i.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},v3=(t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(pT(n,e)*2),t.cpos=0)},jt=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},EK=jt,ts=(t,e)=>{for(;e>Os;)jt(t,Ha|Os&e),e=$s(e/128);jt(t,Os&e)},Sb=(t,e)=>{const n=gT(e);for(n&&(e=-e),jt(t,(e>n0?Ha:0)|(n?mT:0)|n0&e),e=$s(e/64);e>0;)jt(t,(e>Os?Ha:0)|Os&e),e=$s(e/128)},r0=new Uint8Array(3e4),_3=r0.length/3,E3=(t,e)=>{if(e.length<_3){const n=ju.encodeInto(e,r0).written||0;ts(t,n);for(let r=0;r<n;r++)jt(t,r0[r])}else yT(t,m3(e))},x3=(t,e)=>{const n=unescape(encodeURIComponent(e)),r=n.length;ts(t,r);for(let i=0;i<r;i++)jt(t,n.codePointAt(i))},i0=ju&&ju.encodeInto?E3:x3,bT=(t,e)=>{const n=t.cbuf.length,r=t.cpos,i=a3(n-r,e.length),s=e.length-i;t.cbuf.set(e.subarray(0,i),r),t.cpos+=i,s>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(pT(n*2,s)),t.cbuf.set(e.subarray(i)),t.cpos=s)},yT=(t,e)=>{ts(t,e.byteLength),bT(t,e)},Cb=(t,e)=>{v3(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},w3=(t,e)=>Cb(t,4).setFloat32(0,e,!1),A3=(t,e)=>Cb(t,8).setFloat64(0,e,!1),T3=(t,e)=>Cb(t,8).setBigInt64(0,e,!1),J1=new DataView(new ArrayBuffer(4)),k3=t=>(J1.setFloat32(0,t),J1.getFloat32(0)===t),ev=(t,e)=>{switch(typeof e){case"string":jt(t,119),i0(t,e);break;case"number":u3(e)&&s3(e)<=o3?(jt(t,125),Sb(t,e)):k3(e)?(jt(t,124),w3(t,e)):(jt(t,123),A3(t,e));break;case"bigint":jt(t,122),T3(t,e);break;case"object":if(e===null)jt(t,126);else if(hd(e)){jt(t,117),ts(t,e.length);for(let n=0;n<e.length;n++)ev(t,e[n])}else if(e instanceof Uint8Array)jt(t,116),yT(t,e);else{jt(t,118);const n=Object.keys(e);ts(t,n.length);for(let r=0;r<n.length;r++){const i=n[r];i0(t,i),ev(t,e[i])}}break;case"boolean":jt(t,e?120:121);break;default:jt(t,127)}};class xK extends wc{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&ts(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const tv=t=>{t.count>0&&(Sb(t.encoder,t.count===1?t.s:-t.s),t.count>1&&ts(t.encoder,t.count-2))};class N3{constructor(){this.encoder=new wc,this.s=0,this.count=0}write(e){this.s===e?this.count++:(tv(this),this.count=1,this.s=e)}toUint8Array(){return tv(this),Nb(this.encoder)}}const nv=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);Sb(t.encoder,e),t.count>1&&ts(t.encoder,t.count-2)}};class wK{constructor(){this.encoder=new wc,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(nv(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return nv(this),Nb(this.encoder)}}class AK{constructor(){this.sarr=[],this.s="",this.lensE=new N3}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new wc;return this.sarr.push(this.s),this.s="",i0(e,this.sarr.join("")),bT(e,this.lensE.toUint8Array()),Nb(e)}}const oo=t=>new Error(t),S3=()=>{throw oo("Method unimplemented")},vT=()=>{throw oo("Unexpected case")},_T=oo("Unexpected end of array"),ET=oo("Integer out of Range");class fd{constructor(e){this.arr=e,this.pos=0}}const TK=t=>new fd(t),C3=t=>t.pos!==t.arr.length,R3=(t,e)=>{const n=new Uint8Array(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,n},xT=t=>R3(t,Us(t)),s0=t=>t.arr[t.pos++],Us=t=>{let e=0,n=1;const r=t.arr.length;for(;t.pos<r;){const i=t.arr[t.pos++];if(e=e+(i&Os)*n,n*=128,i<Ha)return e;if(e>Ih)throw ET}throw _T},Rb=t=>{let e=t.arr[t.pos++],n=e&n0,r=64;const i=(e&mT)>0?-1:1;if((e&Ha)===0)return i*n;const s=t.arr.length;for(;t.pos<s;){if(e=t.arr[t.pos++],n=n+(e&Os)*r,r*=128,e<Ha)return i*n;if(n>Ih)throw ET}throw _T},O3=t=>{let e=Us(t);if(e===0)return"";{let n=String.fromCodePoint(s0(t));if(--e<100)for(;e--;)n+=String.fromCodePoint(s0(t));else for(;e>0;){const r=e<1e4?e:1e4,i=t.arr.subarray(t.pos,t.pos+r);t.pos+=r,n+=String.fromCodePoint.apply(null,i),e-=r}return decodeURIComponent(escape(n))}},M3=t=>Pu.decode(xT(t)),a0=Pu?M3:O3,Ob=(t,e)=>{const n=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,n},I3=t=>Ob(t,4).getFloat32(0,!1),L3=t=>Ob(t,8).getFloat64(0,!1),D3=t=>Ob(t,8).getBigInt64(0,!1),P3=[t=>{},t=>null,Rb,I3,L3,D3,t=>!1,t=>!0,a0,t=>{const e=Us(t),n={};for(let r=0;r<e;r++){const i=a0(t);n[i]=rv(t)}return n},t=>{const e=Us(t),n=[];for(let r=0;r<e;r++)n.push(rv(t));return n},xT],rv=t=>P3[127-s0(t)](t);class kK extends fd{constructor(e,n){super(e),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),C3(this)?this.count=Us(this)+1:this.count=-1),this.count--,this.s}}class F3 extends fd{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=Rb(this);const e=gT(this.s);this.count=1,e&&(this.s=-this.s,this.count=Us(this)+2)}return this.count--,this.s}}class NK extends fd{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=Rb(this),n=e&1;this.diff=$s(e/2),this.count=1,n&&(this.count=Us(this)+2)}return this.s+=this.diff,this.count--,this.s}}class SK{constructor(e){this.decoder=new F3(e),this.str=a0(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),n=this.str.slice(this.spos,e);return this.spos=e,n}}const $3=crypto.getRandomValues.bind(crypto),U3=()=>$3(new Uint32Array(1))[0],B3="10000000-1000-4000-8000"+-1e11,CK=()=>B3.replace(/[018]/g,t=>(t^U3()&15>>t/4).toString(16)),RK=Date.now,OK=t=>new Promise(t);Promise.all.bind(Promise);const iv=t=>t===void 0?null:t;class G3{constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let wT=new G3,z3=!0;try{typeof localStorage<"u"&&localStorage&&(wT=localStorage,z3=!1)}catch{}const H3=wT,Qu=Symbol("Equality"),AT=(t,e)=>{var n;return t===e||!!((n=t==null?void 0:t[Qu])!=null&&n.call(t,e))||!1},W3=t=>typeof t=="object",MK=Object.assign,Y3=Object.keys,IK=(t,e)=>{for(const n in t)e(t[n],n)},Lh=t=>Y3(t).length,LK=t=>{for(const e in t)return!1;return!0},Ac=(t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},Mb=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),DK=(t,e)=>t===e||Lh(t)===Lh(e)&&Ac(t,(n,r)=>(n!==void 0||Mb(e,r))&&AT(e[r],n)),q3=Object.freeze,X3=t=>{for(const e in t){const n=t[e];(typeof n=="object"||typeof n=="function")&&X3(t[e])}return q3(t)},V3=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&V3(t,e,n+1)}},PK=t=>t,Yl=(t,e)=>{if(t===e)return!0;if(t==null||e==null||t.constructor!==e.constructor&&(t.constructor||Object)!==(e.constructor||Object))return!1;if(t[Qu]!=null)return t[Qu](e);switch(t.constructor){case ArrayBuffer:t=new Uint8Array(t),e=new Uint8Array(e);case Uint8Array:{if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;break}case Set:{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;break}case Map:{if(t.size!==e.size)return!1;for(const n of t.keys())if(!e.has(n)||!Yl(t.get(n),e.get(n)))return!1;break}case void 0:case Object:if(Lh(t)!==Lh(e))return!1;for(const n in t)if(!Mb(t,n)||!Yl(t[n],e[n]))return!1;break;case Array:if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Yl(t[n],e[n]))return!1;break;default:return!1}return!0},K3=(t,e)=>e.includes(t);var TT={};const Ju=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";let Kr;const Z3=()=>{if(Kr===void 0)if(Ju){Kr=Qi();const t=process.argv;let e=null;for(let n=0;n<t.length;n++){const r=t[n];r[0]==="-"?(e!==null&&Kr.set(e,""),e=r):e!==null&&(Kr.set(e,r),e=null)}e!==null&&Kr.set(e,"")}else typeof location=="object"?(Kr=Qi(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");Kr.set(`--${Q1(e,"-")}`,n),Kr.set(`-${Q1(e,"-")}`,n)}})):Kr=Qi();return Kr},o0=t=>Z3().has(t),u0=t=>iv(Ju?TT[t.toUpperCase().replaceAll("-","_")]:H3.getItem(t)),kT=t=>o0("--"+t)||u0(t)!==null,j3=kT("production"),Q3=Ju&&K3(TT.FORCE_COLOR,["true","1","2"]),J3=Q3||!o0("--no-colors")&&!kT("no-color")&&(!Ju||process.stdout.isTTY)&&(!Ju||o0("--color")||u0("COLORTERM")!==null||(u0("TERM")||"").includes("color")),eP=t=>new Uint8Array(t),FK=t=>{const e=eP(t.byteLength);return e.set(t),e};class tP{constructor(e,n){this.left=e,this.right=n}}const Ei=(t,e)=>new tP(t,e),sv=t=>t.next()>=.5,_p=(t,e,n)=>$s(t.next()*(n+1-e)+e),NT=(t,e,n)=>$s(t.next()*(n+1-e)+e),Ib=(t,e,n)=>NT(t,e,n),nP=t=>c3(Ib(t,97,122)),rP=(t,e=0,n=20)=>{const r=Ib(t,e,n);let i="";for(let s=0;s<r;s++)i+=nP(t);return i},Ep=(t,e)=>e[Ib(t,0,e.length-1)],iP=Symbol("0schema");class sP{constructor(){this._rerrs=[]}extend(e,n,r,i=null){this._rerrs.push({path:e,expected:n,has:r,message:i})}toString(){const e=[];for(let n=this._rerrs.length-1;n>0;n--){const r=this._rerrs[n];e.push(b3(" ",(this._rerrs.length-n)*2)+`${r.path!=null?`[${r.path}] `:""}${r.has} doesn't match ${r.expected}. ${r.message}`)}return e.join(`
`)}}const c0=(t,e)=>t===e?!0:t==null||e==null||t.constructor!==e.constructor?!1:t[Qu]?AT(t,e):hd(t)?kb(t,n=>dT(e,r=>c0(n,r))):W3(t)?Ac(t,(n,r)=>c0(n,e[r])):!1;class Sn{extends(e){let[n,r]=[this.shape,e.shape];return this.constructor._dilutes&&([r,n]=[n,r]),c0(n,r)}equals(e){return this.constructor===e.constructor&&Yl(this.shape,e.shape)}[iP](){return!0}[Qu](e){return this.equals(e)}validate(e){return this.check(e)}check(e,n){S3()}get nullable(){return uo(this,bd)}get optional(){return new RT(this)}cast(e){return av(e,this),e}expect(e){return av(e,this),e}}_e(Sn,"_dilutes",!1);class Lb extends Sn{constructor(e,n){super(),this.shape=e,this._c=n}check(e,n=void 0){const r=(e==null?void 0:e.constructor)===this.shape&&(this._c==null||this._c(e));return!r&&(n==null||n.extend(null,this.shape.name,e==null?void 0:e.constructor.name,(e==null?void 0:e.constructor)!==this.shape?"Constructor match failed":"Check failed")),r}}const Ut=(t,e=null)=>new Lb(t,e);Ut(Lb);class Db extends Sn{constructor(e){super(),this.shape=e}check(e,n){const r=this.shape(e);return!r&&(n==null||n.extend(null,"custom prop",e==null?void 0:e.constructor.name,"failed to check custom prop")),r}}const tn=t=>new Db(t);Ut(Db);class dd extends Sn{constructor(e){super(),this.shape=e}check(e,n){const r=this.shape.some(i=>i===e);return!r&&(n==null||n.extend(null,this.shape.join(" | "),e.toString())),r}}const pd=(...t)=>new dd(t),ST=Ut(dd),aP=RegExp.escape||(t=>t.replace(/[().|&,$^[\]]/g,e=>"\\"+e)),CT=t=>{if(Wa.check(t))return[aP(t)];if(ST.check(t))return t.shape.map(e=>e+"");if(UT.check(t))return["[+-]?\\d+.?\\d*"];if(BT.check(t))return[".*"];if(Ph.check(t))return t.shape.map(CT).flat(1);vT()};class oP extends Sn{constructor(e){super(),this.shape=e,this._r=new RegExp("^"+e.map(CT).map(n=>`(${n.join("|")})`).join("")+"$")}check(e,n){const r=this._r.exec(e)!=null;return!r&&(n==null||n.extend(null,this._r.toString(),e.toString(),"String doesn't match string template.")),r}}Ut(oP);const uP=Symbol("optional");class RT extends Sn{constructor(e){super(),this.shape=e}check(e,n){const r=e===void 0||this.shape.check(e);return!r&&(n==null||n.extend(null,"undefined (optional)","()")),r}get[uP](){return!0}}const cP=Ut(RT);class lP extends Sn{check(e,n){return n==null||n.extend(null,"never",typeof e),!1}}Ut(lP);const Bf=class Bf extends Sn{constructor(e,n=!1){super(),this.shape=e,this._isPartial=n}get partial(){return new Bf(this.shape,!0)}check(e,n){return e==null?(n==null||n.extend(null,"object","null"),!1):Ac(this.shape,(r,i)=>{const s=this._isPartial&&!Mb(e,i)||r.check(e[i],n);return!s&&(n==null||n.extend(i.toString(),r.toString(),typeof e[i],"Object property does not match")),s})}};_e(Bf,"_dilutes",!0);let Dh=Bf;const hP=t=>new Dh(t),fP=Ut(Dh),dP=tn(t=>t!=null&&(t.constructor===Object||t.constructor==null));class OT extends Sn{constructor(e,n){super(),this.shape={keys:e,values:n}}check(e,n){return e!=null&&Ac(e,(r,i)=>{const s=this.shape.keys.check(i,n);return!s&&(n==null||n.extend(i+"","Record",typeof e,s?"Key doesn't match schema":"Value doesn't match value")),s&&this.shape.values.check(r,n)})}}const MT=(t,e)=>new OT(t,e),pP=Ut(OT);class IT extends Sn{constructor(e){super(),this.shape=e}check(e,n){return e!=null&&Ac(this.shape,(r,i)=>{const s=r.check(e[i],n);return!s&&(n==null||n.extend(i.toString(),"Tuple",typeof r)),s})}}const gP=(...t)=>new IT(t);Ut(IT);class LT extends Sn{constructor(e){super(),this.shape=e.length===1?e[0]:new gd(e)}check(e,n){const r=hd(e)&&kb(e,i=>this.shape.check(i));return!r&&(n==null||n.extend(null,"Array","")),r}}const DT=(...t)=>new LT(t),mP=Ut(LT),bP=tn(t=>hd(t));class PT extends Sn{constructor(e,n){super(),this.shape=e,this._c=n}check(e,n){const r=e instanceof this.shape&&(this._c==null||this._c(e));return!r&&(n==null||n.extend(null,this.shape.name,e==null?void 0:e.constructor.name)),r}}const yP=(t,e=null)=>new PT(t,e);Ut(PT);const vP=yP(Sn);class _P extends Sn{constructor(e){super(),this.len=e.length-1,this.args=gP(...e.slice(-1)),this.res=e[this.len]}check(e,n){const r=e.constructor===Function&&e.length<=this.len;return!r&&(n==null||n.extend(null,"function",typeof e)),r}}const EP=Ut(_P),xP=tn(t=>typeof t=="function");class wP extends Sn{constructor(e){super(),this.shape=e}check(e,n){const r=kb(this.shape,i=>i.check(e,n));return!r&&(n==null||n.extend(null,"Intersectinon",typeof e)),r}}Ut(wP,t=>t.shape.length>0);class gd extends Sn{constructor(e){super(),this.shape=e}check(e,n){const r=dT(this.shape,i=>i.check(e,n));return n==null||n.extend(null,"Union",typeof e),r}}_e(gd,"_dilutes",!0);const uo=(...t)=>t.findIndex(e=>Ph.check(e))>=0?uo(...t.map(e=>ec(e)).map(e=>Ph.check(e)?e.shape:[e]).flat(1)):t.length===1?t[0]:new gd(t),Ph=Ut(gd),FT=()=>!0,Fh=tn(FT),AP=Ut(Db,t=>t.shape===FT),Pb=tn(t=>typeof t=="bigint"),TP=tn(t=>t===Pb),$T=tn(t=>typeof t=="symbol");tn(t=>t===$T);const Ra=tn(t=>typeof t=="number"),UT=tn(t=>t===Ra),Wa=tn(t=>typeof t=="string"),BT=tn(t=>t===Wa),md=tn(t=>typeof t=="boolean"),kP=tn(t=>t===md),GT=pd(void 0);Ut(dd,t=>t.shape.length===1&&t.shape[0]===void 0);pd(void 0);const bd=pd(null),NP=Ut(dd,t=>t.shape.length===1&&t.shape[0]===null);Ut(Uint8Array);Ut(Lb,t=>t.shape===Uint8Array);const SP=uo(Ra,Wa,bd,GT,Pb,md,$T);(()=>{const t=DT(Fh),e=MT(Wa,Fh),n=uo(Ra,Wa,bd,md,t,e);return t.shape=n,e.shape.values=n,n})();const ec=t=>{if(vP.check(t))return t;if(dP.check(t)){const e={};for(const n in t)e[n]=ec(t[n]);return hP(e)}else{if(bP.check(t))return uo(...t.map(ec));if(SP.check(t))return pd(t);if(xP.check(t))return Ut(t)}vT()},av=j3?()=>{}:(t,e)=>{const n=new sP;if(!e.check(t,n))throw oo(`Expected value to be of type ${e.constructor.name}.
${n.toString()}`)};class CP{constructor(e){this.patterns=[],this.$state=e}if(e,n){return this.patterns.push({if:ec(e),h:n}),this}else(e){return this.if(Fh,e)}done(){return(e,n)=>{for(let r=0;r<this.patterns.length;r++){const i=this.patterns[r];if(i.if.check(e))return i.h(e,n)}throw oo("Unhandled pattern")}}}const RP=t=>new CP(t),zT=RP(Fh).if(UT,(t,e)=>_p(e,j1,Ih)).if(BT,(t,e)=>rP(e)).if(kP,(t,e)=>sv(e)).if(TP,(t,e)=>BigInt(_p(e,j1,Ih))).if(Ph,(t,e)=>fa(e,Ep(e,t.shape))).if(fP,(t,e)=>{const n={};for(const r in t.shape){let i=t.shape[r];if(cP.check(i)){if(sv(e))continue;i=i.shape}n[r]=zT(i,e)}return n}).if(mP,(t,e)=>{const n=[],r=NT(e,0,42);for(let i=0;i<r;i++)n.push(fa(e,t.shape));return n}).if(ST,(t,e)=>Ep(e,t.shape)).if(NP,(t,e)=>null).if(EP,(t,e)=>{const n=fa(e,t.res);return()=>n}).if(AP,(t,e)=>fa(e,Ep(e,[Ra,Wa,bd,GT,Pb,md,DT(Ra),MT(uo("a","b","c"),Ra)]))).if(pP,(t,e)=>{const n={},r=_p(e,0,3);for(let i=0;i<r;i++){const s=fa(e,t.shape.keys),a=fa(e,t.shape.values);n[s]=a}return n}).done(),fa=(t,e)=>zT(ec(e),t),yd=typeof document<"u"?document:{};tn(t=>t.nodeType===DP);typeof DOMParser<"u"&&new DOMParser;tn(t=>t.nodeType===MP);tn(t=>t.nodeType===IP);const OP=t=>n3(t,(e,n)=>`${n}:${e};`).join(""),MP=yd.ELEMENT_NODE,IP=yd.TEXT_NODE,LP=yd.DOCUMENT_NODE,DP=yd.DOCUMENT_FRAGMENT_NODE;tn(t=>t.nodeType===LP);const Bi=Symbol,PP=Bi(),FP=Bi(),$P=Bi(),UP=Bi(),BP=Bi(),GP=Bi(),zP=Bi(),HT=Bi(),HP=Bi(),WP=t=>{var i;t.length===1&&((i=t[0])==null?void 0:i.constructor)===Function&&(t=t[0]());const e=[],n=[];let r=0;for(;r<t.length;r++){const s=t[r];if(s===void 0)break;if(s.constructor===String||s.constructor===Number)e.push(s);else if(s.constructor===Object)break}for(r>0&&n.push(e.join(""));r<t.length;r++){const s=t[r];s instanceof Symbol||n.push(s)}return n},YP={[PP]:Ei("font-weight","bold"),[FP]:Ei("font-weight","normal"),[$P]:Ei("color","blue"),[BP]:Ei("color","green"),[UP]:Ei("color","grey"),[GP]:Ei("color","red"),[zP]:Ei("color","purple"),[HT]:Ei("color","orange"),[HP]:Ei("color","black")},qP=t=>{var a;t.length===1&&((a=t[0])==null?void 0:a.constructor)===Function&&(t=t[0]());const e=[],n=[],r=Qi();let i=[],s=0;for(;s<t.length;s++){const o=t[s],u=YP[o];if(u!==void 0)r.set(u.left,u.right);else{if(o===void 0)break;if(o.constructor===String||o.constructor===Number){const c=OP(r);s>0||c.length>0?(e.push("%c"+o),n.push(c)):e.push(o)}else break}}for(s>0&&(i=n,i.unshift(e.join("")));s<t.length;s++){const o=t[s];o instanceof Symbol||i.push(o)}return i},WT=J3?qP:WP,$K=(...t)=>{console.log(...WT(t)),YT.forEach(e=>e.print(t))},UK=(...t)=>{console.warn(...WT(t)),t.unshift(HT),YT.forEach(e=>e.print(t))},YT=fT(),qT=t=>({[Symbol.iterator](){return this},next:t}),BK=(t,e)=>qT(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),GK=(t,e)=>qT(()=>{const{done:n,value:r}=t.next();return{done:n,value:n?void 0:e(r)}});function XP(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="(?!struct)("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",o={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},l={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},d={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},f=e.optional(i)+t.IDENT_RE+"\\s*\\(",p=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],g=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],m=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],b=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],_={type:g,keyword:p,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:m},w={className:"function.dispatch",relevance:0,keywords:{_hint:b},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},k=[w,h,o,n,t.C_BLOCK_COMMENT_MODE,l,c],x={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:_,contains:k.concat([{begin:/\(/,end:/\)/,keywords:_,contains:k.concat(["self"]),relevance:0}]),relevance:0},T={className:"function",begin:"("+a+"[\\*&\\s]+)+"+f,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:_,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:_,relevance:0},{begin:f,returnBegin:!0,contains:[d],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,l]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:_,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,c,l,o,{begin:/\(/,end:/\)/,keywords:_,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,c,l,o]}]},o,n,t.C_BLOCK_COMMENT_MODE,h]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:_,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(x,T,w,k,[h,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:_,contains:["self",o]},{begin:t.IDENT_RE+"::",keywords:_},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function VP(t){const e={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},n=XP(t),r=n.keywords;return r.type=[...r.type,...e.type],r.literal=[...r.literal,...e.literal],r.built_in=[...r.built_in,...e.built_in],r._hints=e._hints,n.name="Arduino",n.aliases=["ino"],n.supersetOf="cpp",n}function KP(t){const e=t.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:e.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[t.BACKSLASH_ESCAPE]},s=t.inherit(t.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),a={begin:/<<-?\s*(?=\w+)/,starts:{contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},o={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,n,i]};i.contains.push(o);const u={match:/\\"/},c={className:"string",begin:/'/,end:/'/},l={match:/\\'/},h={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},t.NUMBER_MODE,n]},d=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],f=t.SHEBANG({binary:`(${d.join("|")})`,relevance:10}),p={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[t.inherit(t.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},g=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],m=["true","false"],b={match:/(\/[a-z._-]+)+/},v=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],y=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],_=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],w=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:g,literal:m,built_in:[...v,...y,"set","shopt",..._,...w]},contains:[f,t.SHEBANG(),p,h,s,a,b,o,u,c,l,n]}}function ZP(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",o={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},l={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},d={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},f=e.optional(i)+t.IDENT_RE+"\\s*\\(",m={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},b=[h,o,n,t.C_BLOCK_COMMENT_MODE,l,c],v={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:m,contains:b.concat([{begin:/\(/,end:/\)/,keywords:m,contains:b.concat(["self"]),relevance:0}]),relevance:0},y={begin:"("+a+"[\\*&\\s]+)+"+f,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:m,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:m,relevance:0},{begin:f,returnBegin:!0,contains:[t.inherit(d,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:m,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,c,l,o,{begin:/\(/,end:/\)/,keywords:m,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,c,l,o]}]},o,n,t.C_BLOCK_COMMENT_MODE,h]};return{name:"C",aliases:["h"],keywords:m,disableAutodetect:!0,illegal:"</",contains:[].concat(v,y,b,[h,{begin:t.IDENT_RE+"::",keywords:m},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},t.TITLE_MODE]}]),exports:{preprocessor:h,strings:c,keywords:m}}}function jP(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="(?!struct)("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",o={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},l={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},d={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},f=e.optional(i)+t.IDENT_RE+"\\s*\\(",p=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],g=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],m=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],b=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],_={type:g,keyword:p,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:m},w={className:"function.dispatch",relevance:0,keywords:{_hint:b},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},k=[w,h,o,n,t.C_BLOCK_COMMENT_MODE,l,c],x={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:_,contains:k.concat([{begin:/\(/,end:/\)/,keywords:_,contains:k.concat(["self"]),relevance:0}]),relevance:0},T={className:"function",begin:"("+a+"[\\*&\\s]+)+"+f,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:_,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:_,relevance:0},{begin:f,returnBegin:!0,contains:[d],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,l]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:_,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,c,l,o,{begin:/\(/,end:/\)/,keywords:_,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,c,l,o]}]},o,n,t.C_BLOCK_COMMENT_MODE,h]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:_,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(x,T,w,k,[h,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:_,contains:["self",o]},{begin:t.IDENT_RE+"::",keywords:_},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function QP(t){const e=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],n=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],r=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],s=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],a={keyword:i.concat(s),built_in:e,literal:r},o=t.inherit(t.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),u={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},c={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},l={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},h=t.inherit(l,{illegal:/\n/}),d={className:"subst",begin:/\{/,end:/\}/,keywords:a},f=t.inherit(d,{illegal:/\n/}),p={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},t.BACKSLASH_ESCAPE,f]},g={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},d]},m=t.inherit(g,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},f]});d.contains=[g,p,l,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,u,t.C_BLOCK_COMMENT_MODE],f.contains=[m,p,h,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,u,t.inherit(t.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const b={variants:[c,g,p,l,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},v={begin:"<",end:">",contains:[{beginKeywords:"in out"},o]},y=t.IDENT_RE+"(<"+t.IDENT_RE+"(\\s*,\\s*"+t.IDENT_RE+")*>)?(\\[\\])?",_={begin:"@"+t.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:a,illegal:/::/,contains:[t.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},b,u,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},o,v,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[o,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[o,v,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+y+"\\s+)+"+t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:a,contains:[{beginKeywords:n.join(" "),relevance:0},{begin:t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[t.TITLE_MODE,v],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,relevance:0,contains:[b,u,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},_]}}const JP=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),eF=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],tF=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],nF=[...eF,...tF],rF=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),iF=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),sF=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),aF=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function oF(t){const e=t.regex,n=JP(t),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",s=/@-?\w[\w]*(-\w+)*/,a="[a-zA-Z-][a-zA-Z0-9_-]*",o=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+a,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+iF.join("|")+")"},{begin:":(:)?("+sF.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+aF.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...o,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...o,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:e.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:rF.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...o,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+nF.join("|")+")\\b"}]}}function uF(t){const e=t.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:e.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:e.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function cF(t){const s={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:s,illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"string",variants:[t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[t.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:s,illegal:/["']/}]}]}}function lF(t){const e=t.regex,n=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[t.HASH_COMMENT_MODE,t.QUOTE_STRING_MODE,t.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:e.concat(n,e.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function hF(t){const e=t.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:t.NUMBER_RE}]},r=t.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},s={className:"literal",begin:/\bon|off|true|false|yes|no\b/},a={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},o={begin:/\[/,end:/\]/,contains:[r,s,i,a,n,"self"],relevance:0},u=/[A-Za-z0-9_-]+/,c=/"(\\"|[^"])*"/,l=/'[^']*'/,h=e.either(u,c,l),d=e.concat(h,"(\\s*\\.\\s*",h,")*",e.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:d,className:"attr",starts:{end:/$/,contains:[r,o,s,i,a,n]}}]}}var ya="[0-9](_*[0-9])*",tl=`\\.(${ya})`,nl="[0-9a-fA-F](_*[0-9a-fA-F])*",ov={className:"number",variants:[{begin:`(\\b(${ya})((${tl})|\\.)?|(${tl}))[eE][+-]?(${ya})[fFdD]?\\b`},{begin:`\\b(${ya})((${tl})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${tl})[fFdD]?\\b`},{begin:`\\b(${ya})[fFdD]\\b`},{begin:`\\b0[xX]((${nl})\\.?|(${nl})?\\.(${nl}))[pP][+-]?(${ya})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${nl})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function XT(t,e,n){return n===-1?"":t.replace(e,r=>XT(t,e,n-1))}function fF(t){const e=t.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+XT("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),u={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},c={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},l={className:"params",begin:/\(/,end:/\)/,keywords:u,relevance:0,contains:[t.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:u,illegal:/<\/|#/,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[t.BACKSLASH_ESCAPE]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[e.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[l,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",t.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:u,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:u,relevance:0,contains:[c,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,ov,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},ov,c]}}const uv="[A-Za-z$_][0-9A-Za-z$_]*",dF=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],pF=["true","false","null","undefined","NaN","Infinity"],VT=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],KT=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],ZT=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],gF=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],mF=[].concat(ZT,VT,KT);function bF(t){const e=t.regex,n=(S,{after:D})=>{const P="</"+S[0].slice(1);return S.input.indexOf(P,D)!==-1},r=uv,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(S,D)=>{const P=S[0].length+S.index,U=S.input[P];if(U==="<"||U===","){D.ignoreMatch();return}U===">"&&(n(S,{after:P})||D.ignoreMatch());let Y;const H=S.input.substring(P);if(Y=H.match(/^\s*=/)){D.ignoreMatch();return}if((Y=H.match(/^\s+extends\s+/))&&Y.index===0){D.ignoreMatch();return}}},o={$pattern:uv,keyword:dF,literal:pF,built_in:mF,"variable.language":gF},u="[0-9](_?[0-9])*",c=`\\.(${u})`,l="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${l})((${c})|\\.)?|(${c}))[eE][+-]?(${u})\\b`},{begin:`\\b(${l})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},f={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},p={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,d],subLanguage:"css"}},g={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,d],subLanguage:"graphql"}},m={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,d]},v={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},y=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,f,p,g,m,{match:/\$\d+/},h];d.contains=y.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(y)});const _=[].concat(v,d.contains),w=_.concat([{begin:/(\s*)\(/,end:/\)/,keywords:o,contains:["self"].concat(_)}]),k={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:w},x={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},T={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...VT,...KT]}},O={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},I={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[k],illegal:/%/},M={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function R(S){return e.concat("(?!",S.join("|"),")")}const L={match:e.concat(/\b/,R([...ZT,"super","import"].map(S=>`${S}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},E={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},A={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},k]},N="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",C={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(N)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[k]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:w,CLASS_REFERENCE:T},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),O,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,f,p,g,m,v,{match:/\$\d+/},h,T,{scope:"attr",match:r+e.lookahead(":"),relevance:0},C,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[v,t.REGEXP_MODE,{className:"function",begin:N,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:w}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},I,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[k,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},E,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[k]},L,M,x,A,{match:/\$[(.]/}]}}function yF(t){const e={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],i={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[e,n,t.QUOTE_STRING_MODE,i,t.C_NUMBER_MODE,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var va="[0-9](_*[0-9])*",rl=`\\.(${va})`,il="[0-9a-fA-F](_*[0-9a-fA-F])*",vF={className:"number",variants:[{begin:`(\\b(${va})((${rl})|\\.)?|(${rl}))[eE][+-]?(${va})[fFdD]?\\b`},{begin:`\\b(${va})((${rl})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${rl})[fFdD]?\\b`},{begin:`\\b(${va})[fFdD]\\b`},{begin:`\\b0[xX]((${il})\\.?|(${il})?\\.(${il}))[pP][+-]?(${va})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${il})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function _F(t){const e={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},r={className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[t.C_NUMBER_MODE]},s={className:"variable",begin:"\\$"+t.UNDERSCORE_IDENT_RE},a={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[s,i]},{begin:"'",end:"'",illegal:/\n/,contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[t.BACKSLASH_ESCAPE,s,i]}]};i.contains.push(a);const o={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+t.UNDERSCORE_IDENT_RE+")?"},u={className:"meta",begin:"@"+t.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[t.inherit(a,{className:"string"}),"self"]}]},c=vF,l=t.COMMENT("/\\*","\\*/",{contains:[t.C_BLOCK_COMMENT_MODE]}),h={variants:[{className:"type",begin:t.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},d=h;return d.variants[1].contains=[h],h.variants[1].contains=[d],{name:"Kotlin",aliases:["kt","kts"],keywords:e,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),t.C_LINE_COMMENT_MODE,l,n,r,o,u,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:e,relevance:5,contains:[{begin:t.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[t.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:e,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[h,t.C_LINE_COMMENT_MODE,l],relevance:0},t.C_LINE_COMMENT_MODE,l,o,u,a,t.C_NUMBER_MODE]},l]},{begin:[/class|interface|trait/,/\s+/,t.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},t.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},o,u]},a,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},c]}}const EF=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),xF=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],wF=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],AF=[...xF,...wF],TF=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),jT=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),QT=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),kF=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),NF=jT.concat(QT).sort().reverse();function SF(t){const e=EF(t),n=NF,r="and or not only",i="[\\w-]+",s="("+i+"|@\\{"+i+"\\})",a=[],o=[],u=function(y){return{className:"string",begin:"~?"+y+".*?"+y}},c=function(y,_,w){return{className:y,begin:_,relevance:w}},l={$pattern:/[a-z-]+/,keyword:r,attribute:TF.join(" ")},h={begin:"\\(",end:"\\)",contains:o,keywords:l,relevance:0};o.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,u("'"),u('"'),e.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},e.HEXCOLOR,h,c("variable","@@?"+i,10),c("variable","@\\{"+i+"\\}"),c("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},e.IMPORTANT,{beginKeywords:"and not"},e.FUNCTION_DISPATCH);const d=o.concat({begin:/\{/,end:/\}/,contains:a}),f={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(o)},p={begin:s+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+kF.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:o}}]},g={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:l,returnEnd:!0,contains:o,relevance:0}},m={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:d}},b={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:s,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,f,c("keyword","all\\b"),c("variable","@\\{"+i+"\\}"),{begin:"\\b("+AF.join("|")+")\\b",className:"selector-tag"},e.CSS_NUMBER_MODE,c("selector-tag",s,0),c("selector-id","#"+s),c("selector-class","\\."+s,0),c("selector-tag","&",0),e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+jT.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+QT.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:d},{begin:"!important"},e.FUNCTION_DISPATCH]},v={begin:i+`:(:)?(${n.join("|")})`,returnBegin:!0,contains:[b]};return a.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,g,m,v,p,b,f,e.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:a}}function CF(t){const e="\\[=*\\[",n="\\]=*\\]",r={begin:e,end:n,contains:["self"]},i=[t.COMMENT("--(?!"+e+")","$"),t.COMMENT("--"+e,n,{contains:[r],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:t.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[t.inherit(t.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},t.C_NUMBER_MODE,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{className:"string",begin:e,end:n,contains:[r],relevance:5}])}}function RF(t){const e={className:"variable",variants:[{begin:"\\$\\("+t.UNDERSCORE_IDENT_RE+"\\)",contains:[t.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,e]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[e,n]},i={begin:"^"+t.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},s={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},a={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[e]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[t.HASH_COMMENT_MODE,e,n,r,i,s,a]}}function OF(t){const e=t.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},s={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},a={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},o=/[A-Za-z][A-Za-z0-9+.-]*/,u={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:e.concat(/\[.+?\]\(/,o,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},c={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},l={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},h=t.inherit(c,{contains:[]}),d=t.inherit(l,{contains:[]});c.contains.push(d),l.contains.push(h);let f=[n,u];return[c,l,h,d].forEach(b=>{b.contains=b.contains.concat(f)}),f=f.concat(c,l),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:f},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:f}]}]},n,s,c,l,{className:"quote",begin:"^>\\s+",contains:f,end:"$"},i,r,u,a,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function MF(t){const e={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,o={"variable.language":["this","super"],$pattern:n,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},u={$pattern:n,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:o,illegal:"</",contains:[e,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,t.C_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+u.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:u,contains:[t.UNDERSCORE_TITLE_MODE]},{begin:"\\."+t.UNDERSCORE_IDENT_RE,relevance:0}]}}function IF(t){const e=t.regex,n=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],r=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:n.join(" ")},s={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},a={begin:/->\{/,end:/\}/},o={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},u={scope:"variable",variants:[{begin:/\$\d/},{begin:e.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[o]},c={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},l=[t.BACKSLASH_ESCAPE,s,u],h=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],d=(g,m,b="\\1")=>{const v=b==="\\1"?b:e.concat(b,m);return e.concat(e.concat("(?:",g,")"),m,/(?:\\.|[^\\\/])*?/,v,/(?:\\.|[^\\\/])*?/,b,r)},f=(g,m,b)=>e.concat(e.concat("(?:",g,")"),m,/(?:\\.|[^\\\/])*?/,b,r),p=[u,t.HASH_COMMENT_MODE,t.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),a,{className:"string",contains:l,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},c,{begin:"(\\/\\/|"+t.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[t.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:d("s|tr|y",e.either(...h,{capture:!0}))},{begin:d("s|tr|y","\\(","\\)")},{begin:d("s|tr|y","\\[","\\]")},{begin:d("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:f("(?:m|qr)?",/\//,/\//)},{begin:f("m|qr",e.either(...h,{capture:!0}),/\1/)},{begin:f("m|qr",/\(/,/\)/)},{begin:f("m|qr",/\[/,/\]/)},{begin:f("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE,o]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE,o,c]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return s.contains=p,a.contains=p,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:p}}function LF(t){const e=t.regex,n=/(?![A-Za-z0-9])(?![$])/,r=e.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),i=e.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),s=e.concat(/[A-Z]+/,n),a={scope:"variable",match:"\\$+"+r},o={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},u={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},c=t.inherit(t.APOS_STRING_MODE,{illegal:null}),l=t.inherit(t.QUOTE_STRING_MODE,{illegal:null,contains:t.QUOTE_STRING_MODE.contains.concat(u)}),h={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:t.QUOTE_STRING_MODE.contains.concat(u),"on:begin":(E,A)=>{A.data._beginMatch=E[1]||E[2]},"on:end":(E,A)=>{A.data._beginMatch!==E[1]&&A.ignoreMatch()}},d=t.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),f=`[ 	
]`,p={scope:"string",variants:[l,c,h,d]},g={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},m=["false","null","true"],b=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],v=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],_={keyword:b,literal:(E=>{const A=[];return E.forEach(N=>{A.push(N),N.toLowerCase()===N?A.push(N.toUpperCase()):A.push(N.toLowerCase())}),A})(m),built_in:v},w=E=>E.map(A=>A.replace(/\|\d+$/,"")),k={variants:[{match:[/new/,e.concat(f,"+"),e.concat("(?!",w(v).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},x=e.concat(r,"\\b(?!\\()"),T={variants:[{match:[e.concat(/::/,e.lookahead(/(?!class\b)/)),x],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,e.concat(/::/,e.lookahead(/(?!class\b)/)),x],scope:{1:"title.class",3:"variable.constant"}},{match:[i,e.concat("::",e.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},O={scope:"attr",match:e.concat(r,e.lookahead(":"),e.lookahead(/(?!::)/))},I={relevance:0,begin:/\(/,end:/\)/,keywords:_,contains:[O,a,T,t.C_BLOCK_COMMENT_MODE,p,g,k]},M={relevance:0,match:[/\b/,e.concat("(?!fn\\b|function\\b|",w(b).join("\\b|"),"|",w(v).join("\\b|"),"\\b)"),r,e.concat(f,"*"),e.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[I]};I.contains.push(M);const R=[O,T,t.C_BLOCK_COMMENT_MODE,p,g,k],L={begin:e.concat(/#\[\s*\\?/,e.either(i,s)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:m,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:m,keyword:["new","array"]},contains:["self",...R]},...R,{scope:"meta",variants:[{match:i},{match:s}]}]};return{case_insensitive:!1,keywords:_,contains:[L,t.HASH_COMMENT_MODE,t.COMMENT("//","$"),t.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:t.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},o,{scope:"variable.language",match:/\$this\b/},a,M,T,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},k,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},t.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:_,contains:["self",L,a,T,t.C_BLOCK_COMMENT_MODE,p,g]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[t.inherit(t.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},t.UNDERSCORE_TITLE_MODE]},p,g]}}function DF(t){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},t.inherit(t.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),t.inherit(t.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function PF(t){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function FF(t){const e=t.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],o={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},u={className:"meta",begin:/^(>>>|\.\.\.) /},c={className:"subst",begin:/\{/,end:/\}/,keywords:o,illegal:/#/},l={begin:/\{\{/,relevance:0},h={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,u],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,u],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,u,l,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,u,l,c]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[t.BACKSLASH_ESCAPE,l,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,l,c]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},d="[0-9](_?[0-9])*",f=`(\\b(${d}))?\\.(${d})|\\b(${d})\\.`,p=`\\b|${r.join("|")}`,g={className:"number",relevance:0,variants:[{begin:`(\\b(${d})|(${f}))[eE][+-]?(${d})[jJ]?(?=${p})`},{begin:`(${f})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${p})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${p})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${p})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${p})`},{begin:`\\b(${d})[jJ](?=${p})`}]},m={className:"comment",begin:e.lookahead(/# type:/),end:/$/,keywords:o,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},b={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:["self",u,g,h,t.HASH_COMMENT_MODE]}]};return c.contains=[h,g,u],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:o,illegal:/(<\/|\?)|=>/,contains:[u,g,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},h,m,t.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[b]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[g,b,h]}]}}function $F(t){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function UF(t){const e=t.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=e.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,s=e.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[t.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:e.lookahead(e.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),t.HASH_COMMENT_MODE,{scope:"string",contains:[t.BACKSLASH_ESCAPE],variants:[t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[s,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:s},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function BF(t){const e=t.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=e.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=e.concat(r,/(::\w+)*/),a={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},o={className:"doctag",begin:"@[A-Za-z]+"},u={begin:"#<",end:">"},c=[t.COMMENT("#","$",{contains:[o]}),t.COMMENT("^=begin","^=end",{contains:[o],relevance:10}),t.COMMENT("^__END__",t.MATCH_NOTHING_RE)],l={className:"subst",begin:/#\{/,end:/\}/,keywords:a},h={className:"string",contains:[t.BACKSLASH_ESCAPE,l],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:e.concat(/<<[-~]?'?/,e.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[t.BACKSLASH_ESCAPE,l]})]}]},d="[1-9](_?[0-9])*|0",f="[0-9](_?[0-9])*",p={className:"number",relevance:0,variants:[{begin:`\\b(${d})(\\.(${f}))?([eE][+-]?(${f})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},g={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:a}]},k=[h,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:a},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:a},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[g]},{begin:t.IDENT_RE+"::"},{className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[h,{begin:n}],relevance:0},p,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:a},{begin:"("+t.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[t.BACKSLASH_ESCAPE,l],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(u,c),relevance:0}].concat(u,c);l.contains=k,g.contains=k;const I=[{begin:/^\s*=>/,starts:{end:"$",contains:k}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:a,contains:k}}];return c.unshift(u),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:a,illegal:/\/\*/,contains:[t.SHEBANG({binary:"ruby"})].concat(I).concat(c).concat(k)}}function GF(t){const e=t.regex,n=/(r#)?/,r=e.concat(n,t.UNDERSCORE_IDENT_RE),i=e.concat(n,t.IDENT_RE),s={className:"title.function.invoke",relevance:0,begin:e.concat(/\b/,/(?!let|for|while|if|else|match\b)/,i,e.lookahead(/\s*\(/))},a="([ui](8|16|32|64|128|size)|f(32|64))?",o=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],u=["true","false","Some","None","Ok","Err"],c=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],l=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:t.IDENT_RE+"!?",type:l,keyword:o,literal:u,built_in:c},illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.COMMENT("/\\*","\\*/",{contains:["self"]}),t.inherit(t.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+a},{begin:"\\b0o([0-7_]+)"+a},{begin:"\\b0x([A-Fa-f0-9_]+)"+a},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+a}],relevance:0},{begin:[/fn/,/\s+/,r],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,r],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,r,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:t.IDENT_RE+"::",keywords:{keyword:"Self",built_in:c,type:l}},{className:"punctuation",begin:"->"},s]}}const zF=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),HF=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],WF=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],YF=[...HF,...WF],qF=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),XF=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),VF=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),KF=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function ZF(t){const e=zF(t),n=VF,r=XF,i="@[a-z-]+",s="and or not only",o={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,e.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+YF.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},o,{begin:/\(/,end:/\)/,contains:[e.CSS_NUMBER_MODE]},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+KF.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[e.BLOCK_COMMENT,o,e.HEXCOLOR,e.CSS_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.IMPORTANT,e.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:qF.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},o,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.HEXCOLOR,e.CSS_NUMBER_MODE]},e.FUNCTION_DISPATCH]}}function jF(t){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function QF(t){const e=t.regex,n=t.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},i={begin:/"/,end:/"/,contains:[{match:/""/}]},s=["true","false","unknown"],a=["double precision","large object","with timezone","without timezone"],o=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],u=["add","asc","collation","desc","final","first","last","view"],c=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],l=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],h=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],d=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],f=l,p=[...c,...u].filter(w=>!l.includes(w)),g={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},m={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},b={match:e.concat(/\b/,e.either(...f),/\s*\(/),relevance:0,keywords:{built_in:f}};function v(w){return e.concat(/\b/,e.either(...w.map(k=>k.replace(/\s+/,"\\s+"))),/\b/)}const y={scope:"keyword",match:v(d),relevance:0};function _(w,{exceptions:k,when:x}={}){const T=x;return k=k||[],w.map(O=>O.match(/\|\d+$/)||k.includes(O)?O:T(O)?`${O}|0`:O)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:_(p,{when:w=>w.length<3}),literal:s,type:o,built_in:h},contains:[{scope:"type",match:v(a)},y,b,g,r,i,t.C_NUMBER_MODE,t.C_BLOCK_COMMENT_MODE,n,m]}}function JT(t){return t?typeof t=="string"?t:t.source:null}function _o(t){return ut("(?=",t,")")}function ut(...t){return t.map(n=>JT(n)).join("")}function JF(t){const e=t[t.length-1];return typeof e=="object"&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}function Ln(...t){return"("+(JF(t).capture?"":"?:")+t.map(r=>JT(r)).join("|")+")"}const Fb=t=>ut(/\b/,t,/\w$/.test(t)?/\b/:/\B/),e6=["Protocol","Type"].map(Fb),cv=["init","self"].map(Fb),t6=["Any","Self"],xp=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],lv=["false","nil","true"],n6=["assignment","associativity","higherThan","left","lowerThan","none","right"],r6=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],hv=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],ek=Ln(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),tk=Ln(ek,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),wp=ut(ek,tk,"*"),nk=Ln(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),$h=Ln(nk,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),Qr=ut(nk,$h,"*"),sl=ut(/[A-Z]/,$h,"*"),i6=["attached","autoclosure",ut(/convention\(/,Ln("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",ut(/objc\(/,Qr,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],s6=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function a6(t){const e={match:/\s+/,relevance:0},n=t.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[t.C_LINE_COMMENT_MODE,n],i={match:[/\./,Ln(...e6,...cv)],className:{2:"keyword"}},s={match:ut(/\./,Ln(...xp)),relevance:0},a=xp.filter(ce=>typeof ce=="string").concat(["_|0"]),o=xp.filter(ce=>typeof ce!="string").concat(t6).map(Fb),u={variants:[{className:"keyword",match:Ln(...o,...cv)}]},c={$pattern:Ln(/\b\w+/,/#\w+/),keyword:a.concat(r6),literal:lv},l=[i,s,u],h={match:ut(/\./,Ln(...hv)),relevance:0},d={className:"built_in",match:ut(/\b/,Ln(...hv),/(?=\()/)},f=[h,d],p={match:/->/,relevance:0},g={className:"operator",relevance:0,variants:[{match:wp},{match:`\\.(\\.|${tk})+`}]},m=[p,g],b="([0-9]_*)+",v="([0-9a-fA-F]_*)+",y={className:"number",relevance:0,variants:[{match:`\\b(${b})(\\.(${b}))?([eE][+-]?(${b}))?\\b`},{match:`\\b0x(${v})(\\.(${v}))?([pP][+-]?(${b}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},_=(ce="")=>({className:"subst",variants:[{match:ut(/\\/,ce,/[0\\tnr"']/)},{match:ut(/\\/,ce,/u\{[0-9a-fA-F]{1,8}\}/)}]}),w=(ce="")=>({className:"subst",match:ut(/\\/,ce,/[\t ]*(?:[\r\n]|\r\n)/)}),k=(ce="")=>({className:"subst",label:"interpol",begin:ut(/\\/,ce,/\(/),end:/\)/}),x=(ce="")=>({begin:ut(ce,/"""/),end:ut(/"""/,ce),contains:[_(ce),w(ce),k(ce)]}),T=(ce="")=>({begin:ut(ce,/"/),end:ut(/"/,ce),contains:[_(ce),k(ce)]}),O={className:"string",variants:[x(),x("#"),x("##"),x("###"),T(),T("#"),T("##"),T("###")]},I=[t.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[t.BACKSLASH_ESCAPE]}],M={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:I},R=ce=>{const mt=ut(ce,/\//),ft=ut(/\//,ce);return{begin:mt,end:ft,contains:[...I,{scope:"comment",begin:`#(?!.*${ft})`,end:/$/}]}},L={scope:"regexp",variants:[R("###"),R("##"),R("#"),M]},E={match:ut(/`/,Qr,/`/)},A={className:"variable",match:/\$\d+/},N={className:"variable",match:`\\$${$h}+`},C=[E,A,N],S={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:s6,contains:[...m,y,O]}]}},D={scope:"keyword",match:ut(/@/,Ln(...i6),_o(Ln(/\(/,/\s+/)))},P={scope:"meta",match:ut(/@/,Qr)},U=[S,D,P],Y={match:_o(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:ut(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,$h,"+")},{className:"type",match:sl,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:ut(/\s+&\s+/,_o(sl)),relevance:0}]},H={begin:/</,end:/>/,keywords:c,contains:[...r,...l,...U,p,Y]};Y.contains.push(H);const ee={match:ut(Qr,/\s*:/),keywords:"_|0",relevance:0},V={begin:/\(/,end:/\)/,relevance:0,keywords:c,contains:["self",ee,...r,L,...l,...f,...m,y,O,...C,...U,Y]},K={begin:/</,end:/>/,keywords:"repeat each",contains:[...r,Y]},ae={begin:Ln(_o(ut(Qr,/\s*:/)),_o(ut(Qr,/\s+/,Qr,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:Qr}]},ie={begin:/\(/,end:/\)/,keywords:c,contains:[ae,...r,...l,...m,y,O,...U,Y,V],endsParent:!0,illegal:/["']/},B={match:[/(func|macro)/,/\s+/,Ln(E.match,Qr,wp)],className:{1:"keyword",3:"title.function"},contains:[K,ie,e],illegal:[/\[/,/%/]},W={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[K,ie,e],illegal:/\[|%/},J={match:[/operator/,/\s+/,wp],className:{1:"keyword",3:"title"}},G={begin:[/precedencegroup/,/\s+/,sl],className:{1:"keyword",3:"title"},contains:[Y],keywords:[...n6,...lv],end:/}/},ge={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},Q={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},Ue={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,Qr,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:c,contains:[K,...l,{begin:/:/,end:/\{/,keywords:c,contains:[{scope:"title.class.inherited",match:sl},...l],relevance:0}]};for(const ce of O.variants){const mt=ce.contains.find(Ve=>Ve.label==="interpol");mt.keywords=c;const ft=[...l,...f,...m,y,O,...C];mt.contains=[...ft,{begin:/\(/,end:/\)/,contains:["self",...ft]}]}return{name:"Swift",keywords:c,contains:[...r,B,W,ge,Q,Ue,J,G,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},L,...l,...f,...m,y,O,...C,...U,Y,V]}}const Uh="[A-Za-z$_][0-9A-Za-z$_]*",rk=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],ik=["true","false","null","undefined","NaN","Infinity"],sk=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],ak=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],ok=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],uk=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],ck=[].concat(ok,sk,ak);function o6(t){const e=t.regex,n=(S,{after:D})=>{const P="</"+S[0].slice(1);return S.input.indexOf(P,D)!==-1},r=Uh,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(S,D)=>{const P=S[0].length+S.index,U=S.input[P];if(U==="<"||U===","){D.ignoreMatch();return}U===">"&&(n(S,{after:P})||D.ignoreMatch());let Y;const H=S.input.substring(P);if(Y=H.match(/^\s*=/)){D.ignoreMatch();return}if((Y=H.match(/^\s+extends\s+/))&&Y.index===0){D.ignoreMatch();return}}},o={$pattern:Uh,keyword:rk,literal:ik,built_in:ck,"variable.language":uk},u="[0-9](_?[0-9])*",c=`\\.(${u})`,l="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${l})((${c})|\\.)?|(${c}))[eE][+-]?(${u})\\b`},{begin:`\\b(${l})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},f={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},p={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,d],subLanguage:"css"}},g={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,d],subLanguage:"graphql"}},m={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,d]},v={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},y=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,f,p,g,m,{match:/\$\d+/},h];d.contains=y.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(y)});const _=[].concat(v,d.contains),w=_.concat([{begin:/(\s*)\(/,end:/\)/,keywords:o,contains:["self"].concat(_)}]),k={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:w},x={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},T={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...sk,...ak]}},O={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},I={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[k],illegal:/%/},M={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function R(S){return e.concat("(?!",S.join("|"),")")}const L={match:e.concat(/\b/,R([...ok,"super","import"].map(S=>`${S}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},E={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},A={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},k]},N="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",C={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(N)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[k]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:w,CLASS_REFERENCE:T},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),O,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,f,p,g,m,v,{match:/\$\d+/},h,T,{scope:"attr",match:r+e.lookahead(":"),relevance:0},C,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[v,t.REGEXP_MODE,{className:"function",begin:N,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:w}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},I,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[k,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},E,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[k]},L,M,x,A,{match:/\$[(.]/}]}}function u6(t){const e=t.regex,n=o6(t),r=Uh,i=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],s={begin:[/namespace/,/\s+/,t.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},a={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[n.exports.CLASS_REFERENCE]},o={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},u=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],c={$pattern:Uh,keyword:rk.concat(u),literal:ik,built_in:ck.concat(i),"variable.language":uk},l={className:"meta",begin:"@"+r},h=(g,m,b)=>{const v=g.contains.findIndex(y=>y.label===m);if(v===-1)throw new Error("can not find mode to replace");g.contains.splice(v,1,b)};Object.assign(n.keywords,c),n.exports.PARAMS_CONTAINS.push(l);const d=n.contains.find(g=>g.scope==="attr"),f=Object.assign({},d,{match:e.concat(r,e.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,d,f]),n.contains=n.contains.concat([l,s,a,f]),h(n,"shebang",t.SHEBANG()),h(n,"use_strict",o);const p=n.contains.find(g=>g.label==="func.def");return p.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function c6(t){const e=t.regex,n={className:"string",begin:/"(""|[^/n])"C\b/},r={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,s=/\d{4}-\d{1,2}-\d{1,2}/,a=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,o=/\d{1,2}(:\d{1,2}){1,2}/,u={className:"literal",variants:[{begin:e.concat(/# */,e.either(s,i),/ *#/)},{begin:e.concat(/# */,o,/ *#/)},{begin:e.concat(/# */,a,/ *#/)},{begin:e.concat(/# */,e.either(s,i),/ +/,e.either(a,o),/ *#/)}]},c={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},l={className:"label",begin:/^\w+:/},h=t.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),d=t.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[n,r,u,c,l,h,d,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[d]}]}}function l6(t){t.regex;const e=t.COMMENT(/\(;/,/;\)/);e.contains.push("self");const n=t.COMMENT(/;;/,/$/),r=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},s={className:"variable",begin:/\$[\w_]+/},a={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},o={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},u={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},c={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:r},contains:[n,e,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},s,a,i,t.QUOTE_STRING_MODE,u,c,o]}}function h6(t){const e=t.regex,n=e.concat(/[\p{L}_]/u,e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},a=t.inherit(s,{begin:/\(/,end:/\)/}),o=t.inherit(t.APOS_STRING_MODE,{className:"string"}),u=t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,u,o,a,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,a,u,o]}]}]},t.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[u]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[c],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[c],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(n,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:c}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function f6(t){const e="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},s={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},a={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[t.BACKSLASH_ESCAPE,i]},o=t.inherit(a,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),d={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},f={end:",",endsWithParent:!0,excludeEnd:!0,keywords:e,relevance:0},p={begin:/\{/,end:/\}/,contains:[f],illegal:"\\n",relevance:0},g={begin:"\\[",end:"\\]",contains:[f],illegal:"\\n",relevance:0},m=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+t.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+t.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},t.HASH_COMMENT_MODE,{beginKeywords:e,keywords:{literal:e}},d,{className:"number",begin:t.C_NUMBER_RE+"\\b",relevance:0},p,g,s,a],b=[...m];return b.pop(),b.push(o),f.contains=b,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:m}}const zK={arduino:VP,bash:KP,c:ZP,cpp:jP,csharp:QP,css:oF,diff:uF,go:cF,graphql:lF,ini:hF,java:fF,javascript:bF,json:yF,kotlin:_F,less:SF,lua:CF,makefile:RF,markdown:OF,objectivec:MF,perl:IF,php:LF,"php-template":DF,plaintext:PF,python:FF,"python-repl":$F,r:UF,ruby:BF,rust:GF,scss:ZF,shell:jF,sql:QF,swift:a6,typescript:u6,vbnet:c6,wasm:l6,xml:h6,yaml:f6};var HK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function d6(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ap,fv;function p6(){if(fv)return Ap;fv=1;function t(F){return F instanceof Map?F.clear=F.delete=F.set=function(){throw new Error("map is read-only")}:F instanceof Set&&(F.add=F.clear=F.delete=function(){throw new Error("set is read-only")}),Object.freeze(F),Object.getOwnPropertyNames(F).forEach(X=>{const q=F[X],ne=typeof q;(ne==="object"||ne==="function")&&!Object.isFrozen(q)&&t(q)}),F}class e{constructor(X){X.data===void 0&&(X.data={}),this.data=X.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(F){return F.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function r(F,...X){const q=Object.create(null);for(const ne in F)q[ne]=F[ne];return X.forEach(function(ne){for(const Ce in ne)q[Ce]=ne[Ce]}),q}const i="</span>",s=F=>!!F.scope,a=(F,{prefix:X})=>{if(F.startsWith("language:"))return F.replace("language:","language-");if(F.includes(".")){const q=F.split(".");return[`${X}${q.shift()}`,...q.map((ne,Ce)=>`${ne}${"_".repeat(Ce+1)}`)].join(" ")}return`${X}${F}`};class o{constructor(X,q){this.buffer="",this.classPrefix=q.classPrefix,X.walk(this)}addText(X){this.buffer+=n(X)}openNode(X){if(!s(X))return;const q=a(X.scope,{prefix:this.classPrefix});this.span(q)}closeNode(X){s(X)&&(this.buffer+=i)}value(){return this.buffer}span(X){this.buffer+=`<span class="${X}">`}}const u=(F={})=>{const X={children:[]};return Object.assign(X,F),X};class c{constructor(){this.rootNode=u(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(X){this.top.children.push(X)}openNode(X){const q=u({scope:X});this.add(q),this.stack.push(q)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(X){return this.constructor._walk(X,this.rootNode)}static _walk(X,q){return typeof q=="string"?X.addText(q):q.children&&(X.openNode(q),q.children.forEach(ne=>this._walk(X,ne)),X.closeNode(q)),X}static _collapse(X){typeof X!="string"&&X.children&&(X.children.every(q=>typeof q=="string")?X.children=[X.children.join("")]:X.children.forEach(q=>{c._collapse(q)}))}}class l extends c{constructor(X){super(),this.options=X}addText(X){X!==""&&this.add(X)}startScope(X){this.openNode(X)}endScope(){this.closeNode()}__addSublanguage(X,q){const ne=X.root;q&&(ne.scope=`language:${q}`),this.add(ne)}toHTML(){return new o(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function h(F){return F?typeof F=="string"?F:F.source:null}function d(F){return g("(?=",F,")")}function f(F){return g("(?:",F,")*")}function p(F){return g("(?:",F,")?")}function g(...F){return F.map(q=>h(q)).join("")}function m(F){const X=F[F.length-1];return typeof X=="object"&&X.constructor===Object?(F.splice(F.length-1,1),X):{}}function b(...F){return"("+(m(F).capture?"":"?:")+F.map(ne=>h(ne)).join("|")+")"}function v(F){return new RegExp(F.toString()+"|").exec("").length-1}function y(F,X){const q=F&&F.exec(X);return q&&q.index===0}const _=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function w(F,{joinWith:X}){let q=0;return F.map(ne=>{q+=1;const Ce=q;let fe=h(ne),j="";for(;fe.length>0;){const ue=_.exec(fe);if(!ue){j+=fe;break}j+=fe.substring(0,ue.index),fe=fe.substring(ue.index+ue[0].length),ue[0][0]==="\\"&&ue[1]?j+="\\"+String(Number(ue[1])+Ce):(j+=ue[0],ue[0]==="("&&q++)}return j}).map(ne=>`(${ne})`).join(X)}const k=/\b\B/,x="[a-zA-Z]\\w*",T="[a-zA-Z_]\\w*",O="\\b\\d+(\\.\\d+)?",I="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",M="\\b(0b[01]+)",R="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",L=(F={})=>{const X=/^#![ ]*\//;return F.binary&&(F.begin=g(X,/.*\b/,F.binary,/\b.*/)),r({scope:"meta",begin:X,end:/$/,relevance:0,"on:begin":(q,ne)=>{q.index!==0&&ne.ignoreMatch()}},F)},E={begin:"\\\\[\\s\\S]",relevance:0},A={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[E]},N={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[E]},C={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},S=function(F,X,q={}){const ne=r({scope:"comment",begin:F,end:X,contains:[]},q);ne.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const Ce=b("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return ne.contains.push({begin:g(/[ ]+/,"(",Ce,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),ne},D=S("//","$"),P=S("/\\*","\\*/"),U=S("#","$"),Y={scope:"number",begin:O,relevance:0},H={scope:"number",begin:I,relevance:0},ee={scope:"number",begin:M,relevance:0},V={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[E,{begin:/\[/,end:/\]/,relevance:0,contains:[E]}]},K={scope:"title",begin:x,relevance:0},ae={scope:"title",begin:T,relevance:0},ie={begin:"\\.\\s*"+T,relevance:0};var W=Object.freeze({__proto__:null,APOS_STRING_MODE:A,BACKSLASH_ESCAPE:E,BINARY_NUMBER_MODE:ee,BINARY_NUMBER_RE:M,COMMENT:S,C_BLOCK_COMMENT_MODE:P,C_LINE_COMMENT_MODE:D,C_NUMBER_MODE:H,C_NUMBER_RE:I,END_SAME_AS_BEGIN:function(F){return Object.assign(F,{"on:begin":(X,q)=>{q.data._beginMatch=X[1]},"on:end":(X,q)=>{q.data._beginMatch!==X[1]&&q.ignoreMatch()}})},HASH_COMMENT_MODE:U,IDENT_RE:x,MATCH_NOTHING_RE:k,METHOD_GUARD:ie,NUMBER_MODE:Y,NUMBER_RE:O,PHRASAL_WORDS_MODE:C,QUOTE_STRING_MODE:N,REGEXP_MODE:V,RE_STARTERS_RE:R,SHEBANG:L,TITLE_MODE:K,UNDERSCORE_IDENT_RE:T,UNDERSCORE_TITLE_MODE:ae});function J(F,X){F.input[F.index-1]==="."&&X.ignoreMatch()}function G(F,X){F.className!==void 0&&(F.scope=F.className,delete F.className)}function ge(F,X){X&&F.beginKeywords&&(F.begin="\\b("+F.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",F.__beforeBegin=J,F.keywords=F.keywords||F.beginKeywords,delete F.beginKeywords,F.relevance===void 0&&(F.relevance=0))}function Q(F,X){Array.isArray(F.illegal)&&(F.illegal=b(...F.illegal))}function Ue(F,X){if(F.match){if(F.begin||F.end)throw new Error("begin & end are not supported with match");F.begin=F.match,delete F.match}}function ce(F,X){F.relevance===void 0&&(F.relevance=1)}const mt=(F,X)=>{if(!F.beforeMatch)return;if(F.starts)throw new Error("beforeMatch cannot be used with starts");const q=Object.assign({},F);Object.keys(F).forEach(ne=>{delete F[ne]}),F.keywords=q.keywords,F.begin=g(q.beforeMatch,d(q.begin)),F.starts={relevance:0,contains:[Object.assign(q,{endsParent:!0})]},F.relevance=0,delete q.beforeMatch},ft=["of","and","for","in","not","or","if","then","parent","list","value"],Ve="keyword";function qt(F,X,q=Ve){const ne=Object.create(null);return typeof F=="string"?Ce(q,F.split(" ")):Array.isArray(F)?Ce(q,F):Object.keys(F).forEach(function(fe){Object.assign(ne,qt(F[fe],X,fe))}),ne;function Ce(fe,j){X&&(j=j.map(ue=>ue.toLowerCase())),j.forEach(function(ue){const oe=ue.split("|");ne[oe[0]]=[fe,Cn(oe[0],oe[1])]})}}function Cn(F,X){return X?Number(X):Yr(F)?0:1}function Yr(F){return ft.includes(F.toLowerCase())}const It={},Xt=F=>{console.error(F)},Tt=(F,...X)=>{console.log(`WARN: ${F}`,...X)},_t=(F,X)=>{It[`${F}/${X}`]||(console.log(`Deprecated as of ${F}. ${X}`),It[`${F}/${X}`]=!0)},kt=new Error;function pr(F,X,{key:q}){let ne=0;const Ce=F[q],fe={},j={};for(let ue=1;ue<=X.length;ue++)j[ue+ne]=Ce[ue],fe[ue+ne]=!0,ne+=v(X[ue-1]);F[q]=j,F[q]._emit=fe,F[q]._multi=!0}function rn(F){if(Array.isArray(F.begin)){if(F.skip||F.excludeBegin||F.returnBegin)throw Xt("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),kt;if(typeof F.beginScope!="object"||F.beginScope===null)throw Xt("beginScope must be object"),kt;pr(F,F.begin,{key:"beginScope"}),F.begin=w(F.begin,{joinWith:""})}}function zn(F){if(Array.isArray(F.end)){if(F.skip||F.excludeEnd||F.returnEnd)throw Xt("skip, excludeEnd, returnEnd not compatible with endScope: {}"),kt;if(typeof F.endScope!="object"||F.endScope===null)throw Xt("endScope must be object"),kt;pr(F,F.end,{key:"endScope"}),F.end=w(F.end,{joinWith:""})}}function sn(F){F.scope&&typeof F.scope=="object"&&F.scope!==null&&(F.beginScope=F.scope,delete F.scope)}function re(F){sn(F),typeof F.beginScope=="string"&&(F.beginScope={_wrap:F.beginScope}),typeof F.endScope=="string"&&(F.endScope={_wrap:F.endScope}),rn(F),zn(F)}function le(F){function X(j,ue){return new RegExp(h(j),"m"+(F.case_insensitive?"i":"")+(F.unicodeRegex?"u":"")+(ue?"g":""))}class q{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(ue,oe){oe.position=this.position++,this.matchIndexes[this.matchAt]=oe,this.regexes.push([oe,ue]),this.matchAt+=v(ue)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const ue=this.regexes.map(oe=>oe[1]);this.matcherRe=X(w(ue,{joinWith:"|"}),!0),this.lastIndex=0}exec(ue){this.matcherRe.lastIndex=this.lastIndex;const oe=this.matcherRe.exec(ue);if(!oe)return null;const Se=oe.findIndex((Qe,Lt)=>Lt>0&&Qe!==void 0),Be=this.matchIndexes[Se];return oe.splice(0,Se),Object.assign(oe,Be)}}class ne{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(ue){if(this.multiRegexes[ue])return this.multiRegexes[ue];const oe=new q;return this.rules.slice(ue).forEach(([Se,Be])=>oe.addRule(Se,Be)),oe.compile(),this.multiRegexes[ue]=oe,oe}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(ue,oe){this.rules.push([ue,oe]),oe.type==="begin"&&this.count++}exec(ue){const oe=this.getMatcher(this.regexIndex);oe.lastIndex=this.lastIndex;let Se=oe.exec(ue);if(this.resumingScanAtSamePosition()&&!(Se&&Se.index===this.lastIndex)){const Be=this.getMatcher(0);Be.lastIndex=this.lastIndex+1,Se=Be.exec(ue)}return Se&&(this.regexIndex+=Se.position+1,this.regexIndex===this.count&&this.considerAll()),Se}}function Ce(j){const ue=new ne;return j.contains.forEach(oe=>ue.addRule(oe.begin,{rule:oe,type:"begin"})),j.terminatorEnd&&ue.addRule(j.terminatorEnd,{type:"end"}),j.illegal&&ue.addRule(j.illegal,{type:"illegal"}),ue}function fe(j,ue){const oe=j;if(j.isCompiled)return oe;[G,Ue,re,mt].forEach(Be=>Be(j,ue)),F.compilerExtensions.forEach(Be=>Be(j,ue)),j.__beforeBegin=null,[ge,Q,ce].forEach(Be=>Be(j,ue)),j.isCompiled=!0;let Se=null;return typeof j.keywords=="object"&&j.keywords.$pattern&&(j.keywords=Object.assign({},j.keywords),Se=j.keywords.$pattern,delete j.keywords.$pattern),Se=Se||/\w+/,j.keywords&&(j.keywords=qt(j.keywords,F.case_insensitive)),oe.keywordPatternRe=X(Se,!0),ue&&(j.begin||(j.begin=/\B|\b/),oe.beginRe=X(oe.begin),!j.end&&!j.endsWithParent&&(j.end=/\B|\b/),j.end&&(oe.endRe=X(oe.end)),oe.terminatorEnd=h(oe.end)||"",j.endsWithParent&&ue.terminatorEnd&&(oe.terminatorEnd+=(j.end?"|":"")+ue.terminatorEnd)),j.illegal&&(oe.illegalRe=X(j.illegal)),j.contains||(j.contains=[]),j.contains=[].concat(...j.contains.map(function(Be){return xe(Be==="self"?j:Be)})),j.contains.forEach(function(Be){fe(Be,oe)}),j.starts&&fe(j.starts,ue),oe.matcher=Ce(oe),oe}if(F.compilerExtensions||(F.compilerExtensions=[]),F.contains&&F.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return F.classNameAliases=r(F.classNameAliases||{}),fe(F)}function Ee(F){return F?F.endsWithParent||Ee(F.starts):!1}function xe(F){return F.variants&&!F.cachedVariants&&(F.cachedVariants=F.variants.map(function(X){return r(F,{variants:null},X)})),F.cachedVariants?F.cachedVariants:Ee(F)?r(F,{starts:F.starts?r(F.starts):null}):Object.isFrozen(F)?r(F):F}var ye="11.11.1";class De extends Error{constructor(X,q){super(X),this.name="HTMLInjectionError",this.html=q}}const je=n,Ke=r,we=Symbol("nomatch"),be=7,qe=function(F){const X=Object.create(null),q=Object.create(null),ne=[];let Ce=!0;const fe="Could not find the language '{}', did you forget to load/include a language module?",j={disableAutodetect:!0,name:"Plain text",contains:[]};let ue={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:l};function oe(se){return ue.noHighlightRe.test(se)}function Se(se){let he=se.className+" ";he+=se.parentNode?se.parentNode.className:"";const Te=ue.languageDetectRe.exec(he);if(Te){const pe=te(Te[1]);return pe||(Tt(fe.replace("{}",Te[1])),Tt("Falling back to no-highlight mode for this block.",se)),pe?Te[1]:"no-highlight"}return he.split(/\s+/).find(pe=>oe(pe)||te(pe))}function Be(se,he,Te){let pe="",Oe="";typeof he=="object"?(pe=se,Te=he.ignoreIllegals,Oe=he.language):(_t("10.7.0","highlight(lang, code, ...args) has been deprecated."),_t("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),Oe=se,pe=he),Te===void 0&&(Te=!0);const Pt={code:pe,language:Oe};an("before:highlight",Pt);const Rt=Pt.result?Pt.result:Qe(Pt.language,Pt.code,Te);return Rt.code=Pt.code,an("after:highlight",Rt),Rt}function Qe(se,he,Te,pe){const Oe=Object.create(null);function Pt(de,Ae){return de.keywords[Ae]}function Rt(){if(!Ge.keywords){on.addText(dt);return}let de=0;Ge.keywordPatternRe.lastIndex=0;let Ae=Ge.keywordPatternRe.exec(dt),He="";for(;Ae;){He+=dt.substring(de,Ae.index);const st=Xr.case_insensitive?Ae[0].toLowerCase():Ae[0],vn=Pt(Ge,st);if(vn){const[vi,XS]=vn;if(on.addText(He),He="",Oe[st]=(Oe[st]||0)+1,Oe[st]<=be&&(Uc+=XS),vi.startsWith("_"))He+=Ae[0];else{const VS=Xr.classNameAliases[vi]||vi;qr(Ae[0],VS)}}else He+=Ae[0];de=Ge.keywordPatternRe.lastIndex,Ae=Ge.keywordPatternRe.exec(dt)}He+=dt.substring(de),on.addText(He)}function Fc(){if(dt==="")return;let de=null;if(typeof Ge.subLanguage=="string"){if(!X[Ge.subLanguage]){on.addText(dt);return}de=Qe(Ge.subLanguage,dt,!0,Wy[Ge.subLanguage]),Wy[Ge.subLanguage]=de._top}else de=at(dt,Ge.subLanguage.length?Ge.subLanguage:null);Ge.relevance>0&&(Uc+=de.relevance),on.__addSublanguage(de._emitter,de.language)}function Qn(){Ge.subLanguage!=null?Fc():Rt(),dt=""}function qr(de,Ae){de!==""&&(on.startScope(Ae),on.addText(de),on.endScope())}function By(de,Ae){let He=1;const st=Ae.length-1;for(;He<=st;){if(!de._emit[He]){He++;continue}const vn=Xr.classNameAliases[de[He]]||de[He],vi=Ae[He];vn?qr(vi,vn):(dt=vi,Rt(),dt=""),He++}}function Gy(de,Ae){return de.scope&&typeof de.scope=="string"&&on.openNode(Xr.classNameAliases[de.scope]||de.scope),de.beginScope&&(de.beginScope._wrap?(qr(dt,Xr.classNameAliases[de.beginScope._wrap]||de.beginScope._wrap),dt=""):de.beginScope._multi&&(By(de.beginScope,Ae),dt="")),Ge=Object.create(de,{parent:{value:Ge}}),Ge}function zy(de,Ae,He){let st=y(de.endRe,He);if(st){if(de["on:end"]){const vn=new e(de);de["on:end"](Ae,vn),vn.isMatchIgnored&&(st=!1)}if(st){for(;de.endsParent&&de.parent;)de=de.parent;return de}}if(de.endsWithParent)return zy(de.parent,Ae,He)}function zS(de){return Ge.matcher.regexIndex===0?(dt+=de[0],1):(Kd=!0,0)}function HS(de){const Ae=de[0],He=de.rule,st=new e(He),vn=[He.__beforeBegin,He["on:begin"]];for(const vi of vn)if(vi&&(vi(de,st),st.isMatchIgnored))return zS(Ae);return He.skip?dt+=Ae:(He.excludeBegin&&(dt+=Ae),Qn(),!He.returnBegin&&!He.excludeBegin&&(dt=Ae)),Gy(He,de),He.returnBegin?0:Ae.length}function WS(de){const Ae=de[0],He=he.substring(de.index),st=zy(Ge,de,He);if(!st)return we;const vn=Ge;Ge.endScope&&Ge.endScope._wrap?(Qn(),qr(Ae,Ge.endScope._wrap)):Ge.endScope&&Ge.endScope._multi?(Qn(),By(Ge.endScope,de)):vn.skip?dt+=Ae:(vn.returnEnd||vn.excludeEnd||(dt+=Ae),Qn(),vn.excludeEnd&&(dt=Ae));do Ge.scope&&on.closeNode(),!Ge.skip&&!Ge.subLanguage&&(Uc+=Ge.relevance),Ge=Ge.parent;while(Ge!==st.parent);return st.starts&&Gy(st.starts,de),vn.returnEnd?0:Ae.length}function YS(){const de=[];for(let Ae=Ge;Ae!==Xr;Ae=Ae.parent)Ae.scope&&de.unshift(Ae.scope);de.forEach(Ae=>on.openNode(Ae))}let $c={};function Hy(de,Ae){const He=Ae&&Ae[0];if(dt+=de,He==null)return Qn(),0;if($c.type==="begin"&&Ae.type==="end"&&$c.index===Ae.index&&He===""){if(dt+=he.slice(Ae.index,Ae.index+1),!Ce){const st=new Error(`0 width match regex (${se})`);throw st.languageName=se,st.badRule=$c.rule,st}return 1}if($c=Ae,Ae.type==="begin")return HS(Ae);if(Ae.type==="illegal"&&!Te){const st=new Error('Illegal lexeme "'+He+'" for mode "'+(Ge.scope||"<unnamed>")+'"');throw st.mode=Ge,st}else if(Ae.type==="end"){const st=WS(Ae);if(st!==we)return st}if(Ae.type==="illegal"&&He==="")return dt+=`
`,1;if(Vd>1e5&&Vd>Ae.index*3)throw new Error("potential infinite loop, way more iterations than matches");return dt+=He,He.length}const Xr=te(se);if(!Xr)throw Xt(fe.replace("{}",se)),new Error('Unknown language: "'+se+'"');const qS=le(Xr);let Xd="",Ge=pe||qS;const Wy={},on=new ue.__emitter(ue);YS();let dt="",Uc=0,ds=0,Vd=0,Kd=!1;try{if(Xr.__emitTokens)Xr.__emitTokens(he,on);else{for(Ge.matcher.considerAll();;){Vd++,Kd?Kd=!1:Ge.matcher.considerAll(),Ge.matcher.lastIndex=ds;const de=Ge.matcher.exec(he);if(!de)break;const Ae=he.substring(ds,de.index),He=Hy(Ae,de);ds=de.index+He}Hy(he.substring(ds))}return on.finalize(),Xd=on.toHTML(),{language:se,value:Xd,relevance:Uc,illegal:!1,_emitter:on,_top:Ge}}catch(de){if(de.message&&de.message.includes("Illegal"))return{language:se,value:je(he),illegal:!0,relevance:0,_illegalBy:{message:de.message,index:ds,context:he.slice(ds-100,ds+100),mode:de.mode,resultSoFar:Xd},_emitter:on};if(Ce)return{language:se,value:je(he),illegal:!1,relevance:0,errorRaised:de,_emitter:on,_top:Ge};throw de}}function Lt(se){const he={value:je(se),illegal:!1,relevance:0,_top:j,_emitter:new ue.__emitter(ue)};return he._emitter.addText(se),he}function at(se,he){he=he||ue.languages||Object.keys(X);const Te=Lt(se),pe=he.filter(te).filter(tt).map(Qn=>Qe(Qn,se,!1));pe.unshift(Te);const Oe=pe.sort((Qn,qr)=>{if(Qn.relevance!==qr.relevance)return qr.relevance-Qn.relevance;if(Qn.language&&qr.language){if(te(Qn.language).supersetOf===qr.language)return 1;if(te(qr.language).supersetOf===Qn.language)return-1}return 0}),[Pt,Rt]=Oe,Fc=Pt;return Fc.secondBest=Rt,Fc}function yn(se,he,Te){const pe=he&&q[he]||Te;se.classList.add("hljs"),se.classList.add(`language-${pe}`)}function jn(se){let he=null;const Te=Se(se);if(oe(Te))return;if(an("before:highlightElement",{el:se,language:Te}),se.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",se);return}if(se.children.length>0&&(ue.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(se)),ue.throwUnescapedHTML))throw new De("One of your code blocks includes unescaped HTML.",se.innerHTML);he=se;const pe=he.textContent,Oe=Te?Be(pe,{language:Te,ignoreIllegals:!0}):at(pe);se.innerHTML=Oe.value,se.dataset.highlighted="yes",yn(se,Te,Oe.language),se.result={language:Oe.language,re:Oe.relevance,relevance:Oe.relevance},Oe.secondBest&&(se.secondBest={language:Oe.secondBest.language,relevance:Oe.secondBest.relevance}),an("after:highlightElement",{el:se,result:Oe,text:pe})}function Rn(se){ue=Ke(ue,se)}const gr=()=>{On(),_t("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function Tr(){On(),_t("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let mr=!1;function On(){function se(){On()}if(document.readyState==="loading"){mr||window.addEventListener("DOMContentLoaded",se,!1),mr=!0;return}document.querySelectorAll(ue.cssSelector).forEach(jn)}function Gi(se,he){let Te=null;try{Te=he(F)}catch(pe){if(Xt("Language definition for '{}' could not be registered.".replace("{}",se)),Ce)Xt(pe);else throw pe;Te=j}Te.name||(Te.name=se),X[se]=Te,Te.rawDefinition=he.bind(null,F),Te.aliases&&me(Te.aliases,{languageName:se})}function ve(se){delete X[se];for(const he of Object.keys(q))q[he]===se&&delete q[he]}function $(){return Object.keys(X)}function te(se){return se=(se||"").toLowerCase(),X[se]||X[q[se]]}function me(se,{languageName:he}){typeof se=="string"&&(se=[se]),se.forEach(Te=>{q[Te.toLowerCase()]=he})}function tt(se){const he=te(se);return he&&!he.disableAutodetect}function Nt(se){se["before:highlightBlock"]&&!se["before:highlightElement"]&&(se["before:highlightElement"]=he=>{se["before:highlightBlock"](Object.assign({block:he.el},he))}),se["after:highlightBlock"]&&!se["after:highlightElement"]&&(se["after:highlightElement"]=he=>{se["after:highlightBlock"](Object.assign({block:he.el},he))})}function yt(se){Nt(se),ne.push(se)}function Dt(se){const he=ne.indexOf(se);he!==-1&&ne.splice(he,1)}function an(se,he){const Te=se;ne.forEach(function(pe){pe[Te]&&pe[Te](he)})}function kr(se){return _t("10.7.0","highlightBlock will be removed entirely in v12.0"),_t("10.7.0","Please use highlightElement now."),jn(se)}Object.assign(F,{highlight:Be,highlightAuto:at,highlightAll:On,highlightElement:jn,highlightBlock:kr,configure:Rn,initHighlighting:gr,initHighlightingOnLoad:Tr,registerLanguage:Gi,unregisterLanguage:ve,listLanguages:$,getLanguage:te,registerAliases:me,autoDetection:tt,inherit:Ke,addPlugin:yt,removePlugin:Dt}),F.debugMode=function(){Ce=!1},F.safeMode=function(){Ce=!0},F.versionString=ye,F.regex={concat:g,lookahead:d,either:b,optional:p,anyNumberOfTimes:f};for(const se in W)typeof W[se]=="object"&&t(W[se]);return Object.assign(F,W),F},We=qe({});return We.newInstance=()=>qe({}),Ap=We,We.HighlightJS=We,We.default=We,Ap}var g6=p6();const m6=d6(g6),dv={},b6="hljs-";function WK(t){const e=m6.newInstance();return t&&s(t),{highlight:n,highlightAuto:r,listLanguages:i,register:s,registerAlias:a,registered:o};function n(u,c,l){const h=l||dv,d=typeof h.prefix=="string"?h.prefix:b6;if(!e.getLanguage(u))throw new Error("Unknown language: `"+u+"` is not registered");e.configure({__emitter:y6,classPrefix:d});const f=e.highlight(c,{ignoreIllegals:!0,language:u});if(f.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:f.errorRaised});const p=f._emitter.root,g=p.data;return g.language=f.language,g.relevance=f.relevance,p}function r(u,c){const h=(c||dv).subset||i();let d=-1,f=0,p;for(;++d<h.length;){const g=h[d];if(!e.getLanguage(g))continue;const m=n(g,u,c);m.data&&m.data.relevance!==void 0&&m.data.relevance>f&&(f=m.data.relevance,p=m)}return p||{type:"root",children:[],data:{language:void 0,relevance:f}}}function i(){return e.listLanguages()}function s(u,c){if(typeof u=="string")e.registerLanguage(u,c);else{let l;for(l in u)Object.hasOwn(u,l)&&e.registerLanguage(l,u[l])}}function a(u,c){if(typeof u=="string")e.registerAliases(typeof c=="string"?c:[...c],{languageName:u});else{let l;for(l in u)if(Object.hasOwn(u,l)){const h=u[l];e.registerAliases(typeof h=="string"?h:[...h],{languageName:l})}}}function o(u){return!!e.getLanguage(u)}}class y6{constructor(e){this.options=e,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(e){if(e==="")return;const n=this.stack[this.stack.length-1],r=n.children[n.children.length-1];r&&r.type==="text"?r.value+=e:n.children.push({type:"text",value:e})}startScope(e){this.openNode(String(e))}endScope(){this.closeNode()}__addSublanguage(e,n){const r=this.stack[this.stack.length-1],i=e.root.children;n?r.children.push({type:"element",tagName:"span",properties:{className:[n]},children:i}):r.children.push(...i)}openNode(e){const n=this,r=e.split(".").map(function(a,o){return o?a+"_".repeat(o):n.options.classPrefix+a}),i=this.stack[this.stack.length-1],s={type:"element",tagName:"span",properties:{className:r},children:[]};i.children.push(s),this.stack.push(s)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const ql={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t),hsl2rgb:({h:t,s:e,l:n},r)=>{if(!e)return n*2.55;t/=360,e/=100,n/=100;const i=n<.5?n*(1+e):n+e-n*e,s=2*n-i;switch(r){case"r":return ql.hue2rgb(s,i,t+1/3)*255;case"g":return ql.hue2rgb(s,i,t)*255;case"b":return ql.hue2rgb(s,i,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:n},r)=>{t/=255,e/=255,n/=255;const i=Math.max(t,e,n),s=Math.min(t,e,n),a=(i+s)/2;if(r==="l")return a*100;if(i===s)return 0;const o=i-s,u=a>.5?o/(2-i-s):o/(i+s);if(r==="s")return u*100;switch(i){case t:return((e-n)/o+(e<n?6:0))*60;case e:return((n-t)/o+2)*60;case n:return((t-e)/o+4)*60;default:return-1}}},v6={clamp:(t,e,n)=>e>n?Math.min(e,Math.max(n,t)):Math.min(n,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},_6={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},Fe={channel:ql,lang:v6,unit:_6},Yi={};for(let t=0;t<=255;t++)Yi[t]=Fe.unit.dec2hex(t);const xn={ALL:0,RGB:1,HSL:2};let E6=class{constructor(){this.type=xn.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=xn.ALL}is(e){return this.type===e}};class x6{constructor(e,n){this.color=n,this.changed=!1,this.data=e,this.type=new E6}set(e,n){return this.color=n,this.changed=!1,this.data=e,this.type.type=xn.ALL,this}_ensureHSL(){const e=this.data,{h:n,s:r,l:i}=e;n===void 0&&(e.h=Fe.channel.rgb2hsl(e,"h")),r===void 0&&(e.s=Fe.channel.rgb2hsl(e,"s")),i===void 0&&(e.l=Fe.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r:n,g:r,b:i}=e;n===void 0&&(e.r=Fe.channel.hsl2rgb(e,"r")),r===void 0&&(e.g=Fe.channel.hsl2rgb(e,"g")),i===void 0&&(e.b=Fe.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,n=e.r;return!this.type.is(xn.HSL)&&n!==void 0?n:(this._ensureHSL(),Fe.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,n=e.g;return!this.type.is(xn.HSL)&&n!==void 0?n:(this._ensureHSL(),Fe.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,n=e.b;return!this.type.is(xn.HSL)&&n!==void 0?n:(this._ensureHSL(),Fe.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,n=e.h;return!this.type.is(xn.RGB)&&n!==void 0?n:(this._ensureRGB(),Fe.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,n=e.s;return!this.type.is(xn.RGB)&&n!==void 0?n:(this._ensureRGB(),Fe.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,n=e.l;return!this.type.is(xn.RGB)&&n!==void 0?n:(this._ensureRGB(),Fe.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(xn.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(xn.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(xn.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(xn.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(xn.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(xn.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const vd=new x6({r:0,g:0,b:0,a:0},"transparent"),Oa={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(Oa.re);if(!e)return;const n=e[1],r=parseInt(n,16),i=n.length,s=i%4===0,a=i>4,o=a?1:17,u=a?8:4,c=s?0:-1,l=a?255:15;return vd.set({r:(r>>u*(c+3)&l)*o,g:(r>>u*(c+2)&l)*o,b:(r>>u*(c+1)&l)*o,a:s?(r&l)*o/255:1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`#${Yi[Math.round(e)]}${Yi[Math.round(n)]}${Yi[Math.round(r)]}${Yi[Math.round(i*255)]}`:`#${Yi[Math.round(e)]}${Yi[Math.round(n)]}${Yi[Math.round(r)]}`}},Ns={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(Ns.hueRe);if(e){const[,n,r]=e;switch(r){case"grad":return Fe.channel.clamp.h(parseFloat(n)*.9);case"rad":return Fe.channel.clamp.h(parseFloat(n)*180/Math.PI);case"turn":return Fe.channel.clamp.h(parseFloat(n)*360)}}return Fe.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const n=t.match(Ns.re);if(!n)return;const[,r,i,s,a,o]=n;return vd.set({h:Ns._hue2deg(r),s:Fe.channel.clamp.s(parseFloat(i)),l:Fe.channel.clamp.l(parseFloat(s)),a:a?Fe.channel.clamp.a(o?parseFloat(a)/100:parseFloat(a)):1},t)},stringify:t=>{const{h:e,s:n,l:r,a:i}=t;return i<1?`hsla(${Fe.lang.round(e)}, ${Fe.lang.round(n)}%, ${Fe.lang.round(r)}%, ${i})`:`hsl(${Fe.lang.round(e)}, ${Fe.lang.round(n)}%, ${Fe.lang.round(r)}%)`}},Fu={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=Fu.colors[t];if(e)return Oa.parse(e)},stringify:t=>{const e=Oa.stringify(t);for(const n in Fu.colors)if(Fu.colors[n]===e)return n}},Vo={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const n=t.match(Vo.re);if(!n)return;const[,r,i,s,a,o,u,c,l]=n;return vd.set({r:Fe.channel.clamp.r(i?parseFloat(r)*2.55:parseFloat(r)),g:Fe.channel.clamp.g(a?parseFloat(s)*2.55:parseFloat(s)),b:Fe.channel.clamp.b(u?parseFloat(o)*2.55:parseFloat(o)),a:c?Fe.channel.clamp.a(l?parseFloat(c)/100:parseFloat(c)):1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`rgba(${Fe.lang.round(e)}, ${Fe.lang.round(n)}, ${Fe.lang.round(r)}, ${Fe.lang.round(i)})`:`rgb(${Fe.lang.round(e)}, ${Fe.lang.round(n)}, ${Fe.lang.round(r)})`}},Gr={format:{keyword:Fu,hex:Oa,rgb:Vo,rgba:Vo,hsl:Ns,hsla:Ns},parse:t=>{if(typeof t!="string")return t;const e=Oa.parse(t)||Vo.parse(t)||Ns.parse(t)||Fu.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(xn.HSL)||t.data.r===void 0?Ns.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?Vo.stringify(t):Oa.stringify(t)},lk=(t,e)=>{const n=Gr.parse(t);for(const r in e)n[r]=Fe.channel.clamp[r](e[r]);return Gr.stringify(n)},w6=(t,e,n=0,r=1)=>{if(typeof t!="number")return lk(t,{a:e});const i=vd.set({r:Fe.channel.clamp.r(t),g:Fe.channel.clamp.g(e),b:Fe.channel.clamp.b(n),a:Fe.channel.clamp.a(r)});return Gr.stringify(i)},qK=(t,e)=>Fe.lang.round(Gr.parse(t)[e]),A6=t=>{const{r:e,g:n,b:r}=Gr.parse(t),i=.2126*Fe.channel.toLinear(e)+.7152*Fe.channel.toLinear(n)+.0722*Fe.channel.toLinear(r);return Fe.lang.round(i)},T6=t=>A6(t)>=.5,XK=t=>!T6(t),hk=(t,e,n)=>{const r=Gr.parse(t),i=r[e],s=Fe.channel.clamp[e](i+n);return i!==s&&(r[e]=s),Gr.stringify(r)},VK=(t,e)=>hk(t,"l",e),KK=(t,e)=>hk(t,"l",-e),ZK=(t,e)=>{const n=Gr.parse(t),r={};for(const i in e)e[i]&&(r[i]=n[i]+e[i]);return lk(t,r)},k6=(t,e,n=50)=>{const{r,g:i,b:s,a}=Gr.parse(t),{r:o,g:u,b:c,a:l}=Gr.parse(e),h=n/100,d=h*2-1,f=a-l,g=((d*f===-1?d:(d+f)/(1+d*f))+1)/2,m=1-g,b=r*g+o*m,v=i*g+u*m,y=s*g+c*m,_=a*h+l*(1-h);return w6(b,v,y,_)},jK=(t,e=100)=>{const n=Gr.parse(t);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,k6(n,t,e)};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:fk,setPrototypeOf:pv,isFrozen:N6,getPrototypeOf:S6,getOwnPropertyDescriptor:C6}=Object;let{freeze:Fn,seal:Er,create:l0}=Object,{apply:h0,construct:f0}=typeof Reflect<"u"&&Reflect;Fn||(Fn=function(e){return e});Er||(Er=function(e){return e});h0||(h0=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return e.apply(n,i)});f0||(f0=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new e(...r)});const al=$n(Array.prototype.forEach),R6=$n(Array.prototype.lastIndexOf),gv=$n(Array.prototype.pop),Eo=$n(Array.prototype.push),O6=$n(Array.prototype.splice),Xl=$n(String.prototype.toLowerCase),Tp=$n(String.prototype.toString),kp=$n(String.prototype.match),xo=$n(String.prototype.replace),M6=$n(String.prototype.indexOf),I6=$n(String.prototype.trim),Sr=$n(Object.prototype.hasOwnProperty),Mn=$n(RegExp.prototype.test),wo=L6(TypeError);function $n(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return h0(t,e,r)}}function L6(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return f0(t,n)}}function Ye(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Xl;pv&&pv(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const s=n(i);s!==i&&(N6(e)||(e[r]=s),i=s)}t[i]=!0}return t}function D6(t){for(let e=0;e<t.length;e++)Sr(t,e)||(t[e]=null);return t}function Jr(t){const e=l0(null);for(const[n,r]of fk(t))Sr(t,n)&&(Array.isArray(r)?e[n]=D6(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=Jr(r):e[n]=r);return e}function Ao(t,e){for(;t!==null;){const r=C6(t,e);if(r){if(r.get)return $n(r.get);if(typeof r.value=="function")return $n(r.value)}t=S6(t)}function n(){return null}return n}const mv=Fn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Np=Fn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Sp=Fn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),P6=Fn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Cp=Fn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),F6=Fn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),bv=Fn(["#text"]),yv=Fn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Rp=Fn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),vv=Fn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ol=Fn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),$6=Er(/\{\{[\w\W]*|[\w\W]*\}\}/gm),U6=Er(/<%[\w\W]*|[\w\W]*%>/gm),B6=Er(/\$\{[\w\W]*/gm),G6=Er(/^data-[\-\w.\u00B7-\uFFFF]+$/),z6=Er(/^aria-[\-\w]+$/),dk=Er(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),H6=Er(/^(?:\w+script|data):/i),W6=Er(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),pk=Er(/^html$/i),Y6=Er(/^[a-z][.\w]*(-[.\w]+)+$/i);var _v=Object.freeze({__proto__:null,ARIA_ATTR:z6,ATTR_WHITESPACE:W6,CUSTOM_ELEMENT:Y6,DATA_ATTR:G6,DOCTYPE_NAME:pk,ERB_EXPR:U6,IS_ALLOWED_URI:dk,IS_SCRIPT_OR_DATA:H6,MUSTACHE_EXPR:$6,TMPLIT_EXPR:B6});const To={element:1,text:3,progressingInstruction:7,comment:8,document:9},q6=function(){return typeof window>"u"?null:window},X6=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},Ev=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function gk(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:q6();const e=ve=>gk(ve);if(e.version="3.3.1",e.removed=[],!t||!t.document||t.document.nodeType!==To.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:o,Element:u,NodeFilter:c,NamedNodeMap:l=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:d,trustedTypes:f}=t,p=u.prototype,g=Ao(p,"cloneNode"),m=Ao(p,"remove"),b=Ao(p,"nextSibling"),v=Ao(p,"childNodes"),y=Ao(p,"parentNode");if(typeof a=="function"){const ve=n.createElement("template");ve.content&&ve.content.ownerDocument&&(n=ve.content.ownerDocument)}let _,w="";const{implementation:k,createNodeIterator:x,createDocumentFragment:T,getElementsByTagName:O}=n,{importNode:I}=r;let M=Ev();e.isSupported=typeof fk=="function"&&typeof y=="function"&&k&&k.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:R,ERB_EXPR:L,TMPLIT_EXPR:E,DATA_ATTR:A,ARIA_ATTR:N,IS_SCRIPT_OR_DATA:C,ATTR_WHITESPACE:S,CUSTOM_ELEMENT:D}=_v;let{IS_ALLOWED_URI:P}=_v,U=null;const Y=Ye({},[...mv,...Np,...Sp,...Cp,...bv]);let H=null;const ee=Ye({},[...yv,...Rp,...vv,...ol]);let V=Object.seal(l0(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),K=null,ae=null;const ie=Object.seal(l0(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let B=!0,W=!0,J=!1,G=!0,ge=!1,Q=!0,Ue=!1,ce=!1,mt=!1,ft=!1,Ve=!1,qt=!1,Cn=!0,Yr=!1;const It="user-content-";let Xt=!0,Tt=!1,_t={},kt=null;const pr=Ye({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let rn=null;const zn=Ye({},["audio","video","img","source","image","track"]);let sn=null;const re=Ye({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),le="http://www.w3.org/1998/Math/MathML",Ee="http://www.w3.org/2000/svg",xe="http://www.w3.org/1999/xhtml";let ye=xe,De=!1,je=null;const Ke=Ye({},[le,Ee,xe],Tp);let we=Ye({},["mi","mo","mn","ms","mtext"]),be=Ye({},["annotation-xml"]);const qe=Ye({},["title","style","font","a","script"]);let We=null;const F=["application/xhtml+xml","text/html"],X="text/html";let q=null,ne=null;const Ce=n.createElement("form"),fe=function($){return $ instanceof RegExp||$ instanceof Function},j=function(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ne&&ne===$)){if((!$||typeof $!="object")&&($={}),$=Jr($),We=F.indexOf($.PARSER_MEDIA_TYPE)===-1?X:$.PARSER_MEDIA_TYPE,q=We==="application/xhtml+xml"?Tp:Xl,U=Sr($,"ALLOWED_TAGS")?Ye({},$.ALLOWED_TAGS,q):Y,H=Sr($,"ALLOWED_ATTR")?Ye({},$.ALLOWED_ATTR,q):ee,je=Sr($,"ALLOWED_NAMESPACES")?Ye({},$.ALLOWED_NAMESPACES,Tp):Ke,sn=Sr($,"ADD_URI_SAFE_ATTR")?Ye(Jr(re),$.ADD_URI_SAFE_ATTR,q):re,rn=Sr($,"ADD_DATA_URI_TAGS")?Ye(Jr(zn),$.ADD_DATA_URI_TAGS,q):zn,kt=Sr($,"FORBID_CONTENTS")?Ye({},$.FORBID_CONTENTS,q):pr,K=Sr($,"FORBID_TAGS")?Ye({},$.FORBID_TAGS,q):Jr({}),ae=Sr($,"FORBID_ATTR")?Ye({},$.FORBID_ATTR,q):Jr({}),_t=Sr($,"USE_PROFILES")?$.USE_PROFILES:!1,B=$.ALLOW_ARIA_ATTR!==!1,W=$.ALLOW_DATA_ATTR!==!1,J=$.ALLOW_UNKNOWN_PROTOCOLS||!1,G=$.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ge=$.SAFE_FOR_TEMPLATES||!1,Q=$.SAFE_FOR_XML!==!1,Ue=$.WHOLE_DOCUMENT||!1,ft=$.RETURN_DOM||!1,Ve=$.RETURN_DOM_FRAGMENT||!1,qt=$.RETURN_TRUSTED_TYPE||!1,mt=$.FORCE_BODY||!1,Cn=$.SANITIZE_DOM!==!1,Yr=$.SANITIZE_NAMED_PROPS||!1,Xt=$.KEEP_CONTENT!==!1,Tt=$.IN_PLACE||!1,P=$.ALLOWED_URI_REGEXP||dk,ye=$.NAMESPACE||xe,we=$.MATHML_TEXT_INTEGRATION_POINTS||we,be=$.HTML_INTEGRATION_POINTS||be,V=$.CUSTOM_ELEMENT_HANDLING||{},$.CUSTOM_ELEMENT_HANDLING&&fe($.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(V.tagNameCheck=$.CUSTOM_ELEMENT_HANDLING.tagNameCheck),$.CUSTOM_ELEMENT_HANDLING&&fe($.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(V.attributeNameCheck=$.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),$.CUSTOM_ELEMENT_HANDLING&&typeof $.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(V.allowCustomizedBuiltInElements=$.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ge&&(W=!1),Ve&&(ft=!0),_t&&(U=Ye({},bv),H=[],_t.html===!0&&(Ye(U,mv),Ye(H,yv)),_t.svg===!0&&(Ye(U,Np),Ye(H,Rp),Ye(H,ol)),_t.svgFilters===!0&&(Ye(U,Sp),Ye(H,Rp),Ye(H,ol)),_t.mathMl===!0&&(Ye(U,Cp),Ye(H,vv),Ye(H,ol))),$.ADD_TAGS&&(typeof $.ADD_TAGS=="function"?ie.tagCheck=$.ADD_TAGS:(U===Y&&(U=Jr(U)),Ye(U,$.ADD_TAGS,q))),$.ADD_ATTR&&(typeof $.ADD_ATTR=="function"?ie.attributeCheck=$.ADD_ATTR:(H===ee&&(H=Jr(H)),Ye(H,$.ADD_ATTR,q))),$.ADD_URI_SAFE_ATTR&&Ye(sn,$.ADD_URI_SAFE_ATTR,q),$.FORBID_CONTENTS&&(kt===pr&&(kt=Jr(kt)),Ye(kt,$.FORBID_CONTENTS,q)),$.ADD_FORBID_CONTENTS&&(kt===pr&&(kt=Jr(kt)),Ye(kt,$.ADD_FORBID_CONTENTS,q)),Xt&&(U["#text"]=!0),Ue&&Ye(U,["html","head","body"]),U.table&&(Ye(U,["tbody"]),delete K.tbody),$.TRUSTED_TYPES_POLICY){if(typeof $.TRUSTED_TYPES_POLICY.createHTML!="function")throw wo('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof $.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw wo('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');_=$.TRUSTED_TYPES_POLICY,w=_.createHTML("")}else _===void 0&&(_=X6(f,i)),_!==null&&typeof w=="string"&&(w=_.createHTML(""));Fn&&Fn($),ne=$}},ue=Ye({},[...Np,...Sp,...P6]),oe=Ye({},[...Cp,...F6]),Se=function($){let te=y($);(!te||!te.tagName)&&(te={namespaceURI:ye,tagName:"template"});const me=Xl($.tagName),tt=Xl(te.tagName);return je[$.namespaceURI]?$.namespaceURI===Ee?te.namespaceURI===xe?me==="svg":te.namespaceURI===le?me==="svg"&&(tt==="annotation-xml"||we[tt]):!!ue[me]:$.namespaceURI===le?te.namespaceURI===xe?me==="math":te.namespaceURI===Ee?me==="math"&&be[tt]:!!oe[me]:$.namespaceURI===xe?te.namespaceURI===Ee&&!be[tt]||te.namespaceURI===le&&!we[tt]?!1:!oe[me]&&(qe[me]||!ue[me]):!!(We==="application/xhtml+xml"&&je[$.namespaceURI]):!1},Be=function($){Eo(e.removed,{element:$});try{y($).removeChild($)}catch{m($)}},Qe=function($,te){try{Eo(e.removed,{attribute:te.getAttributeNode($),from:te})}catch{Eo(e.removed,{attribute:null,from:te})}if(te.removeAttribute($),$==="is")if(ft||Ve)try{Be(te)}catch{}else try{te.setAttribute($,"")}catch{}},Lt=function($){let te=null,me=null;if(mt)$="<remove></remove>"+$;else{const yt=kp($,/^[\r\n\t ]+/);me=yt&&yt[0]}We==="application/xhtml+xml"&&ye===xe&&($='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+$+"</body></html>");const tt=_?_.createHTML($):$;if(ye===xe)try{te=new d().parseFromString(tt,We)}catch{}if(!te||!te.documentElement){te=k.createDocument(ye,"template",null);try{te.documentElement.innerHTML=De?w:tt}catch{}}const Nt=te.body||te.documentElement;return $&&me&&Nt.insertBefore(n.createTextNode(me),Nt.childNodes[0]||null),ye===xe?O.call(te,Ue?"html":"body")[0]:Ue?te.documentElement:Nt},at=function($){return x.call($.ownerDocument||$,$,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},yn=function($){return $ instanceof h&&(typeof $.nodeName!="string"||typeof $.textContent!="string"||typeof $.removeChild!="function"||!($.attributes instanceof l)||typeof $.removeAttribute!="function"||typeof $.setAttribute!="function"||typeof $.namespaceURI!="string"||typeof $.insertBefore!="function"||typeof $.hasChildNodes!="function")},jn=function($){return typeof o=="function"&&$ instanceof o};function Rn(ve,$,te){al(ve,me=>{me.call(e,$,te,ne)})}const gr=function($){let te=null;if(Rn(M.beforeSanitizeElements,$,null),yn($))return Be($),!0;const me=q($.nodeName);if(Rn(M.uponSanitizeElement,$,{tagName:me,allowedTags:U}),Q&&$.hasChildNodes()&&!jn($.firstElementChild)&&Mn(/<[/\w!]/g,$.innerHTML)&&Mn(/<[/\w!]/g,$.textContent)||$.nodeType===To.progressingInstruction||Q&&$.nodeType===To.comment&&Mn(/<[/\w]/g,$.data))return Be($),!0;if(!(ie.tagCheck instanceof Function&&ie.tagCheck(me))&&(!U[me]||K[me])){if(!K[me]&&mr(me)&&(V.tagNameCheck instanceof RegExp&&Mn(V.tagNameCheck,me)||V.tagNameCheck instanceof Function&&V.tagNameCheck(me)))return!1;if(Xt&&!kt[me]){const tt=y($)||$.parentNode,Nt=v($)||$.childNodes;if(Nt&&tt){const yt=Nt.length;for(let Dt=yt-1;Dt>=0;--Dt){const an=g(Nt[Dt],!0);an.__removalCount=($.__removalCount||0)+1,tt.insertBefore(an,b($))}}}return Be($),!0}return $ instanceof u&&!Se($)||(me==="noscript"||me==="noembed"||me==="noframes")&&Mn(/<\/no(script|embed|frames)/i,$.innerHTML)?(Be($),!0):(ge&&$.nodeType===To.text&&(te=$.textContent,al([R,L,E],tt=>{te=xo(te,tt," ")}),$.textContent!==te&&(Eo(e.removed,{element:$.cloneNode()}),$.textContent=te)),Rn(M.afterSanitizeElements,$,null),!1)},Tr=function($,te,me){if(Cn&&(te==="id"||te==="name")&&(me in n||me in Ce))return!1;if(!(W&&!ae[te]&&Mn(A,te))){if(!(B&&Mn(N,te))){if(!(ie.attributeCheck instanceof Function&&ie.attributeCheck(te,$))){if(!H[te]||ae[te]){if(!(mr($)&&(V.tagNameCheck instanceof RegExp&&Mn(V.tagNameCheck,$)||V.tagNameCheck instanceof Function&&V.tagNameCheck($))&&(V.attributeNameCheck instanceof RegExp&&Mn(V.attributeNameCheck,te)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(te,$))||te==="is"&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&Mn(V.tagNameCheck,me)||V.tagNameCheck instanceof Function&&V.tagNameCheck(me))))return!1}else if(!sn[te]){if(!Mn(P,xo(me,S,""))){if(!((te==="src"||te==="xlink:href"||te==="href")&&$!=="script"&&M6(me,"data:")===0&&rn[$])){if(!(J&&!Mn(C,xo(me,S,"")))){if(me)return!1}}}}}}}return!0},mr=function($){return $!=="annotation-xml"&&kp($,D)},On=function($){Rn(M.beforeSanitizeAttributes,$,null);const{attributes:te}=$;if(!te||yn($))return;const me={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H,forceKeepAttr:void 0};let tt=te.length;for(;tt--;){const Nt=te[tt],{name:yt,namespaceURI:Dt,value:an}=Nt,kr=q(yt),se=an;let he=yt==="value"?se:I6(se);if(me.attrName=kr,me.attrValue=he,me.keepAttr=!0,me.forceKeepAttr=void 0,Rn(M.uponSanitizeAttribute,$,me),he=me.attrValue,Yr&&(kr==="id"||kr==="name")&&(Qe(yt,$),he=It+he),Q&&Mn(/((--!?|])>)|<\/(style|title|textarea)/i,he)){Qe(yt,$);continue}if(kr==="attributename"&&kp(he,"href")){Qe(yt,$);continue}if(me.forceKeepAttr)continue;if(!me.keepAttr){Qe(yt,$);continue}if(!G&&Mn(/\/>/i,he)){Qe(yt,$);continue}ge&&al([R,L,E],pe=>{he=xo(he,pe," ")});const Te=q($.nodeName);if(!Tr(Te,kr,he)){Qe(yt,$);continue}if(_&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!Dt)switch(f.getAttributeType(Te,kr)){case"TrustedHTML":{he=_.createHTML(he);break}case"TrustedScriptURL":{he=_.createScriptURL(he);break}}if(he!==se)try{Dt?$.setAttributeNS(Dt,yt,he):$.setAttribute(yt,he),yn($)?Be($):gv(e.removed)}catch{Qe(yt,$)}}Rn(M.afterSanitizeAttributes,$,null)},Gi=function ve($){let te=null;const me=at($);for(Rn(M.beforeSanitizeShadowDOM,$,null);te=me.nextNode();)Rn(M.uponSanitizeShadowNode,te,null),gr(te),On(te),te.content instanceof s&&ve(te.content);Rn(M.afterSanitizeShadowDOM,$,null)};return e.sanitize=function(ve){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},te=null,me=null,tt=null,Nt=null;if(De=!ve,De&&(ve="<!-->"),typeof ve!="string"&&!jn(ve))if(typeof ve.toString=="function"){if(ve=ve.toString(),typeof ve!="string")throw wo("dirty is not a string, aborting")}else throw wo("toString is not a function");if(!e.isSupported)return ve;if(ce||j($),e.removed=[],typeof ve=="string"&&(Tt=!1),Tt){if(ve.nodeName){const an=q(ve.nodeName);if(!U[an]||K[an])throw wo("root node is forbidden and cannot be sanitized in-place")}}else if(ve instanceof o)te=Lt("<!---->"),me=te.ownerDocument.importNode(ve,!0),me.nodeType===To.element&&me.nodeName==="BODY"||me.nodeName==="HTML"?te=me:te.appendChild(me);else{if(!ft&&!ge&&!Ue&&ve.indexOf("<")===-1)return _&&qt?_.createHTML(ve):ve;if(te=Lt(ve),!te)return ft?null:qt?w:""}te&&mt&&Be(te.firstChild);const yt=at(Tt?ve:te);for(;tt=yt.nextNode();)gr(tt),On(tt),tt.content instanceof s&&Gi(tt.content);if(Tt)return ve;if(ft){if(Ve)for(Nt=T.call(te.ownerDocument);te.firstChild;)Nt.appendChild(te.firstChild);else Nt=te;return(H.shadowroot||H.shadowrootmode)&&(Nt=I.call(r,Nt,!0)),Nt}let Dt=Ue?te.outerHTML:te.innerHTML;return Ue&&U["!doctype"]&&te.ownerDocument&&te.ownerDocument.doctype&&te.ownerDocument.doctype.name&&Mn(pk,te.ownerDocument.doctype.name)&&(Dt="<!DOCTYPE "+te.ownerDocument.doctype.name+`>
`+Dt),ge&&al([R,L,E],an=>{Dt=xo(Dt,an," ")}),_&&qt?_.createHTML(Dt):Dt},e.setConfig=function(){let ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};j(ve),ce=!0},e.clearConfig=function(){ne=null,ce=!1},e.isValidAttribute=function(ve,$,te){ne||j({});const me=q(ve),tt=q($);return Tr(me,tt,te)},e.addHook=function(ve,$){typeof $=="function"&&Eo(M[ve],$)},e.removeHook=function(ve,$){if($!==void 0){const te=R6(M[ve],$);return te===-1?void 0:O6(M[ve],te,1)[0]}return gv(M[ve])},e.removeHooks=function(ve){M[ve]=[]},e.removeAllHooks=function(){M=Ev()},e}var QK=gk();function Vl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function V6(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $b(t){let e,n,r;t.length!==2?(e=Vl,n=(o,u)=>Vl(t(o),u),r=(o,u)=>t(o)-u):(e=t===Vl||t===V6?t:K6,n=t,r=t);function i(o,u,c=0,l=o.length){if(c<l){if(e(u,u)!==0)return l;do{const h=c+l>>>1;n(o[h],u)<0?c=h+1:l=h}while(c<l)}return c}function s(o,u,c=0,l=o.length){if(c<l){if(e(u,u)!==0)return l;do{const h=c+l>>>1;n(o[h],u)<=0?c=h+1:l=h}while(c<l)}return c}function a(o,u,c=0,l=o.length){const h=i(o,u,c,l-1);return h>c&&r(o[h-1],u)>-r(o[h],u)?h-1:h}return{left:i,center:a,right:s}}function K6(){return 0}function Z6(t){return t===null?NaN:+t}const j6=$b(Vl),Q6=j6.right;$b(Z6).center;class xv extends Map{constructor(e,n=t4){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(wv(this,e))}has(e){return super.has(wv(this,e))}set(e,n){return super.set(J6(this,e),n)}delete(e){return super.delete(e4(this,e))}}function wv({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function J6({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function e4({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function t4(t){return t!==null&&typeof t=="object"?t.valueOf():t}const n4=Math.sqrt(50),r4=Math.sqrt(10),i4=Math.sqrt(2);function Bh(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=n4?10:s>=r4?5:s>=i4?2:1;let o,u,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(t*c),u=Math.round(e*c),o/c<t&&++o,u/c>e&&--u,c=-c):(c=Math.pow(10,i)*a,o=Math.round(t/c),u=Math.round(e/c),o*c<t&&++o,u*c>e&&--u),u<o&&.5<=n&&n<2?Bh(t,e,n*2):[o,u,c]}function s4(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?Bh(e,t,n):Bh(t,e,n);if(!(s>=i))return[];const o=s-i+1,u=new Array(o);if(r)if(a<0)for(let c=0;c<o;++c)u[c]=(s-c)/-a;else for(let c=0;c<o;++c)u[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)u[c]=(i+c)/-a;else for(let c=0;c<o;++c)u[c]=(i+c)*a;return u}function d0(t,e,n){return e=+e,t=+t,n=+n,Bh(t,e,n)[2]}function p0(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?d0(e,t,n):d0(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function JK(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function eZ(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function a4(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function o4(t){return t}var Kl=1,Op=2,g0=3,ul=4,Av=1e-6;function u4(t){return"translate("+t+",0)"}function c4(t){return"translate(0,"+t+")"}function l4(t){return e=>+t(e)}function h4(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function f4(){return!this.__axis}function mk(t,e){var n=[],r=null,i=null,s=6,a=6,o=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=t===Kl||t===ul?-1:1,l=t===ul||t===Op?"x":"y",h=t===Kl||t===g0?u4:c4;function d(f){var p=r??(e.ticks?e.ticks.apply(e,n):e.domain()),g=i??(e.tickFormat?e.tickFormat.apply(e,n):o4),m=Math.max(s,0)+o,b=e.range(),v=+b[0]+u,y=+b[b.length-1]+u,_=(e.bandwidth?h4:l4)(e.copy(),u),w=f.selection?f.selection():f,k=w.selectAll(".domain").data([null]),x=w.selectAll(".tick").data(p,e).order(),T=x.exit(),O=x.enter().append("g").attr("class","tick"),I=x.select("line"),M=x.select("text");k=k.merge(k.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(O),I=I.merge(O.append("line").attr("stroke","currentColor").attr(l+"2",c*s)),M=M.merge(O.append("text").attr("fill","currentColor").attr(l,c*m).attr("dy",t===Kl?"0em":t===g0?"0.71em":"0.32em")),f!==w&&(k=k.transition(f),x=x.transition(f),I=I.transition(f),M=M.transition(f),T=T.transition(f).attr("opacity",Av).attr("transform",function(R){return isFinite(R=_(R))?h(R+u):this.getAttribute("transform")}),O.attr("opacity",Av).attr("transform",function(R){var L=this.parentNode.__axis;return h((L&&isFinite(L=L(R))?L:_(R))+u)})),T.remove(),k.attr("d",t===ul||t===Op?a?"M"+c*a+","+v+"H"+u+"V"+y+"H"+c*a:"M"+u+","+v+"V"+y:a?"M"+v+","+c*a+"V"+u+"H"+y+"V"+c*a:"M"+v+","+u+"H"+y),x.attr("opacity",1).attr("transform",function(R){return h(_(R)+u)}),I.attr(l+"2",c*s),M.attr(l,c*m).text(g),w.filter(f4).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Op?"start":t===ul?"end":"middle"),w.each(function(){this.__axis=_})}return d.scale=function(f){return arguments.length?(e=f,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(f){return arguments.length?(n=f==null?[]:Array.from(f),d):n.slice()},d.tickValues=function(f){return arguments.length?(r=f==null?null:Array.from(f),d):r&&r.slice()},d.tickFormat=function(f){return arguments.length?(i=f,d):i},d.tickSize=function(f){return arguments.length?(s=a=+f,d):s},d.tickSizeInner=function(f){return arguments.length?(s=+f,d):s},d.tickSizeOuter=function(f){return arguments.length?(a=+f,d):a},d.tickPadding=function(f){return arguments.length?(o=+f,d):o},d.offset=function(f){return arguments.length?(u=+f,d):u},d}function tZ(t){return mk(Kl,t)}function nZ(t){return mk(g0,t)}var d4={value:()=>{}};function bk(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Zl(n)}function Zl(t){this._=t}function p4(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Zl.prototype=bk.prototype={constructor:Zl,on:function(t,e){var n=this._,r=p4(t+"",n),i,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((i=(t=r[s]).type)&&(i=g4(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(i=(t=r[s]).type)n[i]=Tv(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Tv(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Zl(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function g4(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Tv(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=d4,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var m0="http://www.w3.org/1999/xhtml";const kv={svg:"http://www.w3.org/2000/svg",xhtml:m0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function _d(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),kv.hasOwnProperty(e)?{space:kv[e],local:t}:t}function m4(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===m0&&e.documentElement.namespaceURI===m0?e.createElement(t):e.createElementNS(n,t)}}function b4(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function yk(t){var e=_d(t);return(e.local?b4:m4)(e)}function y4(){}function Ub(t){return t==null?y4:function(){return this.querySelector(t)}}function v4(t){typeof t!="function"&&(t=Ub(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,o=r[i]=new Array(a),u,c,l=0;l<a;++l)(u=s[l])&&(c=t.call(u,u.__data__,l,s))&&("__data__"in u&&(c.__data__=u.__data__),o[l]=c);return new hr(r,this._parents)}function _4(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function E4(){return[]}function vk(t){return t==null?E4:function(){return this.querySelectorAll(t)}}function x4(t){return function(){return _4(t.apply(this,arguments))}}function w4(t){typeof t=="function"?t=x4(t):t=vk(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var a=e[s],o=a.length,u,c=0;c<o;++c)(u=a[c])&&(r.push(t.call(u,u.__data__,c,a)),i.push(u));return new hr(r,i)}function _k(t){return function(){return this.matches(t)}}function Ek(t){return function(e){return e.matches(t)}}var A4=Array.prototype.find;function T4(t){return function(){return A4.call(this.children,t)}}function k4(){return this.firstElementChild}function N4(t){return this.select(t==null?k4:T4(typeof t=="function"?t:Ek(t)))}var S4=Array.prototype.filter;function C4(){return Array.from(this.children)}function R4(t){return function(){return S4.call(this.children,t)}}function O4(t){return this.selectAll(t==null?C4:R4(typeof t=="function"?t:Ek(t)))}function M4(t){typeof t!="function"&&(t=_k(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,o=r[i]=[],u,c=0;c<a;++c)(u=s[c])&&t.call(u,u.__data__,c,s)&&o.push(u);return new hr(r,this._parents)}function xk(t){return new Array(t.length)}function I4(){return new hr(this._enter||this._groups.map(xk),this._parents)}function Gh(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Gh.prototype={constructor:Gh,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function L4(t){return function(){return t}}function D4(t,e,n,r,i,s){for(var a=0,o,u=e.length,c=s.length;a<c;++a)(o=e[a])?(o.__data__=s[a],r[a]=o):n[a]=new Gh(t,s[a]);for(;a<u;++a)(o=e[a])&&(i[a]=o)}function P4(t,e,n,r,i,s,a){var o,u,c=new Map,l=e.length,h=s.length,d=new Array(l),f;for(o=0;o<l;++o)(u=e[o])&&(d[o]=f=a.call(u,u.__data__,o,e)+"",c.has(f)?i[o]=u:c.set(f,u));for(o=0;o<h;++o)f=a.call(t,s[o],o,s)+"",(u=c.get(f))?(r[o]=u,u.__data__=s[o],c.delete(f)):n[o]=new Gh(t,s[o]);for(o=0;o<l;++o)(u=e[o])&&c.get(d[o])===u&&(i[o]=u)}function F4(t){return t.__data__}function $4(t,e){if(!arguments.length)return Array.from(this,F4);var n=e?P4:D4,r=this._parents,i=this._groups;typeof t!="function"&&(t=L4(t));for(var s=i.length,a=new Array(s),o=new Array(s),u=new Array(s),c=0;c<s;++c){var l=r[c],h=i[c],d=h.length,f=U4(t.call(l,l&&l.__data__,c,r)),p=f.length,g=o[c]=new Array(p),m=a[c]=new Array(p),b=u[c]=new Array(d);n(l,h,g,m,b,f,e);for(var v=0,y=0,_,w;v<p;++v)if(_=g[v]){for(v>=y&&(y=v+1);!(w=m[y])&&++y<p;);_._next=w||null}}return a=new hr(a,r),a._enter=o,a._exit=u,a}function U4(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function B4(){return new hr(this._exit||this._groups.map(xk),this._parents)}function G4(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function z4(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,a=Math.min(i,s),o=new Array(i),u=0;u<a;++u)for(var c=n[u],l=r[u],h=c.length,d=o[u]=new Array(h),f,p=0;p<h;++p)(f=c[p]||l[p])&&(d[p]=f);for(;u<i;++u)o[u]=n[u];return new hr(o,this._parents)}function H4(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],a;--i>=0;)(a=r[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function W4(t){t||(t=Y4);function e(h,d){return h&&d?t(h.__data__,d.__data__):!h-!d}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var a=n[s],o=a.length,u=i[s]=new Array(o),c,l=0;l<o;++l)(c=a[l])&&(u[l]=c);u.sort(e)}return new hr(i,this._parents).order()}function Y4(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function q4(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function X4(){return Array.from(this)}function V4(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var a=r[i];if(a)return a}return null}function K4(){let t=0;for(const e of this)++t;return t}function Z4(){return!this.node()}function j4(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,a=i.length,o;s<a;++s)(o=i[s])&&t.call(o,o.__data__,s,i);return this}function Q4(t){return function(){this.removeAttribute(t)}}function J4(t){return function(){this.removeAttributeNS(t.space,t.local)}}function e8(t,e){return function(){this.setAttribute(t,e)}}function t8(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function n8(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function r8(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function i8(t,e){var n=_d(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?J4:Q4:typeof e=="function"?n.local?r8:n8:n.local?t8:e8)(n,e))}function wk(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function s8(t){return function(){this.style.removeProperty(t)}}function a8(t,e,n){return function(){this.style.setProperty(t,e,n)}}function o8(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function u8(t,e,n){return arguments.length>1?this.each((e==null?s8:typeof e=="function"?o8:a8)(t,e,n??"")):Ya(this.node(),t)}function Ya(t,e){return t.style.getPropertyValue(e)||wk(t).getComputedStyle(t,null).getPropertyValue(e)}function c8(t){return function(){delete this[t]}}function l8(t,e){return function(){this[t]=e}}function h8(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function f8(t,e){return arguments.length>1?this.each((e==null?c8:typeof e=="function"?h8:l8)(t,e)):this.node()[t]}function Ak(t){return t.trim().split(/^|\s+/)}function Bb(t){return t.classList||new Tk(t)}function Tk(t){this._node=t,this._names=Ak(t.getAttribute("class")||"")}Tk.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function kk(t,e){for(var n=Bb(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Nk(t,e){for(var n=Bb(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function d8(t){return function(){kk(this,t)}}function p8(t){return function(){Nk(this,t)}}function g8(t,e){return function(){(e.apply(this,arguments)?kk:Nk)(this,t)}}function m8(t,e){var n=Ak(t+"");if(arguments.length<2){for(var r=Bb(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?g8:e?d8:p8)(n,e))}function b8(){this.textContent=""}function y8(t){return function(){this.textContent=t}}function v8(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function _8(t){return arguments.length?this.each(t==null?b8:(typeof t=="function"?v8:y8)(t)):this.node().textContent}function E8(){this.innerHTML=""}function x8(t){return function(){this.innerHTML=t}}function w8(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function A8(t){return arguments.length?this.each(t==null?E8:(typeof t=="function"?w8:x8)(t)):this.node().innerHTML}function T8(){this.nextSibling&&this.parentNode.appendChild(this)}function k8(){return this.each(T8)}function N8(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function S8(){return this.each(N8)}function C8(t){var e=typeof t=="function"?t:yk(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function R8(){return null}function O8(t,e){var n=typeof t=="function"?t:yk(t),r=e==null?R8:typeof e=="function"?e:Ub(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function M8(){var t=this.parentNode;t&&t.removeChild(this)}function I8(){return this.each(M8)}function L8(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function D8(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function P8(t){return this.select(t?D8:L8)}function F8(t){return arguments.length?this.property("__data__",t):this.node().__data__}function $8(t){return function(e){t.call(this,e,this.__data__)}}function U8(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function B8(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function G8(t,e,n){return function(){var r=this.__on,i,s=$8(e);if(r){for(var a=0,o=r.length;a<o;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function z8(t,e,n){var r=U8(t+""),i,s=r.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var u=0,c=o.length,l;u<c;++u)for(i=0,l=o[u];i<s;++i)if((a=r[i]).type===l.type&&a.name===l.name)return l.value}return}for(o=e?G8:B8,i=0;i<s;++i)this.each(o(r[i],e,n));return this}function Sk(t,e,n){var r=wk(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function H8(t,e){return function(){return Sk(this,t,e)}}function W8(t,e){return function(){return Sk(this,t,e.apply(this,arguments))}}function Y8(t,e){return this.each((typeof e=="function"?W8:H8)(t,e))}function*q8(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,a;i<s;++i)(a=r[i])&&(yield a)}var Ck=[null];function hr(t,e){this._groups=t,this._parents=e}function Tc(){return new hr([[document.documentElement]],Ck)}function X8(){return this}hr.prototype=Tc.prototype={constructor:hr,select:v4,selectAll:w4,selectChild:N4,selectChildren:O4,filter:M4,data:$4,enter:I4,exit:B4,join:G4,merge:z4,selection:X8,order:H4,sort:W4,call:q4,nodes:X4,node:V4,size:K4,empty:Z4,each:j4,attr:i8,style:u8,property:f8,classed:m8,text:_8,html:A8,raise:k8,lower:S8,append:C8,insert:O8,remove:I8,clone:P8,datum:F8,on:z8,dispatch:Y8,[Symbol.iterator]:q8};function rZ(t){return typeof t=="string"?new hr([[document.querySelector(t)]],[document.documentElement]):new hr([[t]],Ck)}function kc(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ed(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Qs(){}var tc=.7,zh=1/tc,Ma="\\s*([+-]?\\d+)\\s*",nc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",V8=/^#([0-9a-f]{3,8})$/,K8=new RegExp(`^rgb\\(${Ma},${Ma},${Ma}\\)$`),Z8=new RegExp(`^rgb\\(${li},${li},${li}\\)$`),j8=new RegExp(`^rgba\\(${Ma},${Ma},${Ma},${nc}\\)$`),Q8=new RegExp(`^rgba\\(${li},${li},${li},${nc}\\)$`),J8=new RegExp(`^hsl\\(${nc},${li},${li}\\)$`),e5=new RegExp(`^hsla\\(${nc},${li},${li},${nc}\\)$`),Nv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kc(Qs,Bs,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Sv,formatHex:Sv,formatHex8:t5,formatHsl:n5,formatRgb:Cv,toString:Cv});function Sv(){return this.rgb().formatHex()}function t5(){return this.rgb().formatHex8()}function n5(){return Ok(this).formatHsl()}function Cv(){return this.rgb().formatRgb()}function Bs(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=V8.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Rv(e):n===3?new Tn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?cl(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?cl(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=K8.exec(t))?new Tn(e[1],e[2],e[3],1):(e=Z8.exec(t))?new Tn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=j8.exec(t))?cl(e[1],e[2],e[3],e[4]):(e=Q8.exec(t))?cl(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=J8.exec(t))?Iv(e[1],e[2]/100,e[3]/100,1):(e=e5.exec(t))?Iv(e[1],e[2]/100,e[3]/100,e[4]):Nv.hasOwnProperty(t)?Rv(Nv[t]):t==="transparent"?new Tn(NaN,NaN,NaN,0):null}function Rv(t){return new Tn(t>>16&255,t>>8&255,t&255,1)}function cl(t,e,n,r){return r<=0&&(t=e=n=NaN),new Tn(t,e,n,r)}function Rk(t){return t instanceof Qs||(t=Bs(t)),t?(t=t.rgb(),new Tn(t.r,t.g,t.b,t.opacity)):new Tn}function b0(t,e,n,r){return arguments.length===1?Rk(t):new Tn(t,e,n,r??1)}function Tn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}kc(Tn,b0,Ed(Qs,{brighter(t){return t=t==null?zh:Math.pow(zh,t),new Tn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?tc:Math.pow(tc,t),new Tn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Tn(Ms(this.r),Ms(this.g),Ms(this.b),Hh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ov,formatHex:Ov,formatHex8:r5,formatRgb:Mv,toString:Mv}));function Ov(){return`#${Ss(this.r)}${Ss(this.g)}${Ss(this.b)}`}function r5(){return`#${Ss(this.r)}${Ss(this.g)}${Ss(this.b)}${Ss((isNaN(this.opacity)?1:this.opacity)*255)}`}function Mv(){const t=Hh(this.opacity);return`${t===1?"rgb(":"rgba("}${Ms(this.r)}, ${Ms(this.g)}, ${Ms(this.b)}${t===1?")":`, ${t})`}`}function Hh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ms(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ss(t){return t=Ms(t),(t<16?"0":"")+t.toString(16)}function Iv(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ir(t,e,n,r)}function Ok(t){if(t instanceof Ir)return new Ir(t.h,t.s,t.l,t.opacity);if(t instanceof Qs||(t=Bs(t)),!t)return new Ir;if(t instanceof Ir)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,u=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=u<.5?s+i:2-s-i,a*=60):o=u>0&&u<1?0:a,new Ir(a,o,u,t.opacity)}function i5(t,e,n,r){return arguments.length===1?Ok(t):new Ir(t,e,n,r??1)}function Ir(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}kc(Ir,i5,Ed(Qs,{brighter(t){return t=t==null?zh:Math.pow(zh,t),new Ir(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?tc:Math.pow(tc,t),new Ir(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Tn(Mp(t>=240?t-240:t+120,i,r),Mp(t,i,r),Mp(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ir(Lv(this.h),ll(this.s),ll(this.l),Hh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Hh(this.opacity);return`${t===1?"hsl(":"hsla("}${Lv(this.h)}, ${ll(this.s)*100}%, ${ll(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Lv(t){return t=(t||0)%360,t<0?t+360:t}function ll(t){return Math.max(0,Math.min(1,t||0))}function Mp(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const s5=Math.PI/180,a5=180/Math.PI,Wh=18,Mk=.96422,Ik=1,Lk=.82521,Dk=4/29,Ia=6/29,Pk=3*Ia*Ia,o5=Ia*Ia*Ia;function Fk(t){if(t instanceof hi)return new hi(t.l,t.a,t.b,t.opacity);if(t instanceof Ci)return $k(t);t instanceof Tn||(t=Rk(t));var e=Pp(t.r),n=Pp(t.g),r=Pp(t.b),i=Ip((.2225045*e+.7168786*n+.0606169*r)/Ik),s,a;return e===n&&n===r?s=a=i:(s=Ip((.4360747*e+.3850649*n+.1430804*r)/Mk),a=Ip((.0139322*e+.0971045*n+.7141733*r)/Lk)),new hi(116*i-16,500*(s-i),200*(i-a),t.opacity)}function u5(t,e,n,r){return arguments.length===1?Fk(t):new hi(t,e,n,r??1)}function hi(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}kc(hi,u5,Ed(Qs,{brighter(t){return new hi(this.l+Wh*(t??1),this.a,this.b,this.opacity)},darker(t){return new hi(this.l-Wh*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=Mk*Lp(e),t=Ik*Lp(t),n=Lk*Lp(n),new Tn(Dp(3.1338561*e-1.6168667*t-.4906146*n),Dp(-.9787684*e+1.9161415*t+.033454*n),Dp(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Ip(t){return t>o5?Math.pow(t,1/3):t/Pk+Dk}function Lp(t){return t>Ia?t*t*t:Pk*(t-Dk)}function Dp(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Pp(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function c5(t){if(t instanceof Ci)return new Ci(t.h,t.c,t.l,t.opacity);if(t instanceof hi||(t=Fk(t)),t.a===0&&t.b===0)return new Ci(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*a5;return new Ci(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function y0(t,e,n,r){return arguments.length===1?c5(t):new Ci(t,e,n,r??1)}function Ci(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function $k(t){if(isNaN(t.h))return new hi(t.l,0,0,t.opacity);var e=t.h*s5;return new hi(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}kc(Ci,y0,Ed(Qs,{brighter(t){return new Ci(this.h,this.c,this.l+Wh*(t??1),this.opacity)},darker(t){return new Ci(this.h,this.c,this.l-Wh*(t??1),this.opacity)},rgb(){return $k(this).rgb()}}));const xd=t=>()=>t;function Uk(t,e){return function(n){return t+n*e}}function l5(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function h5(t,e){var n=e-t;return n?Uk(t,n>180||n<-180?n-360*Math.round(n/360):n):xd(isNaN(t)?e:t)}function f5(t){return(t=+t)==1?$u:function(e,n){return n-e?l5(e,n,t):xd(isNaN(e)?n:e)}}function $u(t,e){var n=e-t;return n?Uk(t,n):xd(isNaN(t)?e:t)}const Yh=(function t(e){var n=f5(e);function r(i,s){var a=n((i=b0(i)).r,(s=b0(s)).r),o=n(i.g,s.g),u=n(i.b,s.b),c=$u(i.opacity,s.opacity);return function(l){return i.r=a(l),i.g=o(l),i.b=u(l),i.opacity=c(l),i+""}}return r.gamma=t,r})(1);function d5(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function p5(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function g5(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Gb(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function m5(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Rr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function b5(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Gb(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var v0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fp=new RegExp(v0.source,"g");function y5(t){return function(){return t}}function v5(t){return function(e){return t(e)+""}}function Bk(t,e){var n=v0.lastIndex=Fp.lastIndex=0,r,i,s,a=-1,o=[],u=[];for(t=t+"",e=e+"";(r=v0.exec(t))&&(i=Fp.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,u.push({i:a,x:Rr(r,i)})),n=Fp.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?u[0]?v5(u[0].x):y5(e):(e=u.length,function(c){for(var l=0,h;l<e;++l)o[(h=u[l]).i]=h.x(c);return o.join("")})}function Gb(t,e){var n=typeof e,r;return e==null||n==="boolean"?xd(e):(n==="number"?Rr:n==="string"?(r=Bs(e))?(e=r,Yh):Bk:e instanceof Bs?Yh:e instanceof Date?m5:p5(e)?d5:Array.isArray(e)?g5:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?b5:Rr)(t,e)}function _5(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Dv=180/Math.PI,_0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Gk(t,e,n,r,i,s){var a,o,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,u/=o),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*Dv,skewX:Math.atan(u)*Dv,scaleX:a,scaleY:o}}var hl;function E5(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?_0:Gk(e.a,e.b,e.c,e.d,e.e,e.f)}function x5(t){return t==null||(hl||(hl=document.createElementNS("http://www.w3.org/2000/svg","g")),hl.setAttribute("transform",t),!(t=hl.transform.baseVal.consolidate()))?_0:(t=t.matrix,Gk(t.a,t.b,t.c,t.d,t.e,t.f))}function zk(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,l,h,d,f,p){if(c!==h||l!==d){var g=f.push("translate(",null,e,null,n);p.push({i:g-4,x:Rr(c,h)},{i:g-2,x:Rr(l,d)})}else(h||d)&&f.push("translate("+h+e+d+n)}function a(c,l,h,d){c!==l?(c-l>180?l+=360:l-c>180&&(c+=360),d.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Rr(c,l)})):l&&h.push(i(h)+"rotate("+l+r)}function o(c,l,h,d){c!==l?d.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Rr(c,l)}):l&&h.push(i(h)+"skewX("+l+r)}function u(c,l,h,d,f,p){if(c!==h||l!==d){var g=f.push(i(f)+"scale(",null,",",null,")");p.push({i:g-4,x:Rr(c,h)},{i:g-2,x:Rr(l,d)})}else(h!==1||d!==1)&&f.push(i(f)+"scale("+h+","+d+")")}return function(c,l){var h=[],d=[];return c=t(c),l=t(l),s(c.translateX,c.translateY,l.translateX,l.translateY,h,d),a(c.rotate,l.rotate,h,d),o(c.skewX,l.skewX,h,d),u(c.scaleX,c.scaleY,l.scaleX,l.scaleY,h,d),c=l=null,function(f){for(var p=-1,g=d.length,m;++p<g;)h[(m=d[p]).i]=m.x(f);return h.join("")}}}var w5=zk(E5,"px, ","px)","deg)"),A5=zk(x5,", ",")",")");function T5(t){return function(e,n){var r=t((e=y0(e)).h,(n=y0(n)).h),i=$u(e.c,n.c),s=$u(e.l,n.l),a=$u(e.opacity,n.opacity);return function(o){return e.h=r(o),e.c=i(o),e.l=s(o),e.opacity=a(o),e+""}}}const iZ=T5(h5);var qa=0,Ko=0,ko=0,Hk=1e3,qh,Zo,Xh=0,Gs=0,wd=0,rc=typeof performance=="object"&&performance.now?performance:Date,Wk=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function zb(){return Gs||(Wk(k5),Gs=rc.now()+wd)}function k5(){Gs=0}function Vh(){this._call=this._time=this._next=null}Vh.prototype=Yk.prototype={constructor:Vh,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?zb():+n)+(e==null?0:+e),!this._next&&Zo!==this&&(Zo?Zo._next=this:qh=this,Zo=this),this._call=t,this._time=n,E0()},stop:function(){this._call&&(this._call=null,this._time=1/0,E0())}};function Yk(t,e,n){var r=new Vh;return r.restart(t,e,n),r}function N5(){zb(),++qa;for(var t=qh,e;t;)(e=Gs-t._time)>=0&&t._call.call(void 0,e),t=t._next;--qa}function Pv(){Gs=(Xh=rc.now())+wd,qa=Ko=0;try{N5()}finally{qa=0,C5(),Gs=0}}function S5(){var t=rc.now(),e=t-Xh;e>Hk&&(wd-=e,Xh=t)}function C5(){for(var t,e=qh,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:qh=n);Zo=t,E0(r)}function E0(t){if(!qa){Ko&&(Ko=clearTimeout(Ko));var e=t-Gs;e>24?(t<1/0&&(Ko=setTimeout(Pv,t-rc.now()-wd)),ko&&(ko=clearInterval(ko))):(ko||(Xh=rc.now(),ko=setInterval(S5,Hk)),qa=1,Wk(Pv))}}function Fv(t,e,n){var r=new Vh;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var R5=bk("start","end","cancel","interrupt"),O5=[],qk=0,$v=1,x0=2,jl=3,Uv=4,w0=5,Ql=6;function Ad(t,e,n,r,i,s){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;M5(t,n,{name:e,index:r,group:i,on:R5,tween:O5,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:qk})}function Hb(t,e){var n=Wr(t,e);if(n.state>qk)throw new Error("too late; already scheduled");return n}function mi(t,e){var n=Wr(t,e);if(n.state>jl)throw new Error("too late; already running");return n}function Wr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function M5(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Yk(s,0,n.time);function s(c){n.state=$v,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var l,h,d,f;if(n.state!==$v)return u();for(l in r)if(f=r[l],f.name===n.name){if(f.state===jl)return Fv(a);f.state===Uv?(f.state=Ql,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete r[l]):+l<e&&(f.state=Ql,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete r[l])}if(Fv(function(){n.state===jl&&(n.state=Uv,n.timer.restart(o,n.delay,n.time),o(c))}),n.state=x0,n.on.call("start",t,t.__data__,n.index,n.group),n.state===x0){for(n.state=jl,i=new Array(d=n.tween.length),l=0,h=-1;l<d;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=f);i.length=h+1}}function o(c){for(var l=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=w0,1),h=-1,d=i.length;++h<d;)i[h].call(t,l);n.state===w0&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=Ql,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function I5(t,e){var n=t.__transition,r,i,s=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){s=!1;continue}i=r.state>x0&&r.state<w0,r.state=Ql,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}s&&delete t.__transition}}function L5(t){return this.each(function(){I5(this,t)})}function D5(t,e){var n,r;return function(){var i=mi(this,t),s=i.tween;if(s!==n){r=n=s;for(var a=0,o=r.length;a<o;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function P5(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=mi(this,t),a=s.tween;if(a!==r){i=(r=a).slice();for(var o={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=o;break}u===c&&i.push(o)}s.tween=i}}function F5(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Wr(this.node(),n).tween,i=0,s=r.length,a;i<s;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?D5:P5)(n,t,e))}function Wb(t,e,n){var r=t._id;return t.each(function(){var i=mi(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Wr(i,r).value[e]}}function Xk(t,e){var n;return(typeof e=="number"?Rr:e instanceof Bs?Yh:(n=Bs(e))?(e=n,Yh):Bk)(t,e)}function $5(t){return function(){this.removeAttribute(t)}}function U5(t){return function(){this.removeAttributeNS(t.space,t.local)}}function B5(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttribute(t);return a===i?null:a===r?s:s=e(r=a,n)}}function G5(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?s:s=e(r=a,n)}}function z5(t,e,n){var r,i,s;return function(){var a,o=n(this),u;return o==null?void this.removeAttribute(t):(a=this.getAttribute(t),u=o+"",a===u?null:a===r&&u===i?s:(i=u,s=e(r=a,o)))}}function H5(t,e,n){var r,i,s;return function(){var a,o=n(this),u;return o==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),u=o+"",a===u?null:a===r&&u===i?s:(i=u,s=e(r=a,o)))}}function W5(t,e){var n=_d(t),r=n==="transform"?A5:Xk;return this.attrTween(t,typeof e=="function"?(n.local?H5:z5)(n,r,Wb(this,"attr."+t,e)):e==null?(n.local?U5:$5)(n):(n.local?G5:B5)(n,r,e))}function Y5(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function q5(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function X5(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&q5(t,s)),n}return i._value=e,i}function V5(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Y5(t,s)),n}return i._value=e,i}function K5(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=_d(t);return this.tween(n,(r.local?X5:V5)(r,e))}function Z5(t,e){return function(){Hb(this,t).delay=+e.apply(this,arguments)}}function j5(t,e){return e=+e,function(){Hb(this,t).delay=e}}function Q5(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Z5:j5)(e,t)):Wr(this.node(),e).delay}function J5(t,e){return function(){mi(this,t).duration=+e.apply(this,arguments)}}function e$(t,e){return e=+e,function(){mi(this,t).duration=e}}function t$(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?J5:e$)(e,t)):Wr(this.node(),e).duration}function n$(t,e){if(typeof e!="function")throw new Error;return function(){mi(this,t).ease=e}}function r$(t){var e=this._id;return arguments.length?this.each(n$(e,t)):Wr(this.node(),e).ease}function i$(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;mi(this,t).ease=n}}function s$(t){if(typeof t!="function")throw new Error;return this.each(i$(this._id,t))}function a$(t){typeof t!="function"&&(t=_k(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,o=r[i]=[],u,c=0;c<a;++c)(u=s[c])&&t.call(u,u.__data__,c,s)&&o.push(u);return new Pi(r,this._parents,this._name,this._id)}function o$(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),a=new Array(r),o=0;o<s;++o)for(var u=e[o],c=n[o],l=u.length,h=a[o]=new Array(l),d,f=0;f<l;++f)(d=u[f]||c[f])&&(h[f]=d);for(;o<r;++o)a[o]=e[o];return new Pi(a,this._parents,this._name,this._id)}function u$(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function c$(t,e,n){var r,i,s=u$(e)?Hb:mi;return function(){var a=s(this,t),o=a.on;o!==r&&(i=(r=o).copy()).on(e,n),a.on=i}}function l$(t,e){var n=this._id;return arguments.length<2?Wr(this.node(),n).on.on(t):this.each(c$(n,t,e))}function h$(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function f$(){return this.on("end.remove",h$(this._id))}function d$(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ub(t));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var o=r[a],u=o.length,c=s[a]=new Array(u),l,h,d=0;d<u;++d)(l=o[d])&&(h=t.call(l,l.__data__,d,o))&&("__data__"in l&&(h.__data__=l.__data__),c[d]=h,Ad(c[d],e,n,d,c,Wr(l,n)));return new Pi(s,this._parents,e,n)}function p$(t){var e=this._name,n=this._id;typeof t!="function"&&(t=vk(t));for(var r=this._groups,i=r.length,s=[],a=[],o=0;o<i;++o)for(var u=r[o],c=u.length,l,h=0;h<c;++h)if(l=u[h]){for(var d=t.call(l,l.__data__,h,u),f,p=Wr(l,n),g=0,m=d.length;g<m;++g)(f=d[g])&&Ad(f,e,n,g,d,p);s.push(d),a.push(l)}return new Pi(s,a,e,n)}var g$=Tc.prototype.constructor;function m$(){return new g$(this._groups,this._parents)}function b$(t,e){var n,r,i;return function(){var s=Ya(this,t),a=(this.style.removeProperty(t),Ya(this,t));return s===a?null:s===n&&a===r?i:i=e(n=s,r=a)}}function Vk(t){return function(){this.style.removeProperty(t)}}function y$(t,e,n){var r,i=n+"",s;return function(){var a=Ya(this,t);return a===i?null:a===r?s:s=e(r=a,n)}}function v$(t,e,n){var r,i,s;return function(){var a=Ya(this,t),o=n(this),u=o+"";return o==null&&(u=o=(this.style.removeProperty(t),Ya(this,t))),a===u?null:a===r&&u===i?s:(i=u,s=e(r=a,o))}}function _$(t,e){var n,r,i,s="style."+e,a="end."+s,o;return function(){var u=mi(this,t),c=u.on,l=u.value[s]==null?o||(o=Vk(e)):void 0;(c!==n||i!==l)&&(r=(n=c).copy()).on(a,i=l),u.on=r}}function E$(t,e,n){var r=(t+="")=="transform"?w5:Xk;return e==null?this.styleTween(t,b$(t,r)).on("end.style."+t,Vk(t)):typeof e=="function"?this.styleTween(t,v$(t,r,Wb(this,"style."+t,e))).each(_$(this._id,t)):this.styleTween(t,y$(t,r,e),n).on("end.style."+t,null)}function x$(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function w$(t,e,n){var r,i;function s(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&x$(t,a,n)),r}return s._value=e,s}function A$(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,w$(t,e,n??""))}function T$(t){return function(){this.textContent=t}}function k$(t){return function(){var e=t(this);this.textContent=e??""}}function N$(t){return this.tween("text",typeof t=="function"?k$(Wb(this,"text",t)):T$(t==null?"":t+""))}function S$(t){return function(e){this.textContent=t.call(this,e)}}function C$(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&S$(i)),e}return r._value=t,r}function R$(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,C$(t))}function O$(){for(var t=this._name,e=this._id,n=Kk(),r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,u,c=0;c<o;++c)if(u=a[c]){var l=Wr(u,e);Ad(u,t,n,c,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Pi(r,this._parents,t,n)}function M$(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,a){var o={value:a},u={value:function(){--i===0&&s()}};n.each(function(){var c=mi(this,r),l=c.on;l!==t&&(e=(t=l).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(u)),c.on=e}),i===0&&s()})}var I$=0;function Pi(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Kk(){return++I$}var xi=Tc.prototype;Pi.prototype={constructor:Pi,select:d$,selectAll:p$,selectChild:xi.selectChild,selectChildren:xi.selectChildren,filter:a$,merge:o$,selection:m$,transition:O$,call:xi.call,nodes:xi.nodes,node:xi.node,size:xi.size,empty:xi.empty,each:xi.each,on:l$,attr:W5,attrTween:K5,style:E$,styleTween:A$,text:N$,textTween:R$,remove:f$,tween:F5,delay:Q5,duration:t$,ease:r$,easeVarying:s$,end:M$,[Symbol.iterator]:xi[Symbol.iterator]};function L$(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var D$={time:null,delay:0,duration:250,ease:L$};function P$(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function F$(t){var e,n;t instanceof Pi?(e=t._id,t=t._name):(e=Kk(),(n=D$).time=zb(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,u,c=0;c<o;++c)(u=a[c])&&Ad(u,t,e,c,a,n||P$(u,e));return new Pi(r,this._parents,t,e)}Tc.prototype.interrupt=L5;Tc.prototype.transition=F$;const A0=Math.PI,T0=2*A0,vs=1e-6,$$=T0-vs;function Zk(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function U$(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Zk;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let B$=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Zk:U$(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,u=r-e,c=i-n,l=a-e,h=o-n,d=l*l+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>vs)if(!(Math.abs(h*u-c*l)>vs)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let f=r-a,p=i-o,g=u*u+c*c,m=f*f+p*p,b=Math.sqrt(g),v=Math.sqrt(d),y=s*Math.tan((A0-Math.acos((g+d-m)/(2*b*v)))/2),_=y/v,w=y/b;Math.abs(_-1)>vs&&this._append`L${e+_*l},${n+_*h}`,this._append`A${s},${s},0,0,${+(h*f>l*p)},${this._x1=e+w*u},${this._y1=n+w*c}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),u=r*Math.sin(i),c=e+o,l=n+u,h=1^a,d=a?i-s:s-i;this._x1===null?this._append`M${c},${l}`:(Math.abs(this._x1-c)>vs||Math.abs(this._y1-l)>vs)&&this._append`L${c},${l}`,r&&(d<0&&(d=d%T0+T0),d>$$?this._append`A${r},${r},0,1,${h},${e-o},${n-u}A${r},${r},0,1,${h},${this._x1=c},${this._y1=l}`:d>vs&&this._append`A${r},${r},0,${+(d>=A0)},${h},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function G$(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Kh(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Xa(t){return t=Kh(Math.abs(t)),t?t[1]:NaN}function z$(t,e){return function(n,r){for(var i=n.length,s=[],a=0,o=t[0],u=0;i>0&&o>0&&(u+o+1>r&&(o=Math.max(1,r-u)),s.push(n.substring(i-=o,i+o)),!((u+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function H$(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var W$=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zh(t){if(!(e=W$.exec(t)))throw new Error("invalid format: "+t);var e;return new Yb({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Zh.prototype=Yb.prototype;function Yb(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Yb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Y$(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var jh;function q$(t,e){var n=Kh(t,e);if(!n)return jh=void 0,t.toPrecision(e);var r=n[0],i=n[1],s=i-(jh=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Kh(t,Math.max(0,e+s-1))[0]}function Bv(t,e){var n=Kh(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Gv={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:G$,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Bv(t*100,e),r:Bv,s:q$,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function zv(t){return t}var Hv=Array.prototype.map,Wv=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function X$(t){var e=t.grouping===void 0||t.thousands===void 0?zv:z$(Hv.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?zv:H$(Hv.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function c(h,d){h=Zh(h);var f=h.fill,p=h.align,g=h.sign,m=h.symbol,b=h.zero,v=h.width,y=h.comma,_=h.precision,w=h.trim,k=h.type;k==="n"?(y=!0,k="g"):Gv[k]||(_===void 0&&(_=12),w=!0,k="g"),(b||f==="0"&&p==="=")&&(b=!0,f="0",p="=");var x=(d&&d.prefix!==void 0?d.prefix:"")+(m==="$"?n:m==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():""),T=(m==="$"?r:/[%p]/.test(k)?a:"")+(d&&d.suffix!==void 0?d.suffix:""),O=Gv[k],I=/[defgprs%]/.test(k);_=_===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function M(R){var L=x,E=T,A,N,C;if(k==="c")E=O(R)+E,R="";else{R=+R;var S=R<0||1/R<0;if(R=isNaN(R)?u:O(Math.abs(R),_),w&&(R=Y$(R)),S&&+R==0&&g!=="+"&&(S=!1),L=(S?g==="("?g:o:g==="-"||g==="("?"":g)+L,E=(k==="s"&&!isNaN(R)&&jh!==void 0?Wv[8+jh/3]:"")+E+(S&&g==="("?")":""),I){for(A=-1,N=R.length;++A<N;)if(C=R.charCodeAt(A),48>C||C>57){E=(C===46?i+R.slice(A+1):R.slice(A))+E,R=R.slice(0,A);break}}}y&&!b&&(R=e(R,1/0));var D=L.length+R.length+E.length,P=D<v?new Array(v-D+1).join(f):"";switch(y&&b&&(R=e(P+R,P.length?v-E.length:1/0),P=""),p){case"<":R=L+R+E+P;break;case"=":R=L+P+R+E;break;case"^":R=P.slice(0,D=P.length>>1)+L+R+E+P.slice(D);break;default:R=P+L+R+E;break}return s(R)}return M.toString=function(){return h+""},M}function l(h,d){var f=Math.max(-8,Math.min(8,Math.floor(Xa(d)/3)))*3,p=Math.pow(10,-f),g=c((h=Zh(h),h.type="f",h),{suffix:Wv[8+f/3]});return function(m){return g(p*m)}}return{format:c,formatPrefix:l}}var fl,jk,Qk;V$({thousands:",",grouping:[3],currency:["$",""]});function V$(t){return fl=X$(t),jk=fl.format,Qk=fl.formatPrefix,fl}function K$(t){return Math.max(0,-Xa(Math.abs(t)))}function Z$(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xa(e)/3)))*3-Xa(Math.abs(t)))}function j$(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Xa(e)-Xa(t))+1}function Q$(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function J$(){return this.eachAfter(Q$)}function e9(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function t9(t,e){for(var n=this,r=[n],i,s,a=-1;n=r.pop();)if(t.call(e,n,++a,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function n9(t,e){for(var n=this,r=[n],i=[],s,a,o,u=-1;n=r.pop();)if(i.push(n),s=n.children)for(a=0,o=s.length;a<o;++a)r.push(s[a]);for(;n=i.pop();)t.call(e,n,++u,this);return this}function r9(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function i9(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function s9(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function a9(t){for(var e=this,n=o9(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function o9(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function u9(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function c9(){return Array.from(this)}function l9(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function h9(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*f9(){var t=this,e,n=[t],r,i,s;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function Jk(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=g9)):e===void 0&&(e=p9);for(var n=new Qh(t),r,i=[n],s,a,o,u;r=i.pop();)if((a=e(r.data))&&(u=(a=Array.from(a)).length))for(r.children=a,o=u-1;o>=0;--o)i.push(s=a[o]=new Qh(a[o])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(b9)}function d9(){return Jk(this).eachBefore(m9)}function p9(t){return t.children}function g9(t){return Array.isArray(t)?t[1]:null}function m9(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function b9(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Qh(t){this.data=t,this.depth=this.height=0,this.parent=null}Qh.prototype=Jk.prototype={constructor:Qh,count:J$,each:e9,eachAfter:n9,eachBefore:t9,find:r9,sum:i9,sort:s9,path:a9,ancestors:u9,descendants:c9,leaves:l9,links:h9,copy:d9,[Symbol.iterator]:f9};function y9(t){if(typeof t!="function")throw new Error;return t}function No(){return 0}function So(t){return function(){return t}}function v9(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function _9(t,e,n,r,i){for(var s=t.children,a,o=-1,u=s.length,c=t.value&&(r-e)/t.value;++o<u;)a=s[o],a.y0=n,a.y1=i,a.x0=e,a.x1=e+=a.value*c}function E9(t,e,n,r,i){for(var s=t.children,a,o=-1,u=s.length,c=t.value&&(i-n)/t.value;++o<u;)a=s[o],a.x0=e,a.x1=r,a.y0=n,a.y1=n+=a.value*c}var x9=(1+Math.sqrt(5))/2;function w9(t,e,n,r,i,s){for(var a=[],o=e.children,u,c,l=0,h=0,d=o.length,f,p,g=e.value,m,b,v,y,_,w,k;l<d;){f=i-n,p=s-r;do m=o[h++].value;while(!m&&h<d);for(b=v=m,w=Math.max(p/f,f/p)/(g*t),k=m*m*w,_=Math.max(v/k,k/b);h<d;++h){if(m+=c=o[h].value,c<b&&(b=c),c>v&&(v=c),k=m*m*w,y=Math.max(v/k,k/b),y>_){m-=c;break}_=y}a.push(u={value:m,dice:f<p,children:o.slice(l,h)}),u.dice?_9(u,n,r,i,g?r+=p*m/g:s):E9(u,n,r,g?n+=f*m/g:i,s),g-=m,l=h}return a}const A9=(function t(e){function n(r,i,s,a,o){w9(e,r,i,s,a,o)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n})(x9);function aZ(){var t=A9,e=!1,n=1,r=1,i=[0],s=No,a=No,o=No,u=No,c=No;function l(d){return d.x0=d.y0=0,d.x1=n,d.y1=r,d.eachBefore(h),i=[0],e&&d.eachBefore(v9),d}function h(d){var f=i[d.depth],p=d.x0+f,g=d.y0+f,m=d.x1-f,b=d.y1-f;m<p&&(p=m=(p+m)/2),b<g&&(g=b=(g+b)/2),d.x0=p,d.y0=g,d.x1=m,d.y1=b,d.children&&(f=i[d.depth+1]=s(d)/2,p+=c(d)-f,g+=a(d)-f,m-=o(d)-f,b-=u(d)-f,m<p&&(p=m=(p+m)/2),b<g&&(g=b=(g+b)/2),t(d,p,g,m,b))}return l.round=function(d){return arguments.length?(e=!!d,l):e},l.size=function(d){return arguments.length?(n=+d[0],r=+d[1],l):[n,r]},l.tile=function(d){return arguments.length?(t=y9(d),l):t},l.padding=function(d){return arguments.length?l.paddingInner(d).paddingOuter(d):l.paddingInner()},l.paddingInner=function(d){return arguments.length?(s=typeof d=="function"?d:So(+d),l):s},l.paddingOuter=function(d){return arguments.length?l.paddingTop(d).paddingRight(d).paddingBottom(d).paddingLeft(d):l.paddingTop()},l.paddingTop=function(d){return arguments.length?(a=typeof d=="function"?d:So(+d),l):a},l.paddingRight=function(d){return arguments.length?(o=typeof d=="function"?d:So(+d),l):o},l.paddingBottom=function(d){return arguments.length?(u=typeof d=="function"?d:So(+d),l):u},l.paddingLeft=function(d){return arguments.length?(c=typeof d=="function"?d:So(+d),l):c},l}function Td(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const Yv=Symbol("implicit");function e2(){var t=new xv,e=[],n=[],r=Yv;function i(s){let a=t.get(s);if(a===void 0){if(r!==Yv)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new xv;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return e2(e,n).unknown(r)},Td.apply(i,arguments),i}function T9(){var t=e2().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,o=!1,u=0,c=0,l=.5;delete t.unknown;function h(){var d=e().length,f=i<r,p=f?i:r,g=f?r:i;s=(g-p)/Math.max(1,d-u+c*2),o&&(s=Math.floor(s)),p+=(g-p-s*(d-u))*l,a=s*(1-u),o&&(p=Math.round(p),a=Math.round(a));var m=a4(d).map(function(b){return p+s*b});return n(f?m.reverse():m)}return t.domain=function(d){return arguments.length?(e(d),h()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,o=!0,h()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(d){return arguments.length?(o=!!d,h()):o},t.padding=function(d){return arguments.length?(u=Math.min(1,c=+d),h()):u},t.paddingInner=function(d){return arguments.length?(u=Math.min(1,d),h()):u},t.paddingOuter=function(d){return arguments.length?(c=+d,h()):c},t.align=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),h()):l},t.copy=function(){return T9(e(),[r,i]).round(o).paddingInner(u).paddingOuter(c).align(l)},Td.apply(h(),arguments)}function k9(t){return function(){return t}}function N9(t){return+t}var qv=[0,1];function xa(t){return t}function k0(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:k9(isNaN(e)?NaN:.5)}function S9(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function C9(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=k0(i,r),s=n(a,s)):(r=k0(r,i),s=n(s,a)),function(o){return s(r(o))}}function R9(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=k0(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var u=Q6(t,o,1,r)-1;return s[u](i[u](o))}}function t2(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function O9(){var t=qv,e=qv,n=Gb,r,i,s,a=xa,o,u,c;function l(){var d=Math.min(t.length,e.length);return a!==xa&&(a=S9(t[0],t[d-1])),o=d>2?R9:C9,u=c=null,h}function h(d){return d==null||isNaN(d=+d)?s:(u||(u=o(t.map(r),e,n)))(r(a(d)))}return h.invert=function(d){return a(i((c||(c=o(e,t.map(r),Rr)))(d)))},h.domain=function(d){return arguments.length?(t=Array.from(d,N9),l()):t.slice()},h.range=function(d){return arguments.length?(e=Array.from(d),l()):e.slice()},h.rangeRound=function(d){return e=Array.from(d),n=_5,l()},h.clamp=function(d){return arguments.length?(a=d?!0:xa,l()):a!==xa},h.interpolate=function(d){return arguments.length?(n=d,l()):n},h.unknown=function(d){return arguments.length?(s=d,h):s},function(d,f){return r=d,i=f,l()}}function n2(){return O9()(xa,xa)}function M9(t,e,n,r){var i=p0(t,e,n),s;switch(r=Zh(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Z$(i,a))&&(r.precision=s),Qk(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=j$(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=K$(i))&&(r.precision=s-(r.type==="%")*2);break}}return jk(r)}function I9(t){var e=t.domain;return t.ticks=function(n){var r=e();return s4(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return M9(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],u,c,l=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);l-- >0;){if(c=d0(a,o,n),c===u)return r[i]=a,r[s]=o,e(r);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;u=c}return t},t}function L9(){var t=n2();return t.copy=function(){return t2(t,L9())},Td.apply(t,arguments),I9(t)}function D9(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}const $p=new Date,Up=new Date;function Yt(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const u=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return u;let c;do u.push(c=new Date(+s)),e(s,o),t(s);while(c<s&&s<a);return u},i.filter=s=>Yt(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>($p.setTime(+s),Up.setTime(+a),t($p),t(Up),Math.floor(n($p,Up))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Jh=Yt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Jh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Yt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Jh);Jh.range;const Ri=1e3,yr=Ri*60,Oi=yr*60,Fi=Oi*24,qb=Fi*7,Xv=Fi*30,Bp=Fi*365,wa=Yt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ri)},(t,e)=>(e-t)/Ri,t=>t.getUTCSeconds());wa.range;const Xb=Yt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ri)},(t,e)=>{t.setTime(+t+e*yr)},(t,e)=>(e-t)/yr,t=>t.getMinutes());Xb.range;const P9=Yt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*yr)},(t,e)=>(e-t)/yr,t=>t.getUTCMinutes());P9.range;const Vb=Yt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ri-t.getMinutes()*yr)},(t,e)=>{t.setTime(+t+e*Oi)},(t,e)=>(e-t)/Oi,t=>t.getHours());Vb.range;const F9=Yt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Oi)},(t,e)=>(e-t)/Oi,t=>t.getUTCHours());F9.range;const Nc=Yt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*yr)/Fi,t=>t.getDate()-1);Nc.range;const Kb=Yt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fi,t=>t.getUTCDate()-1);Kb.range;const $9=Yt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fi,t=>Math.floor(t/Fi));$9.range;function Js(t){return Yt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*yr)/qb)}const kd=Js(0),ef=Js(1),U9=Js(2),B9=Js(3),Va=Js(4),G9=Js(5),z9=Js(6);kd.range;ef.range;U9.range;B9.range;Va.range;G9.range;z9.range;function ea(t){return Yt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/qb)}const r2=ea(0),tf=ea(1),H9=ea(2),W9=ea(3),Ka=ea(4),Y9=ea(5),q9=ea(6);r2.range;tf.range;H9.range;W9.range;Ka.range;Y9.range;q9.range;const Zb=Yt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Zb.range;const X9=Yt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());X9.range;const $i=Yt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());$i.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});$i.range;const zs=Yt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());zs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});zs.range;function V9(t,e,n,r,i,s){const a=[[wa,1,Ri],[wa,5,5*Ri],[wa,15,15*Ri],[wa,30,30*Ri],[s,1,yr],[s,5,5*yr],[s,15,15*yr],[s,30,30*yr],[i,1,Oi],[i,3,3*Oi],[i,6,6*Oi],[i,12,12*Oi],[r,1,Fi],[r,2,2*Fi],[n,1,qb],[e,1,Xv],[e,3,3*Xv],[t,1,Bp]];function o(c,l,h){const d=l<c;d&&([c,l]=[l,c]);const f=h&&typeof h.range=="function"?h:u(c,l,h),p=f?f.range(c,+l+1):[];return d?p.reverse():p}function u(c,l,h){const d=Math.abs(l-c)/h,f=$b(([,,m])=>m).right(a,d);if(f===a.length)return t.every(p0(c/Bp,l/Bp,h));if(f===0)return Jh.every(Math.max(p0(c,l,h),1));const[p,g]=a[d/a[f-1][2]<a[f][2]/d?f-1:f];return p.every(g)}return[o,u]}const[K9,Z9]=V9($i,Zb,kd,Nc,Vb,Xb);function Gp(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function zp(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Co(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function j9(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,u=t.shortMonths,c=Ro(i),l=Oo(i),h=Ro(s),d=Oo(s),f=Ro(a),p=Oo(a),g=Ro(o),m=Oo(o),b=Ro(u),v=Oo(u),y={a:C,A:S,b:D,B:P,c:null,d:Jv,e:Jv,f:_U,g:RU,G:MU,H:bU,I:yU,j:vU,L:i2,m:EU,M:xU,p:U,q:Y,Q:n_,s:r_,S:wU,u:AU,U:TU,V:kU,w:NU,W:SU,x:null,X:null,y:CU,Y:OU,Z:IU,"%":t_},_={a:H,A:ee,b:V,B:K,c:null,d:e_,e:e_,f:FU,g:XU,G:KU,H:LU,I:DU,j:PU,L:a2,m:$U,M:UU,p:ae,q:ie,Q:n_,s:r_,S:BU,u:GU,U:zU,V:HU,w:WU,W:YU,x:null,X:null,y:qU,Y:VU,Z:ZU,"%":t_},w={a:I,A:M,b:R,B:L,c:E,d:jv,e:jv,f:dU,g:Zv,G:Kv,H:Qv,I:Qv,j:cU,L:fU,m:uU,M:lU,p:O,q:oU,Q:gU,s:mU,S:hU,u:nU,U:rU,V:iU,w:tU,W:sU,x:A,X:N,y:Zv,Y:Kv,Z:aU,"%":pU};y.x=k(n,y),y.X=k(r,y),y.c=k(e,y),_.x=k(n,_),_.X=k(r,_),_.c=k(e,_);function k(B,W){return function(J){var G=[],ge=-1,Q=0,Ue=B.length,ce,mt,ft;for(J instanceof Date||(J=new Date(+J));++ge<Ue;)B.charCodeAt(ge)===37&&(G.push(B.slice(Q,ge)),(mt=Vv[ce=B.charAt(++ge)])!=null?ce=B.charAt(++ge):mt=ce==="e"?" ":"0",(ft=W[ce])&&(ce=ft(J,mt)),G.push(ce),Q=ge+1);return G.push(B.slice(Q,ge)),G.join("")}}function x(B,W){return function(J){var G=Co(1900,void 0,1),ge=T(G,B,J+="",0),Q,Ue;if(ge!=J.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(W&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(Q=zp(Co(G.y,0,1)),Ue=Q.getUTCDay(),Q=Ue>4||Ue===0?tf.ceil(Q):tf(Q),Q=Kb.offset(Q,(G.V-1)*7),G.y=Q.getUTCFullYear(),G.m=Q.getUTCMonth(),G.d=Q.getUTCDate()+(G.w+6)%7):(Q=Gp(Co(G.y,0,1)),Ue=Q.getDay(),Q=Ue>4||Ue===0?ef.ceil(Q):ef(Q),Q=Nc.offset(Q,(G.V-1)*7),G.y=Q.getFullYear(),G.m=Q.getMonth(),G.d=Q.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),Ue="Z"in G?zp(Co(G.y,0,1)).getUTCDay():Gp(Co(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(Ue+5)%7:G.w+G.U*7-(Ue+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,zp(G)):Gp(G)}}function T(B,W,J,G){for(var ge=0,Q=W.length,Ue=J.length,ce,mt;ge<Q;){if(G>=Ue)return-1;if(ce=W.charCodeAt(ge++),ce===37){if(ce=W.charAt(ge++),mt=w[ce in Vv?W.charAt(ge++):ce],!mt||(G=mt(B,J,G))<0)return-1}else if(ce!=J.charCodeAt(G++))return-1}return G}function O(B,W,J){var G=c.exec(W.slice(J));return G?(B.p=l.get(G[0].toLowerCase()),J+G[0].length):-1}function I(B,W,J){var G=f.exec(W.slice(J));return G?(B.w=p.get(G[0].toLowerCase()),J+G[0].length):-1}function M(B,W,J){var G=h.exec(W.slice(J));return G?(B.w=d.get(G[0].toLowerCase()),J+G[0].length):-1}function R(B,W,J){var G=b.exec(W.slice(J));return G?(B.m=v.get(G[0].toLowerCase()),J+G[0].length):-1}function L(B,W,J){var G=g.exec(W.slice(J));return G?(B.m=m.get(G[0].toLowerCase()),J+G[0].length):-1}function E(B,W,J){return T(B,e,W,J)}function A(B,W,J){return T(B,n,W,J)}function N(B,W,J){return T(B,r,W,J)}function C(B){return a[B.getDay()]}function S(B){return s[B.getDay()]}function D(B){return u[B.getMonth()]}function P(B){return o[B.getMonth()]}function U(B){return i[+(B.getHours()>=12)]}function Y(B){return 1+~~(B.getMonth()/3)}function H(B){return a[B.getUTCDay()]}function ee(B){return s[B.getUTCDay()]}function V(B){return u[B.getUTCMonth()]}function K(B){return o[B.getUTCMonth()]}function ae(B){return i[+(B.getUTCHours()>=12)]}function ie(B){return 1+~~(B.getUTCMonth()/3)}return{format:function(B){var W=k(B+="",y);return W.toString=function(){return B},W},parse:function(B){var W=x(B+="",!1);return W.toString=function(){return B},W},utcFormat:function(B){var W=k(B+="",_);return W.toString=function(){return B},W},utcParse:function(B){var W=x(B+="",!0);return W.toString=function(){return B},W}}}var Vv={"-":"",_:" ",0:"0"},nn=/^\s*\d+/,Q9=/^%/,J9=/[\\^$*+?|[\]().{}]/g;function Je(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function eU(t){return t.replace(J9,"\\$&")}function Ro(t){return new RegExp("^(?:"+t.map(eU).join("|")+")","i")}function Oo(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function tU(t,e,n){var r=nn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function nU(t,e,n){var r=nn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function rU(t,e,n){var r=nn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function iU(t,e,n){var r=nn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function sU(t,e,n){var r=nn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Kv(t,e,n){var r=nn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Zv(t,e,n){var r=nn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function aU(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function oU(t,e,n){var r=nn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function uU(t,e,n){var r=nn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function jv(t,e,n){var r=nn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function cU(t,e,n){var r=nn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Qv(t,e,n){var r=nn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function lU(t,e,n){var r=nn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function hU(t,e,n){var r=nn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function fU(t,e,n){var r=nn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function dU(t,e,n){var r=nn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function pU(t,e,n){var r=Q9.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function gU(t,e,n){var r=nn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function mU(t,e,n){var r=nn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Jv(t,e){return Je(t.getDate(),e,2)}function bU(t,e){return Je(t.getHours(),e,2)}function yU(t,e){return Je(t.getHours()%12||12,e,2)}function vU(t,e){return Je(1+Nc.count($i(t),t),e,3)}function i2(t,e){return Je(t.getMilliseconds(),e,3)}function _U(t,e){return i2(t,e)+"000"}function EU(t,e){return Je(t.getMonth()+1,e,2)}function xU(t,e){return Je(t.getMinutes(),e,2)}function wU(t,e){return Je(t.getSeconds(),e,2)}function AU(t){var e=t.getDay();return e===0?7:e}function TU(t,e){return Je(kd.count($i(t)-1,t),e,2)}function s2(t){var e=t.getDay();return e>=4||e===0?Va(t):Va.ceil(t)}function kU(t,e){return t=s2(t),Je(Va.count($i(t),t)+($i(t).getDay()===4),e,2)}function NU(t){return t.getDay()}function SU(t,e){return Je(ef.count($i(t)-1,t),e,2)}function CU(t,e){return Je(t.getFullYear()%100,e,2)}function RU(t,e){return t=s2(t),Je(t.getFullYear()%100,e,2)}function OU(t,e){return Je(t.getFullYear()%1e4,e,4)}function MU(t,e){var n=t.getDay();return t=n>=4||n===0?Va(t):Va.ceil(t),Je(t.getFullYear()%1e4,e,4)}function IU(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Je(e/60|0,"0",2)+Je(e%60,"0",2)}function e_(t,e){return Je(t.getUTCDate(),e,2)}function LU(t,e){return Je(t.getUTCHours(),e,2)}function DU(t,e){return Je(t.getUTCHours()%12||12,e,2)}function PU(t,e){return Je(1+Kb.count(zs(t),t),e,3)}function a2(t,e){return Je(t.getUTCMilliseconds(),e,3)}function FU(t,e){return a2(t,e)+"000"}function $U(t,e){return Je(t.getUTCMonth()+1,e,2)}function UU(t,e){return Je(t.getUTCMinutes(),e,2)}function BU(t,e){return Je(t.getUTCSeconds(),e,2)}function GU(t){var e=t.getUTCDay();return e===0?7:e}function zU(t,e){return Je(r2.count(zs(t)-1,t),e,2)}function o2(t){var e=t.getUTCDay();return e>=4||e===0?Ka(t):Ka.ceil(t)}function HU(t,e){return t=o2(t),Je(Ka.count(zs(t),t)+(zs(t).getUTCDay()===4),e,2)}function WU(t){return t.getUTCDay()}function YU(t,e){return Je(tf.count(zs(t)-1,t),e,2)}function qU(t,e){return Je(t.getUTCFullYear()%100,e,2)}function XU(t,e){return t=o2(t),Je(t.getUTCFullYear()%100,e,2)}function VU(t,e){return Je(t.getUTCFullYear()%1e4,e,4)}function KU(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ka(t):Ka.ceil(t),Je(t.getUTCFullYear()%1e4,e,4)}function ZU(){return"+0000"}function t_(){return"%"}function n_(t){return+t}function r_(t){return Math.floor(+t/1e3)}var da,u2;jU({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function jU(t){return da=j9(t),u2=da.format,da.parse,da.utcFormat,da.utcParse,da}function QU(t){return new Date(t)}function JU(t){return t instanceof Date?+t:+new Date(+t)}function c2(t,e,n,r,i,s,a,o,u,c){var l=n2(),h=l.invert,d=l.domain,f=c(".%L"),p=c(":%S"),g=c("%I:%M"),m=c("%I %p"),b=c("%a %d"),v=c("%b %d"),y=c("%B"),_=c("%Y");function w(k){return(u(k)<k?f:o(k)<k?p:a(k)<k?g:s(k)<k?m:r(k)<k?i(k)<k?b:v:n(k)<k?y:_)(k)}return l.invert=function(k){return new Date(h(k))},l.domain=function(k){return arguments.length?d(Array.from(k,JU)):d().map(QU)},l.ticks=function(k){var x=d();return t(x[0],x[x.length-1],k??10)},l.tickFormat=function(k,x){return x==null?w:c(x)},l.nice=function(k){var x=d();return(!k||typeof k.range!="function")&&(k=e(x[0],x[x.length-1],k??10)),k?d(D9(x,k)):l},l.copy=function(){return t2(l,c2(t,e,n,r,i,s,a,o,u,c))},l}function oZ(){return Td.apply(c2(K9,Z9,$i,Zb,kd,Nc,Vb,Xb,wa,u2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function eB(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const uZ=eB("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Ot(t){return function(){return t}}const i_=Math.abs,_n=Math.atan2,gs=Math.cos,tB=Math.max,Hp=Math.min,Zr=Math.sin,Aa=Math.sqrt,wn=1e-12,ic=Math.PI,nf=ic/2,Jl=2*ic;function nB(t){return t>1?0:t<-1?ic:Math.acos(t)}function s_(t){return t>=1?nf:t<=-1?-nf:Math.asin(t)}function l2(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new B$(e)}function rB(t){return t.innerRadius}function iB(t){return t.outerRadius}function sB(t){return t.startAngle}function aB(t){return t.endAngle}function oB(t){return t&&t.padAngle}function uB(t,e,n,r,i,s,a,o){var u=n-t,c=r-e,l=a-i,h=o-s,d=h*u-l*c;if(!(d*d<wn))return d=(l*(e-s)-h*(t-i))/d,[t+d*u,e+d*c]}function dl(t,e,n,r,i,s,a){var o=t-n,u=e-r,c=(a?s:-s)/Aa(o*o+u*u),l=c*u,h=-c*o,d=t+l,f=e+h,p=n+l,g=r+h,m=(d+p)/2,b=(f+g)/2,v=p-d,y=g-f,_=v*v+y*y,w=i-s,k=d*g-p*f,x=(y<0?-1:1)*Aa(tB(0,w*w*_-k*k)),T=(k*y-v*x)/_,O=(-k*v-y*x)/_,I=(k*y+v*x)/_,M=(-k*v+y*x)/_,R=T-m,L=O-b,E=I-m,A=M-b;return R*R+L*L>E*E+A*A&&(T=I,O=M),{cx:T,cy:O,x01:-l,y01:-h,x11:T*(i/w-1),y11:O*(i/w-1)}}function cZ(){var t=rB,e=iB,n=Ot(0),r=null,i=sB,s=aB,a=oB,o=null,u=l2(c);function c(){var l,h,d=+t.apply(this,arguments),f=+e.apply(this,arguments),p=i.apply(this,arguments)-nf,g=s.apply(this,arguments)-nf,m=i_(g-p),b=g>p;if(o||(o=l=u()),f<d&&(h=f,f=d,d=h),!(f>wn))o.moveTo(0,0);else if(m>Jl-wn)o.moveTo(f*gs(p),f*Zr(p)),o.arc(0,0,f,p,g,!b),d>wn&&(o.moveTo(d*gs(g),d*Zr(g)),o.arc(0,0,d,g,p,b));else{var v=p,y=g,_=p,w=g,k=m,x=m,T=a.apply(this,arguments)/2,O=T>wn&&(r?+r.apply(this,arguments):Aa(d*d+f*f)),I=Hp(i_(f-d)/2,+n.apply(this,arguments)),M=I,R=I,L,E;if(O>wn){var A=s_(O/d*Zr(T)),N=s_(O/f*Zr(T));(k-=A*2)>wn?(A*=b?1:-1,_+=A,w-=A):(k=0,_=w=(p+g)/2),(x-=N*2)>wn?(N*=b?1:-1,v+=N,y-=N):(x=0,v=y=(p+g)/2)}var C=f*gs(v),S=f*Zr(v),D=d*gs(w),P=d*Zr(w);if(I>wn){var U=f*gs(y),Y=f*Zr(y),H=d*gs(_),ee=d*Zr(_),V;if(m<ic)if(V=uB(C,S,H,ee,U,Y,D,P)){var K=C-V[0],ae=S-V[1],ie=U-V[0],B=Y-V[1],W=1/Zr(nB((K*ie+ae*B)/(Aa(K*K+ae*ae)*Aa(ie*ie+B*B)))/2),J=Aa(V[0]*V[0]+V[1]*V[1]);M=Hp(I,(d-J)/(W-1)),R=Hp(I,(f-J)/(W+1))}else M=R=0}x>wn?R>wn?(L=dl(H,ee,C,S,f,R,b),E=dl(U,Y,D,P,f,R,b),o.moveTo(L.cx+L.x01,L.cy+L.y01),R<I?o.arc(L.cx,L.cy,R,_n(L.y01,L.x01),_n(E.y01,E.x01),!b):(o.arc(L.cx,L.cy,R,_n(L.y01,L.x01),_n(L.y11,L.x11),!b),o.arc(0,0,f,_n(L.cy+L.y11,L.cx+L.x11),_n(E.cy+E.y11,E.cx+E.x11),!b),o.arc(E.cx,E.cy,R,_n(E.y11,E.x11),_n(E.y01,E.x01),!b))):(o.moveTo(C,S),o.arc(0,0,f,v,y,!b)):o.moveTo(C,S),!(d>wn)||!(k>wn)?o.lineTo(D,P):M>wn?(L=dl(D,P,U,Y,d,-M,b),E=dl(C,S,H,ee,d,-M,b),o.lineTo(L.cx+L.x01,L.cy+L.y01),M<I?o.arc(L.cx,L.cy,M,_n(L.y01,L.x01),_n(E.y01,E.x01),!b):(o.arc(L.cx,L.cy,M,_n(L.y01,L.x01),_n(L.y11,L.x11),!b),o.arc(0,0,d,_n(L.cy+L.y11,L.cx+L.x11),_n(E.cy+E.y11,E.cx+E.x11),b),o.arc(E.cx,E.cy,M,_n(E.y11,E.x11),_n(E.y01,E.x01),!b))):o.arc(0,0,d,w,_,b)}if(o.closePath(),l)return o=null,l+""||null}return c.centroid=function(){var l=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-ic/2;return[gs(h)*l,Zr(h)*l]},c.innerRadius=function(l){return arguments.length?(t=typeof l=="function"?l:Ot(+l),c):t},c.outerRadius=function(l){return arguments.length?(e=typeof l=="function"?l:Ot(+l),c):e},c.cornerRadius=function(l){return arguments.length?(n=typeof l=="function"?l:Ot(+l),c):n},c.padRadius=function(l){return arguments.length?(r=l==null?null:typeof l=="function"?l:Ot(+l),c):r},c.startAngle=function(l){return arguments.length?(i=typeof l=="function"?l:Ot(+l),c):i},c.endAngle=function(l){return arguments.length?(s=typeof l=="function"?l:Ot(+l),c):s},c.padAngle=function(l){return arguments.length?(a=typeof l=="function"?l:Ot(+l),c):a},c.context=function(l){return arguments.length?(o=l??null,c):o},c}function h2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function f2(t){this._context=t}f2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function cB(t){return new f2(t)}function lB(t){return t[0]}function hB(t){return t[1]}function lZ(t,e){var n=Ot(!0),r=null,i=cB,s=null,a=l2(o);t=typeof t=="function"?t:t===void 0?lB:Ot(t),e=typeof e=="function"?e:e===void 0?hB:Ot(e);function o(u){var c,l=(u=h2(u)).length,h,d=!1,f;for(r==null&&(s=i(f=a())),c=0;c<=l;++c)!(c<l&&n(h=u[c],c,u))===d&&((d=!d)?s.lineStart():s.lineEnd()),d&&s.point(+t(h,c,u),+e(h,c,u));if(f)return s=null,f+""||null}return o.x=function(u){return arguments.length?(t=typeof u=="function"?u:Ot(+u),o):t},o.y=function(u){return arguments.length?(e=typeof u=="function"?u:Ot(+u),o):e},o.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Ot(!!u),o):n},o.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),o):i},o.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),o):r},o}function fB(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function dB(t){return t}function hZ(){var t=dB,e=fB,n=null,r=Ot(0),i=Ot(Jl),s=Ot(0);function a(o){var u,c=(o=h2(o)).length,l,h,d=0,f=new Array(c),p=new Array(c),g=+r.apply(this,arguments),m=Math.min(Jl,Math.max(-Jl,i.apply(this,arguments)-g)),b,v=Math.min(Math.abs(m)/c,s.apply(this,arguments)),y=v*(m<0?-1:1),_;for(u=0;u<c;++u)(_=p[f[u]=u]=+t(o[u],u,o))>0&&(d+=_);for(e!=null?f.sort(function(w,k){return e(p[w],p[k])}):n!=null&&f.sort(function(w,k){return n(o[w],o[k])}),u=0,h=d?(m-c*y)/d:0;u<c;++u,g=b)l=f[u],_=p[l],b=g+(_>0?_*h:0)+y,p[l]={data:o[l],index:u,value:_,startAngle:g,endAngle:b,padAngle:v};return p}return a.value=function(o){return arguments.length?(t=typeof o=="function"?o:Ot(+o),a):t},a.sortValues=function(o){return arguments.length?(e=o,n=null,a):e},a.sort=function(o){return arguments.length?(n=o,e=null,a):n},a.startAngle=function(o){return arguments.length?(r=typeof o=="function"?o:Ot(+o),a):r},a.endAngle=function(o){return arguments.length?(i=typeof o=="function"?o:Ot(+o),a):i},a.padAngle=function(o){return arguments.length?(s=typeof o=="function"?o:Ot(+o),a):s},a}class d2{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function fZ(t){return new d2(t,!0)}function dZ(t){return new d2(t,!1)}function ns(){}function rf(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Nd(t){this._context=t}Nd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pZ(t){return new Nd(t)}function p2(t){this._context=t}p2.prototype={areaStart:ns,areaEnd:ns,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:rf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function gZ(t){return new p2(t)}function g2(t){this._context=t}g2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:rf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mZ(t){return new g2(t)}function m2(t,e){this._basis=new Nd(t),this._beta=e}m2.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],s=t[n]-r,a=e[n]-i,o=-1,u;++o<=n;)u=o/n,this._basis.point(this._beta*t[o]+(1-this._beta)*(r+u*s),this._beta*e[o]+(1-this._beta)*(i+u*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const bZ=(function t(e){function n(r){return e===1?new Nd(r):new m2(r,e)}return n.beta=function(r){return t(+r)},n})(.85);function sf(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function jb(t,e){this._context=t,this._k=(1-e)/6}jb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:sf(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:sf(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const yZ=(function t(e){function n(r){return new jb(r,e)}return n.tension=function(r){return t(+r)},n})(0);function Qb(t,e){this._context=t,this._k=(1-e)/6}Qb.prototype={areaStart:ns,areaEnd:ns,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:sf(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const vZ=(function t(e){function n(r){return new Qb(r,e)}return n.tension=function(r){return t(+r)},n})(0);function Jb(t,e){this._context=t,this._k=(1-e)/6}Jb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:sf(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const _Z=(function t(e){function n(r){return new Jb(r,e)}return n.tension=function(r){return t(+r)},n})(0);function ey(t,e,n){var r=t._x1,i=t._y1,s=t._x2,a=t._y2;if(t._l01_a>wn){var o=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*o-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*o-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>wn){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*c+t._x1*t._l23_2a-e*t._l12_2a)/l,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,s,a,t._x2,t._y2)}function b2(t,e){this._context=t,this._alpha=e}b2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:ey(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const EZ=(function t(e){function n(r){return e?new b2(r,e):new jb(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function y2(t,e){this._context=t,this._alpha=e}y2.prototype={areaStart:ns,areaEnd:ns,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ey(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const xZ=(function t(e){function n(r){return e?new y2(r,e):new Qb(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function v2(t,e){this._context=t,this._alpha=e}v2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ey(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const wZ=(function t(e){function n(r){return e?new v2(r,e):new Jb(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function _2(t){this._context=t}_2.prototype={areaStart:ns,areaEnd:ns,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function AZ(t){return new _2(t)}function a_(t){return t<0?-1:1}function o_(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(a_(s)+a_(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function u_(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Wp(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-r)/3;t._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*n,s,a)}function af(t){this._context=t}af.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wp(this,this._t0,u_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Wp(this,u_(this,n=o_(this,t,e)),n);break;default:Wp(this,this._t0,n=o_(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function E2(t){this._context=new x2(t)}(E2.prototype=Object.create(af.prototype)).point=function(t,e){af.prototype.point.call(this,e,t)};function x2(t){this._context=t}x2.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function TZ(t){return new af(t)}function kZ(t){return new E2(t)}function w2(t){this._context=t}w2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=c_(t),i=c_(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function c_(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function NZ(t){return new w2(t)}function Sd(t,e){this._context=t,this._t=e}Sd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function SZ(t){return new Sd(t,.5)}function CZ(t){return new Sd(t,0)}function RZ(t){return new Sd(t,1)}function jo(t,e,n){this.k=t,this.x=e,this.y=n}jo.prototype={constructor:jo,scale:function(t){return t===1?this:new jo(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new jo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};jo.prototype;var Mo={},Gt={},l_;function pB(){return l_||(l_=1,Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.BLANK_URL=Gt.relativeFirstCharacters=Gt.whitespaceEscapeCharsRegex=Gt.urlSchemeRegex=Gt.ctrlCharactersRegex=Gt.htmlCtrlEntityRegex=Gt.htmlEntitiesRegex=Gt.invalidProtocolRegex=void 0,Gt.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,Gt.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,Gt.htmlCtrlEntityRegex=/&(newline|tab);/gi,Gt.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Gt.urlSchemeRegex=/^.+(:|&colon;)/gim,Gt.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,Gt.relativeFirstCharacters=[".","/"],Gt.BLANK_URL="about:blank"),Gt}var h_;function gB(){if(h_)return Mo;h_=1,Object.defineProperty(Mo,"__esModule",{value:!0}),Mo.sanitizeUrl=void 0;var t=pB();function e(a){return t.relativeFirstCharacters.indexOf(a[0])>-1}function n(a){var o=a.replace(t.ctrlCharactersRegex,"");return o.replace(t.htmlEntitiesRegex,function(u,c){return String.fromCharCode(c)})}function r(a){return URL.canParse(a)}function i(a){try{return decodeURIComponent(a)}catch{return a}}function s(a){if(!a)return t.BLANK_URL;var o,u=i(a.trim());do u=n(u).replace(t.htmlCtrlEntityRegex,"").replace(t.ctrlCharactersRegex,"").replace(t.whitespaceEscapeCharsRegex,"").trim(),u=i(u),o=u.match(t.ctrlCharactersRegex)||u.match(t.htmlEntitiesRegex)||u.match(t.htmlCtrlEntityRegex)||u.match(t.whitespaceEscapeCharsRegex);while(o&&o.length>0);var c=u;if(!c)return t.BLANK_URL;if(e(c))return c;var l=c.trimStart(),h=l.match(t.urlSchemeRegex);if(!h)return c;var d=h[0].toLowerCase().trim();if(t.invalidProtocolRegex.test(d))return t.BLANK_URL;var f=l.replace(/\\/g,"/");if(d==="mailto:"||d.includes("://"))return f;if(d==="http:"||d==="https:"){if(!r(f))return t.BLANK_URL;var p=new URL(f);return p.protocol=p.protocol.toLowerCase(),p.hostname=p.hostname.toLowerCase(),p.toString()}return f}return Mo.sanitizeUrl=s,Mo}var OZ=gB();const mB=Object.freeze({left:0,top:0,width:16,height:16}),of=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),A2=Object.freeze({...mB,...of}),bB=Object.freeze({...A2,body:"",hidden:!1}),yB=Object.freeze({width:null,height:null}),vB=Object.freeze({...yB,...of}),MZ=(t,e,n,r="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const o=i.pop(),u=i.pop(),c={provider:i.length>0?i[0]:r,prefix:u,name:o};return Yp(c)?c:null}const s=i[0],a=s.split("-");if(a.length>1){const o={provider:r,prefix:a.shift(),name:a.join("-")};return Yp(o)?o:null}if(n&&r===""){const o={provider:r,prefix:"",name:s};return Yp(o,n)?o:null}return null},Yp=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1;function _B(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const r=((t.rotate||0)+(e.rotate||0))%4;return r&&(n.rotate=r),n}function f_(t,e){const n=_B(t,e);for(const r in bB)r in of?r in t&&!(r in n)&&(n[r]=of[r]):r in e?n[r]=e[r]:r in t&&(n[r]=t[r]);return n}function EB(t,e){const n=t.icons,r=t.aliases||Object.create(null),i=Object.create(null);function s(a){if(n[a])return i[a]=[];if(!(a in i)){i[a]=null;const o=r[a]&&r[a].parent,u=o&&s(o);u&&(i[a]=[o].concat(u))}return i[a]}return(e||Object.keys(n).concat(Object.keys(r))).forEach(s),i}function d_(t,e,n){const r=t.icons,i=t.aliases||Object.create(null);let s={};function a(o){s=f_(r[o]||i[o],s)}return a(e),n.forEach(a),f_(t,s)}function IZ(t,e){if(t.icons[e])return d_(t,e,[]);const n=EB(t,[e])[e];return n?d_(t,e,n):null}const xB=/(-?[0-9.]*[0-9]+[0-9.]*)/g,wB=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function p_(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const r=t.split(xB);if(r===null||!r.length)return t;const i=[];let s=r.shift(),a=wB.test(s);for(;;){if(a){const o=parseFloat(s);isNaN(o)?i.push(s):i.push(Math.ceil(o*e*n)/n)}else i.push(s);if(s=r.shift(),s===void 0)return i.join("");a=!a}}function AB(t,e="defs"){let n="";const r=t.indexOf("<"+e);for(;r>=0;){const i=t.indexOf(">",r),s=t.indexOf("</"+e);if(i===-1||s===-1)break;const a=t.indexOf(">",s);if(a===-1)break;n+=t.slice(i+1,s).trim(),t=t.slice(0,r).trim()+t.slice(a+1)}return{defs:n,content:t}}function TB(t,e){return t?"<defs>"+t+"</defs>"+e:e}function kB(t,e,n){const r=AB(t);return TB(r.defs,e+r.content+n)}const NB=t=>t==="unset"||t==="undefined"||t==="none";function LZ(t,e){const n={...A2,...t},r={...vB,...e},i={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,r].forEach(g=>{const m=[],b=g.hFlip,v=g.vFlip;let y=g.rotate;b?v?y+=2:(m.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),m.push("scale(-1 1)"),i.top=i.left=0):v&&(m.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),m.push("scale(1 -1)"),i.top=i.left=0);let _;switch(y<0&&(y-=Math.floor(y/4)*4),y=y%4,y){case 1:_=i.height/2+i.top,m.unshift("rotate(90 "+_.toString()+" "+_.toString()+")");break;case 2:m.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:_=i.width/2+i.left,m.unshift("rotate(-90 "+_.toString()+" "+_.toString()+")");break}y%2===1&&(i.left!==i.top&&(_=i.left,i.left=i.top,i.top=_),i.width!==i.height&&(_=i.width,i.width=i.height,i.height=_)),m.length&&(s=kB(s,'<g transform="'+m.join(" ")+'">',"</g>"))});const a=r.width,o=r.height,u=i.width,c=i.height;let l,h;a===null?(h=o===null?"1em":o==="auto"?c:o,l=p_(h,u/c)):(l=a==="auto"?u:a,h=o===null?p_(l,c/u):o==="auto"?c:o);const d={},f=(g,m)=>{NB(m)||(d[g]=m.toString())};f("width",l),f("height",h);const p=[i.left,i.top,u,c];return d.viewBox=p.join(" "),{attributes:d,viewBox:p,body:s}}const SB=/\sid="(\S+)"/g,g_=new Map;function CB(t){t=t.replace(/[0-9]+$/,"")||"a";const e=g_.get(t)||0;return g_.set(t,e+1),e?`${t}${e}`:t}function DZ(t){const e=[];let n;for(;n=SB.exec(t);)e.push(n[1]);if(!e.length)return t;const r="suffix"+(Math.random()*16777216|Date.now()).toString(16);return e.forEach(i=>{const s=CB(i),a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+s+r+"$3")}),t=t.replace(new RegExp(r,"g"),""),t}function PZ(t,e){let n=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in e)n+=" "+r+'="'+e[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}function ty(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var ta=ty();function T2(t){ta=t}var Uu={exec:()=>null};function et(t,e=""){let n=typeof t=="string"?t:t.source,r={replace:(i,s)=>{let a=typeof s=="string"?s:s.source;return a=a.replace(Pn.caret,"$1"),n=n.replace(i,a),r},getRegex:()=>new RegExp(n,e)};return r}var RB=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),Pn={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},OB=/^(?:[ \t]*(?:\n|$))+/,MB=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,IB=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Sc=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,LB=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,ny=/(?:[*+-]|\d{1,9}[.)])/,k2=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,N2=et(k2).replace(/bull/g,ny).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),DB=et(k2).replace(/bull/g,ny).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),ry=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,PB=/^[^\n]+/,iy=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,FB=et(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",iy).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),$B=et(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,ny).getRegex(),Cd="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",sy=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,UB=et("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",sy).replace("tag",Cd).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),S2=et(ry).replace("hr",Sc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Cd).getRegex(),BB=et(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",S2).getRegex(),ay={blockquote:BB,code:MB,def:FB,fences:IB,heading:LB,hr:Sc,html:UB,lheading:N2,list:$B,newline:OB,paragraph:S2,table:Uu,text:PB},m_=et("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Sc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Cd).getRegex(),GB={...ay,lheading:DB,table:m_,paragraph:et(ry).replace("hr",Sc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",m_).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Cd).getRegex()},zB={...ay,html:et(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",sy).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Uu,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:et(ry).replace("hr",Sc).replace("heading",` *#{1,6} *[^
]`).replace("lheading",N2).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},HB=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,WB=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,C2=/^( {2,}|\\)\n(?!\s*$)/,YB=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Rd=/[\p{P}\p{S}]/u,oy=/[\s\p{P}\p{S}]/u,R2=/[^\s\p{P}\p{S}]/u,qB=et(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,oy).getRegex(),O2=/(?!~)[\p{P}\p{S}]/u,XB=/(?!~)[\s\p{P}\p{S}]/u,VB=/(?:[^\s\p{P}\p{S}]|~)/u,KB=et(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",RB?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),M2=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,ZB=et(M2,"u").replace(/punct/g,Rd).getRegex(),jB=et(M2,"u").replace(/punct/g,O2).getRegex(),I2="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",QB=et(I2,"gu").replace(/notPunctSpace/g,R2).replace(/punctSpace/g,oy).replace(/punct/g,Rd).getRegex(),JB=et(I2,"gu").replace(/notPunctSpace/g,VB).replace(/punctSpace/g,XB).replace(/punct/g,O2).getRegex(),e7=et("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,R2).replace(/punctSpace/g,oy).replace(/punct/g,Rd).getRegex(),t7=et(/\\(punct)/,"gu").replace(/punct/g,Rd).getRegex(),n7=et(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),r7=et(sy).replace("(?:-->|$)","-->").getRegex(),i7=et("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",r7).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),uf=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,s7=et(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",uf).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),L2=et(/^!?\[(label)\]\[(ref)\]/).replace("label",uf).replace("ref",iy).getRegex(),D2=et(/^!?\[(ref)\](?:\[\])?/).replace("ref",iy).getRegex(),a7=et("reflink|nolink(?!\\()","g").replace("reflink",L2).replace("nolink",D2).getRegex(),b_=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,uy={_backpedal:Uu,anyPunctuation:t7,autolink:n7,blockSkip:KB,br:C2,code:WB,del:Uu,emStrongLDelim:ZB,emStrongRDelimAst:QB,emStrongRDelimUnd:e7,escape:HB,link:s7,nolink:D2,punctuation:qB,reflink:L2,reflinkSearch:a7,tag:i7,text:YB,url:Uu},o7={...uy,link:et(/^!?\[(label)\]\((.*?)\)/).replace("label",uf).getRegex(),reflink:et(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",uf).getRegex()},N0={...uy,emStrongRDelimAst:JB,emStrongLDelim:jB,url:et(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",b_).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:et(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",b_).getRegex()},u7={...N0,br:et(C2).replace("{2,}","*").getRegex(),text:et(N0.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},pl={normal:ay,gfm:GB,pedantic:zB},Io={normal:uy,gfm:N0,breaks:u7,pedantic:o7},c7={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},y_=t=>c7[t];function ei(t,e){if(e){if(Pn.escapeTest.test(t))return t.replace(Pn.escapeReplace,y_)}else if(Pn.escapeTestNoEncode.test(t))return t.replace(Pn.escapeReplaceNoEncode,y_);return t}function v_(t){try{t=encodeURI(t).replace(Pn.percentDecode,"%")}catch{return null}return t}function __(t,e){var s;let n=t.replace(Pn.findPipe,(a,o,u)=>{let c=!1,l=o;for(;--l>=0&&u[l]==="\\";)c=!c;return c?"|":" |"}),r=n.split(Pn.splitPipe),i=0;if(r[0].trim()||r.shift(),r.length>0&&!((s=r.at(-1))!=null&&s.trim())&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(Pn.slashPipe,"|");return r}function Lo(t,e,n){let r=t.length;if(r===0)return"";let i=0;for(;i<r&&t.charAt(r-i-1)===e;)i++;return t.slice(0,r-i)}function l7(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function E_(t,e,n,r,i){let s=e.href,a=e.title||null,o=t[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;let u={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:a,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,u}function h7(t,e,n){let r=t.match(n.other.indentCodeCompensation);if(r===null)return e;let i=r[1];return e.split(`
`).map(s=>{let a=s.match(n.other.beginningSpace);if(a===null)return s;let[o]=a;return o.length>=i.length?s.slice(i.length):s}).join(`
`)}var cf=class{constructor(e){_e(this,"options");_e(this,"rules");_e(this,"lexer");this.options=e||ta}space(e){let n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){let n=this.rules.block.code.exec(e);if(n){let r=n[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Lo(r,`
`)}}}fences(e){let n=this.rules.block.fences.exec(e);if(n){let r=n[0],i=h7(r,n[3]||"",this.rules);return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:i}}}heading(e){let n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(this.rules.other.endingHash.test(r)){let i=Lo(r,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){let n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:Lo(n[0],`
`)}}blockquote(e){let n=this.rules.block.blockquote.exec(e);if(n){let r=Lo(n[0],`
`).split(`
`),i="",s="",a=[];for(;r.length>0;){let o=!1,u=[],c;for(c=0;c<r.length;c++)if(this.rules.other.blockquoteStart.test(r[c]))u.push(r[c]),o=!0;else if(!o)u.push(r[c]);else break;r=r.slice(c);let l=u.join(`
`),h=l.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${l}`:l,s=s?`${s}
${h}`:h;let d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,a,!0),this.lexer.state.top=d,r.length===0)break;let f=a.at(-1);if((f==null?void 0:f.type)==="code")break;if((f==null?void 0:f.type)==="blockquote"){let p=f,g=p.raw+`
`+r.join(`
`),m=this.blockquote(g);a[a.length-1]=m,i=i.substring(0,i.length-p.raw.length)+m.raw,s=s.substring(0,s.length-p.text.length)+m.text;break}else if((f==null?void 0:f.type)==="list"){let p=f,g=p.raw+`
`+r.join(`
`),m=this.list(g);a[a.length-1]=m,i=i.substring(0,i.length-f.raw.length)+m.raw,s=s.substring(0,s.length-p.raw.length)+m.raw,r=g.substring(a.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:a,text:s}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r=n[1].trim(),i=r.length>1,s={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");let a=this.rules.other.listItemRegex(r),o=!1;for(;e;){let c=!1,l="",h="";if(!(n=a.exec(e))||this.rules.block.hr.test(e))break;l=n[0],e=e.substring(l.length);let d=n[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,v=>" ".repeat(3*v.length)),f=e.split(`
`,1)[0],p=!d.trim(),g=0;if(this.options.pedantic?(g=2,h=d.trimStart()):p?g=n[1].length+1:(g=n[2].search(this.rules.other.nonSpaceChar),g=g>4?1:g,h=d.slice(g),g+=n[1].length),p&&this.rules.other.blankLine.test(f)&&(l+=f+`
`,e=e.substring(f.length+1),c=!0),!c){let v=this.rules.other.nextBulletRegex(g),y=this.rules.other.hrRegex(g),_=this.rules.other.fencesBeginRegex(g),w=this.rules.other.headingBeginRegex(g),k=this.rules.other.htmlBeginRegex(g);for(;e;){let x=e.split(`
`,1)[0],T;if(f=x,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),T=f):T=f.replace(this.rules.other.tabCharGlobal,"    "),_.test(f)||w.test(f)||k.test(f)||v.test(f)||y.test(f))break;if(T.search(this.rules.other.nonSpaceChar)>=g||!f.trim())h+=`
`+T.slice(g);else{if(p||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||_.test(d)||w.test(d)||y.test(d))break;h+=`
`+f}!p&&!f.trim()&&(p=!0),l+=x+`
`,e=e.substring(x.length+1),d=T.slice(g)}}s.loose||(o?s.loose=!0:this.rules.other.doubleBlankLine.test(l)&&(o=!0));let m=null,b;this.options.gfm&&(m=this.rules.other.listIsTask.exec(h),m&&(b=m[0]!=="[ ] ",h=h.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:l,task:!!m,checked:b,loose:!1,text:h,tokens:[]}),s.raw+=l}let u=s.items.at(-1);if(u)u.raw=u.raw.trimEnd(),u.text=u.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let c=0;c<s.items.length;c++)if(this.lexer.state.top=!1,s.items[c].tokens=this.lexer.blockTokens(s.items[c].text,[]),!s.loose){let l=s.items[c].tokens.filter(d=>d.type==="space"),h=l.length>0&&l.some(d=>this.rules.other.anyLine.test(d.raw));s.loose=h}if(s.loose)for(let c=0;c<s.items.length;c++)s.items[c].loose=!0;return s}}html(e){let n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){let n=this.rules.block.def.exec(e);if(n){let r=n[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=n[2]?n[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:s}}}table(e){var o;let n=this.rules.block.table.exec(e);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;let r=__(n[1]),i=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=(o=n[3])!=null&&o.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],a={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===i.length){for(let u of i)this.rules.other.tableAlignRight.test(u)?a.align.push("right"):this.rules.other.tableAlignCenter.test(u)?a.align.push("center"):this.rules.other.tableAlignLeft.test(u)?a.align.push("left"):a.align.push(null);for(let u=0;u<r.length;u++)a.header.push({text:r[u],tokens:this.lexer.inline(r[u]),header:!0,align:a.align[u]});for(let u of s)a.rows.push(__(u,a.header.length).map((c,l)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:a.align[l]})));return a}}lheading(e){let n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){let n=this.rules.block.paragraph.exec(e);if(n){let r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){let n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){let n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:n[1]}}tag(e){let n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&this.rules.other.startATag.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){let n=this.rules.inline.link.exec(e);if(n){let r=n[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let a=Lo(r.slice(0,-1),"\\");if((r.length-a.length)%2===0)return}else{let a=l7(n[2],"()");if(a===-2)return;if(a>-1){let o=(n[0].indexOf("!")===0?5:4)+n[1].length+a;n[2]=n[2].substring(0,a),n[0]=n[0].substring(0,o).trim(),n[3]=""}}let i=n[2],s="";if(this.options.pedantic){let a=this.rules.other.pedanticHrefTitle.exec(i);a&&(i=a[1],s=a[3])}else s=n[3]?n[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?i=i.slice(1):i=i.slice(1,-1)),E_(n,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer,this.rules)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=n[i.toLowerCase()];if(!s){let a=r[0].charAt(0);return{type:"text",raw:a,text:a}}return E_(r,s,r[0],this.lexer,this.rules)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!(!i||i[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!r||this.rules.inline.punctuation.exec(r))){let s=[...i[0]].length-1,a,o,u=s,c=0,l=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,n=n.slice(-1*e.length+s);(i=l.exec(n))!=null;){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(o=[...a].length,i[3]||i[4]){u+=o;continue}else if((i[5]||i[6])&&s%3&&!((s+o)%3)){c+=o;continue}if(u-=o,u>0)continue;o=Math.min(o,o+u+c);let h=[...i[0]][0].length,d=e.slice(0,s+i.index+h+o);if(Math.min(s,o)%2){let p=d.slice(1,-1);return{type:"em",raw:d,text:p,tokens:this.lexer.inlineTokens(p)}}let f=d.slice(2,-2);return{type:"strong",raw:d,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(e){let n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(r),s=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return i&&s&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:n[0],text:r}}}br(e){let n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){let n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){let n=this.rules.inline.autolink.exec(e);if(n){let r,i;return n[2]==="@"?(r=n[1],i="mailto:"+r):(r=n[1],i=r),{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e){var r;let n;if(n=this.rules.inline.url.exec(e)){let i,s;if(n[2]==="@")i=n[0],s="mailto:"+i;else{let a;do a=n[0],n[0]=((r=this.rules.inline._backpedal.exec(n[0]))==null?void 0:r[0])??"";while(a!==n[0]);i=n[0],n[1]==="www."?s="http://"+n[0]:s=n[0]}return{type:"link",raw:n[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){let n=this.rules.inline.text.exec(e);if(n){let r=this.lexer.state.inRawBlock;return{type:"text",raw:n[0],text:n[0],escaped:r}}}},Or=class S0{constructor(e){_e(this,"tokens");_e(this,"options");_e(this,"state");_e(this,"tokenizer");_e(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ta,this.options.tokenizer=this.options.tokenizer||new cf,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:Pn,block:pl.normal,inline:Io.normal};this.options.pedantic?(n.block=pl.pedantic,n.inline=Io.pedantic):this.options.gfm&&(n.block=pl.gfm,this.options.breaks?n.inline=Io.breaks:n.inline=Io.gfm),this.tokenizer.rules=n}static get rules(){return{block:pl,inline:Io}}static lex(e,n){return new S0(n).lex(e)}static lexInline(e,n){return new S0(n).inlineTokens(e)}lex(e){e=e.replace(Pn.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){var i,s,a;for(this.options.pedantic&&(e=e.replace(Pn.tabCharGlobal,"    ").replace(Pn.spaceLine,""));e;){let o;if((s=(i=this.options.extensions)==null?void 0:i.block)!=null&&s.some(c=>(o=c.call({lexer:this},e,n))?(e=e.substring(o.raw.length),n.push(o),!0):!1))continue;if(o=this.tokenizer.space(e)){e=e.substring(o.raw.length);let c=n.at(-1);o.raw.length===1&&c!==void 0?c.raw+=`
`:n.push(o);continue}if(o=this.tokenizer.code(e)){e=e.substring(o.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+o.raw,c.text+=`
`+o.text,this.inlineQueue.at(-1).src=c.text):n.push(o);continue}if(o=this.tokenizer.fences(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.heading(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.hr(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.blockquote(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.list(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.html(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.def(e)){e=e.substring(o.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+o.raw,c.text+=`
`+o.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title},n.push(o));continue}if(o=this.tokenizer.table(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.lheading(e)){e=e.substring(o.raw.length),n.push(o);continue}let u=e;if((a=this.options.extensions)!=null&&a.startBlock){let c=1/0,l=e.slice(1),h;this.options.extensions.startBlock.forEach(d=>{h=d.call({lexer:this},l),typeof h=="number"&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(u=e.substring(0,c+1))}if(this.state.top&&(o=this.tokenizer.paragraph(u))){let c=n.at(-1);r&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+o.raw,c.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(o),r=u.length!==e.length,e=e.substring(o.raw.length);continue}if(o=this.tokenizer.text(e)){e=e.substring(o.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+o.raw,c.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(o);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){var u,c,l,h,d;let r=e,i=null;if(this.tokens.links){let f=Object.keys(this.tokens.links);if(f.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)f.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)s=i[2]?i[2].length:0,r=r.slice(0,i.index+s)+"["+"a".repeat(i[0].length-s-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=((c=(u=this.options.hooks)==null?void 0:u.emStrongMask)==null?void 0:c.call({lexer:this},r))??r;let a=!1,o="";for(;e;){a||(o=""),a=!1;let f;if((h=(l=this.options.extensions)==null?void 0:l.inline)!=null&&h.some(g=>(f=g.call({lexer:this},e,n))?(e=e.substring(f.raw.length),n.push(f),!0):!1))continue;if(f=this.tokenizer.escape(e)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.tag(e)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.link(e)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(f.raw.length);let g=n.at(-1);f.type==="text"&&(g==null?void 0:g.type)==="text"?(g.raw+=f.raw,g.text+=f.text):n.push(f);continue}if(f=this.tokenizer.emStrong(e,r,o)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.codespan(e)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.br(e)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.del(e)){e=e.substring(f.raw.length),n.push(f);continue}if(f=this.tokenizer.autolink(e)){e=e.substring(f.raw.length),n.push(f);continue}if(!this.state.inLink&&(f=this.tokenizer.url(e))){e=e.substring(f.raw.length),n.push(f);continue}let p=e;if((d=this.options.extensions)!=null&&d.startInline){let g=1/0,m=e.slice(1),b;this.options.extensions.startInline.forEach(v=>{b=v.call({lexer:this},m),typeof b=="number"&&b>=0&&(g=Math.min(g,b))}),g<1/0&&g>=0&&(p=e.substring(0,g+1))}if(f=this.tokenizer.inlineText(p)){e=e.substring(f.raw.length),f.raw.slice(-1)!=="_"&&(o=f.raw.slice(-1)),a=!0;let g=n.at(-1);(g==null?void 0:g.type)==="text"?(g.raw+=f.raw,g.text+=f.text):n.push(f);continue}if(e){let g="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(g);break}else throw new Error(g)}}return n}},lf=class{constructor(e){_e(this,"options");_e(this,"parser");this.options=e||ta}space(e){return""}code({text:e,lang:n,escaped:r}){var a;let i=(a=(n||"").match(Pn.notSpaceStart))==null?void 0:a[0],s=e.replace(Pn.endingNewline,"")+`
`;return i?'<pre><code class="language-'+ei(i)+'">'+(r?s:ei(s,!0))+`</code></pre>
`:"<pre><code>"+(r?s:ei(s,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:n}){return`<h${n}>${this.parser.parseInline(e)}</h${n}>
`}hr(e){return`<hr>
`}list(e){let n=e.ordered,r=e.start,i="";for(let o=0;o<e.items.length;o++){let u=e.items[o];i+=this.listitem(u)}let s=n?"ol":"ul",a=n&&r!==1?' start="'+r+'"':"";return"<"+s+a+`>
`+i+"</"+s+`>
`}listitem(e){var r;let n="";if(e.task){let i=this.checkbox({checked:!!e.checked});e.loose?((r=e.tokens[0])==null?void 0:r.type)==="paragraph"?(e.tokens[0].text=i+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=i+" "+ei(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):n+=i+" "}return n+=this.parser.parse(e.tokens,!!e.loose),`<li>${n}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let n="",r="";for(let s=0;s<e.header.length;s++)r+=this.tablecell(e.header[s]);n+=this.tablerow({text:r});let i="";for(let s=0;s<e.rows.length;s++){let a=e.rows[s];r="";for(let o=0;o<a.length;o++)r+=this.tablecell(a[o]);i+=this.tablerow({text:r})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let n=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+n+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${ei(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:n,tokens:r}){let i=this.parser.parseInline(r),s=v_(e);if(s===null)return i;e=s;let a='<a href="'+e+'"';return n&&(a+=' title="'+ei(n)+'"'),a+=">"+i+"</a>",a}image({href:e,title:n,text:r,tokens:i}){i&&(r=this.parser.parseInline(i,this.parser.textRenderer));let s=v_(e);if(s===null)return ei(r);e=s;let a=`<img src="${e}" alt="${r}"`;return n&&(a+=` title="${ei(n)}"`),a+=">",a}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:ei(e.text)}},cy=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},Mr=class C0{constructor(e){_e(this,"options");_e(this,"renderer");_e(this,"textRenderer");this.options=e||ta,this.options.renderer=this.options.renderer||new lf,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new cy}static parse(e,n){return new C0(n).parse(e)}static parseInline(e,n){return new C0(n).parseInline(e)}parse(e,n=!0){var i,s;let r="";for(let a=0;a<e.length;a++){let o=e[a];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[o.type]){let c=o,l=this.options.extensions.renderers[c.type].call({parser:this},c);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(c.type)){r+=l||"";continue}}let u=o;switch(u.type){case"space":{r+=this.renderer.space(u);continue}case"hr":{r+=this.renderer.hr(u);continue}case"heading":{r+=this.renderer.heading(u);continue}case"code":{r+=this.renderer.code(u);continue}case"table":{r+=this.renderer.table(u);continue}case"blockquote":{r+=this.renderer.blockquote(u);continue}case"list":{r+=this.renderer.list(u);continue}case"html":{r+=this.renderer.html(u);continue}case"def":{r+=this.renderer.def(u);continue}case"paragraph":{r+=this.renderer.paragraph(u);continue}case"text":{let c=u,l=this.renderer.text(c);for(;a+1<e.length&&e[a+1].type==="text";)c=e[++a],l+=`
`+this.renderer.text(c);n?r+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):r+=l;continue}default:{let c='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}parseInline(e,n=this.renderer){var i,s;let r="";for(let a=0;a<e.length;a++){let o=e[a];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[o.type]){let c=this.options.extensions.renderers[o.type].call({parser:this},o);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){r+=c||"";continue}}let u=o;switch(u.type){case"escape":{r+=n.text(u);break}case"html":{r+=n.html(u);break}case"link":{r+=n.link(u);break}case"image":{r+=n.image(u);break}case"strong":{r+=n.strong(u);break}case"em":{r+=n.em(u);break}case"codespan":{r+=n.codespan(u);break}case"br":{r+=n.br(u);break}case"del":{r+=n.del(u);break}case"text":{r+=n.text(u);break}default:{let c='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}},Dl,Qo=(Dl=class{constructor(e){_e(this,"options");_e(this,"block");this.options=e||ta}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?Or.lex:Or.lexInline}provideParser(){return this.block?Mr.parse:Mr.parseInline}},_e(Dl,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),_e(Dl,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),Dl),f7=class{constructor(...e){_e(this,"defaults",ty());_e(this,"options",this.setOptions);_e(this,"parse",this.parseMarkdown(!0));_e(this,"parseInline",this.parseMarkdown(!1));_e(this,"Parser",Mr);_e(this,"Renderer",lf);_e(this,"TextRenderer",cy);_e(this,"Lexer",Or);_e(this,"Tokenizer",cf);_e(this,"Hooks",Qo);this.use(...e)}walkTokens(e,n){var i,s;let r=[];for(let a of e)switch(r=r.concat(n.call(this,a)),a.type){case"table":{let o=a;for(let u of o.header)r=r.concat(this.walkTokens(u.tokens,n));for(let u of o.rows)for(let c of u)r=r.concat(this.walkTokens(c.tokens,n));break}case"list":{let o=a;r=r.concat(this.walkTokens(o.items,n));break}default:{let o=a;(s=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&s[o.type]?this.defaults.extensions.childTokens[o.type].forEach(u=>{let c=o[u].flat(1/0);r=r.concat(this.walkTokens(c,n))}):o.tokens&&(r=r.concat(this.walkTokens(o.tokens,n)))}}return r}use(...e){let n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{let i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let a=n.renderers[s.name];a?n.renderers[s.name]=function(...o){let u=s.renderer.apply(this,o);return u===!1&&(u=a.apply(this,o)),u}:n.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let a=n[s.level];a?a.unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),i.extensions=n),r.renderer){let s=this.defaults.renderer||new lf(this.defaults);for(let a in r.renderer){if(!(a in s))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;let o=a,u=r.renderer[o],c=s[o];s[o]=(...l)=>{let h=u.apply(s,l);return h===!1&&(h=c.apply(s,l)),h||""}}i.renderer=s}if(r.tokenizer){let s=this.defaults.tokenizer||new cf(this.defaults);for(let a in r.tokenizer){if(!(a in s))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;let o=a,u=r.tokenizer[o],c=s[o];s[o]=(...l)=>{let h=u.apply(s,l);return h===!1&&(h=c.apply(s,l)),h}}i.tokenizer=s}if(r.hooks){let s=this.defaults.hooks||new Qo;for(let a in r.hooks){if(!(a in s))throw new Error(`hook '${a}' does not exist`);if(["options","block"].includes(a))continue;let o=a,u=r.hooks[o],c=s[o];Qo.passThroughHooks.has(a)?s[o]=l=>{if(this.defaults.async&&Qo.passThroughHooksRespectAsync.has(a))return(async()=>{let d=await u.call(s,l);return c.call(s,d)})();let h=u.call(s,l);return c.call(s,h)}:s[o]=(...l)=>{if(this.defaults.async)return(async()=>{let d=await u.apply(s,l);return d===!1&&(d=await c.apply(s,l)),d})();let h=u.apply(s,l);return h===!1&&(h=c.apply(s,l)),h}}i.hooks=s}if(r.walkTokens){let s=this.defaults.walkTokens,a=r.walkTokens;i.walkTokens=function(o){let u=[];return u.push(a.call(this,o)),s&&(u=u.concat(s.call(this,o))),u}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return Or.lex(e,n??this.defaults)}parser(e,n){return Mr.parse(e,n??this.defaults)}parseMarkdown(e){return(n,r)=>{let i={...r},s={...this.defaults,...i},a=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=e),s.async)return(async()=>{let o=s.hooks?await s.hooks.preprocess(n):n,u=await(s.hooks?await s.hooks.provideLexer():e?Or.lex:Or.lexInline)(o,s),c=s.hooks?await s.hooks.processAllTokens(u):u;s.walkTokens&&await Promise.all(this.walkTokens(c,s.walkTokens));let l=await(s.hooks?await s.hooks.provideParser():e?Mr.parse:Mr.parseInline)(c,s);return s.hooks?await s.hooks.postprocess(l):l})().catch(a);try{s.hooks&&(n=s.hooks.preprocess(n));let o=(s.hooks?s.hooks.provideLexer():e?Or.lex:Or.lexInline)(n,s);s.hooks&&(o=s.hooks.processAllTokens(o)),s.walkTokens&&this.walkTokens(o,s.walkTokens);let u=(s.hooks?s.hooks.provideParser():e?Mr.parse:Mr.parseInline)(o,s);return s.hooks&&(u=s.hooks.postprocess(u)),u}catch(o){return a(o)}}}onError(e,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let i="<p>An error occurred:</p><pre>"+ei(r.message+"",!0)+"</pre>";return n?Promise.resolve(i):i}if(n)return Promise.reject(r);throw r}}},Hs=new f7;function lt(t,e){return Hs.parse(t,e)}lt.options=lt.setOptions=function(t){return Hs.setOptions(t),lt.defaults=Hs.defaults,T2(lt.defaults),lt};lt.getDefaults=ty;lt.defaults=ta;lt.use=function(...t){return Hs.use(...t),lt.defaults=Hs.defaults,T2(lt.defaults),lt};lt.walkTokens=function(t,e){return Hs.walkTokens(t,e)};lt.parseInline=Hs.parseInline;lt.Parser=Mr;lt.parser=Mr.parse;lt.Renderer=lf;lt.TextRenderer=cy;lt.Lexer=Or;lt.lexer=Or.lex;lt.Tokenizer=cf;lt.Hooks=Qo;lt.parse=lt;lt.options;lt.setOptions;lt.use;lt.walkTokens;lt.parseInline;Mr.parse;Or.lex;function zZ(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Array.from(typeof t=="string"?[t]:t);r[r.length-1]=r[r.length-1].replace(/\r?\n([\t ]*)$/,"");var i=r.reduce(function(o,u){var c=u.match(/\n([\t ]+|(?!\s).)/g);return c?o.concat(c.map(function(l){var h,d;return(d=(h=l.match(/[\t ]/g))===null||h===void 0?void 0:h.length)!==null&&d!==void 0?d:0})):o},[]);if(i.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");r=r.map(function(o){return o.replace(s,`
`)})}r[0]=r[0].replace(/^\r?\n/,"");var a=r[0];return e.forEach(function(o,u){var c=a.match(/(?:^|\n)( *)$/),l=c?c[1]:"",h=o;typeof o=="string"&&o.includes(`
`)&&(h=String(o).split(`
`).map(function(d,f){return f===0?d:""+l+d}).join(`
`)),a+=h+r[u+1]}),a}function qp(t,e,n){if(t&&t.length){const[r,i]=e,s=Math.PI/180*n,a=Math.cos(s),o=Math.sin(s);for(const u of t){const[c,l]=u;u[0]=(c-r)*a-(l-i)*o+r,u[1]=(c-r)*o+(l-i)*a+i}}}function d7(t,e){return t[0]===e[0]&&t[1]===e[1]}function p7(t,e,n,r=1){const i=n,s=Math.max(e,.1),a=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,o=[0,0];if(i)for(const c of a)qp(c,o,i);const u=(function(c,l,h){const d=[];for(const v of c){const y=[...v];d7(y[0],y[y.length-1])||y.push([y[0][0],y[0][1]]),y.length>2&&d.push(y)}const f=[];l=Math.max(l,.1);const p=[];for(const v of d)for(let y=0;y<v.length-1;y++){const _=v[y],w=v[y+1];if(_[1]!==w[1]){const k=Math.min(_[1],w[1]);p.push({ymin:k,ymax:Math.max(_[1],w[1]),x:k===_[1]?_[0]:w[0],islope:(w[0]-_[0])/(w[1]-_[1])})}}if(p.sort(((v,y)=>v.ymin<y.ymin?-1:v.ymin>y.ymin?1:v.x<y.x?-1:v.x>y.x?1:v.ymax===y.ymax?0:(v.ymax-y.ymax)/Math.abs(v.ymax-y.ymax))),!p.length)return f;let g=[],m=p[0].ymin,b=0;for(;g.length||p.length;){if(p.length){let v=-1;for(let y=0;y<p.length&&!(p[y].ymin>m);y++)v=y;p.splice(0,v+1).forEach((y=>{g.push({s:m,edge:y})}))}if(g=g.filter((v=>!(v.edge.ymax<=m))),g.sort(((v,y)=>v.edge.x===y.edge.x?0:(v.edge.x-y.edge.x)/Math.abs(v.edge.x-y.edge.x))),(h!==1||b%l==0)&&g.length>1)for(let v=0;v<g.length;v+=2){const y=v+1;if(y>=g.length)break;const _=g[v].edge,w=g[y].edge;f.push([[Math.round(_.x),m],[Math.round(w.x),m]])}m+=h,g.forEach((v=>{v.edge.x=v.edge.x+h*v.edge.islope})),b++}return f})(a,s,r);if(i){for(const c of a)qp(c,o,-i);(function(c,l,h){const d=[];c.forEach((f=>d.push(...f))),qp(d,l,h)})(u,o,-i)}return u}function Cc(t,e){var n;const r=e.hachureAngle+90;let i=e.hachureGap;i<0&&(i=4*e.strokeWidth),i=Math.round(Math.max(i,.1));let s=1;return e.roughness>=1&&(((n=e.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(s=i),p7(t,i,r,s||1)}class ly{constructor(e){this.helper=e}fillPolygons(e,n){return this._fillPolygons(e,n)}_fillPolygons(e,n){const r=Cc(e,n);return{type:"fillSketch",ops:this.renderLines(r,n)}}renderLines(e,n){const r=[];for(const i of e)r.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],n));return r}}function Od(t){const e=t[0],n=t[1];return Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))}class g7 extends ly{fillPolygons(e,n){let r=n.hachureGap;r<0&&(r=4*n.strokeWidth),r=Math.max(r,.1);const i=Cc(e,Object.assign({},n,{hachureGap:r})),s=Math.PI/180*n.hachureAngle,a=[],o=.5*r*Math.cos(s),u=.5*r*Math.sin(s);for(const[c,l]of i)Od([c,l])&&a.push([[c[0]-o,c[1]+u],[...l]],[[c[0]+o,c[1]-u],[...l]]);return{type:"fillSketch",ops:this.renderLines(a,n)}}}class m7 extends ly{fillPolygons(e,n){const r=this._fillPolygons(e,n),i=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),s=this._fillPolygons(e,i);return r.ops=r.ops.concat(s.ops),r}}class b7{constructor(e){this.helper=e}fillPolygons(e,n){const r=Cc(e,n=Object.assign({},n,{hachureAngle:0}));return this.dotsOnLines(r,n)}dotsOnLines(e,n){const r=[];let i=n.hachureGap;i<0&&(i=4*n.strokeWidth),i=Math.max(i,.1);let s=n.fillWeight;s<0&&(s=n.strokeWidth/2);const a=i/4;for(const o of e){const u=Od(o),c=u/i,l=Math.ceil(c)-1,h=u-l*i,d=(o[0][0]+o[1][0])/2-i/4,f=Math.min(o[0][1],o[1][1]);for(let p=0;p<l;p++){const g=f+h+p*i,m=d-a+2*Math.random()*a,b=g-a+2*Math.random()*a,v=this.helper.ellipse(m,b,s,s,n);r.push(...v.ops)}}return{type:"fillSketch",ops:r}}}class y7{constructor(e){this.helper=e}fillPolygons(e,n){const r=Cc(e,n);return{type:"fillSketch",ops:this.dashedLine(r,n)}}dashedLine(e,n){const r=n.dashOffset<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashOffset,i=n.dashGap<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashGap,s=[];return e.forEach((a=>{const o=Od(a),u=Math.floor(o/(r+i)),c=(o+i-u*(r+i))/2;let l=a[0],h=a[1];l[0]>h[0]&&(l=a[1],h=a[0]);const d=Math.atan((h[1]-l[1])/(h[0]-l[0]));for(let f=0;f<u;f++){const p=f*(r+i),g=p+r,m=[l[0]+p*Math.cos(d)+c*Math.cos(d),l[1]+p*Math.sin(d)+c*Math.sin(d)],b=[l[0]+g*Math.cos(d)+c*Math.cos(d),l[1]+g*Math.sin(d)+c*Math.sin(d)];s.push(...this.helper.doubleLineOps(m[0],m[1],b[0],b[1],n))}})),s}}class v7{constructor(e){this.helper=e}fillPolygons(e,n){const r=n.hachureGap<0?4*n.strokeWidth:n.hachureGap,i=n.zigzagOffset<0?r:n.zigzagOffset,s=Cc(e,n=Object.assign({},n,{hachureGap:r+i}));return{type:"fillSketch",ops:this.zigzagLines(s,i,n)}}zigzagLines(e,n,r){const i=[];return e.forEach((s=>{const a=Od(s),o=Math.round(a/(2*n));let u=s[0],c=s[1];u[0]>c[0]&&(u=s[1],c=s[0]);const l=Math.atan((c[1]-u[1])/(c[0]-u[0]));for(let h=0;h<o;h++){const d=2*h*n,f=2*(h+1)*n,p=Math.sqrt(2*Math.pow(n,2)),g=[u[0]+d*Math.cos(l),u[1]+d*Math.sin(l)],m=[u[0]+f*Math.cos(l),u[1]+f*Math.sin(l)],b=[g[0]+p*Math.cos(l+Math.PI/4),g[1]+p*Math.sin(l+Math.PI/4)];i.push(...this.helper.doubleLineOps(g[0],g[1],b[0],b[1],r),...this.helper.doubleLineOps(b[0],b[1],m[0],m[1],r))}})),i}}const Wn={};class _7{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const E7=0,Xp=1,x_=2,gl={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Vp(t,e){return t.type===e}function hy(t){const e=[],n=(function(a){const o=new Array;for(;a!=="";)if(a.match(/^([ \t\r\n,]+)/))a=a.substr(RegExp.$1.length);else if(a.match(/^([aAcChHlLmMqQsStTvVzZ])/))o[o.length]={type:E7,text:RegExp.$1},a=a.substr(RegExp.$1.length);else{if(!a.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];o[o.length]={type:Xp,text:`${parseFloat(RegExp.$1)}`},a=a.substr(RegExp.$1.length)}return o[o.length]={type:x_,text:""},o})(t);let r="BOD",i=0,s=n[i];for(;!Vp(s,x_);){let a=0;const o=[];if(r==="BOD"){if(s.text!=="M"&&s.text!=="m")return hy("M0,0"+t);i++,a=gl[s.text],r=s.text}else Vp(s,Xp)?a=gl[r]:(i++,a=gl[s.text],r=s.text);if(!(i+a<n.length))throw new Error("Path data ended short");for(let u=i;u<i+a;u++){const c=n[u];if(!Vp(c,Xp))throw new Error("Param not a number: "+r+","+c.text);o[o.length]=+c.text}if(typeof gl[r]!="number")throw new Error("Bad segment: "+r);{const u={key:r,data:o};e.push(u),i+=a,s=n[i],r==="M"&&(r="L"),r==="m"&&(r="l")}}return e}function P2(t){let e=0,n=0,r=0,i=0;const s=[];for(const{key:a,data:o}of t)switch(a){case"M":s.push({key:"M",data:[...o]}),[e,n]=o,[r,i]=o;break;case"m":e+=o[0],n+=o[1],s.push({key:"M",data:[e,n]}),r=e,i=n;break;case"L":s.push({key:"L",data:[...o]}),[e,n]=o;break;case"l":e+=o[0],n+=o[1],s.push({key:"L",data:[e,n]});break;case"C":s.push({key:"C",data:[...o]}),e=o[4],n=o[5];break;case"c":{const u=o.map(((c,l)=>l%2?c+n:c+e));s.push({key:"C",data:u}),e=u[4],n=u[5];break}case"Q":s.push({key:"Q",data:[...o]}),e=o[2],n=o[3];break;case"q":{const u=o.map(((c,l)=>l%2?c+n:c+e));s.push({key:"Q",data:u}),e=u[2],n=u[3];break}case"A":s.push({key:"A",data:[...o]}),e=o[5],n=o[6];break;case"a":e+=o[5],n+=o[6],s.push({key:"A",data:[o[0],o[1],o[2],o[3],o[4],e,n]});break;case"H":s.push({key:"H",data:[...o]}),e=o[0];break;case"h":e+=o[0],s.push({key:"H",data:[e]});break;case"V":s.push({key:"V",data:[...o]}),n=o[0];break;case"v":n+=o[0],s.push({key:"V",data:[n]});break;case"S":s.push({key:"S",data:[...o]}),e=o[2],n=o[3];break;case"s":{const u=o.map(((c,l)=>l%2?c+n:c+e));s.push({key:"S",data:u}),e=u[2],n=u[3];break}case"T":s.push({key:"T",data:[...o]}),e=o[0],n=o[1];break;case"t":e+=o[0],n+=o[1],s.push({key:"T",data:[e,n]});break;case"Z":case"z":s.push({key:"Z",data:[]}),e=r,n=i}return s}function F2(t){const e=[];let n="",r=0,i=0,s=0,a=0,o=0,u=0;for(const{key:c,data:l}of t){switch(c){case"M":e.push({key:"M",data:[...l]}),[r,i]=l,[s,a]=l;break;case"C":e.push({key:"C",data:[...l]}),r=l[4],i=l[5],o=l[2],u=l[3];break;case"L":e.push({key:"L",data:[...l]}),[r,i]=l;break;case"H":r=l[0],e.push({key:"L",data:[r,i]});break;case"V":i=l[0],e.push({key:"L",data:[r,i]});break;case"S":{let h=0,d=0;n==="C"||n==="S"?(h=r+(r-o),d=i+(i-u)):(h=r,d=i),e.push({key:"C",data:[h,d,...l]}),o=l[0],u=l[1],r=l[2],i=l[3];break}case"T":{const[h,d]=l;let f=0,p=0;n==="Q"||n==="T"?(f=r+(r-o),p=i+(i-u)):(f=r,p=i);const g=r+2*(f-r)/3,m=i+2*(p-i)/3,b=h+2*(f-h)/3,v=d+2*(p-d)/3;e.push({key:"C",data:[g,m,b,v,h,d]}),o=f,u=p,r=h,i=d;break}case"Q":{const[h,d,f,p]=l,g=r+2*(h-r)/3,m=i+2*(d-i)/3,b=f+2*(h-f)/3,v=p+2*(d-p)/3;e.push({key:"C",data:[g,m,b,v,f,p]}),o=h,u=d,r=f,i=p;break}case"A":{const h=Math.abs(l[0]),d=Math.abs(l[1]),f=l[2],p=l[3],g=l[4],m=l[5],b=l[6];h===0||d===0?(e.push({key:"C",data:[r,i,m,b,m,b]}),r=m,i=b):(r!==m||i!==b)&&($2(r,i,m,b,h,d,f,p,g).forEach((function(v){e.push({key:"C",data:v})})),r=m,i=b);break}case"Z":e.push({key:"Z",data:[]}),r=s,i=a}n=c}return e}function Do(t,e,n){return[t*Math.cos(n)-e*Math.sin(n),t*Math.sin(n)+e*Math.cos(n)]}function $2(t,e,n,r,i,s,a,o,u,c){const l=(h=a,Math.PI*h/180);var h;let d=[],f=0,p=0,g=0,m=0;if(c)[f,p,g,m]=c;else{[t,e]=Do(t,e,-l),[n,r]=Do(n,r,-l);const L=(t-n)/2,E=(e-r)/2;let A=L*L/(i*i)+E*E/(s*s);A>1&&(A=Math.sqrt(A),i*=A,s*=A);const N=i*i,C=s*s,S=N*C-N*E*E-C*L*L,D=N*E*E+C*L*L,P=(o===u?-1:1)*Math.sqrt(Math.abs(S/D));g=P*i*E/s+(t+n)/2,m=P*-s*L/i+(e+r)/2,f=Math.asin(parseFloat(((e-m)/s).toFixed(9))),p=Math.asin(parseFloat(((r-m)/s).toFixed(9))),t<g&&(f=Math.PI-f),n<g&&(p=Math.PI-p),f<0&&(f=2*Math.PI+f),p<0&&(p=2*Math.PI+p),u&&f>p&&(f-=2*Math.PI),!u&&p>f&&(p-=2*Math.PI)}let b=p-f;if(Math.abs(b)>120*Math.PI/180){const L=p,E=n,A=r;p=u&&p>f?f+120*Math.PI/180*1:f+120*Math.PI/180*-1,d=$2(n=g+i*Math.cos(p),r=m+s*Math.sin(p),E,A,i,s,a,0,u,[p,L,g,m])}b=p-f;const v=Math.cos(f),y=Math.sin(f),_=Math.cos(p),w=Math.sin(p),k=Math.tan(b/4),x=4/3*i*k,T=4/3*s*k,O=[t,e],I=[t+x*y,e-T*v],M=[n+x*w,r-T*_],R=[n,r];if(I[0]=2*O[0]-I[0],I[1]=2*O[1]-I[1],c)return[I,M,R].concat(d);{d=[I,M,R].concat(d);const L=[];for(let E=0;E<d.length;E+=3){const A=Do(d[E][0],d[E][1],l),N=Do(d[E+1][0],d[E+1][1],l),C=Do(d[E+2][0],d[E+2][1],l);L.push([A[0],A[1],N[0],N[1],C[0],C[1]])}return L}}const x7={randOffset:function(t,e){return Ie(t,e)},randOffsetWithRange:function(t,e,n){return hf(t,e,n)},ellipse:function(t,e,n,r,i){const s=B2(n,r,i);return R0(t,e,i,s).opset},doubleLineOps:function(t,e,n,r,i){return rs(t,e,n,r,i,!0)}};function U2(t,e,n,r,i){return{type:"path",ops:rs(t,e,n,r,i)}}function eh(t,e,n){const r=(t||[]).length;if(r>2){const i=[];for(let s=0;s<r-1;s++)i.push(...rs(t[s][0],t[s][1],t[s+1][0],t[s+1][1],n));return e&&i.push(...rs(t[r-1][0],t[r-1][1],t[0][0],t[0][1],n)),{type:"path",ops:i}}return r===2?U2(t[0][0],t[0][1],t[1][0],t[1][1],n):{type:"path",ops:[]}}function w7(t,e,n,r,i){return(function(s,a){return eh(s,!0,a)})([[t,e],[t+n,e],[t+n,e+r],[t,e+r]],i)}function w_(t,e){if(t.length){const n=typeof t[0][0]=="number"?[t]:t,r=ml(n[0],1*(1+.2*e.roughness),e),i=e.disableMultiStroke?[]:ml(n[0],1.5*(1+.22*e.roughness),k_(e));for(let s=1;s<n.length;s++){const a=n[s];if(a.length){const o=ml(a,1*(1+.2*e.roughness),e),u=e.disableMultiStroke?[]:ml(a,1.5*(1+.22*e.roughness),k_(e));for(const c of o)c.op!=="move"&&r.push(c);for(const c of u)c.op!=="move"&&i.push(c)}}return{type:"path",ops:r.concat(i)}}return{type:"path",ops:[]}}function B2(t,e,n){const r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),i=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r)),s=2*Math.PI/i;let a=Math.abs(t/2),o=Math.abs(e/2);const u=1-n.curveFitting;return a+=Ie(a*u,n),o+=Ie(o*u,n),{increment:s,rx:a,ry:o}}function R0(t,e,n,r){const[i,s]=N_(r.increment,t,e,r.rx,r.ry,1,r.increment*hf(.1,hf(.4,1,n),n),n);let a=ff(i,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[o]=N_(r.increment,t,e,r.rx,r.ry,1.5,0,n),u=ff(o,null,n);a=a.concat(u)}return{estimatedPoints:s,opset:{type:"path",ops:a}}}function A_(t,e,n,r,i,s,a,o,u){const c=t,l=e;let h=Math.abs(n/2),d=Math.abs(r/2);h+=Ie(.01*h,u),d+=Ie(.01*d,u);let f=i,p=s;for(;f<0;)f+=2*Math.PI,p+=2*Math.PI;p-f>2*Math.PI&&(f=0,p=2*Math.PI);const g=2*Math.PI/u.curveStepCount,m=Math.min(g/2,(p-f)/2),b=S_(m,c,l,h,d,f,p,1,u);if(!u.disableMultiStroke){const v=S_(m,c,l,h,d,f,p,1.5,u);b.push(...v)}return a&&(o?b.push(...rs(c,l,c+h*Math.cos(f),l+d*Math.sin(f),u),...rs(c,l,c+h*Math.cos(p),l+d*Math.sin(p),u)):b.push({op:"lineTo",data:[c,l]},{op:"lineTo",data:[c+h*Math.cos(f),l+d*Math.sin(f)]})),{type:"path",ops:b}}function T_(t,e){const n=F2(P2(hy(t))),r=[];let i=[0,0],s=[0,0];for(const{key:a,data:o}of n)switch(a){case"M":s=[o[0],o[1]],i=[o[0],o[1]];break;case"L":r.push(...rs(s[0],s[1],o[0],o[1],e)),s=[o[0],o[1]];break;case"C":{const[u,c,l,h,d,f]=o;r.push(...A7(u,c,l,h,d,f,s,e)),s=[d,f];break}case"Z":r.push(...rs(s[0],s[1],i[0],i[1],e)),s=[i[0],i[1]]}return{type:"path",ops:r}}function Kp(t,e){const n=[];for(const r of t)if(r.length){const i=e.maxRandomnessOffset||0,s=r.length;if(s>2){n.push({op:"move",data:[r[0][0]+Ie(i,e),r[0][1]+Ie(i,e)]});for(let a=1;a<s;a++)n.push({op:"lineTo",data:[r[a][0]+Ie(i,e),r[a][1]+Ie(i,e)]})}}return{type:"fillPath",ops:n}}function pa(t,e){return(function(n,r){let i=n.fillStyle||"hachure";if(!Wn[i])switch(i){case"zigzag":Wn[i]||(Wn[i]=new g7(r));break;case"cross-hatch":Wn[i]||(Wn[i]=new m7(r));break;case"dots":Wn[i]||(Wn[i]=new b7(r));break;case"dashed":Wn[i]||(Wn[i]=new y7(r));break;case"zigzag-line":Wn[i]||(Wn[i]=new v7(r));break;default:i="hachure",Wn[i]||(Wn[i]=new ly(r))}return Wn[i]})(e,x7).fillPolygons(t,e)}function k_(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function G2(t){return t.randomizer||(t.randomizer=new _7(t.seed||0)),t.randomizer.next()}function hf(t,e,n,r=1){return n.roughness*r*(G2(n)*(e-t)+t)}function Ie(t,e,n=1){return hf(-t,t,e,n)}function rs(t,e,n,r,i,s=!1){const a=s?i.disableMultiStrokeFill:i.disableMultiStroke,o=O0(t,e,n,r,i,!0,!1);if(a)return o;const u=O0(t,e,n,r,i,!0,!0);return o.concat(u)}function O0(t,e,n,r,i,s,a){const o=Math.pow(t-n,2)+Math.pow(e-r,2),u=Math.sqrt(o);let c=1;c=u<200?1:u>500?.4:-.0016668*u+1.233334;let l=i.maxRandomnessOffset||0;l*l*100>o&&(l=u/10);const h=l/2,d=.2+.2*G2(i);let f=i.bowing*i.maxRandomnessOffset*(r-e)/200,p=i.bowing*i.maxRandomnessOffset*(t-n)/200;f=Ie(f,i,c),p=Ie(p,i,c);const g=[],m=()=>Ie(h,i,c),b=()=>Ie(l,i,c),v=i.preserveVertices;return a?g.push({op:"move",data:[t+(v?0:m()),e+(v?0:m())]}):g.push({op:"move",data:[t+(v?0:Ie(l,i,c)),e+(v?0:Ie(l,i,c))]}),a?g.push({op:"bcurveTo",data:[f+t+(n-t)*d+m(),p+e+(r-e)*d+m(),f+t+2*(n-t)*d+m(),p+e+2*(r-e)*d+m(),n+(v?0:m()),r+(v?0:m())]}):g.push({op:"bcurveTo",data:[f+t+(n-t)*d+b(),p+e+(r-e)*d+b(),f+t+2*(n-t)*d+b(),p+e+2*(r-e)*d+b(),n+(v?0:b()),r+(v?0:b())]}),g}function ml(t,e,n){if(!t.length)return[];const r=[];r.push([t[0][0]+Ie(e,n),t[0][1]+Ie(e,n)]),r.push([t[0][0]+Ie(e,n),t[0][1]+Ie(e,n)]);for(let i=1;i<t.length;i++)r.push([t[i][0]+Ie(e,n),t[i][1]+Ie(e,n)]),i===t.length-1&&r.push([t[i][0]+Ie(e,n),t[i][1]+Ie(e,n)]);return ff(r,null,n)}function ff(t,e,n){const r=t.length,i=[];if(r>3){const s=[],a=1-n.curveTightness;i.push({op:"move",data:[t[1][0],t[1][1]]});for(let o=1;o+2<r;o++){const u=t[o];s[0]=[u[0],u[1]],s[1]=[u[0]+(a*t[o+1][0]-a*t[o-1][0])/6,u[1]+(a*t[o+1][1]-a*t[o-1][1])/6],s[2]=[t[o+1][0]+(a*t[o][0]-a*t[o+2][0])/6,t[o+1][1]+(a*t[o][1]-a*t[o+2][1])/6],s[3]=[t[o+1][0],t[o+1][1]],i.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}}else r===3?(i.push({op:"move",data:[t[1][0],t[1][1]]}),i.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):r===2&&i.push(...O0(t[0][0],t[0][1],t[1][0],t[1][1],n,!0,!0));return i}function N_(t,e,n,r,i,s,a,o){const u=[],c=[];if(o.roughness===0){t/=4,c.push([e+r*Math.cos(-t),n+i*Math.sin(-t)]);for(let l=0;l<=2*Math.PI;l+=t){const h=[e+r*Math.cos(l),n+i*Math.sin(l)];u.push(h),c.push(h)}c.push([e+r*Math.cos(0),n+i*Math.sin(0)]),c.push([e+r*Math.cos(t),n+i*Math.sin(t)])}else{const l=Ie(.5,o)-Math.PI/2;c.push([Ie(s,o)+e+.9*r*Math.cos(l-t),Ie(s,o)+n+.9*i*Math.sin(l-t)]);const h=2*Math.PI+l-.01;for(let d=l;d<h;d+=t){const f=[Ie(s,o)+e+r*Math.cos(d),Ie(s,o)+n+i*Math.sin(d)];u.push(f),c.push(f)}c.push([Ie(s,o)+e+r*Math.cos(l+2*Math.PI+.5*a),Ie(s,o)+n+i*Math.sin(l+2*Math.PI+.5*a)]),c.push([Ie(s,o)+e+.98*r*Math.cos(l+a),Ie(s,o)+n+.98*i*Math.sin(l+a)]),c.push([Ie(s,o)+e+.9*r*Math.cos(l+.5*a),Ie(s,o)+n+.9*i*Math.sin(l+.5*a)])}return[c,u]}function S_(t,e,n,r,i,s,a,o,u){const c=s+Ie(.1,u),l=[];l.push([Ie(o,u)+e+.9*r*Math.cos(c-t),Ie(o,u)+n+.9*i*Math.sin(c-t)]);for(let h=c;h<=a;h+=t)l.push([Ie(o,u)+e+r*Math.cos(h),Ie(o,u)+n+i*Math.sin(h)]);return l.push([e+r*Math.cos(a),n+i*Math.sin(a)]),l.push([e+r*Math.cos(a),n+i*Math.sin(a)]),ff(l,null,u)}function A7(t,e,n,r,i,s,a,o){const u=[],c=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3];let l=[0,0];const h=o.disableMultiStroke?1:2,d=o.preserveVertices;for(let f=0;f<h;f++)f===0?u.push({op:"move",data:[a[0],a[1]]}):u.push({op:"move",data:[a[0]+(d?0:Ie(c[0],o)),a[1]+(d?0:Ie(c[0],o))]}),l=d?[i,s]:[i+Ie(c[f],o),s+Ie(c[f],o)],u.push({op:"bcurveTo",data:[t+Ie(c[f],o),e+Ie(c[f],o),n+Ie(c[f],o),r+Ie(c[f],o),l[0],l[1]]});return u}function Po(t){return[...t]}function C_(t,e=0){const n=t.length;if(n<3)throw new Error("A curve must have at least three points.");const r=[];if(n===3)r.push(Po(t[0]),Po(t[1]),Po(t[2]),Po(t[2]));else{const i=[];i.push(t[0],t[0]);for(let o=1;o<t.length;o++)i.push(t[o]),o===t.length-1&&i.push(t[o]);const s=[],a=1-e;r.push(Po(i[0]));for(let o=1;o+2<i.length;o++){const u=i[o];s[0]=[u[0],u[1]],s[1]=[u[0]+(a*i[o+1][0]-a*i[o-1][0])/6,u[1]+(a*i[o+1][1]-a*i[o-1][1])/6],s[2]=[i[o+1][0]+(a*i[o][0]-a*i[o+2][0])/6,i[o+1][1]+(a*i[o][1]-a*i[o+2][1])/6],s[3]=[i[o+1][0],i[o+1][1]],r.push(s[1],s[2],s[3])}}return r}function th(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function T7(t,e,n){const r=th(e,n);if(r===0)return th(t,e);let i=((t[0]-e[0])*(n[0]-e[0])+(t[1]-e[1])*(n[1]-e[1]))/r;return i=Math.max(0,Math.min(1,i)),th(t,_s(e,n,i))}function _s(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]}function M0(t,e,n,r){const i=r||[];if((function(o,u){const c=o[u+0],l=o[u+1],h=o[u+2],d=o[u+3];let f=3*l[0]-2*c[0]-d[0];f*=f;let p=3*l[1]-2*c[1]-d[1];p*=p;let g=3*h[0]-2*d[0]-c[0];g*=g;let m=3*h[1]-2*d[1]-c[1];return m*=m,f<g&&(f=g),p<m&&(p=m),f+p})(t,e)<n){const o=t[e+0];i.length?(s=i[i.length-1],a=o,Math.sqrt(th(s,a))>1&&i.push(o)):i.push(o),i.push(t[e+3])}else{const u=t[e+0],c=t[e+1],l=t[e+2],h=t[e+3],d=_s(u,c,.5),f=_s(c,l,.5),p=_s(l,h,.5),g=_s(d,f,.5),m=_s(f,p,.5),b=_s(g,m,.5);M0([u,d,g,b],0,n,i),M0([b,m,p,h],0,n,i)}var s,a;return i}function k7(t,e){return df(t,0,t.length,e)}function df(t,e,n,r,i){const s=i||[],a=t[e],o=t[n-1];let u=0,c=1;for(let l=e+1;l<n-1;++l){const h=T7(t[l],a,o);h>u&&(u=h,c=l)}return Math.sqrt(u)>r?(df(t,e,c+1,r,s),df(t,c,n,r,s)):(s.length||s.push(a),s.push(o)),s}function Zp(t,e=.15,n){const r=[],i=(t.length-1)/3;for(let s=0;s<i;s++)M0(t,3*s,e,r);return n&&n>0?df(r,0,r.length,n):r}const er="none";class pf{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,n,r){return{shape:e,sets:n||[],options:r||this.defaultOptions}}line(e,n,r,i,s){const a=this._o(s);return this._d("line",[U2(e,n,r,i,a)],a)}rectangle(e,n,r,i,s){const a=this._o(s),o=[],u=w7(e,n,r,i,a);if(a.fill){const c=[[e,n],[e+r,n],[e+r,n+i],[e,n+i]];a.fillStyle==="solid"?o.push(Kp([c],a)):o.push(pa([c],a))}return a.stroke!==er&&o.push(u),this._d("rectangle",o,a)}ellipse(e,n,r,i,s){const a=this._o(s),o=[],u=B2(r,i,a),c=R0(e,n,a,u);if(a.fill)if(a.fillStyle==="solid"){const l=R0(e,n,a,u).opset;l.type="fillPath",o.push(l)}else o.push(pa([c.estimatedPoints],a));return a.stroke!==er&&o.push(c.opset),this._d("ellipse",o,a)}circle(e,n,r,i){const s=this.ellipse(e,n,r,r,i);return s.shape="circle",s}linearPath(e,n){const r=this._o(n);return this._d("linearPath",[eh(e,!1,r)],r)}arc(e,n,r,i,s,a,o=!1,u){const c=this._o(u),l=[],h=A_(e,n,r,i,s,a,o,!0,c);if(o&&c.fill)if(c.fillStyle==="solid"){const d=Object.assign({},c);d.disableMultiStroke=!0;const f=A_(e,n,r,i,s,a,!0,!1,d);f.type="fillPath",l.push(f)}else l.push((function(d,f,p,g,m,b,v){const y=d,_=f;let w=Math.abs(p/2),k=Math.abs(g/2);w+=Ie(.01*w,v),k+=Ie(.01*k,v);let x=m,T=b;for(;x<0;)x+=2*Math.PI,T+=2*Math.PI;T-x>2*Math.PI&&(x=0,T=2*Math.PI);const O=(T-x)/v.curveStepCount,I=[];for(let M=x;M<=T;M+=O)I.push([y+w*Math.cos(M),_+k*Math.sin(M)]);return I.push([y+w*Math.cos(T),_+k*Math.sin(T)]),I.push([y,_]),pa([I],v)})(e,n,r,i,s,a,c));return c.stroke!==er&&l.push(h),this._d("arc",l,c)}curve(e,n){const r=this._o(n),i=[],s=w_(e,r);if(r.fill&&r.fill!==er)if(r.fillStyle==="solid"){const a=w_(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(a.ops)})}else{const a=[],o=e;if(o.length){const u=typeof o[0][0]=="number"?[o]:o;for(const c of u)c.length<3?a.push(...c):c.length===3?a.push(...Zp(C_([c[0],c[0],c[1],c[2]]),10,(1+r.roughness)/2)):a.push(...Zp(C_(c),10,(1+r.roughness)/2))}a.length&&i.push(pa([a],r))}return r.stroke!==er&&i.push(s),this._d("curve",i,r)}polygon(e,n){const r=this._o(n),i=[],s=eh(e,!0,r);return r.fill&&(r.fillStyle==="solid"?i.push(Kp([e],r)):i.push(pa([e],r))),r.stroke!==er&&i.push(s),this._d("polygon",i,r)}path(e,n){const r=this._o(n),i=[];if(!e)return this._d("path",i,r);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=r.fill&&r.fill!=="transparent"&&r.fill!==er,a=r.stroke!==er,o=!!(r.simplification&&r.simplification<1),u=(function(l,h,d){const f=F2(P2(hy(l))),p=[];let g=[],m=[0,0],b=[];const v=()=>{b.length>=4&&g.push(...Zp(b,h)),b=[]},y=()=>{v(),g.length&&(p.push(g),g=[])};for(const{key:w,data:k}of f)switch(w){case"M":y(),m=[k[0],k[1]],g.push(m);break;case"L":v(),g.push([k[0],k[1]]);break;case"C":if(!b.length){const x=g.length?g[g.length-1]:m;b.push([x[0],x[1]])}b.push([k[0],k[1]]),b.push([k[2],k[3]]),b.push([k[4],k[5]]);break;case"Z":v(),g.push([m[0],m[1]])}if(y(),!d)return p;const _=[];for(const w of p){const k=k7(w,d);k.length&&_.push(k)}return _})(e,1,o?4-4*(r.simplification||1):(1+r.roughness)/2),c=T_(e,r);if(s)if(r.fillStyle==="solid")if(u.length===1){const l=T_(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(l.ops)})}else i.push(Kp(u,r));else i.push(pa(u,r));return a&&(o?u.forEach((l=>{i.push(eh(l,!1,r))})):i.push(c)),this._d("path",i,r)}opsToPath(e,n){let r="";for(const i of e.ops){const s=typeof n=="number"&&n>=0?i.data.map((a=>+a.toFixed(n))):i.data;switch(i.op){case"move":r+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":r+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":r+=`L${s[0]} ${s[1]} `}}return r.trim()}toPaths(e){const n=e.sets||[],r=e.options||this.defaultOptions,i=[];for(const s of n){let a=null;switch(s.type){case"path":a={d:this.opsToPath(s),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:er};break;case"fillPath":a={d:this.opsToPath(s),stroke:er,strokeWidth:0,fill:r.fill||er};break;case"fillSketch":a=this.fillSketch(s,r)}a&&i.push(a)}return i}fillSketch(e,n){let r=n.fillWeight;return r<0&&(r=n.strokeWidth/2),{d:this.opsToPath(e),stroke:n.fill||er,strokeWidth:r,fill:er}}_mergedShape(e){return e.filter(((n,r)=>r===0||n.op!=="move"))}}class N7{constructor(e,n){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new pf(n)}draw(e){const n=e.sets||[],r=e.options||this.getDefaultOptions(),i=this.ctx,s=e.options.fixedDecimalPlaceDigits;for(const a of n)switch(a.type){case"path":i.save(),i.strokeStyle=r.stroke==="none"?"transparent":r.stroke,i.lineWidth=r.strokeWidth,r.strokeLineDash&&i.setLineDash(r.strokeLineDash),r.strokeLineDashOffset&&(i.lineDashOffset=r.strokeLineDashOffset),this._drawToContext(i,a,s),i.restore();break;case"fillPath":{i.save(),i.fillStyle=r.fill||"";const o=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,a,s,o),i.restore();break}case"fillSketch":this.fillSketch(i,a,r)}}fillSketch(e,n,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2),e.save(),r.fillLineDash&&e.setLineDash(r.fillLineDash),r.fillLineDashOffset&&(e.lineDashOffset=r.fillLineDashOffset),e.strokeStyle=r.fill||"",e.lineWidth=i,this._drawToContext(e,n,r.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,n,r,i="nonzero"){e.beginPath();for(const s of n.ops){const a=typeof r=="number"&&r>=0?s.data.map((o=>+o.toFixed(r))):s.data;switch(s.op){case"move":e.moveTo(a[0],a[1]);break;case"bcurveTo":e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"lineTo":e.lineTo(a[0],a[1])}}n.type==="fillPath"?e.fill(i):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,n,r,i,s){const a=this.gen.line(e,n,r,i,s);return this.draw(a),a}rectangle(e,n,r,i,s){const a=this.gen.rectangle(e,n,r,i,s);return this.draw(a),a}ellipse(e,n,r,i,s){const a=this.gen.ellipse(e,n,r,i,s);return this.draw(a),a}circle(e,n,r,i){const s=this.gen.circle(e,n,r,i);return this.draw(s),s}linearPath(e,n){const r=this.gen.linearPath(e,n);return this.draw(r),r}polygon(e,n){const r=this.gen.polygon(e,n);return this.draw(r),r}arc(e,n,r,i,s,a,o=!1,u){const c=this.gen.arc(e,n,r,i,s,a,o,u);return this.draw(c),c}curve(e,n){const r=this.gen.curve(e,n);return this.draw(r),r}path(e,n){const r=this.gen.path(e,n);return this.draw(r),r}}const bl="http://www.w3.org/2000/svg";class S7{constructor(e,n){this.svg=e,this.gen=new pf(n)}draw(e){const n=e.sets||[],r=e.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,s=i.createElementNS(bl,"g"),a=e.options.fixedDecimalPlaceDigits;for(const o of n){let u=null;switch(o.type){case"path":u=i.createElementNS(bl,"path"),u.setAttribute("d",this.opsToPath(o,a)),u.setAttribute("stroke",r.stroke),u.setAttribute("stroke-width",r.strokeWidth+""),u.setAttribute("fill","none"),r.strokeLineDash&&u.setAttribute("stroke-dasharray",r.strokeLineDash.join(" ").trim()),r.strokeLineDashOffset&&u.setAttribute("stroke-dashoffset",`${r.strokeLineDashOffset}`);break;case"fillPath":u=i.createElementNS(bl,"path"),u.setAttribute("d",this.opsToPath(o,a)),u.setAttribute("stroke","none"),u.setAttribute("stroke-width","0"),u.setAttribute("fill",r.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||u.setAttribute("fill-rule","evenodd");break;case"fillSketch":u=this.fillSketch(i,o,r)}u&&s.appendChild(u)}return s}fillSketch(e,n,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2);const s=e.createElementNS(bl,"path");return s.setAttribute("d",this.opsToPath(n,r.fixedDecimalPlaceDigits)),s.setAttribute("stroke",r.fill||""),s.setAttribute("stroke-width",i+""),s.setAttribute("fill","none"),r.fillLineDash&&s.setAttribute("stroke-dasharray",r.fillLineDash.join(" ").trim()),r.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${r.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,n){return this.gen.opsToPath(e,n)}line(e,n,r,i,s){const a=this.gen.line(e,n,r,i,s);return this.draw(a)}rectangle(e,n,r,i,s){const a=this.gen.rectangle(e,n,r,i,s);return this.draw(a)}ellipse(e,n,r,i,s){const a=this.gen.ellipse(e,n,r,i,s);return this.draw(a)}circle(e,n,r,i){const s=this.gen.circle(e,n,r,i);return this.draw(s)}linearPath(e,n){const r=this.gen.linearPath(e,n);return this.draw(r)}polygon(e,n){const r=this.gen.polygon(e,n);return this.draw(r)}arc(e,n,r,i,s,a,o=!1,u){const c=this.gen.arc(e,n,r,i,s,a,o,u);return this.draw(c)}curve(e,n){const r=this.gen.curve(e,n);return this.draw(r)}path(e,n){const r=this.gen.path(e,n);return this.draw(r)}}var HZ={canvas:(t,e)=>new N7(t,e),svg:(t,e)=>new S7(t,e),generator:t=>new pf(t),newSeed:()=>pf.newSeed()},z2="comm",H2="rule",W2="decl",C7="@import",R7="@namespace",O7="@keyframes",M7="@layer",Y2=Math.abs,fy=String.fromCharCode;function q2(t){return t.trim()}function nh(t,e,n){return t.replace(e,n)}function I7(t,e,n){return t.indexOf(e,n)}function La(t,e){return t.charCodeAt(e)|0}function Za(t,e,n){return t.slice(e,n)}function ri(t){return t.length}function L7(t){return t.length}function yl(t,e){return e.push(t),t}var Md=1,ja=1,X2=0,xr=0,$t=0,co="";function dy(t,e,n,r,i,s,a,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Md,column:ja,length:a,return:"",siblings:o}}function D7(){return $t}function P7(){return $t=xr>0?La(co,--xr):0,ja--,$t===10&&(ja=1,Md--),$t}function $r(){return $t=xr<X2?La(co,xr++):0,ja++,$t===10&&(ja=1,Md++),$t}function Zi(){return La(co,xr)}function rh(){return xr}function Id(t,e){return Za(co,t,e)}function sc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function F7(t){return Md=ja=1,X2=ri(co=t),xr=0,[]}function $7(t){return co="",t}function jp(t){return q2(Id(xr-1,I0(t===91?t+2:t===40?t+1:t)))}function U7(t){for(;($t=Zi())&&$t<33;)$r();return sc(t)>2||sc($t)>3?"":" "}function B7(t,e){for(;--e&&$r()&&!($t<48||$t>102||$t>57&&$t<65||$t>70&&$t<97););return Id(t,rh()+(e<6&&Zi()==32&&$r()==32))}function I0(t){for(;$r();)switch($t){case t:return xr;case 34:case 39:t!==34&&t!==39&&I0($t);break;case 40:t===41&&I0(t);break;case 92:$r();break}return xr}function G7(t,e){for(;$r()&&t+$t!==57;)if(t+$t===84&&Zi()===47)break;return"/*"+Id(e,xr-1)+"*"+fy(t===47?t:$r())}function z7(t){for(;!sc(Zi());)$r();return Id(t,xr)}function WZ(t){return $7(ih("",null,null,null,[""],t=F7(t),0,[0],t))}function ih(t,e,n,r,i,s,a,o,u){for(var c=0,l=0,h=a,d=0,f=0,p=0,g=1,m=1,b=1,v=0,y="",_=i,w=s,k=r,x=y;m;)switch(p=v,v=$r()){case 40:if(p!=108&&La(x,h-1)==58){I7(x+=nh(jp(v),"&","&\f"),"&\f",Y2(c?o[c-1]:0))!=-1&&(b=-1);break}case 34:case 39:case 91:x+=jp(v);break;case 9:case 10:case 13:case 32:x+=U7(p);break;case 92:x+=B7(rh()-1,7);continue;case 47:switch(Zi()){case 42:case 47:yl(H7(G7($r(),rh()),e,n,u),u),(sc(p||1)==5||sc(Zi()||1)==5)&&ri(x)&&Za(x,-1,void 0)!==" "&&(x+=" ");break;default:x+="/"}break;case 123*g:o[c++]=ri(x)*b;case 125*g:case 59:case 0:switch(v){case 0:case 125:m=0;case 59+l:b==-1&&(x=nh(x,/\f/g,"")),f>0&&(ri(x)-h||g===0&&p===47)&&yl(f>32?O_(x+";",r,n,h-1,u):O_(nh(x," ","")+";",r,n,h-2,u),u);break;case 59:x+=";";default:if(yl(k=R_(x,e,n,c,l,i,o,y,_=[],w=[],h,s),s),v===123)if(l===0)ih(x,e,k,k,_,s,h,o,w);else{switch(d){case 99:if(La(x,3)===110)break;case 108:if(La(x,2)===97)break;default:l=0;case 100:case 109:case 115:}l?ih(t,k,k,r&&yl(R_(t,k,k,0,0,i,o,y,i,_=[],h,w),w),i,w,h,o,r?_:w):ih(x,k,k,k,[""],w,0,o,w)}}c=l=f=0,g=b=1,y=x="",h=a;break;case 58:h=1+ri(x),f=p;default:if(g<1){if(v==123)--g;else if(v==125&&g++==0&&P7()==125)continue}switch(x+=fy(v),v*g){case 38:b=l>0?1:(x+="\f",-1);break;case 44:o[c++]=(ri(x)-1)*b,b=1;break;case 64:Zi()===45&&(x+=jp($r())),d=Zi(),l=h=ri(y=x+=z7(rh())),v++;break;case 45:p===45&&ri(x)==2&&(g=0)}}return s}function R_(t,e,n,r,i,s,a,o,u,c,l,h){for(var d=i-1,f=i===0?s:[""],p=L7(f),g=0,m=0,b=0;g<r;++g)for(var v=0,y=Za(t,d+1,d=Y2(m=a[g])),_=t;v<p;++v)(_=q2(m>0?f[v]+" "+y:nh(y,/&\f/g,f[v])))&&(u[b++]=_);return dy(t,e,n,i===0?H2:o,u,c,l,h)}function H7(t,e,n,r){return dy(t,e,n,z2,fy(D7()),Za(t,2,-2),0,r)}function O_(t,e,n,r,i){return dy(t,e,n,W2,Za(t,0,r),Za(t,r+1,-1),r,i)}function M_(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function YZ(t,e,n,r){switch(t.type){case M7:if(t.children.length)break;case C7:case R7:case W2:return t.return=t.return||t.value;case z2:return"";case O7:return t.return=t.value+"{"+M_(t.children,r)+"}";case H2:if(!ri(t.value=t.props.join(",")))return""}return ri(n=M_(t.children,r))?t.return=t.value+"{"+n+"}":""}function W7(t){return t||(t={}),{delay:t.delay===void 0?200:t.delay,initialDelay:t.initialDelay===void 0?0:t.initialDelay,minDelay:t.minDelay===void 0?0:t.minDelay,maxDelay:t.maxDelay===void 0?0:t.maxDelay,factor:t.factor===void 0?0:t.factor,maxAttempts:t.maxAttempts===void 0?3:t.maxAttempts,timeout:t.timeout===void 0?0:t.timeout,jitter:t.jitter===!0,initialJitter:t.initialJitter===!0,handleError:t.handleError===void 0?null:t.handleError,handleTimeout:t.handleTimeout===void 0?null:t.handleTimeout,beforeAttempt:t.beforeAttempt===void 0?null:t.beforeAttempt,calculateDelay:t.calculateDelay===void 0?null:t.calculateDelay}}async function Qp(t){return new Promise(e=>setTimeout(e,t))}function Y7(t,e){let n=e.delay;if(n===0)return 0;if(e.factor&&(n*=Math.pow(e.factor,t.attemptNum-1),e.maxDelay!==0&&(n=Math.min(n,e.maxDelay))),e.jitter){const r=Math.ceil(e.minDelay),i=Math.floor(n);n=Math.floor(Math.random()*(i-r+1))+r}return Math.round(n)}async function qZ(t,e){const n=W7(e);for(const o of["delay","initialDelay","minDelay","maxDelay","maxAttempts","timeout"]){const u=n[o];if(!Number.isInteger(u)||u<0)throw new Error(`Value for ${o} must be an integer greater than or equal to 0`)}if(n.factor.constructor!==Number||n.factor<0)throw new Error("Value for factor must be a number greater than or equal to 0");if(n.delay<n.minDelay)throw new Error(`delay cannot be less than minDelay (delay: ${n.delay}, minDelay: ${n.minDelay}`);const r={attemptNum:0,attemptsRemaining:n.maxAttempts?n.maxAttempts:-1,aborted:!1,abort(){r.aborted=!0}},i=n.calculateDelay||Y7;async function s(){if(n.beforeAttempt&&n.beforeAttempt(r,n),r.aborted){const u=new Error("Attempt aborted");throw u.code="ATTEMPT_ABORTED",u}const o=async u=>{if(n.handleError&&await n.handleError(u,r,n),r.aborted||r.attemptsRemaining===0)throw u;r.attemptNum++;const c=i(r,n);return c&&await Qp(c),s()};return r.attemptsRemaining>0&&r.attemptsRemaining--,n.timeout?new Promise((u,c)=>{const l=setTimeout(()=>{if(n.handleTimeout)try{u(n.handleTimeout(r,n))}catch(h){c(h)}else{const h=new Error(`Retry timeout (attemptNum: ${r.attemptNum}, timeout: ${n.timeout})`);h.code="ATTEMPT_TIMEOUT",c(h)}},n.timeout);t(r,n).then(h=>{clearTimeout(l),u(h)}).catch(h=>{clearTimeout(l),o(h).then(u).catch(c)})}):t(r,n).catch(o)}const a=n.calculateDelay?n.calculateDelay(r,n):n.initialDelay;if(a&&await Qp(a),r.attemptNum<1&&n.initialJitter){const o=i(r,n);o&&await Qp(o)}return s()}var gf=200,Nn=function(){};Nn.prototype.append=function(e){return e.length?(e=Nn.from(e),!this.length&&e||e.length<gf&&this.leafAppend(e)||this.length<gf&&e.leafPrepend(this)||this.appendInner(e)):this};Nn.prototype.prepend=function(e){return e.length?Nn.from(e).append(this):this};Nn.prototype.appendInner=function(e){return new q7(this,e)};Nn.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Nn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Nn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Nn.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Nn.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,a){return i.push(e(s,a))},n,r),i};Nn.from=function(e){return e instanceof Nn?e:e&&e.length?new V2(e):Nn.empty};var V2=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,a,o){for(var u=s;u<a;u++)if(i(this.values[u],o+u)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,a,o){for(var u=s-1;u>=a;u--)if(i(this.values[u],o+u)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=gf)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=gf)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(Nn);Nn.empty=new V2([]);var q7=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,a){var o=this.left.length;if(i<o&&this.left.forEachInner(r,i,Math.min(s,o),a)===!1||s>o&&this.right.forEachInner(r,Math.max(i-o,0),Math.min(this.length,s)-o,a+o)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,a){var o=this.left.length;if(i>o&&this.right.forEachInvertedInner(r,i-o,Math.max(s,o)-o,a+o)===!1||s<o&&this.left.forEachInvertedInner(r,Math.min(i,o),s,a)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(Nn),X7="\0",ms="\0",I_="";class bi{constructor(e={}){this._isDirected=Object.prototype.hasOwnProperty.call(e,"directed")?e.directed:!0,this._isMultigraph=Object.prototype.hasOwnProperty.call(e,"multigraph")?e.multigraph:!1,this._isCompound=Object.prototype.hasOwnProperty.call(e,"compound")?e.compound:!1,this._label=void 0,this._defaultNodeLabelFn=Bo(void 0),this._defaultEdgeLabelFn=Bo(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[ms]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return Yy(e)||(e=Bo(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return sa(this._nodes)}sources(){var e=this;return si(this.nodes(),function(n){return Ng(e._in[n])})}sinks(){var e=this;return si(this.nodes(),function(n){return Ng(e._out[n])})}setNodes(e,n){var r=arguments,i=this;return Z(e,function(s){r.length>1?i.setNode(s,n):i.setNode(s)}),this}setNode(e,n){return Object.prototype.hasOwnProperty.call(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=n),this):(this._nodes[e]=arguments.length>1?n:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=ms,this._children[e]={},this._children[ms][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return Object.prototype.hasOwnProperty.call(this._nodes,e)}removeNode(e){if(Object.prototype.hasOwnProperty.call(this._nodes,e)){var n=r=>this.removeEdge(this._edgeObjs[r]);delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],Z(this.children(e),r=>{this.setParent(r)}),delete this._children[e]),Z(sa(this._in[e]),n),delete this._in[e],delete this._preds[e],Z(sa(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,n){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Mt(n))n=ms;else{n+="";for(var r=n;!Mt(r);r=this.parent(r))if(r===e)throw new Error("Setting "+n+" as parent of "+e+" would create a cycle");this.setNode(n)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=n,this._children[n][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var n=this._parent[e];if(n!==ms)return n}}children(e){if(Mt(e)&&(e=ms),this._isCompound){var n=this._children[e];if(n)return sa(n)}else{if(e===ms)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var n=this._preds[e];if(n)return sa(n)}successors(e){var n=this._sucs[e];if(n)return sa(n)}neighbors(e){var n=this.predecessors(e);if(n)return jS(n,this.successors(e))}isLeaf(e){var n;return this.isDirected()?n=this.successors(e):n=this.neighbors(e),n.length===0}filterNodes(e){var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph());var r=this;Z(this._nodes,function(a,o){e(o)&&n.setNode(o,a)}),Z(this._edgeObjs,function(a){n.hasNode(a.v)&&n.hasNode(a.w)&&n.setEdge(a,r.edge(a))});var i={};function s(a){var o=r.parent(a);return o===void 0||n.hasNode(o)?(i[a]=o,o):o in i?i[o]:s(o)}return this._isCompound&&Z(n.nodes(),function(a){n.setParent(a,s(a))}),n}setDefaultEdgeLabel(e){return Yy(e)||(e=Bo(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return Mi(this._edgeObjs)}setPath(e,n){var r=this,i=arguments;return Is(e,function(s,a){return i.length>1?r.setEdge(s,a,n):r.setEdge(s,a),a}),this}setEdge(){var e,n,r,i,s=!1,a=arguments[0];typeof a=="object"&&a!==null&&"v"in a?(e=a.v,n=a.w,r=a.name,arguments.length===2&&(i=arguments[1],s=!0)):(e=a,n=arguments[1],r=arguments[3],arguments.length>2&&(i=arguments[2],s=!0)),e=""+e,n=""+n,Mt(r)||(r=""+r);var o=Jo(this._isDirected,e,n,r);if(Object.prototype.hasOwnProperty.call(this._edgeLabels,o))return s&&(this._edgeLabels[o]=i),this;if(!Mt(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(n),this._edgeLabels[o]=s?i:this._defaultEdgeLabelFn(e,n,r);var u=V7(this._isDirected,e,n,r);return e=u.v,n=u.w,Object.freeze(u),this._edgeObjs[o]=u,L_(this._preds[n],e),L_(this._sucs[e],n),this._in[n][o]=u,this._out[e][o]=u,this._edgeCount++,this}edge(e,n,r){var i=arguments.length===1?Jp(this._isDirected,arguments[0]):Jo(this._isDirected,e,n,r);return this._edgeLabels[i]}hasEdge(e,n,r){var i=arguments.length===1?Jp(this._isDirected,arguments[0]):Jo(this._isDirected,e,n,r);return Object.prototype.hasOwnProperty.call(this._edgeLabels,i)}removeEdge(e,n,r){var i=arguments.length===1?Jp(this._isDirected,arguments[0]):Jo(this._isDirected,e,n,r),s=this._edgeObjs[i];return s&&(e=s.v,n=s.w,delete this._edgeLabels[i],delete this._edgeObjs[i],D_(this._preds[n],e),D_(this._sucs[e],n),delete this._in[n][i],delete this._out[e][i],this._edgeCount--),this}inEdges(e,n){var r=this._in[e];if(r){var i=Mi(r);return n?si(i,function(s){return s.v===n}):i}}outEdges(e,n){var r=this._out[e];if(r){var i=Mi(r);return n?si(i,function(s){return s.w===n}):i}}nodeEdges(e,n){var r=this.inEdges(e,n);if(r)return r.concat(this.outEdges(e,n))}}bi.prototype._nodeCount=0;bi.prototype._edgeCount=0;function L_(t,e){t[e]?t[e]++:t[e]=1}function D_(t,e){--t[e]||delete t[e]}function Jo(t,e,n,r){var i=""+e,s=""+n;if(!t&&i>s){var a=i;i=s,s=a}return i+I_+s+I_+(Mt(r)?X7:r)}function V7(t,e,n,r){var i=""+e,s=""+n;if(!t&&i>s){var a=i;i=s,s=a}var o={v:i,w:s};return r&&(o.name=r),o}function Jp(t,e){return Jo(t,e.v,e.w,e.name)}class K7{constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var e=this._sentinel,n=e._prev;if(n!==e)return P_(n),n}enqueue(e){var n=this._sentinel;e._prev&&e._next&&P_(e),e._next=n._next,n._next._prev=e,n._next=e,e._prev=n}toString(){for(var e=[],n=this._sentinel,r=n._prev;r!==n;)e.push(JSON.stringify(r,Z7)),r=r._prev;return"["+e.join(", ")+"]"}}function P_(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function Z7(t,e){if(t!=="_next"&&t!=="_prev")return e}var j7=Bo(1);function Q7(t,e){if(t.nodeCount()<=1)return[];var n=eG(t,e||j7),r=J7(n.graph,n.buckets,n.zeroIdx);return no(ht(r,function(i){return t.outEdges(i.v,i.w)}))}function J7(t,e,n){for(var r=[],i=e[e.length-1],s=e[0],a;t.nodeCount();){for(;a=s.dequeue();)eg(t,e,n,a);for(;a=i.dequeue();)eg(t,e,n,a);if(t.nodeCount()){for(var o=e.length-2;o>0;--o)if(a=e[o].dequeue(),a){r=r.concat(eg(t,e,n,a,!0));break}}}return r}function eg(t,e,n,r,i){var s=i?[]:void 0;return Z(t.inEdges(r.v),function(a){var o=t.edge(a),u=t.node(a.v);i&&s.push({v:a.v,w:a.w}),u.out-=o,L0(e,n,u)}),Z(t.outEdges(r.v),function(a){var o=t.edge(a),u=a.w,c=t.node(u);c.in-=o,L0(e,n,c)}),t.removeNode(r.v),s}function eG(t,e){var n=new bi,r=0,i=0;Z(t.nodes(),function(o){n.setNode(o,{v:o,in:0,out:0})}),Z(t.edges(),function(o){var u=n.edge(o.v,o.w)||0,c=e(o),l=u+c;n.setEdge(o.v,o.w,l),i=Math.max(i,n.node(o.v).out+=c),r=Math.max(r,n.node(o.w).in+=c)});var s=Fa(i+r+3).map(function(){return new K7}),a=r+1;return Z(n.nodes(),function(o){L0(s,a,n.node(o))}),{graph:n,buckets:s,zeroIdx:a}}function L0(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}function tG(t){var e=t.graph().acyclicer==="greedy"?Q7(t,n(t)):nG(t);Z(e,function(r){var i=t.edge(r);t.removeEdge(r),i.forwardName=r.name,i.reversed=!0,t.setEdge(r.w,r.v,i,_m("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function nG(t){var e=[],n={},r={};function i(s){Object.prototype.hasOwnProperty.call(r,s)||(r[s]=!0,n[s]=!0,Z(t.outEdges(s),function(a){Object.prototype.hasOwnProperty.call(n,a.w)?e.push(a):i(a.w)}),delete n[s])}return Z(t.nodes(),i),e}function rG(t){Z(t.edges(),function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}})}function lo(t,e,n,r){var i;do i=_m(r);while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function iG(t){var e=new bi().setGraph(t.graph());return Z(t.nodes(),function(n){e.setNode(n,t.node(n))}),Z(t.edges(),function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),e}function K2(t){var e=new bi({multigraph:t.isMultigraph()}).setGraph(t.graph());return Z(t.nodes(),function(n){t.children(n).length||e.setNode(n,t.node(n))}),Z(t.edges(),function(n){e.setEdge(n,t.edge(n))}),e}function F_(t,e){var n=t.x,r=t.y,i=e.x-n,s=e.y-r,a=t.width/2,o=t.height/2;if(!i&&!s)throw new Error("Not possible to find intersection inside of the rectangle");var u,c;return Math.abs(s)*a>Math.abs(i)*o?(s<0&&(o=-o),u=o*i/s,c=o):(i<0&&(a=-a),u=a,c=a*s/i),{x:n+u,y:r+c}}function Ld(t){var e=ht(Fa(Z2(t)+1),function(){return[]});return Z(t.nodes(),function(n){var r=t.node(n),i=r.rank;Mt(i)||(e[i][r.order]=n)}),e}function sG(t){var e=$a(ht(t.nodes(),function(n){return t.node(n).rank}));Z(t.nodes(),function(n){var r=t.node(n);Jx(r,"rank")&&(r.rank-=e)})}function aG(t){var e=$a(ht(t.nodes(),function(s){return t.node(s).rank})),n=[];Z(t.nodes(),function(s){var a=t.node(s).rank-e;n[a]||(n[a]=[]),n[a].push(s)});var r=0,i=t.graph().nodeRankFactor;Z(n,function(s,a){Mt(s)&&a%i!==0?--r:r&&Z(s,function(o){t.node(o).rank+=r})})}function $_(t,e,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),lo(t,"border",i,e)}function Z2(t){return Ls(ht(t.nodes(),function(e){var n=t.node(e).rank;if(!Mt(n))return n}))}function oG(t,e){var n={lhs:[],rhs:[]};return Z(t,function(r){e(r)?n.lhs.push(r):n.rhs.push(r)}),n}function uG(t,e){return e()}function cG(t){function e(n){var r=t.children(n),i=t.node(n);if(r.length&&Z(r,e),Object.prototype.hasOwnProperty.call(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var s=i.minRank,a=i.maxRank+1;s<a;++s)U_(t,"borderLeft","_bl",n,i,s),U_(t,"borderRight","_br",n,i,s)}}Z(t.children(),e)}function U_(t,e,n,r,i,s){var a={width:0,height:0,rank:s,borderType:e},o=i[e][s-1],u=lo(t,"border",a,n);i[e][s]=u,t.setParent(u,r),o&&t.setEdge(o,u,{weight:1})}function lG(t){var e=t.graph().rankdir.toLowerCase();(e==="lr"||e==="rl")&&j2(t)}function hG(t){var e=t.graph().rankdir.toLowerCase();(e==="bt"||e==="rl")&&fG(t),(e==="lr"||e==="rl")&&(dG(t),j2(t))}function j2(t){Z(t.nodes(),function(e){B_(t.node(e))}),Z(t.edges(),function(e){B_(t.edge(e))})}function B_(t){var e=t.width;t.width=t.height,t.height=e}function fG(t){Z(t.nodes(),function(e){tg(t.node(e))}),Z(t.edges(),function(e){var n=t.edge(e);Z(n.points,tg),Object.prototype.hasOwnProperty.call(n,"y")&&tg(n)})}function tg(t){t.y=-t.y}function dG(t){Z(t.nodes(),function(e){ng(t.node(e))}),Z(t.edges(),function(e){var n=t.edge(e);Z(n.points,ng),Object.prototype.hasOwnProperty.call(n,"x")&&ng(n)})}function ng(t){var e=t.x;t.x=t.y,t.y=e}function pG(t){t.graph().dummyChains=[],Z(t.edges(),function(e){gG(t,e)})}function gG(t,e){var n=e.v,r=t.node(n).rank,i=e.w,s=t.node(i).rank,a=e.name,o=t.edge(e),u=o.labelRank;if(s!==r+1){t.removeEdge(e);var c=void 0,l,h;for(h=0,++r;r<s;++h,++r)o.points=[],c={width:0,height:0,edgeLabel:o,edgeObj:e,rank:r},l=lo(t,"edge",c,"_d"),r===u&&(c.width=o.width,c.height=o.height,c.dummy="edge-label",c.labelpos=o.labelpos),t.setEdge(n,l,{weight:o.weight},a),h===0&&t.graph().dummyChains.push(l),n=l;t.setEdge(n,i,{weight:o.weight},a)}}function mG(t){Z(t.graph().dummyChains,function(e){var n=t.node(e),r=n.edgeLabel,i;for(t.setEdge(n.edgeObj,r);n.dummy;)i=t.successors(e)[0],t.removeNode(e),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),e=i,n=t.node(e)})}function py(t){var e={};function n(r){var i=t.node(r);if(Object.prototype.hasOwnProperty.call(e,r))return i.rank;e[r]=!0;var s=$a(ht(t.outEdges(r),function(a){return n(a.w)-t.edge(a).minlen}));return(s===Number.POSITIVE_INFINITY||s===void 0||s===null)&&(s=0),i.rank=s}Z(t.sources(),n)}function ac(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}function Q2(t){var e=new bi({directed:!1}),n=t.nodes()[0],r=t.nodeCount();e.setNode(n,{});for(var i,s;bG(e,t)<r;)i=yG(e,t),s=e.hasNode(i.v)?ac(t,i):-ac(t,i),vG(e,t,s);return e}function bG(t,e){function n(r){Z(e.nodeEdges(r),function(i){var s=i.v,a=r===s?i.w:s;!t.hasNode(a)&&!ac(e,i)&&(t.setNode(a,{}),t.setEdge(r,a,{}),n(a))})}return Z(t.nodes(),n),t.nodeCount()}function yG(t,e){return Em(e.edges(),function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return ac(e,n)})}function vG(t,e,n){Z(t.nodes(),function(r){e.node(r).rank+=n})}function _G(){}_G.prototype=new Error;function J2(t,e,n){QS(e)||(e=[e]);var r=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],s={};return Z(e,function(a){if(!t.hasNode(a))throw new Error("Graph does not have node: "+a);eN(t,a,n==="post",s,r,i)}),i}function eN(t,e,n,r,i,s){Object.prototype.hasOwnProperty.call(r,e)||(r[e]=!0,n||s.push(e),Z(i(e),function(a){eN(t,a,n,r,i,s)}),n&&s.push(e))}function EG(t,e){return J2(t,e,"post")}function xG(t,e){return J2(t,e,"pre")}na.initLowLimValues=my;na.initCutValues=gy;na.calcCutValue=tN;na.leaveEdge=rN;na.enterEdge=iN;na.exchangeEdges=sN;function na(t){t=iG(t),py(t);var e=Q2(t);my(e),gy(e,t);for(var n,r;n=rN(e);)r=iN(e,t,n),sN(e,t,n,r)}function gy(t,e){var n=EG(t,t.nodes());n=n.slice(0,n.length-1),Z(n,function(r){wG(t,e,r)})}function wG(t,e,n){var r=t.node(n),i=r.parent;t.edge(n,i).cutvalue=tN(t,e,n)}function tN(t,e,n){var r=t.node(n),i=r.parent,s=!0,a=e.edge(n,i),o=0;return a||(s=!1,a=e.edge(i,n)),o=a.weight,Z(e.nodeEdges(n),function(u){var c=u.v===n,l=c?u.w:u.v;if(l!==i){var h=c===s,d=e.edge(u).weight;if(o+=h?d:-d,TG(t,n,l)){var f=t.edge(n,l).cutvalue;o+=h?-f:f}}}),o}function my(t,e){arguments.length<2&&(e=t.nodes()[0]),nN(t,{},1,e)}function nN(t,e,n,r,i){var s=n,a=t.node(r);return e[r]=!0,Z(t.neighbors(r),function(o){Object.prototype.hasOwnProperty.call(e,o)||(n=nN(t,e,n,o,r))}),a.low=s,a.lim=n++,i?a.parent=i:delete a.parent,n}function rN(t){return xm(t.edges(),function(e){return t.edge(e).cutvalue<0})}function iN(t,e,n){var r=n.v,i=n.w;e.hasEdge(r,i)||(r=n.w,i=n.v);var s=t.node(r),a=t.node(i),o=s,u=!1;s.lim>a.lim&&(o=a,u=!0);var c=si(e.edges(),function(l){return u===G_(t,t.node(l.v),o)&&u!==G_(t,t.node(l.w),o)});return Em(c,function(l){return ac(e,l)})}function sN(t,e,n,r){var i=n.v,s=n.w;t.removeEdge(i,s),t.setEdge(r.v,r.w,{}),my(t),gy(t,e),AG(t,e)}function AG(t,e){var n=xm(t.nodes(),function(i){return!e.node(i).parent}),r=xG(t,n);r=r.slice(1),Z(r,function(i){var s=t.node(i).parent,a=e.edge(i,s),o=!1;a||(a=e.edge(s,i),o=!0),e.node(i).rank=e.node(s).rank+(o?a.minlen:-a.minlen)})}function TG(t,e,n){return t.hasEdge(e,n)}function G_(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}function kG(t){switch(t.graph().ranker){case"network-simplex":z_(t);break;case"tight-tree":SG(t);break;case"longest-path":NG(t);break;default:z_(t)}}var NG=py;function SG(t){py(t),Q2(t)}function z_(t){na(t)}function CG(t){var e=lo(t,"root",{},"_root"),n=RG(t),r=Ls(Mi(n))-1,i=2*r+1;t.graph().nestingRoot=e,Z(t.edges(),function(a){t.edge(a).minlen*=i});var s=OG(t)+1;Z(t.children(),function(a){aN(t,e,i,s,r,n,a)}),t.graph().nodeRankFactor=i}function aN(t,e,n,r,i,s,a){var o=t.children(a);if(!o.length){a!==e&&t.setEdge(e,a,{weight:0,minlen:n});return}var u=$_(t,"_bt"),c=$_(t,"_bb"),l=t.node(a);t.setParent(u,a),l.borderTop=u,t.setParent(c,a),l.borderBottom=c,Z(o,function(h){aN(t,e,n,r,i,s,h);var d=t.node(h),f=d.borderTop?d.borderTop:h,p=d.borderBottom?d.borderBottom:h,g=d.borderTop?r:2*r,m=f!==p?1:i-s[a]+1;t.setEdge(u,f,{weight:g,minlen:m,nestingEdge:!0}),t.setEdge(p,c,{weight:g,minlen:m,nestingEdge:!0})}),t.parent(a)||t.setEdge(e,u,{weight:0,minlen:i+s[a]})}function RG(t){var e={};function n(r,i){var s=t.children(r);s&&s.length&&Z(s,function(a){n(a,i+1)}),e[r]=i}return Z(t.children(),function(r){n(r,1)}),e}function OG(t){return Is(t.edges(),function(e,n){return e+t.edge(n).weight},0)}function MG(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,Z(t.edges(),function(n){var r=t.edge(n);r.nestingEdge&&t.removeEdge(n)})}function IG(t,e,n){var r={},i;Z(n,function(s){for(var a=t.parent(s),o,u;a;){if(o=t.parent(a),o?(u=r[o],r[o]=a):(u=i,i=a),u&&u!==a){e.setEdge(u,a);return}a=o}})}function LG(t,e,n){var r=DG(t),i=new bi({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(s){return t.node(s)});return Z(t.nodes(),function(s){var a=t.node(s),o=t.parent(s);(a.rank===e||a.minRank<=e&&e<=a.maxRank)&&(i.setNode(s),i.setParent(s,o||r),Z(t[n](s),function(u){var c=u.v===s?u.w:u.v,l=i.edge(c,s),h=Mt(l)?0:l.weight;i.setEdge(c,s,{weight:t.edge(u).weight+h})}),Object.prototype.hasOwnProperty.call(a,"minRank")&&i.setNode(s,{borderLeft:a.borderLeft[e],borderRight:a.borderRight[e]}))}),i}function DG(t){for(var e;t.hasNode(e=_m("_root")););return e}function PG(t,e){for(var n=0,r=1;r<e.length;++r)n+=FG(t,e[r-1],e[r]);return n}function FG(t,e,n){for(var r=JS(n,ht(n,function(c,l){return l})),i=no(ht(e,function(c){return lc(ht(t.outEdges(c),function(l){return{pos:r[l.w],weight:t.edge(l).weight}}),"pos")})),s=1;s<n.length;)s<<=1;var a=2*s-1;s-=1;var o=ht(new Array(a),function(){return 0}),u=0;return Z(i.forEach(function(c){var l=c.pos+s;o[l]+=c.weight;for(var h=0;l>0;)l%2&&(h+=o[l+1]),l=l-1>>1,o[l]+=c.weight;u+=c.weight*h})),u}function $G(t){var e={},n=si(t.nodes(),function(o){return!t.children(o).length}),r=Ls(ht(n,function(o){return t.node(o).rank})),i=ht(Fa(r+1),function(){return[]});function s(o){if(!Jx(e,o)){e[o]=!0;var u=t.node(o);i[u.rank].push(o),Z(t.successors(o),s)}}var a=lc(n,function(o){return t.node(o).rank});return Z(a,s),i}function UG(t,e){return ht(e,function(n){var r=t.inEdges(n);if(r.length){var i=Is(r,function(s,a){var o=t.edge(a),u=t.node(a.v);return{sum:s.sum+o.weight*u.order,weight:s.weight+o.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}function BG(t,e){var n={};Z(t,function(i,s){var a=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:s};Mt(i.barycenter)||(a.barycenter=i.barycenter,a.weight=i.weight)}),Z(e.edges(),function(i){var s=n[i.v],a=n[i.w];!Mt(s)&&!Mt(a)&&(a.indegree++,s.out.push(n[i.w]))});var r=si(n,function(i){return!i.indegree});return GG(r)}function GG(t){var e=[];function n(s){return function(a){a.merged||(Mt(a.barycenter)||Mt(s.barycenter)||a.barycenter>=s.barycenter)&&zG(s,a)}}function r(s){return function(a){a.in.push(s),--a.indegree===0&&t.push(a)}}for(;t.length;){var i=t.pop();e.push(i),Z(i.in.reverse(),n(i)),Z(i.out,r(i))}return ht(si(e,function(s){return!s.merged}),function(s){return bh(s,["vs","i","barycenter","weight"])})}function zG(t,e){var n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}function HG(t,e){var n=oG(t,function(l){return Object.prototype.hasOwnProperty.call(l,"barycenter")}),r=n.lhs,i=lc(n.rhs,function(l){return-l.i}),s=[],a=0,o=0,u=0;r.sort(WG(!!e)),u=H_(s,i,u),Z(r,function(l){u+=l.vs.length,s.push(l.vs),a+=l.barycenter*l.weight,o+=l.weight,u=H_(s,i,u)});var c={vs:no(s)};return o&&(c.barycenter=a/o,c.weight=o),c}function H_(t,e,n){for(var r;e.length&&(r=yh(e)).i<=n;)e.pop(),t.push(r.vs),n++;return n}function WG(t){return function(e,n){return e.barycenter<n.barycenter?-1:e.barycenter>n.barycenter?1:t?n.i-e.i:e.i-n.i}}function oN(t,e,n,r){var i=t.children(e),s=t.node(e),a=s?s.borderLeft:void 0,o=s?s.borderRight:void 0,u={};a&&(i=si(i,function(p){return p!==a&&p!==o}));var c=UG(t,i);Z(c,function(p){if(t.children(p.v).length){var g=oN(t,p.v,n,r);u[p.v]=g,Object.prototype.hasOwnProperty.call(g,"barycenter")&&qG(p,g)}});var l=BG(c,n);YG(l,u);var h=HG(l,r);if(a&&(h.vs=no([a,h.vs,o]),t.predecessors(a).length)){var d=t.node(t.predecessors(a)[0]),f=t.node(t.predecessors(o)[0]);Object.prototype.hasOwnProperty.call(h,"barycenter")||(h.barycenter=0,h.weight=0),h.barycenter=(h.barycenter*h.weight+d.order+f.order)/(h.weight+2),h.weight+=2}return h}function YG(t,e){Z(t,function(n){n.vs=no(n.vs.map(function(r){return e[r]?e[r].vs:r}))})}function qG(t,e){Mt(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}function XG(t){var e=Z2(t),n=W_(t,Fa(1,e+1),"inEdges"),r=W_(t,Fa(e-1,-1,-1),"outEdges"),i=$G(t);Y_(t,i);for(var s=Number.POSITIVE_INFINITY,a,o=0,u=0;u<4;++o,++u){VG(o%2?n:r,o%4>=2),i=Ld(t);var c=PG(t,i);c<s&&(u=0,a=eC(i),s=c)}Y_(t,a)}function W_(t,e,n){return ht(e,function(r){return LG(t,r,n)})}function VG(t,e){var n=new bi;Z(t,function(r){var i=r.graph().root,s=oN(r,i,n,e);Z(s.vs,function(a,o){r.node(a).order=o}),IG(r,n,s.vs)})}function Y_(t,e){Z(e,function(n){Z(n,function(r,i){t.node(r).order=i})})}function KG(t){var e=jG(t);Z(t.graph().dummyChains,function(n){for(var r=t.node(n),i=r.edgeObj,s=ZG(t,e,i.v,i.w),a=s.path,o=s.lca,u=0,c=a[u],l=!0;n!==i.w;){if(r=t.node(n),l){for(;(c=a[u])!==o&&t.node(c).maxRank<r.rank;)u++;c===o&&(l=!1)}if(!l){for(;u<a.length-1&&t.node(c=a[u+1]).minRank<=r.rank;)u++;c=a[u]}t.setParent(n,c),n=t.successors(n)[0]}})}function ZG(t,e,n,r){var i=[],s=[],a=Math.min(e[n].low,e[r].low),o=Math.max(e[n].lim,e[r].lim),u,c;u=n;do u=t.parent(u),i.push(u);while(u&&(e[u].low>a||o>e[u].lim));for(c=u,u=r;(u=t.parent(u))!==c;)s.push(u);return{path:i.concat(s.reverse()),lca:c}}function jG(t){var e={},n=0;function r(i){var s=n;Z(t.children(i),r),e[i]={low:s,lim:n++}}return Z(t.children(),r),e}function QG(t,e){var n={};function r(i,s){var a=0,o=0,u=i.length,c=yh(s);return Z(s,function(l,h){var d=ez(t,l),f=d?t.node(d).order:u;(d||l===c)&&(Z(s.slice(o,h+1),function(p){Z(t.predecessors(p),function(g){var m=t.node(g),b=m.order;(b<a||f<b)&&!(m.dummy&&t.node(p).dummy)&&uN(n,g,p)})}),o=h+1,a=f)}),s}return Is(e,r),n}function JG(t,e){var n={};function r(s,a,o,u,c){var l;Z(Fa(a,o),function(h){l=s[h],t.node(l).dummy&&Z(t.predecessors(l),function(d){var f=t.node(d);f.dummy&&(f.order<u||f.order>c)&&uN(n,d,l)})})}function i(s,a){var o=-1,u,c=0;return Z(a,function(l,h){if(t.node(l).dummy==="border"){var d=t.predecessors(l);d.length&&(u=t.node(d[0]).order,r(a,c,h,o,u),c=h,o=u)}r(a,c,a.length,u,s.length)}),a}return Is(e,i),n}function ez(t,e){if(t.node(e).dummy)return xm(t.predecessors(e),function(n){return t.node(n).dummy})}function uN(t,e,n){if(e>n){var r=e;e=n,n=r}Object.prototype.hasOwnProperty.call(t,e)||Object.defineProperty(t,e,{enumerable:!0,configurable:!0,value:{},writable:!0});var i=t[e];Object.defineProperty(i,n,{enumerable:!0,configurable:!0,value:!0,writable:!0})}function tz(t,e,n){if(e>n){var r=e;e=n,n=r}return!!t[e]&&Object.prototype.hasOwnProperty.call(t[e],n)}function nz(t,e,n,r){var i={},s={},a={};return Z(e,function(o){Z(o,function(u,c){i[u]=u,s[u]=u,a[u]=c})}),Z(e,function(o){var u=-1;Z(o,function(c){var l=r(c);if(l.length){l=lc(l,function(g){return a[g]});for(var h=(l.length-1)/2,d=Math.floor(h),f=Math.ceil(h);d<=f;++d){var p=l[d];s[c]===c&&u<a[p]&&!tz(n,c,p)&&(s[p]=c,s[c]=i[c]=i[p],u=a[p])}}})}),{root:i,align:s}}function rz(t,e,n,r,i){var s={},a=iz(t,e,n,i),o=i?"borderLeft":"borderRight";function u(h,d){for(var f=a.nodes(),p=f.pop(),g={};p;)g[p]?h(p):(g[p]=!0,f.push(p),f=f.concat(d(p))),p=f.pop()}function c(h){s[h]=a.inEdges(h).reduce(function(d,f){return Math.max(d,s[f.v]+a.edge(f))},0)}function l(h){var d=a.outEdges(h).reduce(function(p,g){return Math.min(p,s[g.w]-a.edge(g))},Number.POSITIVE_INFINITY),f=t.node(h);d!==Number.POSITIVE_INFINITY&&f.borderType!==o&&(s[h]=Math.max(s[h],d))}return u(c,a.predecessors.bind(a)),u(l,a.successors.bind(a)),Z(r,function(h){s[h]=s[n[h]]}),s}function iz(t,e,n,r){var i=new bi,s=t.graph(),a=cz(s.nodesep,s.edgesep,r);return Z(e,function(o){var u;Z(o,function(c){var l=n[c];if(i.setNode(l),u){var h=n[u],d=i.edge(h,l);i.setEdge(h,l,Math.max(a(t,c,u),d||0))}u=c})}),i}function sz(t,e){return Em(Mi(e),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return tC(n,function(s,a){var o=lz(t,a)/2;r=Math.max(s+o,r),i=Math.min(s-o,i)}),r-i})}function az(t,e){var n=Mi(e),r=$a(n),i=Ls(n);Z(["u","d"],function(s){Z(["l","r"],function(a){var o=s+a,u=t[o],c;if(u!==e){var l=Mi(u);c=a==="l"?r-$a(l):i-Ls(l),c&&(t[o]=Gf(u,function(h){return h+c}))}})})}function oz(t,e){return Gf(t.ul,function(n,r){if(e)return t[e.toLowerCase()][r];var i=lc(ht(t,r));return(i[1]+i[2])/2})}function uz(t){var e=Ld(t),n=Sg(QG(t,e),JG(t,e)),r={},i;Z(["u","d"],function(a){i=a==="u"?e:Mi(e).reverse(),Z(["l","r"],function(o){o==="r"&&(i=ht(i,function(h){return Mi(h).reverse()}));var u=(a==="u"?t.predecessors:t.successors).bind(t),c=nz(t,i,n,u),l=rz(t,i,c.root,c.align,o==="r");o==="r"&&(l=Gf(l,function(h){return-h})),r[a+o]=l})});var s=sz(t,r);return az(r,s),oz(r,t.graph().align)}function cz(t,e,n){return function(r,i,s){var a=r.node(i),o=r.node(s),u=0,c;if(u+=a.width/2,Object.prototype.hasOwnProperty.call(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":c=-a.width/2;break;case"r":c=a.width/2;break}if(c&&(u+=n?c:-c),c=0,u+=(a.dummy?e:t)/2,u+=(o.dummy?e:t)/2,u+=o.width/2,Object.prototype.hasOwnProperty.call(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":c=o.width/2;break;case"r":c=-o.width/2;break}return c&&(u+=n?c:-c),c=0,u}}function lz(t,e){return t.node(e).width}function hz(t){t=K2(t),fz(t),nC(uz(t),function(e,n){t.node(n).x=e})}function fz(t){var e=Ld(t),n=t.graph().ranksep,r=0;Z(e,function(i){var s=Ls(ht(i,function(a){return t.node(a).height}));Z(i,function(a){t.node(a).y=r+s/2}),r+=s+n})}function XZ(t,e){var n=uG;n("layout",()=>{var r=n("  buildLayoutGraph",()=>wz(t));n("  runLayout",()=>dz(r,n)),n("  updateInputGraph",()=>pz(t,r))})}function dz(t,e){e("    makeSpaceForEdgeLabels",()=>Az(t)),e("    removeSelfEdges",()=>Iz(t)),e("    acyclic",()=>tG(t)),e("    nestingGraph.run",()=>CG(t)),e("    rank",()=>kG(K2(t))),e("    injectEdgeLabelProxies",()=>Tz(t)),e("    removeEmptyRanks",()=>aG(t)),e("    nestingGraph.cleanup",()=>MG(t)),e("    normalizeRanks",()=>sG(t)),e("    assignRankMinMax",()=>kz(t)),e("    removeEdgeLabelProxies",()=>Nz(t)),e("    normalize.run",()=>pG(t)),e("    parentDummyChains",()=>KG(t)),e("    addBorderSegments",()=>cG(t)),e("    order",()=>XG(t)),e("    insertSelfEdges",()=>Lz(t)),e("    adjustCoordinateSystem",()=>lG(t)),e("    position",()=>hz(t)),e("    positionSelfEdges",()=>Dz(t)),e("    removeBorderNodes",()=>Mz(t)),e("    normalize.undo",()=>mG(t)),e("    fixupEdgeLabelCoords",()=>Rz(t)),e("    undoCoordinateSystem",()=>hG(t)),e("    translateGraph",()=>Sz(t)),e("    assignNodeIntersects",()=>Cz(t)),e("    reversePoints",()=>Oz(t)),e("    acyclic.undo",()=>rG(t))}function pz(t,e){Z(t.nodes(),function(n){var r=t.node(n),i=e.node(n);r&&(r.x=i.x,r.y=i.y,e.children(n).length&&(r.width=i.width,r.height=i.height))}),Z(t.edges(),function(n){var r=t.edge(n),i=e.edge(n);r.points=i.points,Object.prototype.hasOwnProperty.call(i,"x")&&(r.x=i.x,r.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}var gz=["nodesep","edgesep","ranksep","marginx","marginy"],mz={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},bz=["acyclicer","ranker","rankdir","align"],yz=["width","height"],vz={width:0,height:0},_z=["minlen","weight","width","height","labeloffset"],Ez={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},xz=["labelpos"];function wz(t){var e=new bi({multigraph:!0,compound:!0}),n=ig(t.graph());return e.setGraph(Sg({},mz,rg(n,gz),bh(n,bz))),Z(t.nodes(),function(r){var i=ig(t.node(r));e.setNode(r,rC(rg(i,yz),vz)),e.setParent(r,t.parent(r))}),Z(t.edges(),function(r){var i=ig(t.edge(r));e.setEdge(r,Sg({},Ez,rg(i,_z),bh(i,xz)))}),e}function Az(t){var e=t.graph();e.ranksep/=2,Z(t.edges(),function(n){var r=t.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function Tz(t){Z(t.edges(),function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),i=t.node(e.w),s={rank:(i.rank-r.rank)/2+r.rank,e};lo(t,"edge-proxy",s,"_ep")}})}function kz(t){var e=0;Z(t.nodes(),function(n){var r=t.node(n);r.borderTop&&(r.minRank=t.node(r.borderTop).rank,r.maxRank=t.node(r.borderBottom).rank,e=Ls(e,r.maxRank))}),t.graph().maxRank=e}function Nz(t){Z(t.nodes(),function(e){var n=t.node(e);n.dummy==="edge-proxy"&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}function Sz(t){var e=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,s=t.graph(),a=s.marginx||0,o=s.marginy||0;function u(c){var l=c.x,h=c.y,d=c.width,f=c.height;e=Math.min(e,l-d/2),n=Math.max(n,l+d/2),r=Math.min(r,h-f/2),i=Math.max(i,h+f/2)}Z(t.nodes(),function(c){u(t.node(c))}),Z(t.edges(),function(c){var l=t.edge(c);Object.prototype.hasOwnProperty.call(l,"x")&&u(l)}),e-=a,r-=o,Z(t.nodes(),function(c){var l=t.node(c);l.x-=e,l.y-=r}),Z(t.edges(),function(c){var l=t.edge(c);Z(l.points,function(h){h.x-=e,h.y-=r}),Object.prototype.hasOwnProperty.call(l,"x")&&(l.x-=e),Object.prototype.hasOwnProperty.call(l,"y")&&(l.y-=r)}),s.width=n-e+a,s.height=i-r+o}function Cz(t){Z(t.edges(),function(e){var n=t.edge(e),r=t.node(e.v),i=t.node(e.w),s,a;n.points?(s=n.points[0],a=n.points[n.points.length-1]):(n.points=[],s=i,a=r),n.points.unshift(F_(r,s)),n.points.push(F_(i,a))})}function Rz(t){Z(t.edges(),function(e){var n=t.edge(e);if(Object.prototype.hasOwnProperty.call(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function Oz(t){Z(t.edges(),function(e){var n=t.edge(e);n.reversed&&n.points.reverse()})}function Mz(t){Z(t.nodes(),function(e){if(t.children(e).length){var n=t.node(e),r=t.node(n.borderTop),i=t.node(n.borderBottom),s=t.node(yh(n.borderLeft)),a=t.node(yh(n.borderRight));n.width=Math.abs(a.x-s.x),n.height=Math.abs(i.y-r.y),n.x=s.x+n.width/2,n.y=r.y+n.height/2}}),Z(t.nodes(),function(e){t.node(e).dummy==="border"&&t.removeNode(e)})}function Iz(t){Z(t.edges(),function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}})}function Lz(t){var e=Ld(t);Z(e,function(n){var r=0;Z(n,function(i,s){var a=t.node(i);a.order=s+r,Z(a.selfEdges,function(o){lo(t,"selfedge",{width:o.label.width,height:o.label.height,rank:a.rank,order:s+ ++r,e:o.e,label:o.label},"_se")}),delete a.selfEdges})})}function Dz(t){Z(t.nodes(),function(e){var n=t.node(e);if(n.dummy==="selfedge"){var r=t.node(n.e.v),i=r.x+r.width/2,s=r.y,a=n.x-i,o=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*a/3,y:s-o},{x:i+5*a/6,y:s-o},{x:i+a,y:s},{x:i+5*a/6,y:s+o},{x:i+2*a/3,y:s+o}],n.label.x=n.x,n.label.y=n.y}})}function rg(t,e){return Gf(bh(t,e),Number)}function ig(t){var e={};return Z(t,function(n,r){e[r.toLowerCase()]=n}),e}function VZ(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:Pz(t),edges:Fz(t)};return Mt(t.graph())||(e.value=iC(t.graph())),e}function Pz(t){return ht(t.nodes(),function(e){var n=t.node(e),r=t.parent(e),i={v:e};return Mt(n)||(i.value=n),Mt(r)||(i.parent=r),i})}function Fz(t){return ht(t.edges(),function(e){var n=t.edge(e),r={v:e.v,w:e.w};return Mt(e.name)||(r.name=e.name),Mt(n)||(r.value=n),r})}var sh={exports:{}},ah={exports:{}},$z=ah.exports,q_;function Uz(){return q_||(q_=1,(function(t,e){(function(r,i){t.exports=i()})($z,function(){return(function(n){var r={};function i(s){if(r[s])return r[s].exports;var a=r[s]={i:s,l:!1,exports:{}};return n[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=n,i.c=r,i.i=function(s){return s},i.d=function(s,a,o){i.o(s,a)||Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:o})},i.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(a,"a",a),a},i.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},i.p="",i(i.s=26)})([(function(n,r,i){function s(){}s.QUALITY=1,s.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,s.DEFAULT_INCREMENTAL=!1,s.DEFAULT_ANIMATION_ON_LAYOUT=!0,s.DEFAULT_ANIMATION_DURING_LAYOUT=!1,s.DEFAULT_ANIMATION_PERIOD=50,s.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,s.DEFAULT_GRAPH_MARGIN=15,s.NODE_DIMENSIONS_INCLUDE_LABELS=!1,s.SIMPLE_NODE_SIZE=40,s.SIMPLE_NODE_HALF_SIZE=s.SIMPLE_NODE_SIZE/2,s.EMPTY_COMPOUND_NODE_SIZE=40,s.MIN_EDGE_LENGTH=1,s.WORLD_BOUNDARY=1e6,s.INITIAL_WORLD_BOUNDARY=s.WORLD_BOUNDARY/1e3,s.WORLD_CENTER_X=1200,s.WORLD_CENTER_Y=900,n.exports=s}),(function(n,r,i){var s=i(2),a=i(8),o=i(9);function u(l,h,d){s.call(this,d),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=d,this.bendpoints=[],this.source=l,this.target=h}u.prototype=Object.create(s.prototype);for(var c in s)u[c]=s[c];u.prototype.getSource=function(){return this.source},u.prototype.getTarget=function(){return this.target},u.prototype.isInterGraph=function(){return this.isInterGraph},u.prototype.getLength=function(){return this.length},u.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},u.prototype.getBendpoints=function(){return this.bendpoints},u.prototype.getLca=function(){return this.lca},u.prototype.getSourceInLca=function(){return this.sourceInLca},u.prototype.getTargetInLca=function(){return this.targetInLca},u.prototype.getOtherEnd=function(l){if(this.source===l)return this.target;if(this.target===l)return this.source;throw"Node is not incident with this edge"},u.prototype.getOtherEndInGraph=function(l,h){for(var d=this.getOtherEnd(l),f=h.getGraphManager().getRoot();;){if(d.getOwner()==h)return d;if(d.getOwner()==f)break;d=d.getOwner().getParent()}return null},u.prototype.updateLength=function(){var l=new Array(4);this.isOverlapingSourceAndTarget=a.getIntersection(this.target.getRect(),this.source.getRect(),l),this.isOverlapingSourceAndTarget||(this.lengthX=l[0]-l[2],this.lengthY=l[1]-l[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},u.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},n.exports=u}),(function(n,r,i){function s(a){this.vGraphObject=a}n.exports=s}),(function(n,r,i){var s=i(2),a=i(10),o=i(13),u=i(0),c=i(16),l=i(4);function h(f,p,g,m){g==null&&m==null&&(m=p),s.call(this,m),f.graphManager!=null&&(f=f.graphManager),this.estimatedSize=a.MIN_VALUE,this.inclusionTreeDepth=a.MAX_VALUE,this.vGraphObject=m,this.edges=[],this.graphManager=f,g!=null&&p!=null?this.rect=new o(p.x,p.y,g.width,g.height):this.rect=new o}h.prototype=Object.create(s.prototype);for(var d in s)h[d]=s[d];h.prototype.getEdges=function(){return this.edges},h.prototype.getChild=function(){return this.child},h.prototype.getOwner=function(){return this.owner},h.prototype.getWidth=function(){return this.rect.width},h.prototype.setWidth=function(f){this.rect.width=f},h.prototype.getHeight=function(){return this.rect.height},h.prototype.setHeight=function(f){this.rect.height=f},h.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},h.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},h.prototype.getCenter=function(){return new l(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},h.prototype.getLocation=function(){return new l(this.rect.x,this.rect.y)},h.prototype.getRect=function(){return this.rect},h.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},h.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},h.prototype.setRect=function(f,p){this.rect.x=f.x,this.rect.y=f.y,this.rect.width=p.width,this.rect.height=p.height},h.prototype.setCenter=function(f,p){this.rect.x=f-this.rect.width/2,this.rect.y=p-this.rect.height/2},h.prototype.setLocation=function(f,p){this.rect.x=f,this.rect.y=p},h.prototype.moveBy=function(f,p){this.rect.x+=f,this.rect.y+=p},h.prototype.getEdgeListToNode=function(f){var p=[],g=this;return g.edges.forEach(function(m){if(m.target==f){if(m.source!=g)throw"Incorrect edge source!";p.push(m)}}),p},h.prototype.getEdgesBetween=function(f){var p=[],g=this;return g.edges.forEach(function(m){if(!(m.source==g||m.target==g))throw"Incorrect edge source and/or target";(m.target==f||m.source==f)&&p.push(m)}),p},h.prototype.getNeighborsList=function(){var f=new Set,p=this;return p.edges.forEach(function(g){if(g.source==p)f.add(g.target);else{if(g.target!=p)throw"Incorrect incidency!";f.add(g.source)}}),f},h.prototype.withChildren=function(){var f=new Set,p,g;if(f.add(this),this.child!=null)for(var m=this.child.getNodes(),b=0;b<m.length;b++)p=m[b],g=p.withChildren(),g.forEach(function(v){f.add(v)});return f},h.prototype.getNoOfChildren=function(){var f=0,p;if(this.child==null)f=1;else for(var g=this.child.getNodes(),m=0;m<g.length;m++)p=g[m],f+=p.getNoOfChildren();return f==0&&(f=1),f},h.prototype.getEstimatedSize=function(){if(this.estimatedSize==a.MIN_VALUE)throw"assert failed";return this.estimatedSize},h.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},h.prototype.scatter=function(){var f,p,g=-u.INITIAL_WORLD_BOUNDARY,m=u.INITIAL_WORLD_BOUNDARY;f=u.WORLD_CENTER_X+c.nextDouble()*(m-g)+g;var b=-u.INITIAL_WORLD_BOUNDARY,v=u.INITIAL_WORLD_BOUNDARY;p=u.WORLD_CENTER_Y+c.nextDouble()*(v-b)+b,this.rect.x=f,this.rect.y=p},h.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var f=this.getChild();if(f.updateBounds(!0),this.rect.x=f.getLeft(),this.rect.y=f.getTop(),this.setWidth(f.getRight()-f.getLeft()),this.setHeight(f.getBottom()-f.getTop()),u.NODE_DIMENSIONS_INCLUDE_LABELS){var p=f.getRight()-f.getLeft(),g=f.getBottom()-f.getTop();this.labelWidth>p&&(this.rect.x-=(this.labelWidth-p)/2,this.setWidth(this.labelWidth)),this.labelHeight>g&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-g)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-g),this.setHeight(this.labelHeight))}}},h.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==a.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},h.prototype.transform=function(f){var p=this.rect.x;p>u.WORLD_BOUNDARY?p=u.WORLD_BOUNDARY:p<-u.WORLD_BOUNDARY&&(p=-u.WORLD_BOUNDARY);var g=this.rect.y;g>u.WORLD_BOUNDARY?g=u.WORLD_BOUNDARY:g<-u.WORLD_BOUNDARY&&(g=-u.WORLD_BOUNDARY);var m=new l(p,g),b=f.inverseTransformPoint(m);this.setLocation(b.x,b.y)},h.prototype.getLeft=function(){return this.rect.x},h.prototype.getRight=function(){return this.rect.x+this.rect.width},h.prototype.getTop=function(){return this.rect.y},h.prototype.getBottom=function(){return this.rect.y+this.rect.height},h.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},n.exports=h}),(function(n,r,i){function s(a,o){a==null&&o==null?(this.x=0,this.y=0):(this.x=a,this.y=o)}s.prototype.getX=function(){return this.x},s.prototype.getY=function(){return this.y},s.prototype.setX=function(a){this.x=a},s.prototype.setY=function(a){this.y=a},s.prototype.getDifference=function(a){return new DimensionD(this.x-a.x,this.y-a.y)},s.prototype.getCopy=function(){return new s(this.x,this.y)},s.prototype.translate=function(a){return this.x+=a.width,this.y+=a.height,this},n.exports=s}),(function(n,r,i){var s=i(2),a=i(10),o=i(0),u=i(6),c=i(3),l=i(1),h=i(13),d=i(12),f=i(11);function p(m,b,v){s.call(this,v),this.estimatedSize=a.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=m,b!=null&&b instanceof u?this.graphManager=b:b!=null&&b instanceof Layout&&(this.graphManager=b.graphManager)}p.prototype=Object.create(s.prototype);for(var g in s)p[g]=s[g];p.prototype.getNodes=function(){return this.nodes},p.prototype.getEdges=function(){return this.edges},p.prototype.getGraphManager=function(){return this.graphManager},p.prototype.getParent=function(){return this.parent},p.prototype.getLeft=function(){return this.left},p.prototype.getRight=function(){return this.right},p.prototype.getTop=function(){return this.top},p.prototype.getBottom=function(){return this.bottom},p.prototype.isConnected=function(){return this.isConnected},p.prototype.add=function(m,b,v){if(b==null&&v==null){var y=m;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(y)>-1)throw"Node already in graph!";return y.owner=this,this.getNodes().push(y),y}else{var _=m;if(!(this.getNodes().indexOf(b)>-1&&this.getNodes().indexOf(v)>-1))throw"Source or target not in graph!";if(!(b.owner==v.owner&&b.owner==this))throw"Both owners must be this graph!";return b.owner!=v.owner?null:(_.source=b,_.target=v,_.isInterGraph=!1,this.getEdges().push(_),b.edges.push(_),v!=b&&v.edges.push(_),_)}},p.prototype.remove=function(m){var b=m;if(m instanceof c){if(b==null)throw"Node is null!";if(!(b.owner!=null&&b.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var v=b.edges.slice(),y,_=v.length,w=0;w<_;w++)y=v[w],y.isInterGraph?this.graphManager.remove(y):y.source.owner.remove(y);var k=this.nodes.indexOf(b);if(k==-1)throw"Node not in owner node list!";this.nodes.splice(k,1)}else if(m instanceof l){var y=m;if(y==null)throw"Edge is null!";if(!(y.source!=null&&y.target!=null))throw"Source and/or target is null!";if(!(y.source.owner!=null&&y.target.owner!=null&&y.source.owner==this&&y.target.owner==this))throw"Source and/or target owner is invalid!";var x=y.source.edges.indexOf(y),T=y.target.edges.indexOf(y);if(!(x>-1&&T>-1))throw"Source and/or target doesn't know this edge!";y.source.edges.splice(x,1),y.target!=y.source&&y.target.edges.splice(T,1);var k=y.source.owner.getEdges().indexOf(y);if(k==-1)throw"Not in owner's edge list!";y.source.owner.getEdges().splice(k,1)}},p.prototype.updateLeftTop=function(){for(var m=a.MAX_VALUE,b=a.MAX_VALUE,v,y,_,w=this.getNodes(),k=w.length,x=0;x<k;x++){var T=w[x];v=T.getTop(),y=T.getLeft(),m>v&&(m=v),b>y&&(b=y)}return m==a.MAX_VALUE?null:(w[0].getParent().paddingLeft!=null?_=w[0].getParent().paddingLeft:_=this.margin,this.left=b-_,this.top=m-_,new d(this.left,this.top))},p.prototype.updateBounds=function(m){for(var b=a.MAX_VALUE,v=-a.MAX_VALUE,y=a.MAX_VALUE,_=-a.MAX_VALUE,w,k,x,T,O,I=this.nodes,M=I.length,R=0;R<M;R++){var L=I[R];m&&L.child!=null&&L.updateBounds(),w=L.getLeft(),k=L.getRight(),x=L.getTop(),T=L.getBottom(),b>w&&(b=w),v<k&&(v=k),y>x&&(y=x),_<T&&(_=T)}var E=new h(b,y,v-b,_-y);b==a.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),I[0].getParent().paddingLeft!=null?O=I[0].getParent().paddingLeft:O=this.margin,this.left=E.x-O,this.right=E.x+E.width+O,this.top=E.y-O,this.bottom=E.y+E.height+O},p.calculateBounds=function(m){for(var b=a.MAX_VALUE,v=-a.MAX_VALUE,y=a.MAX_VALUE,_=-a.MAX_VALUE,w,k,x,T,O=m.length,I=0;I<O;I++){var M=m[I];w=M.getLeft(),k=M.getRight(),x=M.getTop(),T=M.getBottom(),b>w&&(b=w),v<k&&(v=k),y>x&&(y=x),_<T&&(_=T)}var R=new h(b,y,v-b,_-y);return R},p.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==a.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){for(var m=0,b=this.nodes,v=b.length,y=0;y<v;y++){var _=b[y];m+=_.calcEstimatedSize()}return m==0?this.estimatedSize=o.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=m/Math.sqrt(this.nodes.length),this.estimatedSize},p.prototype.updateConnected=function(){var m=this;if(this.nodes.length==0){this.isConnected=!0;return}var b=new f,v=new Set,y=this.nodes[0],_,w,k=y.withChildren();for(k.forEach(function(R){b.push(R),v.add(R)});b.length!==0;){y=b.shift(),_=y.getEdges();for(var x=_.length,T=0;T<x;T++){var O=_[T];if(w=O.getOtherEndInGraph(y,this),w!=null&&!v.has(w)){var I=w.withChildren();I.forEach(function(R){b.push(R),v.add(R)})}}}if(this.isConnected=!1,v.size>=this.nodes.length){var M=0;v.forEach(function(R){R.owner==m&&M++}),M==this.nodes.length&&(this.isConnected=!0)}},n.exports=p}),(function(n,r,i){var s,a=i(1);function o(u){s=i(5),this.layout=u,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var u=this.layout.newGraph(),c=this.layout.newNode(null),l=this.add(u,c);return this.setRootGraph(l),this.rootGraph},o.prototype.add=function(u,c,l,h,d){if(l==null&&h==null&&d==null){if(u==null)throw"Graph is null!";if(c==null)throw"Parent node is null!";if(this.graphs.indexOf(u)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(u),u.parent!=null)throw"Already has a parent!";if(c.child!=null)throw"Already has a child!";return u.parent=c,c.child=u,u}else{d=l,h=c,l=u;var f=h.getOwner(),p=d.getOwner();if(!(f!=null&&f.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(p!=null&&p.getGraphManager()==this))throw"Target not in this graph mgr!";if(f==p)return l.isInterGraph=!1,f.add(l,h,d);if(l.isInterGraph=!0,l.source=h,l.target=d,this.edges.indexOf(l)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(l),!(l.source!=null&&l.target!=null))throw"Edge source and/or target is null!";if(!(l.source.edges.indexOf(l)==-1&&l.target.edges.indexOf(l)==-1))throw"Edge already in source and/or target incidency list!";return l.source.edges.push(l),l.target.edges.push(l),l}},o.prototype.remove=function(u){if(u instanceof s){var c=u;if(c.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(c==this.rootGraph||c.parent!=null&&c.parent.graphManager==this))throw"Invalid parent node!";var l=[];l=l.concat(c.getEdges());for(var h,d=l.length,f=0;f<d;f++)h=l[f],c.remove(h);var p=[];p=p.concat(c.getNodes());var g;d=p.length;for(var f=0;f<d;f++)g=p[f],c.remove(g);c==this.rootGraph&&this.setRootGraph(null);var m=this.graphs.indexOf(c);this.graphs.splice(m,1),c.parent=null}else if(u instanceof a){if(h=u,h==null)throw"Edge is null!";if(!h.isInterGraph)throw"Not an inter-graph edge!";if(!(h.source!=null&&h.target!=null))throw"Source and/or target is null!";if(!(h.source.edges.indexOf(h)!=-1&&h.target.edges.indexOf(h)!=-1))throw"Source and/or target doesn't know this edge!";var m=h.source.edges.indexOf(h);if(h.source.edges.splice(m,1),m=h.target.edges.indexOf(h),h.target.edges.splice(m,1),!(h.source.owner!=null&&h.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(h.source.owner.getGraphManager().edges.indexOf(h)==-1)throw"Not in owner graph manager's edge list!";var m=h.source.owner.getGraphManager().edges.indexOf(h);h.source.owner.getGraphManager().edges.splice(m,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var u=[],c=this.getGraphs(),l=c.length,h=0;h<l;h++)u=u.concat(c[h].getNodes());this.allNodes=u}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){var u=[],c=this.getGraphs();c.length;for(var l=0;l<c.length;l++)u=u.concat(c[l].getEdges());u=u.concat(this.edges),this.allEdges=u}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(u){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=u},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(u){if(u.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=u,u.parent==null&&(u.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(u,c){if(!(u!=null&&c!=null))throw"assert failed";if(u==c)return!0;var l=u.getOwner(),h;do{if(h=l.getParent(),h==null)break;if(h==c)return!0;if(l=h.getOwner(),l==null)break}while(!0);l=c.getOwner();do{if(h=l.getParent(),h==null)break;if(h==u)return!0;if(l=h.getOwner(),l==null)break}while(!0);return!1},o.prototype.calcLowestCommonAncestors=function(){for(var u,c,l,h,d,f=this.getAllEdges(),p=f.length,g=0;g<p;g++){if(u=f[g],c=u.source,l=u.target,u.lca=null,u.sourceInLca=c,u.targetInLca=l,c==l){u.lca=c.getOwner();continue}for(h=c.getOwner();u.lca==null;){for(u.targetInLca=l,d=l.getOwner();u.lca==null;){if(d==h){u.lca=d;break}if(d==this.rootGraph)break;if(u.lca!=null)throw"assert failed";u.targetInLca=d.getParent(),d=u.targetInLca.getOwner()}if(h==this.rootGraph)break;u.lca==null&&(u.sourceInLca=h.getParent(),h=u.sourceInLca.getOwner())}if(u.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(u,c){if(u==c)return u.getOwner();var l=u.getOwner();do{if(l==null)break;var h=c.getOwner();do{if(h==null)break;if(h==l)return h;h=h.getParent().getOwner()}while(!0);l=l.getParent().getOwner()}while(!0);return l},o.prototype.calcInclusionTreeDepths=function(u,c){u==null&&c==null&&(u=this.rootGraph,c=1);for(var l,h=u.getNodes(),d=h.length,f=0;f<d;f++)l=h[f],l.inclusionTreeDepth=c,l.child!=null&&this.calcInclusionTreeDepths(l.child,c+1)},o.prototype.includesInvalidEdge=function(){for(var u,c=this.edges.length,l=0;l<c;l++)if(u=this.edges[l],this.isOneAncestorOfOther(u.source,u.target))return!0;return!1},n.exports=o}),(function(n,r,i){var s=i(0);function a(){}for(var o in s)a[o]=s[o];a.MAX_ITERATIONS=2500,a.DEFAULT_EDGE_LENGTH=50,a.DEFAULT_SPRING_STRENGTH=.45,a.DEFAULT_REPULSION_STRENGTH=4500,a.DEFAULT_GRAVITY_STRENGTH=.4,a.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,a.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,a.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,a.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,a.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,a.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,a.COOLING_ADAPTATION_FACTOR=.33,a.ADAPTATION_LOWER_NODE_LIMIT=1e3,a.ADAPTATION_UPPER_NODE_LIMIT=5e3,a.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,a.MAX_NODE_DISPLACEMENT=a.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,a.MIN_REPULSION_DIST=a.DEFAULT_EDGE_LENGTH/10,a.CONVERGENCE_CHECK_PERIOD=100,a.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,a.MIN_EDGE_LENGTH=1,a.GRID_CALCULATION_CHECK_PERIOD=10,n.exports=a}),(function(n,r,i){var s=i(12);function a(){}a.calcSeparationAmount=function(o,u,c,l){if(!o.intersects(u))throw"assert failed";var h=new Array(2);this.decideDirectionsForOverlappingNodes(o,u,h),c[0]=Math.min(o.getRight(),u.getRight())-Math.max(o.x,u.x),c[1]=Math.min(o.getBottom(),u.getBottom())-Math.max(o.y,u.y),o.getX()<=u.getX()&&o.getRight()>=u.getRight()?c[0]+=Math.min(u.getX()-o.getX(),o.getRight()-u.getRight()):u.getX()<=o.getX()&&u.getRight()>=o.getRight()&&(c[0]+=Math.min(o.getX()-u.getX(),u.getRight()-o.getRight())),o.getY()<=u.getY()&&o.getBottom()>=u.getBottom()?c[1]+=Math.min(u.getY()-o.getY(),o.getBottom()-u.getBottom()):u.getY()<=o.getY()&&u.getBottom()>=o.getBottom()&&(c[1]+=Math.min(o.getY()-u.getY(),u.getBottom()-o.getBottom()));var d=Math.abs((u.getCenterY()-o.getCenterY())/(u.getCenterX()-o.getCenterX()));u.getCenterY()===o.getCenterY()&&u.getCenterX()===o.getCenterX()&&(d=1);var f=d*c[0],p=c[1]/d;c[0]<p?p=c[0]:f=c[1],c[0]=-1*h[0]*(p/2+l),c[1]=-1*h[1]*(f/2+l)},a.decideDirectionsForOverlappingNodes=function(o,u,c){o.getCenterX()<u.getCenterX()?c[0]=-1:c[0]=1,o.getCenterY()<u.getCenterY()?c[1]=-1:c[1]=1},a.getIntersection2=function(o,u,c){var l=o.getCenterX(),h=o.getCenterY(),d=u.getCenterX(),f=u.getCenterY();if(o.intersects(u))return c[0]=l,c[1]=h,c[2]=d,c[3]=f,!0;var p=o.getX(),g=o.getY(),m=o.getRight(),b=o.getX(),v=o.getBottom(),y=o.getRight(),_=o.getWidthHalf(),w=o.getHeightHalf(),k=u.getX(),x=u.getY(),T=u.getRight(),O=u.getX(),I=u.getBottom(),M=u.getRight(),R=u.getWidthHalf(),L=u.getHeightHalf(),E=!1,A=!1;if(l===d){if(h>f)return c[0]=l,c[1]=g,c[2]=d,c[3]=I,!1;if(h<f)return c[0]=l,c[1]=v,c[2]=d,c[3]=x,!1}else if(h===f){if(l>d)return c[0]=p,c[1]=h,c[2]=T,c[3]=f,!1;if(l<d)return c[0]=m,c[1]=h,c[2]=k,c[3]=f,!1}else{var N=o.height/o.width,C=u.height/u.width,S=(f-h)/(d-l),D=void 0,P=void 0,U=void 0,Y=void 0,H=void 0,ee=void 0;if(-N===S?l>d?(c[0]=b,c[1]=v,E=!0):(c[0]=m,c[1]=g,E=!0):N===S&&(l>d?(c[0]=p,c[1]=g,E=!0):(c[0]=y,c[1]=v,E=!0)),-C===S?d>l?(c[2]=O,c[3]=I,A=!0):(c[2]=T,c[3]=x,A=!0):C===S&&(d>l?(c[2]=k,c[3]=x,A=!0):(c[2]=M,c[3]=I,A=!0)),E&&A)return!1;if(l>d?h>f?(D=this.getCardinalDirection(N,S,4),P=this.getCardinalDirection(C,S,2)):(D=this.getCardinalDirection(-N,S,3),P=this.getCardinalDirection(-C,S,1)):h>f?(D=this.getCardinalDirection(-N,S,1),P=this.getCardinalDirection(-C,S,3)):(D=this.getCardinalDirection(N,S,2),P=this.getCardinalDirection(C,S,4)),!E)switch(D){case 1:Y=g,U=l+-w/S,c[0]=U,c[1]=Y;break;case 2:U=y,Y=h+_*S,c[0]=U,c[1]=Y;break;case 3:Y=v,U=l+w/S,c[0]=U,c[1]=Y;break;case 4:U=b,Y=h+-_*S,c[0]=U,c[1]=Y;break}if(!A)switch(P){case 1:ee=x,H=d+-L/S,c[2]=H,c[3]=ee;break;case 2:H=M,ee=f+R*S,c[2]=H,c[3]=ee;break;case 3:ee=I,H=d+L/S,c[2]=H,c[3]=ee;break;case 4:H=O,ee=f+-R*S,c[2]=H,c[3]=ee;break}}return!1},a.getCardinalDirection=function(o,u,c){return o>u?c:1+c%4},a.getIntersection=function(o,u,c,l){if(l==null)return this.getIntersection2(o,u,c);var h=o.x,d=o.y,f=u.x,p=u.y,g=c.x,m=c.y,b=l.x,v=l.y,y=void 0,_=void 0,w=void 0,k=void 0,x=void 0,T=void 0,O=void 0,I=void 0,M=void 0;return w=p-d,x=h-f,O=f*d-h*p,k=v-m,T=g-b,I=b*m-g*v,M=w*T-k*x,M===0?null:(y=(x*I-T*O)/M,_=(k*O-w*I)/M,new s(y,_))},a.angleOfVector=function(o,u,c,l){var h=void 0;return o!==c?(h=Math.atan((l-u)/(c-o)),c<o?h+=Math.PI:l<u&&(h+=this.TWO_PI)):l<u?h=this.ONE_AND_HALF_PI:h=this.HALF_PI,h},a.doIntersect=function(o,u,c,l){var h=o.x,d=o.y,f=u.x,p=u.y,g=c.x,m=c.y,b=l.x,v=l.y,y=(f-h)*(v-m)-(b-g)*(p-d);if(y===0)return!1;var _=((v-m)*(b-h)+(g-b)*(v-d))/y,w=((d-p)*(b-h)+(f-h)*(v-d))/y;return 0<_&&_<1&&0<w&&w<1},a.HALF_PI=.5*Math.PI,a.ONE_AND_HALF_PI=1.5*Math.PI,a.TWO_PI=2*Math.PI,a.THREE_PI=3*Math.PI,n.exports=a}),(function(n,r,i){function s(){}s.sign=function(a){return a>0?1:a<0?-1:0},s.floor=function(a){return a<0?Math.ceil(a):Math.floor(a)},s.ceil=function(a){return a<0?Math.floor(a):Math.ceil(a)},n.exports=s}),(function(n,r,i){function s(){}s.MAX_VALUE=2147483647,s.MIN_VALUE=-2147483648,n.exports=s}),(function(n,r,i){var s=(function(){function h(d,f){for(var p=0;p<f.length;p++){var g=f[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return function(d,f,p){return f&&h(d.prototype,f),p&&h(d,p),d}})();function a(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function(d){return{value:d,next:null,prev:null}},u=function(d,f,p,g){return d!==null?d.next=f:g.head=f,p!==null?p.prev=f:g.tail=f,f.prev=d,f.next=p,g.length++,f},c=function(d,f){var p=d.prev,g=d.next;return p!==null?p.next=g:f.head=g,g!==null?g.prev=p:f.tail=p,d.prev=d.next=null,f.length--,d},l=(function(){function h(d){var f=this;a(this,h),this.length=0,this.head=null,this.tail=null,d!=null&&d.forEach(function(p){return f.push(p)})}return s(h,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(f,p){return u(p.prev,o(f),p,this)}},{key:"insertAfter",value:function(f,p){return u(p,o(f),p.next,this)}},{key:"insertNodeBefore",value:function(f,p){return u(p.prev,f,p,this)}},{key:"insertNodeAfter",value:function(f,p){return u(p,f,p.next,this)}},{key:"push",value:function(f){return u(this.tail,o(f),null,this)}},{key:"unshift",value:function(f){return u(null,o(f),this.head,this)}},{key:"remove",value:function(f){return c(f,this)}},{key:"pop",value:function(){return c(this.tail,this).value}},{key:"popNode",value:function(){return c(this.tail,this)}},{key:"shift",value:function(){return c(this.head,this).value}},{key:"shiftNode",value:function(){return c(this.head,this)}},{key:"get_object_at",value:function(f){if(f<=this.length()){for(var p=1,g=this.head;p<f;)g=g.next,p++;return g.value}}},{key:"set_object_at",value:function(f,p){if(f<=this.length()){for(var g=1,m=this.head;g<f;)m=m.next,g++;m.value=p}}}]),h})();n.exports=l}),(function(n,r,i){function s(a,o,u){this.x=null,this.y=null,a==null&&o==null&&u==null?(this.x=0,this.y=0):typeof a=="number"&&typeof o=="number"&&u==null?(this.x=a,this.y=o):a.constructor.name=="Point"&&o==null&&u==null&&(u=a,this.x=u.x,this.y=u.y)}s.prototype.getX=function(){return this.x},s.prototype.getY=function(){return this.y},s.prototype.getLocation=function(){return new s(this.x,this.y)},s.prototype.setLocation=function(a,o,u){a.constructor.name=="Point"&&o==null&&u==null?(u=a,this.setLocation(u.x,u.y)):typeof a=="number"&&typeof o=="number"&&u==null&&(parseInt(a)==a&&parseInt(o)==o?this.move(a,o):(this.x=Math.floor(a+.5),this.y=Math.floor(o+.5)))},s.prototype.move=function(a,o){this.x=a,this.y=o},s.prototype.translate=function(a,o){this.x+=a,this.y+=o},s.prototype.equals=function(a){if(a.constructor.name=="Point"){var o=a;return this.x==o.x&&this.y==o.y}return this==a},s.prototype.toString=function(){return new s().constructor.name+"[x="+this.x+",y="+this.y+"]"},n.exports=s}),(function(n,r,i){function s(a,o,u,c){this.x=0,this.y=0,this.width=0,this.height=0,a!=null&&o!=null&&u!=null&&c!=null&&(this.x=a,this.y=o,this.width=u,this.height=c)}s.prototype.getX=function(){return this.x},s.prototype.setX=function(a){this.x=a},s.prototype.getY=function(){return this.y},s.prototype.setY=function(a){this.y=a},s.prototype.getWidth=function(){return this.width},s.prototype.setWidth=function(a){this.width=a},s.prototype.getHeight=function(){return this.height},s.prototype.setHeight=function(a){this.height=a},s.prototype.getRight=function(){return this.x+this.width},s.prototype.getBottom=function(){return this.y+this.height},s.prototype.intersects=function(a){return!(this.getRight()<a.x||this.getBottom()<a.y||a.getRight()<this.x||a.getBottom()<this.y)},s.prototype.getCenterX=function(){return this.x+this.width/2},s.prototype.getMinX=function(){return this.getX()},s.prototype.getMaxX=function(){return this.getX()+this.width},s.prototype.getCenterY=function(){return this.y+this.height/2},s.prototype.getMinY=function(){return this.getY()},s.prototype.getMaxY=function(){return this.getY()+this.height},s.prototype.getWidthHalf=function(){return this.width/2},s.prototype.getHeightHalf=function(){return this.height/2},n.exports=s}),(function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function a(){}a.lastID=0,a.createID=function(o){return a.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=a.getString(),a.lastID++),o.uniqueID)},a.getString=function(o){return o==null&&(o=a.lastID),"Object#"+o},a.isPrimitive=function(o){var u=typeof o>"u"?"undefined":s(o);return o==null||u!="object"&&u!="function"},n.exports=a}),(function(n,r,i){function s(g){if(Array.isArray(g)){for(var m=0,b=Array(g.length);m<g.length;m++)b[m]=g[m];return b}else return Array.from(g)}var a=i(0),o=i(6),u=i(3),c=i(1),l=i(5),h=i(4),d=i(17),f=i(27);function p(g){f.call(this),this.layoutQuality=a.QUALITY,this.createBendsAsNeeded=a.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=a.DEFAULT_INCREMENTAL,this.animationOnLayout=a.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=a.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=a.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=a.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,g!=null&&(this.isRemoteUse=g)}p.RANDOM_SEED=1,p.prototype=Object.create(f.prototype),p.prototype.getGraphManager=function(){return this.graphManager},p.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},p.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},p.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},p.prototype.newGraphManager=function(){var g=new o(this);return this.graphManager=g,g},p.prototype.newGraph=function(g){return new l(null,this.graphManager,g)},p.prototype.newNode=function(g){return new u(this.graphManager,g)},p.prototype.newEdge=function(g){return new c(null,null,g)},p.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},p.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var g;return this.checkLayoutSuccess()?g=!1:g=this.layout(),a.ANIMATE==="during"?!1:(g&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,g)},p.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},p.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var g=this.graphManager.getAllEdges(),m=0;m<g.length;m++)g[m];for(var b=this.graphManager.getRoot().getNodes(),m=0;m<b.length;m++)b[m];this.update(this.graphManager.getRoot())}},p.prototype.update=function(g){if(g==null)this.update2();else if(g instanceof u){var m=g;if(m.getChild()!=null)for(var b=m.getChild().getNodes(),v=0;v<b.length;v++)update(b[v]);if(m.vGraphObject!=null){var y=m.vGraphObject;y.update(m)}}else if(g instanceof c){var _=g;if(_.vGraphObject!=null){var w=_.vGraphObject;w.update(_)}}else if(g instanceof l){var k=g;if(k.vGraphObject!=null){var x=k.vGraphObject;x.update(k)}}},p.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=a.QUALITY,this.animationDuringLayout=a.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=a.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=a.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=a.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=a.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=a.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},p.prototype.transform=function(g){if(g==null)this.transform(new h(0,0));else{var m=new d,b=this.graphManager.getRoot().updateLeftTop();if(b!=null){m.setWorldOrgX(g.x),m.setWorldOrgY(g.y),m.setDeviceOrgX(b.x),m.setDeviceOrgY(b.y);for(var v=this.getAllNodes(),y,_=0;_<v.length;_++)y=v[_],y.transform(m)}}},p.prototype.positionNodesRandomly=function(g){if(g==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var m,b,v=g.getNodes(),y=0;y<v.length;y++)m=v[y],b=m.getChild(),b==null||b.getNodes().length==0?m.scatter():(this.positionNodesRandomly(b),m.updateBounds())},p.prototype.getFlatForest=function(){for(var g=[],m=!0,b=this.graphManager.getRoot().getNodes(),v=!0,y=0;y<b.length;y++)b[y].getChild()!=null&&(v=!1);if(!v)return g;var _=new Set,w=[],k=new Map,x=[];for(x=x.concat(b);x.length>0&&m;){for(w.push(x[0]);w.length>0&&m;){var T=w[0];w.splice(0,1),_.add(T);for(var O=T.getEdges(),y=0;y<O.length;y++){var I=O[y].getOtherEnd(T);if(k.get(T)!=I)if(!_.has(I))w.push(I),k.set(I,T);else{m=!1;break}}}if(!m)g=[];else{var M=[].concat(s(_));g.push(M);for(var y=0;y<M.length;y++){var R=M[y],L=x.indexOf(R);L>-1&&x.splice(L,1)}_=new Set,k=new Map}}return g},p.prototype.createDummyNodesForBendpoints=function(g){for(var m=[],b=g.source,v=this.graphManager.calcLowestCommonAncestor(g.source,g.target),y=0;y<g.bendpoints.length;y++){var _=this.newNode(null);_.setRect(new Point(0,0),new Dimension(1,1)),v.add(_);var w=this.newEdge(null);this.graphManager.add(w,b,_),m.add(_),b=_}var w=this.newEdge(null);return this.graphManager.add(w,b,g.target),this.edgeToDummyNodes.set(g,m),g.isInterGraph()?this.graphManager.remove(g):v.remove(g),m},p.prototype.createBendpointsFromDummyNodes=function(){var g=[];g=g.concat(this.graphManager.getAllEdges()),g=[].concat(s(this.edgeToDummyNodes.keys())).concat(g);for(var m=0;m<g.length;m++){var b=g[m];if(b.bendpoints.length>0){for(var v=this.edgeToDummyNodes.get(b),y=0;y<v.length;y++){var _=v[y],w=new h(_.getCenterX(),_.getCenterY()),k=b.bendpoints.get(y);k.x=w.x,k.y=w.y,_.getOwner().remove(_)}this.graphManager.add(b,b.source,b.target)}}},p.transform=function(g,m,b,v){if(b!=null&&v!=null){var y=m;if(g<=50){var _=m/b;y-=(m-_)/50*(50-g)}else{var w=m*v;y+=(w-m)/50*(g-50)}return y}else{var k,x;return g<=50?(k=9*m/500,x=m/10):(k=9*m/50,x=-8*m),k*g+x}},p.findCenterOfTree=function(g){var m=[];m=m.concat(g);var b=[],v=new Map,y=!1,_=null;(m.length==1||m.length==2)&&(y=!0,_=m[0]);for(var w=0;w<m.length;w++){var k=m[w],x=k.getNeighborsList().size;v.set(k,k.getNeighborsList().size),x==1&&b.push(k)}var T=[];for(T=T.concat(b);!y;){var O=[];O=O.concat(T),T=[];for(var w=0;w<m.length;w++){var k=m[w],I=m.indexOf(k);I>=0&&m.splice(I,1);var M=k.getNeighborsList();M.forEach(function(E){if(b.indexOf(E)<0){var A=v.get(E),N=A-1;N==1&&T.push(E),v.set(E,N)}})}b=b.concat(T),(m.length==1||m.length==2)&&(y=!0,_=m[0])}return _},p.prototype.setGraphManager=function(g){this.graphManager=g},n.exports=p}),(function(n,r,i){function s(){}s.seed=1,s.x=0,s.nextDouble=function(){return s.x=Math.sin(s.seed++)*1e4,s.x-Math.floor(s.x)},n.exports=s}),(function(n,r,i){var s=i(4);function a(o,u){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}a.prototype.getWorldOrgX=function(){return this.lworldOrgX},a.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},a.prototype.getWorldOrgY=function(){return this.lworldOrgY},a.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},a.prototype.getWorldExtX=function(){return this.lworldExtX},a.prototype.setWorldExtX=function(o){this.lworldExtX=o},a.prototype.getWorldExtY=function(){return this.lworldExtY},a.prototype.setWorldExtY=function(o){this.lworldExtY=o},a.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},a.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},a.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},a.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},a.prototype.getDeviceExtX=function(){return this.ldeviceExtX},a.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},a.prototype.getDeviceExtY=function(){return this.ldeviceExtY},a.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},a.prototype.transformX=function(o){var u=0,c=this.lworldExtX;return c!=0&&(u=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/c),u},a.prototype.transformY=function(o){var u=0,c=this.lworldExtY;return c!=0&&(u=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/c),u},a.prototype.inverseTransformX=function(o){var u=0,c=this.ldeviceExtX;return c!=0&&(u=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/c),u},a.prototype.inverseTransformY=function(o){var u=0,c=this.ldeviceExtY;return c!=0&&(u=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/c),u},a.prototype.inverseTransformPoint=function(o){var u=new s(this.inverseTransformX(o.x),this.inverseTransformY(o.y));return u},n.exports=a}),(function(n,r,i){function s(f){if(Array.isArray(f)){for(var p=0,g=Array(f.length);p<f.length;p++)g[p]=f[p];return g}else return Array.from(f)}var a=i(15),o=i(7),u=i(0),c=i(8),l=i(9);function h(){a.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=o.DEFAULT_EDGE_LENGTH,this.springConstant=o.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=o.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}h.prototype=Object.create(a.prototype);for(var d in a)h[d]=a[d];h.prototype.initParameters=function(){a.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},h.prototype.calcIdealEdgeLengths=function(){for(var f,p,g,m,b,v,y=this.getGraphManager().getAllEdges(),_=0;_<y.length;_++)f=y[_],f.idealLength=this.idealEdgeLength,f.isInterGraph&&(g=f.getSource(),m=f.getTarget(),b=f.getSourceInLca().getEstimatedSize(),v=f.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(f.idealLength+=b+v-2*u.SIMPLE_NODE_SIZE),p=f.getLca().getInclusionTreeDepth(),f.idealLength+=o.DEFAULT_EDGE_LENGTH*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(g.getInclusionTreeDepth()+m.getInclusionTreeDepth()-2*p))},h.prototype.initSpringEmbedder=function(){var f=this.getAllNodes().length;this.incremental?(f>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(f>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},h.prototype.calcSpringForces=function(){for(var f=this.getAllEdges(),p,g=0;g<f.length;g++)p=f[g],this.calcSpringForce(p,p.idealLength)},h.prototype.calcRepulsionForces=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g,m,b,v,y=this.getAllNodes(),_;if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&f&&this.updateGrid(),_=new Set,g=0;g<y.length;g++)b=y[g],this.calculateRepulsionForceOfANode(b,_,f,p),_.add(b);else for(g=0;g<y.length;g++)for(b=y[g],m=g+1;m<y.length;m++)v=y[m],b.getOwner()==v.getOwner()&&this.calcRepulsionForce(b,v)},h.prototype.calcGravitationalForces=function(){for(var f,p=this.getAllNodesToApplyGravitation(),g=0;g<p.length;g++)f=p[g],this.calcGravitationalForce(f)},h.prototype.moveNodes=function(){for(var f=this.getAllNodes(),p,g=0;g<f.length;g++)p=f[g],p.move()},h.prototype.calcSpringForce=function(f,p){var g=f.getSource(),m=f.getTarget(),b,v,y,_;if(this.uniformLeafNodeSizes&&g.getChild()==null&&m.getChild()==null)f.updateLengthSimple();else if(f.updateLength(),f.isOverlapingSourceAndTarget)return;b=f.getLength(),b!=0&&(v=this.springConstant*(b-p),y=v*(f.lengthX/b),_=v*(f.lengthY/b),g.springForceX+=y,g.springForceY+=_,m.springForceX-=y,m.springForceY-=_)},h.prototype.calcRepulsionForce=function(f,p){var g=f.getRect(),m=p.getRect(),b=new Array(2),v=new Array(4),y,_,w,k,x,T,O;if(g.intersects(m)){c.calcSeparationAmount(g,m,b,o.DEFAULT_EDGE_LENGTH/2),T=2*b[0],O=2*b[1];var I=f.noOfChildren*p.noOfChildren/(f.noOfChildren+p.noOfChildren);f.repulsionForceX-=I*T,f.repulsionForceY-=I*O,p.repulsionForceX+=I*T,p.repulsionForceY+=I*O}else this.uniformLeafNodeSizes&&f.getChild()==null&&p.getChild()==null?(y=m.getCenterX()-g.getCenterX(),_=m.getCenterY()-g.getCenterY()):(c.getIntersection(g,m,v),y=v[2]-v[0],_=v[3]-v[1]),Math.abs(y)<o.MIN_REPULSION_DIST&&(y=l.sign(y)*o.MIN_REPULSION_DIST),Math.abs(_)<o.MIN_REPULSION_DIST&&(_=l.sign(_)*o.MIN_REPULSION_DIST),w=y*y+_*_,k=Math.sqrt(w),x=this.repulsionConstant*f.noOfChildren*p.noOfChildren/w,T=x*y/k,O=x*_/k,f.repulsionForceX-=T,f.repulsionForceY-=O,p.repulsionForceX+=T,p.repulsionForceY+=O},h.prototype.calcGravitationalForce=function(f){var p,g,m,b,v,y,_,w;p=f.getOwner(),g=(p.getRight()+p.getLeft())/2,m=(p.getTop()+p.getBottom())/2,b=f.getCenterX()-g,v=f.getCenterY()-m,y=Math.abs(b)+f.getWidth()/2,_=Math.abs(v)+f.getHeight()/2,f.getOwner()==this.graphManager.getRoot()?(w=p.getEstimatedSize()*this.gravityRangeFactor,(y>w||_>w)&&(f.gravitationForceX=-this.gravityConstant*b,f.gravitationForceY=-this.gravityConstant*v)):(w=p.getEstimatedSize()*this.compoundGravityRangeFactor,(y>w||_>w)&&(f.gravitationForceX=-this.gravityConstant*b*this.compoundGravityConstant,f.gravitationForceY=-this.gravityConstant*v*this.compoundGravityConstant))},h.prototype.isConverged=function(){var f,p=!1;return this.totalIterations>this.maxIterations/3&&(p=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),f=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,f||p},h.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},h.prototype.calcNoOfChildrenForAllNodes=function(){for(var f,p=this.graphManager.getAllNodes(),g=0;g<p.length;g++)f=p[g],f.noOfChildren=f.getNoOfChildren()},h.prototype.calcGrid=function(f){var p=0,g=0;p=parseInt(Math.ceil((f.getRight()-f.getLeft())/this.repulsionRange)),g=parseInt(Math.ceil((f.getBottom()-f.getTop())/this.repulsionRange));for(var m=new Array(p),b=0;b<p;b++)m[b]=new Array(g);for(var b=0;b<p;b++)for(var v=0;v<g;v++)m[b][v]=new Array;return m},h.prototype.addNodeToGrid=function(f,p,g){var m=0,b=0,v=0,y=0;m=parseInt(Math.floor((f.getRect().x-p)/this.repulsionRange)),b=parseInt(Math.floor((f.getRect().width+f.getRect().x-p)/this.repulsionRange)),v=parseInt(Math.floor((f.getRect().y-g)/this.repulsionRange)),y=parseInt(Math.floor((f.getRect().height+f.getRect().y-g)/this.repulsionRange));for(var _=m;_<=b;_++)for(var w=v;w<=y;w++)this.grid[_][w].push(f),f.setGridCoordinates(m,b,v,y)},h.prototype.updateGrid=function(){var f,p,g=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),f=0;f<g.length;f++)p=g[f],this.addNodeToGrid(p,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},h.prototype.calculateRepulsionForceOfANode=function(f,p,g,m){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&g||m){var b=new Set;f.surrounding=new Array;for(var v,y=this.grid,_=f.startX-1;_<f.finishX+2;_++)for(var w=f.startY-1;w<f.finishY+2;w++)if(!(_<0||w<0||_>=y.length||w>=y[0].length)){for(var k=0;k<y[_][w].length;k++)if(v=y[_][w][k],!(f.getOwner()!=v.getOwner()||f==v)&&!p.has(v)&&!b.has(v)){var x=Math.abs(f.getCenterX()-v.getCenterX())-(f.getWidth()/2+v.getWidth()/2),T=Math.abs(f.getCenterY()-v.getCenterY())-(f.getHeight()/2+v.getHeight()/2);x<=this.repulsionRange&&T<=this.repulsionRange&&b.add(v)}}f.surrounding=[].concat(s(b))}for(_=0;_<f.surrounding.length;_++)this.calcRepulsionForce(f,f.surrounding[_])},h.prototype.calcRepulsionRange=function(){return 0},n.exports=h}),(function(n,r,i){var s=i(1),a=i(7);function o(c,l,h){s.call(this,c,l,h),this.idealLength=a.DEFAULT_EDGE_LENGTH}o.prototype=Object.create(s.prototype);for(var u in s)o[u]=s[u];n.exports=o}),(function(n,r,i){var s=i(3);function a(u,c,l,h){s.call(this,u,c,l,h),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}a.prototype=Object.create(s.prototype);for(var o in s)a[o]=s[o];a.prototype.setGridCoordinates=function(u,c,l,h){this.startX=u,this.finishX=c,this.startY=l,this.finishY=h},n.exports=a}),(function(n,r,i){function s(a,o){this.width=0,this.height=0,a!==null&&o!==null&&(this.height=o,this.width=a)}s.prototype.getWidth=function(){return this.width},s.prototype.setWidth=function(a){this.width=a},s.prototype.getHeight=function(){return this.height},s.prototype.setHeight=function(a){this.height=a},n.exports=s}),(function(n,r,i){var s=i(14);function a(){this.map={},this.keys=[]}a.prototype.put=function(o,u){var c=s.createID(o);this.contains(c)||(this.map[c]=u,this.keys.push(o))},a.prototype.contains=function(o){return s.createID(o),this.map[o]!=null},a.prototype.get=function(o){var u=s.createID(o);return this.map[u]},a.prototype.keySet=function(){return this.keys},n.exports=a}),(function(n,r,i){var s=i(14);function a(){this.set={}}a.prototype.add=function(o){var u=s.createID(o);this.contains(u)||(this.set[u]=o)},a.prototype.remove=function(o){delete this.set[s.createID(o)]},a.prototype.clear=function(){this.set={}},a.prototype.contains=function(o){return this.set[s.createID(o)]==o},a.prototype.isEmpty=function(){return this.size()===0},a.prototype.size=function(){return Object.keys(this.set).length},a.prototype.addAllTo=function(o){for(var u=Object.keys(this.set),c=u.length,l=0;l<c;l++)o.push(this.set[u[l]])},a.prototype.size=function(){return Object.keys(this.set).length},a.prototype.addAll=function(o){for(var u=o.length,c=0;c<u;c++){var l=o[c];this.add(l)}},n.exports=a}),(function(n,r,i){var s=(function(){function c(l,h){for(var d=0;d<h.length;d++){var f=h[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,h,d){return h&&c(l.prototype,h),d&&c(l,d),l}})();function a(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}var o=i(11),u=(function(){function c(l,h){a(this,c),(h!==null||h!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var d=void 0;l instanceof o?d=l.size():d=l.length,this._quicksort(l,0,d-1)}return s(c,[{key:"_quicksort",value:function(h,d,f){if(d<f){var p=this._partition(h,d,f);this._quicksort(h,d,p),this._quicksort(h,p+1,f)}}},{key:"_partition",value:function(h,d,f){for(var p=this._get(h,d),g=d,m=f;;){for(;this.compareFunction(p,this._get(h,m));)m--;for(;this.compareFunction(this._get(h,g),p);)g++;if(g<m)this._swap(h,g,m),g++,m--;else return m}}},{key:"_get",value:function(h,d){return h instanceof o?h.get_object_at(d):h[d]}},{key:"_set",value:function(h,d,f){h instanceof o?h.set_object_at(d,f):h[d]=f}},{key:"_swap",value:function(h,d,f){var p=this._get(h,d);this._set(h,d,this._get(h,f)),this._set(h,f,p)}},{key:"_defaultCompareFunction",value:function(h,d){return d>h}}]),c})();n.exports=u}),(function(n,r,i){var s=(function(){function u(c,l){for(var h=0;h<l.length;h++){var d=l[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}return function(c,l,h){return l&&u(c.prototype,l),h&&u(c,h),c}})();function a(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}var o=(function(){function u(c,l){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;a(this,u),this.sequence1=c,this.sequence2=l,this.match_score=h,this.mismatch_penalty=d,this.gap_penalty=f,this.iMax=c.length+1,this.jMax=l.length+1,this.grid=new Array(this.iMax);for(var p=0;p<this.iMax;p++){this.grid[p]=new Array(this.jMax);for(var g=0;g<this.jMax;g++)this.grid[p][g]=0}this.tracebackGrid=new Array(this.iMax);for(var m=0;m<this.iMax;m++){this.tracebackGrid[m]=new Array(this.jMax);for(var b=0;b<this.jMax;b++)this.tracebackGrid[m][b]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return s(u,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var l=1;l<this.jMax;l++)this.grid[0][l]=this.grid[0][l-1]+this.gap_penalty,this.tracebackGrid[0][l]=[!1,!1,!0];for(var h=1;h<this.iMax;h++)this.grid[h][0]=this.grid[h-1][0]+this.gap_penalty,this.tracebackGrid[h][0]=[!1,!0,!1];for(var d=1;d<this.iMax;d++)for(var f=1;f<this.jMax;f++){var p=void 0;this.sequence1[d-1]===this.sequence2[f-1]?p=this.grid[d-1][f-1]+this.match_score:p=this.grid[d-1][f-1]+this.mismatch_penalty;var g=this.grid[d-1][f]+this.gap_penalty,m=this.grid[d][f-1]+this.gap_penalty,b=[p,g,m],v=this.arrayAllMaxIndexes(b);this.grid[d][f]=b[v[0]],this.tracebackGrid[d][f]=[v.includes(0),v.includes(1),v.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var l=[];for(l.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});l[0];){var h=l[0],d=this.tracebackGrid[h.pos[0]][h.pos[1]];d[0]&&l.push({pos:[h.pos[0]-1,h.pos[1]-1],seq1:this.sequence1[h.pos[0]-1]+h.seq1,seq2:this.sequence2[h.pos[1]-1]+h.seq2}),d[1]&&l.push({pos:[h.pos[0]-1,h.pos[1]],seq1:this.sequence1[h.pos[0]-1]+h.seq1,seq2:"-"+h.seq2}),d[2]&&l.push({pos:[h.pos[0],h.pos[1]-1],seq1:"-"+h.seq1,seq2:this.sequence2[h.pos[1]-1]+h.seq2}),h.pos[0]===0&&h.pos[1]===0&&this.alignments.push({sequence1:h.seq1,sequence2:h.seq2}),l.shift()}return this.alignments}},{key:"getAllIndexes",value:function(l,h){for(var d=[],f=-1;(f=l.indexOf(h,f+1))!==-1;)d.push(f);return d}},{key:"arrayAllMaxIndexes",value:function(l){return this.getAllIndexes(l,Math.max.apply(null,l))}}]),u})();n.exports=o}),(function(n,r,i){var s=function(){};s.FDLayout=i(18),s.FDLayoutConstants=i(7),s.FDLayoutEdge=i(19),s.FDLayoutNode=i(20),s.DimensionD=i(21),s.HashMap=i(22),s.HashSet=i(23),s.IGeometry=i(8),s.IMath=i(9),s.Integer=i(10),s.Point=i(12),s.PointD=i(4),s.RandomSeed=i(16),s.RectangleD=i(13),s.Transform=i(17),s.UniqueIDGeneretor=i(14),s.Quicksort=i(24),s.LinkedList=i(11),s.LGraphObject=i(2),s.LGraph=i(5),s.LEdge=i(1),s.LGraphManager=i(6),s.LNode=i(3),s.Layout=i(15),s.LayoutConstants=i(0),s.NeedlemanWunsch=i(25),n.exports=s}),(function(n,r,i){function s(){this.listeners=[]}var a=s.prototype;a.addListener=function(o,u){this.listeners.push({event:o,callback:u})},a.removeListener=function(o,u){for(var c=this.listeners.length;c>=0;c--){var l=this.listeners[c];l.event===o&&l.callback===u&&this.listeners.splice(c,1)}},a.emit=function(o,u){for(var c=0;c<this.listeners.length;c++){var l=this.listeners[c];o===l.event&&l.callback(u)}},n.exports=s})])})})(ah)),ah.exports}var Bz=sh.exports,X_;function KZ(){return X_||(X_=1,(function(t,e){(function(r,i){t.exports=i(Uz())})(Bz,function(n){return(function(r){var i={};function s(a){if(i[a])return i[a].exports;var o=i[a]={i:a,l:!1,exports:{}};return r[a].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=r,s.c=i,s.i=function(a){return a},s.d=function(a,o,u){s.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:u})},s.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return s.d(o,"a",o),o},s.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},s.p="",s(s.s=7)})([(function(r,i){r.exports=n}),(function(r,i,s){var a=s(0).FDLayoutConstants;function o(){}for(var u in a)o[u]=a[u];o.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,o.DEFAULT_RADIAL_SEPARATION=a.DEFAULT_EDGE_LENGTH,o.DEFAULT_COMPONENT_SEPERATION=60,o.TILE=!0,o.TILING_PADDING_VERTICAL=10,o.TILING_PADDING_HORIZONTAL=10,o.TREE_REDUCTION_ON_INCREMENTAL=!1,r.exports=o}),(function(r,i,s){var a=s(0).FDLayoutEdge;function o(c,l,h){a.call(this,c,l,h)}o.prototype=Object.create(a.prototype);for(var u in a)o[u]=a[u];r.exports=o}),(function(r,i,s){var a=s(0).LGraph;function o(c,l,h){a.call(this,c,l,h)}o.prototype=Object.create(a.prototype);for(var u in a)o[u]=a[u];r.exports=o}),(function(r,i,s){var a=s(0).LGraphManager;function o(c){a.call(this,c)}o.prototype=Object.create(a.prototype);for(var u in a)o[u]=a[u];r.exports=o}),(function(r,i,s){var a=s(0).FDLayoutNode,o=s(0).IMath;function u(l,h,d,f){a.call(this,l,h,d,f)}u.prototype=Object.create(a.prototype);for(var c in a)u[c]=a[c];u.prototype.move=function(){var l=this.graphManager.getLayout();this.displacementX=l.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=l.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>l.coolingFactor*l.maxNodeDisplacement&&(this.displacementX=l.coolingFactor*l.maxNodeDisplacement*o.sign(this.displacementX)),Math.abs(this.displacementY)>l.coolingFactor*l.maxNodeDisplacement&&(this.displacementY=l.coolingFactor*l.maxNodeDisplacement*o.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),l.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},u.prototype.propogateDisplacementToChildren=function(l,h){for(var d=this.getChild().getNodes(),f,p=0;p<d.length;p++)f=d[p],f.getChild()==null?(f.moveBy(l,h),f.displacementX+=l,f.displacementY+=h):f.propogateDisplacementToChildren(l,h)},u.prototype.setPred1=function(l){this.pred1=l},u.prototype.getPred1=function(){return pred1},u.prototype.getPred2=function(){return pred2},u.prototype.setNext=function(l){this.next=l},u.prototype.getNext=function(){return next},u.prototype.setProcessed=function(l){this.processed=l},u.prototype.isProcessed=function(){return processed},r.exports=u}),(function(r,i,s){var a=s(0).FDLayout,o=s(4),u=s(3),c=s(5),l=s(2),h=s(1),d=s(0).FDLayoutConstants,f=s(0).LayoutConstants,p=s(0).Point,g=s(0).PointD,m=s(0).Layout,b=s(0).Integer,v=s(0).IGeometry,y=s(0).LGraph,_=s(0).Transform;function w(){a.call(this),this.toBeTiled={}}w.prototype=Object.create(a.prototype);for(var k in a)w[k]=a[k];w.prototype.newGraphManager=function(){var x=new o(this);return this.graphManager=x,x},w.prototype.newGraph=function(x){return new u(null,this.graphManager,x)},w.prototype.newNode=function(x){return new c(this.graphManager,x)},w.prototype.newEdge=function(x){return new l(null,null,x)},w.prototype.initParameters=function(){a.prototype.initParameters.call(this,arguments),this.isSubLayout||(h.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=h.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=h.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=d.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=d.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=d.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=d.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=d.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=d.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/d.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=d.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},w.prototype.layout=function(){var x=f.DEFAULT_CREATE_BENDS_AS_NEEDED;return x&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},w.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(h.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var T=new Set(this.getAllNodes()),O=this.nodesWithGravity.filter(function(R){return T.has(R)});this.graphManager.setAllNodesToApplyGravitation(O)}}else{var x=this.getFlatForest();if(x.length>0)this.positionNodesRadially(x);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var T=new Set(this.getAllNodes()),O=this.nodesWithGravity.filter(function(I){return T.has(I)});this.graphManager.setAllNodesToApplyGravitation(O),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},w.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%d.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var x=new Set(this.getAllNodes()),T=this.nodesWithGravity.filter(function(M){return x.has(M)});this.graphManager.setAllNodesToApplyGravitation(T),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=d.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=d.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var O=!this.isTreeGrowing&&!this.isGrowthFinished,I=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(O,I),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},w.prototype.getPositionsData=function(){for(var x=this.graphManager.getAllNodes(),T={},O=0;O<x.length;O++){var I=x[O].rect,M=x[O].id;T[M]={id:M,x:I.getCenterX(),y:I.getCenterY(),w:I.width,h:I.height}}return T},w.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var x=!1;if(d.ANIMATE==="during")this.emit("layoutstarted");else{for(;!x;)x=this.tick();this.graphManager.updateBounds()}},w.prototype.calculateNodesToApplyGravitationTo=function(){var x=[],T,O=this.graphManager.getGraphs(),I=O.length,M;for(M=0;M<I;M++)T=O[M],T.updateConnected(),T.isConnected||(x=x.concat(T.getNodes()));return x},w.prototype.createBendpoints=function(){var x=[];x=x.concat(this.graphManager.getAllEdges());var T=new Set,O;for(O=0;O<x.length;O++){var I=x[O];if(!T.has(I)){var M=I.getSource(),R=I.getTarget();if(M==R)I.getBendpoints().push(new g),I.getBendpoints().push(new g),this.createDummyNodesForBendpoints(I),T.add(I);else{var L=[];if(L=L.concat(M.getEdgeListToNode(R)),L=L.concat(R.getEdgeListToNode(M)),!T.has(L[0])){if(L.length>1){var E;for(E=0;E<L.length;E++){var A=L[E];A.getBendpoints().push(new g),this.createDummyNodesForBendpoints(A)}}L.forEach(function(N){T.add(N)})}}}if(T.size==x.length)break}},w.prototype.positionNodesRadially=function(x){for(var T=new p(0,0),O=Math.ceil(Math.sqrt(x.length)),I=0,M=0,R=0,L=new g(0,0),E=0;E<x.length;E++){E%O==0&&(R=0,M=I,E!=0&&(M+=h.DEFAULT_COMPONENT_SEPERATION),I=0);var A=x[E],N=m.findCenterOfTree(A);T.x=R,T.y=M,L=w.radialLayout(A,N,T),L.y>I&&(I=Math.floor(L.y)),R=Math.floor(L.x+h.DEFAULT_COMPONENT_SEPERATION)}this.transform(new g(f.WORLD_CENTER_X-L.x/2,f.WORLD_CENTER_Y-L.y/2))},w.radialLayout=function(x,T,O){var I=Math.max(this.maxDiagonalInTree(x),h.DEFAULT_RADIAL_SEPARATION);w.branchRadialLayout(T,null,0,359,0,I);var M=y.calculateBounds(x),R=new _;R.setDeviceOrgX(M.getMinX()),R.setDeviceOrgY(M.getMinY()),R.setWorldOrgX(O.x),R.setWorldOrgY(O.y);for(var L=0;L<x.length;L++){var E=x[L];E.transform(R)}var A=new g(M.getMaxX(),M.getMaxY());return R.inverseTransformPoint(A)},w.branchRadialLayout=function(x,T,O,I,M,R){var L=(I-O+1)/2;L<0&&(L+=180);var E=(L+O)%360,A=E*v.TWO_PI/360,N=M*Math.cos(A),C=M*Math.sin(A);x.setCenter(N,C);var S=[];S=S.concat(x.getEdges());var D=S.length;T!=null&&D--;for(var P=0,U=S.length,Y,H=x.getEdgesBetween(T);H.length>1;){var ee=H[0];H.splice(0,1);var V=S.indexOf(ee);V>=0&&S.splice(V,1),U--,D--}T!=null?Y=(S.indexOf(H[0])+1)%U:Y=0;for(var K=Math.abs(I-O)/D,ae=Y;P!=D;ae=++ae%U){var ie=S[ae].getOtherEnd(x);if(ie!=T){var B=(O+P*K)%360,W=(B+K)%360;w.branchRadialLayout(ie,x,B,W,M+R,R),P++}}},w.maxDiagonalInTree=function(x){for(var T=b.MIN_VALUE,O=0;O<x.length;O++){var I=x[O],M=I.getDiagonal();M>T&&(T=M)}return T},w.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},w.prototype.groupZeroDegreeMembers=function(){var x=this,T={};this.memberGroups={},this.idToDummyNode={};for(var O=[],I=this.graphManager.getAllNodes(),M=0;M<I.length;M++){var R=I[M],L=R.getParent();this.getNodeDegreeWithChildren(R)===0&&(L.id==null||!this.getToBeTiled(L))&&O.push(R)}for(var M=0;M<O.length;M++){var R=O[M],E=R.getParent().id;typeof T[E]>"u"&&(T[E]=[]),T[E]=T[E].concat(R)}Object.keys(T).forEach(function(A){if(T[A].length>1){var N="DummyCompound_"+A;x.memberGroups[N]=T[A];var C=T[A][0].getParent(),S=new c(x.graphManager);S.id=N,S.paddingLeft=C.paddingLeft||0,S.paddingRight=C.paddingRight||0,S.paddingBottom=C.paddingBottom||0,S.paddingTop=C.paddingTop||0,x.idToDummyNode[N]=S;var D=x.getGraphManager().add(x.newGraph(),S),P=C.getChild();P.add(S);for(var U=0;U<T[A].length;U++){var Y=T[A][U];P.remove(Y),D.add(Y)}}})},w.prototype.clearCompounds=function(){var x={},T={};this.performDFSOnCompounds();for(var O=0;O<this.compoundOrder.length;O++)T[this.compoundOrder[O].id]=this.compoundOrder[O],x[this.compoundOrder[O].id]=[].concat(this.compoundOrder[O].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[O].getChild()),this.compoundOrder[O].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(x,T)},w.prototype.clearZeroDegreeMembers=function(){var x=this,T=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(O){var I=x.idToDummyNode[O];T[O]=x.tileNodes(x.memberGroups[O],I.paddingLeft+I.paddingRight),I.rect.width=T[O].width,I.rect.height=T[O].height})},w.prototype.repopulateCompounds=function(){for(var x=this.compoundOrder.length-1;x>=0;x--){var T=this.compoundOrder[x],O=T.id,I=T.paddingLeft,M=T.paddingTop;this.adjustLocations(this.tiledMemberPack[O],T.rect.x,T.rect.y,I,M)}},w.prototype.repopulateZeroDegreeMembers=function(){var x=this,T=this.tiledZeroDegreePack;Object.keys(T).forEach(function(O){var I=x.idToDummyNode[O],M=I.paddingLeft,R=I.paddingTop;x.adjustLocations(T[O],I.rect.x,I.rect.y,M,R)})},w.prototype.getToBeTiled=function(x){var T=x.id;if(this.toBeTiled[T]!=null)return this.toBeTiled[T];var O=x.getChild();if(O==null)return this.toBeTiled[T]=!1,!1;for(var I=O.getNodes(),M=0;M<I.length;M++){var R=I[M];if(this.getNodeDegree(R)>0)return this.toBeTiled[T]=!1,!1;if(R.getChild()==null){this.toBeTiled[R.id]=!1;continue}if(!this.getToBeTiled(R))return this.toBeTiled[T]=!1,!1}return this.toBeTiled[T]=!0,!0},w.prototype.getNodeDegree=function(x){x.id;for(var T=x.getEdges(),O=0,I=0;I<T.length;I++){var M=T[I];M.getSource().id!==M.getTarget().id&&(O=O+1)}return O},w.prototype.getNodeDegreeWithChildren=function(x){var T=this.getNodeDegree(x);if(x.getChild()==null)return T;for(var O=x.getChild().getNodes(),I=0;I<O.length;I++){var M=O[I];T+=this.getNodeDegreeWithChildren(M)}return T},w.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},w.prototype.fillCompexOrderByDFS=function(x){for(var T=0;T<x.length;T++){var O=x[T];O.getChild()!=null&&this.fillCompexOrderByDFS(O.getChild().getNodes()),this.getToBeTiled(O)&&this.compoundOrder.push(O)}},w.prototype.adjustLocations=function(x,T,O,I,M){T+=I,O+=M;for(var R=T,L=0;L<x.rows.length;L++){var E=x.rows[L];T=R;for(var A=0,N=0;N<E.length;N++){var C=E[N];C.rect.x=T,C.rect.y=O,T+=C.rect.width+x.horizontalPadding,C.rect.height>A&&(A=C.rect.height)}O+=A+x.verticalPadding}},w.prototype.tileCompoundMembers=function(x,T){var O=this;this.tiledMemberPack=[],Object.keys(x).forEach(function(I){var M=T[I];O.tiledMemberPack[I]=O.tileNodes(x[I],M.paddingLeft+M.paddingRight),M.rect.width=O.tiledMemberPack[I].width,M.rect.height=O.tiledMemberPack[I].height})},w.prototype.tileNodes=function(x,T){var O=h.TILING_PADDING_VERTICAL,I=h.TILING_PADDING_HORIZONTAL,M={rows:[],rowWidth:[],rowHeight:[],width:0,height:T,verticalPadding:O,horizontalPadding:I};x.sort(function(E,A){return E.rect.width*E.rect.height>A.rect.width*A.rect.height?-1:E.rect.width*E.rect.height<A.rect.width*A.rect.height?1:0});for(var R=0;R<x.length;R++){var L=x[R];M.rows.length==0?this.insertNodeToRow(M,L,0,T):this.canAddHorizontal(M,L.rect.width,L.rect.height)?this.insertNodeToRow(M,L,this.getShortestRowIndex(M),T):this.insertNodeToRow(M,L,M.rows.length,T),this.shiftToLastRow(M)}return M},w.prototype.insertNodeToRow=function(x,T,O,I){var M=I;if(O==x.rows.length){var R=[];x.rows.push(R),x.rowWidth.push(M),x.rowHeight.push(0)}var L=x.rowWidth[O]+T.rect.width;x.rows[O].length>0&&(L+=x.horizontalPadding),x.rowWidth[O]=L,x.width<L&&(x.width=L);var E=T.rect.height;O>0&&(E+=x.verticalPadding);var A=0;E>x.rowHeight[O]&&(A=x.rowHeight[O],x.rowHeight[O]=E,A=x.rowHeight[O]-A),x.height+=A,x.rows[O].push(T)},w.prototype.getShortestRowIndex=function(x){for(var T=-1,O=Number.MAX_VALUE,I=0;I<x.rows.length;I++)x.rowWidth[I]<O&&(T=I,O=x.rowWidth[I]);return T},w.prototype.getLongestRowIndex=function(x){for(var T=-1,O=Number.MIN_VALUE,I=0;I<x.rows.length;I++)x.rowWidth[I]>O&&(T=I,O=x.rowWidth[I]);return T},w.prototype.canAddHorizontal=function(x,T,O){var I=this.getShortestRowIndex(x);if(I<0)return!0;var M=x.rowWidth[I];if(M+x.horizontalPadding+T<=x.width)return!0;var R=0;x.rowHeight[I]<O&&I>0&&(R=O+x.verticalPadding-x.rowHeight[I]);var L;x.width-M>=T+x.horizontalPadding?L=(x.height+R)/(M+T+x.horizontalPadding):L=(x.height+R)/x.width,R=O+x.verticalPadding;var E;return x.width<T?E=(x.height+R)/T:E=(x.height+R)/x.width,E<1&&(E=1/E),L<1&&(L=1/L),L<E},w.prototype.shiftToLastRow=function(x){var T=this.getLongestRowIndex(x),O=x.rowWidth.length-1,I=x.rows[T],M=I[I.length-1],R=M.width+x.horizontalPadding;if(x.width-x.rowWidth[O]>R&&T!=O){I.splice(-1,1),x.rows[O].push(M),x.rowWidth[T]=x.rowWidth[T]-R,x.rowWidth[O]=x.rowWidth[O]+R,x.width=x.rowWidth[instance.getLongestRowIndex(x)];for(var L=Number.MIN_VALUE,E=0;E<I.length;E++)I[E].height>L&&(L=I[E].height);T>0&&(L+=x.verticalPadding);var A=x.rowHeight[T]+x.rowHeight[O];x.rowHeight[T]=L,x.rowHeight[O]<M.height+x.verticalPadding&&(x.rowHeight[O]=M.height+x.verticalPadding);var N=x.rowHeight[T]+x.rowHeight[O];x.height+=N-A,this.shiftToLastRow(x)}},w.prototype.tilingPreLayout=function(){h.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},w.prototype.tilingPostLayout=function(){h.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},w.prototype.reduceTrees=function(){for(var x=[],T=!0,O;T;){var I=this.graphManager.getAllNodes(),M=[];T=!1;for(var R=0;R<I.length;R++)O=I[R],O.getEdges().length==1&&!O.getEdges()[0].isInterGraph&&O.getChild()==null&&(M.push([O,O.getEdges()[0],O.getOwner()]),T=!0);if(T==!0){for(var L=[],E=0;E<M.length;E++)M[E][0].getEdges().length==1&&(L.push(M[E]),M[E][0].getOwner().remove(M[E][0]));x.push(L),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=x},w.prototype.growTree=function(x){for(var T=x.length,O=x[T-1],I,M=0;M<O.length;M++)I=O[M],this.findPlaceforPrunedNode(I),I[2].add(I[0]),I[2].add(I[1],I[1].source,I[1].target);x.splice(x.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},w.prototype.findPlaceforPrunedNode=function(x){var T,O,I=x[0];I==x[1].source?O=x[1].target:O=x[1].source;var M=O.startX,R=O.finishX,L=O.startY,E=O.finishY,A=0,N=0,C=0,S=0,D=[A,C,N,S];if(L>0)for(var P=M;P<=R;P++)D[0]+=this.grid[P][L-1].length+this.grid[P][L].length-1;if(R<this.grid.length-1)for(var P=L;P<=E;P++)D[1]+=this.grid[R+1][P].length+this.grid[R][P].length-1;if(E<this.grid[0].length-1)for(var P=M;P<=R;P++)D[2]+=this.grid[P][E+1].length+this.grid[P][E].length-1;if(M>0)for(var P=L;P<=E;P++)D[3]+=this.grid[M-1][P].length+this.grid[M][P].length-1;for(var U=b.MAX_VALUE,Y,H,ee=0;ee<D.length;ee++)D[ee]<U?(U=D[ee],Y=1,H=ee):D[ee]==U&&Y++;if(Y==3&&U==0)D[0]==0&&D[1]==0&&D[2]==0?T=1:D[0]==0&&D[1]==0&&D[3]==0?T=0:D[0]==0&&D[2]==0&&D[3]==0?T=3:D[1]==0&&D[2]==0&&D[3]==0&&(T=2);else if(Y==2&&U==0){var V=Math.floor(Math.random()*2);D[0]==0&&D[1]==0?V==0?T=0:T=1:D[0]==0&&D[2]==0?V==0?T=0:T=2:D[0]==0&&D[3]==0?V==0?T=0:T=3:D[1]==0&&D[2]==0?V==0?T=1:T=2:D[1]==0&&D[3]==0?V==0?T=1:T=3:V==0?T=2:T=3}else if(Y==4&&U==0){var V=Math.floor(Math.random()*4);T=V}else T=H;T==0?I.setCenter(O.getCenterX(),O.getCenterY()-O.getHeight()/2-d.DEFAULT_EDGE_LENGTH-I.getHeight()/2):T==1?I.setCenter(O.getCenterX()+O.getWidth()/2+d.DEFAULT_EDGE_LENGTH+I.getWidth()/2,O.getCenterY()):T==2?I.setCenter(O.getCenterX(),O.getCenterY()+O.getHeight()/2+d.DEFAULT_EDGE_LENGTH+I.getHeight()/2):I.setCenter(O.getCenterX()-O.getWidth()/2-d.DEFAULT_EDGE_LENGTH-I.getWidth()/2,O.getCenterY())},r.exports=w}),(function(r,i,s){var a={};a.layoutBase=s(0),a.CoSEConstants=s(1),a.CoSEEdge=s(2),a.CoSEGraph=s(3),a.CoSEGraphManager=s(4),a.CoSELayout=s(6),a.CoSENode=s(5),r.exports=a})])})})(sh)),sh.exports}function kn(t){return typeof t=="object"&&t!==null&&typeof t.$type=="string"}function ci(t){return typeof t=="object"&&t!==null&&typeof t.$refText=="string"}function Gz(t){return typeof t=="object"&&t!==null&&typeof t.name=="string"&&typeof t.type=="string"&&typeof t.path=="string"}function oh(t){return typeof t=="object"&&t!==null&&kn(t.container)&&ci(t.reference)&&typeof t.message=="string"}class zz{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(e,n){return kn(e)&&this.isSubtype(e.$type,n)}isSubtype(e,n){if(e===n)return!0;let r=this.subtypes[e];r||(r=this.subtypes[e]={});const i=r[n];if(i!==void 0)return i;{const s=this.computeIsSubtype(e,n);return r[n]=s,s}}getAllSubTypes(e){const n=this.allSubtypes[e];if(n)return n;{const r=this.getAllTypes(),i=[];for(const s of r)this.isSubtype(s,e)&&i.push(s);return this.allSubtypes[e]=i,i}}}function oc(t){return typeof t=="object"&&t!==null&&Array.isArray(t.content)}function cN(t){return typeof t=="object"&&t!==null&&typeof t.tokenType=="object"}function lN(t){return oc(t)&&typeof t.fullText=="string"}class fn{constructor(e,n){this.startFn=e,this.nextFn=n}iterator(){const e={state:this.startFn(),next:()=>this.nextFn(e.state),[Symbol.iterator]:()=>e};return e}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){const e=this.iterator();let n=0,r=e.next();for(;!r.done;)n++,r=e.next();return n}toArray(){const e=[],n=this.iterator();let r;do r=n.next(),r.value!==void 0&&e.push(r.value);while(!r.done);return e}toSet(){return new Set(this)}toMap(e,n){const r=this.map(i=>[e?e(i):i,n?n(i):i]);return new Map(r)}toString(){return this.join()}concat(e){return new fn(()=>({first:this.startFn(),firstDone:!1,iterator:e[Symbol.iterator]()}),n=>{let r;if(!n.firstDone){do if(r=this.nextFn(n.first),!r.done)return r;while(!r.done);n.firstDone=!0}do if(r=n.iterator.next(),!r.done)return r;while(!r.done);return rr})}join(e=","){const n=this.iterator();let r="",i,s=!1;do i=n.next(),i.done||(s&&(r+=e),r+=Hz(i.value)),s=!0;while(!i.done);return r}indexOf(e,n=0){const r=this.iterator();let i=0,s=r.next();for(;!s.done;){if(i>=n&&s.value===e)return i;s=r.next(),i++}return-1}every(e){const n=this.iterator();let r=n.next();for(;!r.done;){if(!e(r.value))return!1;r=n.next()}return!0}some(e){const n=this.iterator();let r=n.next();for(;!r.done;){if(e(r.value))return!0;r=n.next()}return!1}forEach(e){const n=this.iterator();let r=0,i=n.next();for(;!i.done;)e(i.value,r),i=n.next(),r++}map(e){return new fn(this.startFn,n=>{const{done:r,value:i}=this.nextFn(n);return r?rr:{done:!1,value:e(i)}})}filter(e){return new fn(this.startFn,n=>{let r;do if(r=this.nextFn(n),!r.done&&e(r.value))return r;while(!r.done);return rr})}nonNullable(){return this.filter(e=>e!=null)}reduce(e,n){const r=this.iterator();let i=n,s=r.next();for(;!s.done;)i===void 0?i=s.value:i=e(i,s.value),s=r.next();return i}reduceRight(e,n){return this.recursiveReduce(this.iterator(),e,n)}recursiveReduce(e,n,r){const i=e.next();if(i.done)return r;const s=this.recursiveReduce(e,n,r);return s===void 0?i.value:n(s,i.value)}find(e){const n=this.iterator();let r=n.next();for(;!r.done;){if(e(r.value))return r.value;r=n.next()}}findIndex(e){const n=this.iterator();let r=0,i=n.next();for(;!i.done;){if(e(i.value))return r;i=n.next(),r++}return-1}includes(e){const n=this.iterator();let r=n.next();for(;!r.done;){if(r.value===e)return!0;r=n.next()}return!1}flatMap(e){return new fn(()=>({this:this.startFn()}),n=>{do{if(n.iterator){const s=n.iterator.next();if(s.done)n.iterator=void 0;else return s}const{done:r,value:i}=this.nextFn(n.this);if(!r){const s=e(i);if(mf(s))n.iterator=s[Symbol.iterator]();else return{done:!1,value:s}}}while(n.iterator);return rr})}flat(e){if(e===void 0&&(e=1),e<=0)return this;const n=e>1?this.flat(e-1):this;return new fn(()=>({this:n.startFn()}),r=>{do{if(r.iterator){const a=r.iterator.next();if(a.done)r.iterator=void 0;else return a}const{done:i,value:s}=n.nextFn(r.this);if(!i)if(mf(s))r.iterator=s[Symbol.iterator]();else return{done:!1,value:s}}while(r.iterator);return rr})}head(){const n=this.iterator().next();if(!n.done)return n.value}tail(e=1){return new fn(()=>{const n=this.startFn();for(let r=0;r<e;r++)if(this.nextFn(n).done)return n;return n},this.nextFn)}limit(e){return new fn(()=>({size:0,state:this.startFn()}),n=>(n.size++,n.size>e?rr:this.nextFn(n.state)))}distinct(e){return new fn(()=>({set:new Set,internalState:this.startFn()}),n=>{let r;do if(r=this.nextFn(n.internalState),!r.done){const i=e?e(r.value):r.value;if(!n.set.has(i))return n.set.add(i),r}while(!r.done);return rr})}exclude(e,n){const r=new Set;for(const i of e){const s=n?n(i):i;r.add(s)}return this.filter(i=>{const s=n?n(i):i;return!r.has(s)})}}function Hz(t){return typeof t=="string"?t:typeof t>"u"?"undefined":typeof t.toString=="function"?t.toString():Object.prototype.toString.call(t)}function mf(t){return!!t&&typeof t[Symbol.iterator]=="function"}const Wz=new fn(()=>{},()=>rr),rr=Object.freeze({done:!0,value:void 0});function pn(...t){if(t.length===1){const e=t[0];if(e instanceof fn)return e;if(mf(e))return new fn(()=>e[Symbol.iterator](),n=>n.next());if(typeof e.length=="number")return new fn(()=>({index:0}),n=>n.index<e.length?{done:!1,value:e[n.index++]}:rr)}return t.length>1?new fn(()=>({collIndex:0,arrIndex:0}),e=>{do{if(e.iterator){const n=e.iterator.next();if(!n.done)return n;e.iterator=void 0}if(e.array){if(e.arrIndex<e.array.length)return{done:!1,value:e.array[e.arrIndex++]};e.array=void 0,e.arrIndex=0}if(e.collIndex<t.length){const n=t[e.collIndex++];mf(n)?e.iterator=n[Symbol.iterator]():n&&typeof n.length=="number"&&(e.array=n)}}while(e.iterator||e.array||e.collIndex<t.length);return rr}):Wz}class by extends fn{constructor(e,n,r){super(()=>({iterators:r!=null&&r.includeRoot?[[e][Symbol.iterator]()]:[n(e)[Symbol.iterator]()],pruned:!1}),i=>{for(i.pruned&&(i.iterators.pop(),i.pruned=!1);i.iterators.length>0;){const a=i.iterators[i.iterators.length-1].next();if(a.done)i.iterators.pop();else return i.iterators.push(n(a.value)[Symbol.iterator]()),a}return rr})}iterator(){const e={state:this.startFn(),next:()=>this.nextFn(e.state),prune:()=>{e.state.pruned=!0},[Symbol.iterator]:()=>e};return e}}var D0;(function(t){function e(s){return s.reduce((a,o)=>a+o,0)}t.sum=e;function n(s){return s.reduce((a,o)=>a*o,0)}t.product=n;function r(s){return s.reduce((a,o)=>Math.min(a,o))}t.min=r;function i(s){return s.reduce((a,o)=>Math.max(a,o))}t.max=i})(D0||(D0={}));function P0(t){return new by(t,e=>oc(e)?e.content:[],{includeRoot:!0})}function Yz(t,e){for(;t.container;)if(t=t.container,t===e)return!0;return!1}function F0(t){return{start:{character:t.startColumn-1,line:t.startLine-1},end:{character:t.endColumn,line:t.endLine-1}}}function bf(t){if(!t)return;const{offset:e,end:n,range:r}=t;return{range:r,offset:e,end:n,length:n-e}}var Ti;(function(t){t[t.Before=0]="Before",t[t.After=1]="After",t[t.OverlapFront=2]="OverlapFront",t[t.OverlapBack=3]="OverlapBack",t[t.Inside=4]="Inside",t[t.Outside=5]="Outside"})(Ti||(Ti={}));function qz(t,e){if(t.end.line<e.start.line||t.end.line===e.start.line&&t.end.character<=e.start.character)return Ti.Before;if(t.start.line>e.end.line||t.start.line===e.end.line&&t.start.character>=e.end.character)return Ti.After;const n=t.start.line>e.start.line||t.start.line===e.start.line&&t.start.character>=e.start.character,r=t.end.line<e.end.line||t.end.line===e.end.line&&t.end.character<=e.end.character;return n&&r?Ti.Inside:n?Ti.OverlapBack:r?Ti.OverlapFront:Ti.Outside}function Xz(t,e){return qz(t,e)>Ti.After}const Vz=/^[\w\p{L}]$/u;function Kz(t,e){if(t){const n=Zz(t,!0);if(n&&V_(n,e))return n;if(lN(t)){const r=t.content.findIndex(i=>!i.hidden);for(let i=r-1;i>=0;i--){const s=t.content[i];if(V_(s,e))return s}}}}function V_(t,e){return cN(t)&&e.includes(t.tokenType.name)}function Zz(t,e=!0){for(;t.container;){const n=t.container;let r=n.content.indexOf(t);for(;r>0;){r--;const i=n.content[r];if(e||!i.hidden)return i}t=n}}class hN extends Error{constructor(e,n){super(e?`${n} at ${e.range.start.line}:${e.range.start.character}`:n)}}function Rc(t){throw new Error("Error! The input value was not handled.")}const vl="AbstractRule",_l="AbstractType",sg="Condition",K_="TypeDefinition",ag="ValueLiteral",eu="AbstractElement";function jz(t){return it.isInstance(t,eu)}const El="ArrayLiteral",xl="ArrayType",tu="BooleanLiteral";function Qz(t){return it.isInstance(t,tu)}const nu="Conjunction";function Jz(t){return it.isInstance(t,nu)}const ru="Disjunction";function eH(t){return it.isInstance(t,ru)}const wl="Grammar",og="GrammarImport",iu="InferredType";function fN(t){return it.isInstance(t,iu)}const su="Interface";function dN(t){return it.isInstance(t,su)}const ug="NamedArgument",au="Negation";function tH(t){return it.isInstance(t,au)}const Al="NumberLiteral",Tl="Parameter",ou="ParameterReference";function nH(t){return it.isInstance(t,ou)}const uu="ParserRule";function wr(t){return it.isInstance(t,uu)}const kl="ReferenceType",uh="ReturnType";function rH(t){return it.isInstance(t,uh)}const cu="SimpleType";function iH(t){return it.isInstance(t,cu)}const Nl="StringLiteral",_a="TerminalRule";function ra(t){return it.isInstance(t,_a)}const lu="Type";function pN(t){return it.isInstance(t,lu)}const cg="TypeAttribute",Sl="UnionType",hu="Action";function Dd(t){return it.isInstance(t,hu)}const fu="Alternatives";function gN(t){return it.isInstance(t,fu)}const du="Assignment";function Ws(t){return it.isInstance(t,du)}const pu="CharacterRange";function sH(t){return it.isInstance(t,pu)}const gu="CrossReference";function yy(t){return it.isInstance(t,gu)}const mu="EndOfFile";function aH(t){return it.isInstance(t,mu)}const bu="Group";function vy(t){return it.isInstance(t,bu)}const yu="Keyword";function Ys(t){return it.isInstance(t,yu)}const vu="NegatedToken";function oH(t){return it.isInstance(t,vu)}const _u="RegexToken";function uH(t){return it.isInstance(t,_u)}const Eu="RuleCall";function qs(t){return it.isInstance(t,Eu)}const xu="TerminalAlternatives";function cH(t){return it.isInstance(t,xu)}const wu="TerminalGroup";function lH(t){return it.isInstance(t,wu)}const Au="TerminalRuleCall";function hH(t){return it.isInstance(t,Au)}const Tu="UnorderedGroup";function mN(t){return it.isInstance(t,Tu)}const ku="UntilToken";function fH(t){return it.isInstance(t,ku)}const Nu="Wildcard";function dH(t){return it.isInstance(t,Nu)}class bN extends zz{getAllTypes(){return[eu,vl,_l,hu,fu,El,xl,du,tu,pu,sg,nu,gu,ru,mu,wl,og,bu,iu,su,yu,ug,vu,au,Al,Tl,ou,uu,kl,_u,uh,Eu,cu,Nl,xu,wu,_a,Au,lu,cg,K_,Sl,Tu,ku,ag,Nu]}computeIsSubtype(e,n){switch(e){case hu:case fu:case du:case pu:case gu:case mu:case bu:case yu:case vu:case _u:case Eu:case xu:case wu:case Au:case Tu:case ku:case Nu:return this.isSubtype(eu,n);case El:case Al:case Nl:return this.isSubtype(ag,n);case xl:case kl:case cu:case Sl:return this.isSubtype(K_,n);case tu:return this.isSubtype(sg,n)||this.isSubtype(ag,n);case nu:case ru:case au:case ou:return this.isSubtype(sg,n);case iu:case su:case lu:return this.isSubtype(_l,n);case uu:return this.isSubtype(vl,n)||this.isSubtype(_l,n);case _a:return this.isSubtype(vl,n);default:return!1}}getReferenceType(e){const n=`${e.container.$type}:${e.property}`;switch(n){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return _l;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return vl;case"Grammar:usedGrammars":return wl;case"NamedArgument:parameter":case"ParameterReference:parameter":return Tl;case"TerminalRuleCall:rule":return _a;default:throw new Error(`${n} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case eu:return{name:eu,properties:[{name:"cardinality"},{name:"lookahead"}]};case El:return{name:El,properties:[{name:"elements",defaultValue:[]}]};case xl:return{name:xl,properties:[{name:"elementType"}]};case tu:return{name:tu,properties:[{name:"true",defaultValue:!1}]};case nu:return{name:nu,properties:[{name:"left"},{name:"right"}]};case ru:return{name:ru,properties:[{name:"left"},{name:"right"}]};case wl:return{name:wl,properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case og:return{name:og,properties:[{name:"path"}]};case iu:return{name:iu,properties:[{name:"name"}]};case su:return{name:su,properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case ug:return{name:ug,properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case au:return{name:au,properties:[{name:"value"}]};case Al:return{name:Al,properties:[{name:"value"}]};case Tl:return{name:Tl,properties:[{name:"name"}]};case ou:return{name:ou,properties:[{name:"parameter"}]};case uu:return{name:uu,properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case kl:return{name:kl,properties:[{name:"referenceType"}]};case uh:return{name:uh,properties:[{name:"name"}]};case cu:return{name:cu,properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case Nl:return{name:Nl,properties:[{name:"value"}]};case _a:return{name:_a,properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case lu:return{name:lu,properties:[{name:"name"},{name:"type"}]};case cg:return{name:cg,properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case Sl:return{name:Sl,properties:[{name:"types",defaultValue:[]}]};case hu:return{name:hu,properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case fu:return{name:fu,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case du:return{name:du,properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case pu:return{name:pu,properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case gu:return{name:gu,properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case mu:return{name:mu,properties:[{name:"cardinality"},{name:"lookahead"}]};case bu:return{name:bu,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case yu:return{name:yu,properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case vu:return{name:vu,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case _u:return{name:_u,properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case Eu:return{name:Eu,properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case xu:return{name:xu,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case wu:return{name:wu,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Au:return{name:Au,properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case Tu:return{name:Tu,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case ku:return{name:ku,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case Nu:return{name:Nu,properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:e,properties:[]}}}}const it=new bN;function pH(t){for(const[e,n]of Object.entries(t))e.startsWith("$")||(Array.isArray(n)?n.forEach((r,i)=>{kn(r)&&(r.$container=t,r.$containerProperty=e,r.$containerIndex=i)}):kn(n)&&(n.$container=t,n.$containerProperty=e))}function Pd(t,e){let n=t;for(;n;){if(e(n))return n;n=n.$container}}function is(t){const n=$0(t).$document;if(!n)throw new Error("AST node has no document.");return n}function $0(t){for(;t.$container;)t=t.$container;return t}function _y(t,e){if(!t)throw new Error("Node must be an AstNode.");const n=e==null?void 0:e.range;return new fn(()=>({keys:Object.keys(t),keyIndex:0,arrayIndex:0}),r=>{for(;r.keyIndex<r.keys.length;){const i=r.keys[r.keyIndex];if(!i.startsWith("$")){const s=t[i];if(kn(s)){if(r.keyIndex++,Z_(s,n))return{done:!1,value:s}}else if(Array.isArray(s)){for(;r.arrayIndex<s.length;){const a=r.arrayIndex++,o=s[a];if(kn(o)&&Z_(o,n))return{done:!1,value:o}}r.arrayIndex=0}}r.keyIndex++}return rr})}function Oc(t,e){if(!t)throw new Error("Root node must be an AstNode.");return new by(t,n=>_y(n,e))}function Da(t,e){if(!t)throw new Error("Root node must be an AstNode.");return new by(t,n=>_y(n,e),{includeRoot:!0})}function Z_(t,e){var n;if(!e)return!0;const r=(n=t.$cstNode)===null||n===void 0?void 0:n.range;return r?Xz(r,e):!1}function yN(t){return new fn(()=>({keys:Object.keys(t),keyIndex:0,arrayIndex:0}),e=>{for(;e.keyIndex<e.keys.length;){const n=e.keys[e.keyIndex];if(!n.startsWith("$")){const r=t[n];if(ci(r))return e.keyIndex++,{done:!1,value:{reference:r,container:t,property:n}};if(Array.isArray(r)){for(;e.arrayIndex<r.length;){const i=e.arrayIndex++,s=r[i];if(ci(s))return{done:!1,value:{reference:s,container:t,property:n,index:i}}}e.arrayIndex=0}}e.keyIndex++}return rr})}function gH(t,e){const n=t.getTypeMetaData(e.$type),r=e;for(const i of n.properties)i.defaultValue!==void 0&&r[i.name]===void 0&&(r[i.name]=vN(i.defaultValue))}function vN(t){return Array.isArray(t)?[...t.map(vN)]:t}function Pe(t){return t.charCodeAt(0)}function lg(t,e){Array.isArray(t)?t.forEach(function(n){e.push(n)}):e.push(t)}function Fo(t,e){if(t[e]===!0)throw"duplicate flag "+e;t[e],t[e]=!0}function ga(t){if(t===void 0)throw Error("Internal Error - Should never get here!");return!0}function mH(){throw Error("Internal Error - Should never get here!")}function j_(t){return t.type==="Character"}const yf=[];for(let t=Pe("0");t<=Pe("9");t++)yf.push(t);const vf=[Pe("_")].concat(yf);for(let t=Pe("a");t<=Pe("z");t++)vf.push(t);for(let t=Pe("A");t<=Pe("Z");t++)vf.push(t);const Q_=[Pe(" "),Pe("\f"),Pe(`
`),Pe("\r"),Pe("	"),Pe("\v"),Pe("	"),Pe(""),Pe(""),Pe(""),Pe(""),Pe(""),Pe(""),Pe(""),Pe(""),Pe(""),Pe(""),Pe(""),Pe(""),Pe(""),Pe("\u2028"),Pe("\u2029"),Pe(""),Pe(""),Pe(""),Pe("\uFEFF")],bH=/[0-9a-fA-F]/,Cl=/[0-9]/,yH=/[1-9]/;class _N{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");const n=this.disjunction();this.consumeChar("/");const r={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":Fo(r,"global");break;case"i":Fo(r,"ignoreCase");break;case"m":Fo(r,"multiLine");break;case"u":Fo(r,"unicode");break;case"y":Fo(r,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:r,value:n,loc:this.loc(0)}}disjunction(){const e=[],n=this.idx;for(e.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(n)}}alternative(){const e=[],n=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(n)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let n;switch(this.popChar()){case"=":n="Lookahead";break;case"!":n="NegativeLookahead";break}ga(n);const r=this.disjunction();return this.consumeChar(")"),{type:n,value:r,loc:this.loc(e)}}return mH()}quantifier(e=!1){let n;const r=this.idx;switch(this.popChar()){case"*":n={atLeast:0,atMost:1/0};break;case"+":n={atLeast:1,atMost:1/0};break;case"?":n={atLeast:0,atMost:1};break;case"{":const i=this.integerIncludingZero();switch(this.popChar()){case"}":n={atLeast:i,atMost:i};break;case",":let s;this.isDigit()?(s=this.integerIncludingZero(),n={atLeast:i,atMost:s}):n={atLeast:i,atMost:1/0},this.consumeChar("}");break}if(e===!0&&n===void 0)return;ga(n);break}if(!(e===!0&&n===void 0)&&ga(n))return this.peekChar(0)==="?"?(this.consumeChar("?"),n.greedy=!1):n.greedy=!0,n.type="Quantifier",n.loc=this.loc(r),n}atom(){let e;const n=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group();break}if(e===void 0&&this.isPatternCharacter()&&(e=this.patternCharacter()),ga(e))return e.loc=this.loc(n),this.isQuantifier()&&(e.quantifier=this.quantifier()),e}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[Pe(`
`),Pe("\r"),Pe("\u2028"),Pe("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,n=!1;switch(this.popChar()){case"d":e=yf;break;case"D":e=yf,n=!0;break;case"s":e=Q_;break;case"S":e=Q_,n=!0;break;case"w":e=vf;break;case"W":e=vf,n=!0;break}if(ga(e))return{type:"Set",value:e,complement:n}}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=Pe("\f");break;case"n":e=Pe(`
`);break;case"r":e=Pe("\r");break;case"t":e=Pe("	");break;case"v":e=Pe("\v");break}if(ga(e))return{type:"Character",value:e}}controlLetterEscapeAtom(){this.consumeChar("c");const e=this.popChar();if(/[a-zA-Z]/.test(e)===!1)throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:Pe("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){const e=this.popChar();return{type:"Character",value:Pe(e)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:const e=this.popChar();return{type:"Character",value:Pe(e)}}}characterClass(){const e=[];let n=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),n=!0);this.isClassAtom();){const r=this.classAtom();if(r.type,j_(r)&&this.isRangeDash()){this.consumeChar("-");const i=this.classAtom();if(i.type,j_(i)){if(i.value<r.value)throw Error("Range out of order in character class");e.push({from:r.value,to:i.value})}else lg(r.value,e),e.push(Pe("-")),lg(i.value,e)}else lg(r.value,e)}return this.consumeChar("]"),{type:"Set",complement:n,value:e}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:Pe("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++;break}const n=this.disjunction();this.consumeChar(")");const r={type:"Group",capturing:e,value:n};return e&&(r.idx=this.groupIdx),r}positiveInteger(){let e=this.popChar();if(yH.test(e)===!1)throw Error("Expecting a positive integer");for(;Cl.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(Cl.test(e)===!1)throw Error("Expecting an integer");for(;Cl.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){const e=this.popChar();switch(e){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:Pe(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return Cl.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){const e=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let n="";for(let i=0;i<e;i++){const s=this.popChar();if(bH.test(s)===!1)throw Error("Expecting a HexDecimal digits");n+=s}return{type:"Character",value:parseInt(n,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){const e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(e!==void 0&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}}class Fd{visitChildren(e){for(const n in e){const r=e[n];e.hasOwnProperty(n)&&(r.type!==void 0?this.visit(r):Array.isArray(r)&&r.forEach(i=>{this.visit(i)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e);break}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}const vH=/\r?\n/gm,_H=new _N;class EH extends Fd{constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(e){this.multiline=!1,this.regex=e,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(e){e.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(e){const n=String.fromCharCode(e.value);if(!this.multiline&&n===`
`&&(this.multiline=!0),e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const r=$d(n);this.endRegexpStack.push(r),this.isStarting&&(this.startRegexp+=r)}}visitSet(e){if(!this.multiline){const n=this.regex.substring(e.loc.begin,e.loc.end),r=new RegExp(n);this.multiline=!!`
`.match(r)}if(e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const n=this.regex.substring(e.loc.begin,e.loc.end);this.endRegexpStack.push(n),this.isStarting&&(this.startRegexp+=n)}}visitChildren(e){e.type==="Group"&&e.quantifier||super.visitChildren(e)}}const hg=new EH;function xH(t){try{return typeof t=="string"&&(t=new RegExp(t)),t=t.toString(),hg.reset(t),hg.visit(_H.pattern(t)),hg.multiline}catch{return!1}}const wH=`\f
\r	\v \u2028\u2029\uFEFF`.split("");function U0(t){const e=typeof t=="string"?new RegExp(t):t;return wH.some(n=>e.test(n))}function $d(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function AH(t){return Array.prototype.map.call(t,e=>/\w/.test(e)?`[${e.toLowerCase()}${e.toUpperCase()}]`:$d(e)).join("")}function TH(t,e){const n=kH(t),r=e.match(n);return!!r&&r[0].length>0}function kH(t){typeof t=="string"&&(t=new RegExp(t));const e=t,n=t.source;let r=0;function i(){let s="",a;function o(c){s+=n.substr(r,c),r+=c}function u(c){s+="(?:"+n.substr(r,c)+"|$)",r+=c}for(;r<n.length;)switch(n[r]){case"\\":switch(n[r+1]){case"c":u(3);break;case"x":u(4);break;case"u":e.unicode?n[r+2]==="{"?u(n.indexOf("}",r)-r+1):u(6):u(2);break;case"p":case"P":e.unicode?u(n.indexOf("}",r)-r+1):u(2);break;case"k":u(n.indexOf(">",r)-r+1);break;default:u(2);break}break;case"[":a=/\[(?:\\.|.)*?\]/g,a.lastIndex=r,a=a.exec(n)||[],u(a[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":o(1);break;case"{":a=/\{\d+,?\d*\}/g,a.lastIndex=r,a=a.exec(n),a?o(a[0].length):u(1);break;case"(":if(n[r+1]==="?")switch(n[r+2]){case":":s+="(?:",r+=3,s+=i()+"|$)";break;case"=":s+="(?=",r+=3,s+=i()+")";break;case"!":a=r,r+=3,i(),s+=n.substr(a,r-a);break;case"<":switch(n[r+3]){case"=":case"!":a=r,r+=4,i(),s+=n.substr(a,r-a);break;default:o(n.indexOf(">",r)-r+1),s+=i()+"|$)";break}break}else o(1),s+=i()+"|$)";break;case")":return++r,s;default:u(1);break}return s}return new RegExp(i(),t.flags)}function NH(t){return t.rules.find(e=>wr(e)&&e.entry)}function SH(t){return t.rules.filter(e=>ra(e)&&e.hidden)}function EN(t,e){const n=new Set,r=NH(t);if(!r)return new Set(t.rules);const i=[r].concat(SH(t));for(const a of i)xN(a,n,e);const s=new Set;for(const a of t.rules)(n.has(a.name)||ra(a)&&a.hidden)&&s.add(a);return s}function xN(t,e,n){e.add(t.name),Oc(t).forEach(r=>{if(qs(r)||n){const i=r.rule.ref;i&&!e.has(i.name)&&xN(i,e,n)}})}function CH(t){if(t.terminal)return t.terminal;if(t.type.ref){const e=AN(t.type.ref);return e==null?void 0:e.terminal}}function RH(t){return t.hidden&&!U0(Ay(t))}function OH(t,e){return!t||!e?[]:Ey(t,e,t.astNode,!0)}function wN(t,e,n){if(!t||!e)return;const r=Ey(t,e,t.astNode,!0);if(r.length!==0)return n!==void 0?n=Math.max(0,Math.min(n,r.length-1)):n=0,r[n]}function Ey(t,e,n,r){if(!r){const i=Pd(t.grammarSource,Ws);if(i&&i.feature===e)return[t]}return oc(t)&&t.astNode===n?t.content.flatMap(i=>Ey(i,e,n,!1)):[]}function MH(t,e,n){if(!t)return;const r=IH(t,e,t==null?void 0:t.astNode);if(r.length!==0)return n!==void 0?n=Math.max(0,Math.min(n,r.length-1)):n=0,r[n]}function IH(t,e,n){if(t.astNode!==n)return[];if(Ys(t.grammarSource)&&t.grammarSource.value===e)return[t];const r=P0(t).iterator();let i;const s=[];do if(i=r.next(),!i.done){const a=i.value;a.astNode===n?Ys(a.grammarSource)&&a.grammarSource.value===e&&s.push(a):r.prune()}while(!i.done);return s}function LH(t){var e;const n=t.astNode;for(;n===((e=t.container)===null||e===void 0?void 0:e.astNode);){const r=Pd(t.grammarSource,Ws);if(r)return r;t=t.container}}function AN(t){let e=t;return fN(e)&&(Dd(e.$container)?e=e.$container.$container:wr(e.$container)?e=e.$container:Rc(e.$container)),TN(t,e,new Map)}function TN(t,e,n){var r;function i(s,a){let o;return Pd(s,Ws)||(o=TN(a,a,n)),n.set(t,o),o}if(n.has(t))return n.get(t);n.set(t,void 0);for(const s of Oc(e)){if(Ws(s)&&s.feature.toLowerCase()==="name")return n.set(t,s),s;if(qs(s)&&wr(s.rule.ref))return i(s,s.rule.ref);if(iH(s)&&(!((r=s.typeRef)===null||r===void 0)&&r.ref))return i(s,s.typeRef.ref)}}function kN(t){return NN(t,new Set)}function NN(t,e){if(e.has(t))return!0;e.add(t);for(const n of Oc(t))if(qs(n)){if(!n.rule.ref||wr(n.rule.ref)&&!NN(n.rule.ref,e))return!1}else{if(Ws(n))return!1;if(Dd(n))return!1}return!!t.definition}function xy(t){if(t.inferredType)return t.inferredType.name;if(t.dataType)return t.dataType;if(t.returnType){const e=t.returnType.ref;if(e){if(wr(e))return e.name;if(dN(e)||pN(e))return e.name}}}function wy(t){var e;if(wr(t))return kN(t)?t.name:(e=xy(t))!==null&&e!==void 0?e:t.name;if(dN(t)||pN(t)||rH(t))return t.name;if(Dd(t)){const n=DH(t);if(n)return n}else if(fN(t))return t.name;throw new Error("Cannot get name of Unknown Type")}function DH(t){var e;if(t.inferredType)return t.inferredType.name;if(!((e=t.type)===null||e===void 0)&&e.ref)return wy(t.type.ref)}function PH(t){var e,n,r;return ra(t)?(n=(e=t.type)===null||e===void 0?void 0:e.name)!==null&&n!==void 0?n:"string":(r=xy(t))!==null&&r!==void 0?r:t.name}function Ay(t){const e={s:!1,i:!1,u:!1},n=ho(t.definition,e),r=Object.entries(e).filter(([,i])=>i).map(([i])=>i).join("");return new RegExp(n,r)}const Ty=/[\s\S]/.source;function ho(t,e){if(cH(t))return FH(t);if(lH(t))return $H(t);if(sH(t))return GH(t);if(hH(t)){const n=t.rule.ref;if(!n)throw new Error("Missing rule reference.");return Ii(ho(n.definition),{cardinality:t.cardinality,lookahead:t.lookahead})}else{if(oH(t))return BH(t);if(fH(t))return UH(t);if(uH(t)){const n=t.regex.lastIndexOf("/"),r=t.regex.substring(1,n),i=t.regex.substring(n+1);return e&&(e.i=i.includes("i"),e.s=i.includes("s"),e.u=i.includes("u")),Ii(r,{cardinality:t.cardinality,lookahead:t.lookahead,wrap:!1})}else{if(dH(t))return Ii(Ty,{cardinality:t.cardinality,lookahead:t.lookahead});throw new Error(`Invalid terminal element: ${t==null?void 0:t.$type}`)}}}function FH(t){return Ii(t.elements.map(e=>ho(e)).join("|"),{cardinality:t.cardinality,lookahead:t.lookahead})}function $H(t){return Ii(t.elements.map(e=>ho(e)).join(""),{cardinality:t.cardinality,lookahead:t.lookahead})}function UH(t){return Ii(`${Ty}*?${ho(t.terminal)}`,{cardinality:t.cardinality,lookahead:t.lookahead})}function BH(t){return Ii(`(?!${ho(t.terminal)})${Ty}*?`,{cardinality:t.cardinality,lookahead:t.lookahead})}function GH(t){return t.right?Ii(`[${fg(t.left)}-${fg(t.right)}]`,{cardinality:t.cardinality,lookahead:t.lookahead,wrap:!1}):Ii(fg(t.left),{cardinality:t.cardinality,lookahead:t.lookahead,wrap:!1})}function fg(t){return $d(t.value)}function Ii(t,e){var n;return(e.wrap!==!1||e.lookahead)&&(t=`(${(n=e.lookahead)!==null&&n!==void 0?n:""}${t})`),e.cardinality?`${t}${e.cardinality}`:t}function zH(t){const e=[],n=t.Grammar;for(const r of n.rules)ra(r)&&RH(r)&&xH(Ay(r))&&e.push(r.name);return{multilineCommentRules:e,nameRegexp:Vz}}function B0(t){console&&console.error&&console.error(`Error: ${t}`)}function SN(t){console&&console.warn&&console.warn(`Warning: ${t}`)}function CN(t){const e=new Date().getTime(),n=t();return{time:new Date().getTime()-e,value:n}}function RN(t){function e(){}e.prototype=t;const n=new e;function r(){return typeof n.bar}return r(),r(),t}function HH(t){return WH(t)?t.LABEL:t.name}function WH(t){return ur(t.LABEL)&&t.LABEL!==""}class yi{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),Le(this.definition,n=>{n.accept(e)})}}class Un extends yi{constructor(e){super([]),this.idx=1,or(this,zr(e,n=>n!==void 0))}set definition(e){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(e){e.visit(this)}}class fo extends yi{constructor(e){super(e.definition),this.orgText="",or(this,zr(e,n=>n!==void 0))}}class Vn extends yi{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,or(this,zr(e,n=>n!==void 0))}}class gn extends yi{constructor(e){super(e.definition),this.idx=1,or(this,zr(e,n=>n!==void 0))}}class fr extends yi{constructor(e){super(e.definition),this.idx=1,or(this,zr(e,n=>n!==void 0))}}class dr extends yi{constructor(e){super(e.definition),this.idx=1,or(this,zr(e,n=>n!==void 0))}}class St extends yi{constructor(e){super(e.definition),this.idx=1,or(this,zr(e,n=>n!==void 0))}}class Kn extends yi{constructor(e){super(e.definition),this.idx=1,or(this,zr(e,n=>n!==void 0))}}class Zn extends yi{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,or(this,zr(e,n=>n!==void 0))}}class bt{constructor(e){this.idx=1,or(this,zr(e,n=>n!==void 0))}accept(e){e.visit(this)}}function YH(t){return Ne(t,ch)}function ch(t){function e(n){return Ne(n,ch)}if(t instanceof Un){const n={type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};return ur(t.label)&&(n.label=t.label),n}else{if(t instanceof Vn)return{type:"Alternative",definition:e(t.definition)};if(t instanceof gn)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof fr)return{type:"RepetitionMandatory",idx:t.idx,definition:e(t.definition)};if(t instanceof dr)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:ch(new bt({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof Kn)return{type:"RepetitionWithSeparator",idx:t.idx,separator:ch(new bt({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof St)return{type:"Repetition",idx:t.idx,definition:e(t.definition)};if(t instanceof Zn)return{type:"Alternation",idx:t.idx,definition:e(t.definition)};if(t instanceof bt){const n={type:"Terminal",name:t.terminalType.name,label:HH(t.terminalType),idx:t.idx};ur(t.label)&&(n.terminalLabel=t.label);const r=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(n.pattern=Li(r)?r.source:r),n}else{if(t instanceof fo)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}}}class po{visit(e){const n=e;switch(n.constructor){case Un:return this.visitNonTerminal(n);case Vn:return this.visitAlternative(n);case gn:return this.visitOption(n);case fr:return this.visitRepetitionMandatory(n);case dr:return this.visitRepetitionMandatoryWithSeparator(n);case Kn:return this.visitRepetitionWithSeparator(n);case St:return this.visitRepetition(n);case Zn:return this.visitAlternation(n);case bt:return this.visitTerminal(n);case fo:return this.visitRule(n);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}function qH(t){return t instanceof Vn||t instanceof gn||t instanceof St||t instanceof fr||t instanceof dr||t instanceof Kn||t instanceof bt||t instanceof fo}function _f(t,e=[]){return t instanceof gn||t instanceof St||t instanceof Kn?!0:t instanceof Zn?ew(t.definition,r=>_f(r,e)):t instanceof Un&&Gn(e,t)?!1:t instanceof yi?(t instanceof Un&&e.push(t),Pr(t.definition,r=>_f(r,e))):!1}function XH(t){return t instanceof Zn}function ii(t){if(t instanceof Un)return"SUBRULE";if(t instanceof gn)return"OPTION";if(t instanceof Zn)return"OR";if(t instanceof fr)return"AT_LEAST_ONE";if(t instanceof dr)return"AT_LEAST_ONE_SEP";if(t instanceof Kn)return"MANY_SEP";if(t instanceof St)return"MANY";if(t instanceof bt)return"CONSUME";throw Error("non exhaustive match")}class Ud{walk(e,n=[]){Le(e.definition,(r,i)=>{const s=ln(e.definition,i+1);if(r instanceof Un)this.walkProdRef(r,s,n);else if(r instanceof bt)this.walkTerminal(r,s,n);else if(r instanceof Vn)this.walkFlat(r,s,n);else if(r instanceof gn)this.walkOption(r,s,n);else if(r instanceof fr)this.walkAtLeastOne(r,s,n);else if(r instanceof dr)this.walkAtLeastOneSep(r,s,n);else if(r instanceof Kn)this.walkManySep(r,s,n);else if(r instanceof St)this.walkMany(r,s,n);else if(r instanceof Zn)this.walkOr(r,s,n);else throw Error("non exhaustive match")})}walkTerminal(e,n,r){}walkProdRef(e,n,r){}walkFlat(e,n,r){const i=n.concat(r);this.walk(e,i)}walkOption(e,n,r){const i=n.concat(r);this.walk(e,i)}walkAtLeastOne(e,n,r){const i=[new gn({definition:e.definition})].concat(n,r);this.walk(e,i)}walkAtLeastOneSep(e,n,r){const i=J_(e,n,r);this.walk(e,i)}walkMany(e,n,r){const i=[new gn({definition:e.definition})].concat(n,r);this.walk(e,i)}walkManySep(e,n,r){const i=J_(e,n,r);this.walk(e,i)}walkOr(e,n,r){const i=n.concat(r);Le(e.definition,s=>{const a=new Vn({definition:[s]});this.walk(a,i)})}}function J_(t,e,n){return[new gn({definition:[new bt({terminalType:t.separator})].concat(t.definition)})].concat(e,n)}function Mc(t){if(t instanceof Un)return Mc(t.referencedRule);if(t instanceof bt)return ZH(t);if(qH(t))return VH(t);if(XH(t))return KH(t);throw Error("non exhaustive match")}function VH(t){let e=[];const n=t.definition;let r=0,i=n.length>r,s,a=!0;for(;i&&a;)s=n[r],a=_f(s),e=e.concat(Mc(s)),r=r+1,i=n.length>r;return wm(e)}function KH(t){const e=Ne(t.definition,n=>Mc(n));return wm(Fr(e))}function ZH(t){return[t.terminalType]}const ON="_~IN~_";class jH extends Ud{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,n,r){}walkProdRef(e,n,r){const i=JH(e.referencedRule,e.idx)+this.topProd.name,s=n.concat(r),a=new Vn({definition:s}),o=Mc(a);this.follows[i]=o}}function QH(t){const e={};return Le(t,n=>{const r=new jH(n).startWalking();or(e,r)}),e}function JH(t,e){return t.name+e+ON}let lh={};const eW=new _N;function Bd(t){const e=t.toString();if(lh.hasOwnProperty(e))return lh[e];{const n=eW.pattern(e);return lh[e]=n,n}}function tW(){lh={}}const MN="Complement Sets are not supported for first char optimization",Ef=`Unable to use "first char" lexer optimizations:
`;function nW(t,e=!1){try{const n=Bd(t);return G0(n.value,{},n.flags.ignoreCase)}catch(n){if(n.message===MN)e&&SN(`${Ef}	Unable to optimize: < ${t.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let r="";e&&(r=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),B0(`${Ef}
	Failed parsing: < ${t.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+r)}}return[]}function G0(t,e,n){switch(t.type){case"Disjunction":for(let i=0;i<t.value.length;i++)G0(t.value[i],e,n);break;case"Alternative":const r=t.value;for(let i=0;i<r.length;i++){const s=r[i];switch(s.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const a=s;switch(a.type){case"Character":Rl(a.value,e,n);break;case"Set":if(a.complement===!0)throw Error(MN);Le(a.value,u=>{if(typeof u=="number")Rl(u,e,n);else{const c=u;if(n===!0)for(let l=c.from;l<=c.to;l++)Rl(l,e,n);else{for(let l=c.from;l<=c.to&&l<Cu;l++)Rl(l,e,n);if(c.to>=Cu){const l=c.from>=Cu?c.from:Cu,h=c.to,d=ss(l),f=ss(h);for(let p=d;p<=f;p++)e[p]=p}}}});break;case"Group":G0(a.value,e,n);break;default:throw Error("Non Exhaustive Match")}const o=a.quantifier!==void 0&&a.quantifier.atLeast===0;if(a.type==="Group"&&z0(a)===!1||a.type!=="Group"&&o===!1)break}break;default:throw Error("non exhaustive match!")}return Qt(e)}function Rl(t,e,n){const r=ss(t);e[r]=r,n===!0&&rW(t,e)}function rW(t,e){const n=String.fromCharCode(t),r=n.toUpperCase();if(r!==n){const i=ss(r.charCodeAt(0));e[i]=i}else{const i=n.toLowerCase();if(i!==n){const s=ss(i.charCodeAt(0));e[s]=s}}}function eE(t,e){return Ua(t.value,n=>{if(typeof n=="number")return Gn(e,n);{const r=n;return Ua(e,i=>r.from<=i&&i<=r.to)!==void 0}})}function z0(t){const e=t.quantifier;return e&&e.atLeast===0?!0:t.value?vr(t.value)?Pr(t.value,z0):z0(t.value):!1}class iW extends Fd{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(this.found!==!0){switch(e.type){case"Lookahead":this.visitLookahead(e);return;case"NegativeLookahead":this.visitNegativeLookahead(e);return}super.visitChildren(e)}}visitCharacter(e){Gn(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?eE(e,this.targetCharCodes)===void 0&&(this.found=!0):eE(e,this.targetCharCodes)!==void 0&&(this.found=!0)}}function ky(t,e){if(e instanceof RegExp){const n=Bd(e),r=new iW(t);return r.visit(n),r.found}else return Ua(e,n=>Gn(t,n.charCodeAt(0)))!==void 0}const Xs="PATTERN",Su="defaultMode",Ol="modes";let IN=typeof new RegExp("(?:)").sticky=="boolean";function sW(t,e){e=Am(e,{useSticky:IN,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(v,y)=>y()});const n=e.tracer;n("initCharCodeToOptimizedIndexMap",()=>{SW()});let r;n("Reject Lexer.NA",()=>{r=zf(t,v=>v[Xs]===qn.NA)});let i=!1,s;n("Transform Patterns",()=>{i=!1,s=Ne(r,v=>{const y=v[Xs];if(Li(y)){const _=y.source;return _.length===1&&_!=="^"&&_!=="$"&&_!=="."&&!y.ignoreCase?_:_.length===2&&_[0]==="\\"&&!Gn(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],_[1])?_[1]:e.useSticky?nE(y):tE(y)}else{if(Zs(y))return i=!0,{exec:y};if(typeof y=="object")return i=!0,y;if(typeof y=="string"){if(y.length===1)return y;{const _=y.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),w=new RegExp(_);return e.useSticky?nE(w):tE(w)}}else throw Error("non exhaustive match")}})});let a,o,u,c,l;n("misc mapping",()=>{a=Ne(r,v=>v.tokenTypeIdx),o=Ne(r,v=>{const y=v.GROUP;if(y!==qn.SKIPPED){if(ur(y))return y;if(Di(y))return!1;throw Error("non exhaustive match")}}),u=Ne(r,v=>{const y=v.LONGER_ALT;if(y)return vr(y)?Ne(y,w=>qy(r,w)):[qy(r,y)]}),c=Ne(r,v=>v.PUSH_MODE),l=Ne(r,v=>Re(v,"POP_MODE"))});let h;n("Line Terminator Handling",()=>{const v=PN(e.lineTerminatorCharacters);h=Ne(r,y=>!1),e.positionTracking!=="onlyOffset"&&(h=Ne(r,y=>Re(y,"LINE_BREAKS")?!!y.LINE_BREAKS:DN(y,v)===!1&&ky(v,y.PATTERN)))});let d,f,p,g;n("Misc Mapping #2",()=>{d=Ne(r,LN),f=Ne(s,TW),p=cr(r,(v,y)=>{const _=y.GROUP;return ur(_)&&_!==qn.SKIPPED&&(v[_]=[]),v},{}),g=Ne(s,(v,y)=>({pattern:s[y],longerAlt:u[y],canLineTerminator:h[y],isCustom:d[y],short:f[y],group:o[y],push:c[y],pop:l[y],tokenTypeIdx:a[y],tokenType:r[y]}))});let m=!0,b=[];return e.safeMode||n("First Char Optimization",()=>{b=cr(r,(v,y,_)=>{if(typeof y.PATTERN=="string"){const w=y.PATTERN.charCodeAt(0),k=ss(w);dg(v,k,g[_])}else if(vr(y.START_CHARS_HINT)){let w;Le(y.START_CHARS_HINT,k=>{const x=typeof k=="string"?k.charCodeAt(0):k,T=ss(x);w!==T&&(w=T,dg(v,T,g[_]))})}else if(Li(y.PATTERN))if(y.PATTERN.unicode)m=!1,e.ensureOptimizations&&B0(`${Ef}	Unable to analyze < ${y.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const w=nW(y.PATTERN,e.ensureOptimizations);pt(w)&&(m=!1),Le(w,k=>{dg(v,k,g[_])})}else e.ensureOptimizations&&B0(`${Ef}	TokenType: <${y.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),m=!1;return v},[])}),{emptyGroups:p,patternIdxToConfig:g,charCodeToPatternIdxToConfig:b,hasCustom:i,canBeOptimized:m}}function aW(t,e){let n=[];const r=uW(t);n=n.concat(r.errors);const i=cW(r.valid),s=i.valid;return n=n.concat(i.errors),n=n.concat(oW(s)),n=n.concat(bW(s)),n=n.concat(yW(s,e)),n=n.concat(vW(s)),n}function oW(t){let e=[];const n=Ar(t,r=>Li(r[Xs]));return e=e.concat(hW(n)),e=e.concat(pW(n)),e=e.concat(gW(n)),e=e.concat(mW(n)),e=e.concat(fW(n)),e}function uW(t){const e=Ar(t,i=>!Re(i,Xs)),n=Ne(e,i=>({message:"Token Type: ->"+i.name+"<- missing static 'PATTERN' property",type:Ct.MISSING_PATTERN,tokenTypes:[i]})),r=Hf(t,e);return{errors:n,valid:r}}function cW(t){const e=Ar(t,i=>{const s=i[Xs];return!Li(s)&&!Zs(s)&&!Re(s,"exec")&&!ur(s)}),n=Ne(e,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Ct.INVALID_PATTERN,tokenTypes:[i]})),r=Hf(t,e);return{errors:n,valid:r}}const lW=/[^\\][$]/;function hW(t){class e extends Fd{constructor(){super(...arguments),this.found=!1}visitEndAnchor(s){this.found=!0}}const n=Ar(t,i=>{const s=i.PATTERN;try{const a=Bd(s),o=new e;return o.visit(a),o.found}catch{return lW.test(s.source)}});return Ne(n,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Ct.EOI_ANCHOR_FOUND,tokenTypes:[i]}))}function fW(t){const e=Ar(t,r=>r.PATTERN.test(""));return Ne(e,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' must not match an empty string",type:Ct.EMPTY_MATCH_PATTERN,tokenTypes:[r]}))}const dW=/[^\\[][\^]|^\^/;function pW(t){class e extends Fd{constructor(){super(...arguments),this.found=!1}visitStartAnchor(s){this.found=!0}}const n=Ar(t,i=>{const s=i.PATTERN;try{const a=Bd(s),o=new e;return o.visit(a),o.found}catch{return dW.test(s.source)}});return Ne(n,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Ct.SOI_ANCHOR_FOUND,tokenTypes:[i]}))}function gW(t){const e=Ar(t,r=>{const i=r[Xs];return i instanceof RegExp&&(i.multiline||i.global)});return Ne(e,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Ct.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[r]}))}function mW(t){const e=[];let n=Ne(t,s=>cr(t,(a,o)=>(s.PATTERN.source===o.PATTERN.source&&!Gn(e,o)&&o.PATTERN!==qn.NA&&(e.push(o),a.push(o)),a),[]));n=hc(n);const r=Ar(n,s=>s.length>1);return Ne(r,s=>{const a=Ne(s,u=>u.name);return{message:`The same RegExp pattern ->${Ur(s).PATTERN}<-has been used in all of the following Token Types: ${a.join(", ")} <-`,type:Ct.DUPLICATE_PATTERNS_FOUND,tokenTypes:s}})}function bW(t){const e=Ar(t,r=>{if(!Re(r,"GROUP"))return!1;const i=r.GROUP;return i!==qn.SKIPPED&&i!==qn.NA&&!ur(i)});return Ne(e,r=>({message:"Token Type: ->"+r.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Ct.INVALID_GROUP_TYPE_FOUND,tokenTypes:[r]}))}function yW(t,e){const n=Ar(t,i=>i.PUSH_MODE!==void 0&&!Gn(e,i.PUSH_MODE));return Ne(n,i=>({message:`Token Type: ->${i.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${i.PUSH_MODE}<-which does not exist`,type:Ct.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[i]}))}function vW(t){const e=[],n=cr(t,(r,i,s)=>{const a=i.PATTERN;return a===qn.NA||(ur(a)?r.push({str:a,idx:s,tokenType:i}):Li(a)&&EW(a)&&r.push({str:a.source,idx:s,tokenType:i})),r},[]);return Le(t,(r,i)=>{Le(n,({str:s,idx:a,tokenType:o})=>{if(i<a&&_W(s,r.PATTERN)){const u=`Token: ->${o.name}<- can never be matched.
Because it appears AFTER the Token Type ->${r.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;e.push({message:u,type:Ct.UNREACHABLE_PATTERN,tokenTypes:[r,o]})}})}),e}function _W(t,e){if(Li(e)){const n=e.exec(t);return n!==null&&n.index===0}else{if(Zs(e))return e(t,0,[],{});if(Re(e,"exec"))return e.exec(t,0,[],{});if(typeof e=="string")return e===t;throw Error("non exhaustive match")}}function EW(t){return Ua([".","\\","[","]","|","^","$","(",")","?","*","+","{"],n=>t.source.indexOf(n)!==-1)===void 0}function tE(t){const e=t.ignoreCase?"i":"";return new RegExp(`^(?:${t.source})`,e)}function nE(t){const e=t.ignoreCase?"iy":"y";return new RegExp(`${t.source}`,e)}function xW(t,e,n){const r=[];return Re(t,Su)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+Su+`> property in its definition
`,type:Ct.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Re(t,Ol)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+Ol+`> property in its definition
`,type:Ct.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Re(t,Ol)&&Re(t,Su)&&!Re(t.modes,t.defaultMode)&&r.push({message:`A MultiMode Lexer cannot be initialized with a ${Su}: <${t.defaultMode}>which does not exist
`,type:Ct.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Re(t,Ol)&&Le(t.modes,(i,s)=>{Le(i,(a,o)=>{if(Di(a))r.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${s}> at index: <${o}>
`,type:Ct.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(Re(a,"LONGER_ALT")){const u=vr(a.LONGER_ALT)?a.LONGER_ALT:[a.LONGER_ALT];Le(u,c=>{!Di(c)&&!Gn(i,c)&&r.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${c.name}> on token <${a.name}> outside of mode <${s}>
`,type:Ct.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),r}function wW(t,e,n){const r=[];let i=!1;const s=hc(Fr(Qt(t.modes))),a=zf(s,u=>u[Xs]===qn.NA),o=PN(n);return e&&Le(a,u=>{const c=DN(u,o);if(c!==!1){const h={message:NW(u,c),type:c.issue,tokenType:u};r.push(h)}else Re(u,"LINE_BREAKS")?u.LINE_BREAKS===!0&&(i=!0):ky(o,u.PATTERN)&&(i=!0)}),e&&!i&&r.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:Ct.NO_LINE_BREAKS_FLAGS}),r}function AW(t){const e={},n=Gu(t);return Le(n,r=>{const i=t[r];if(vr(i))e[r]=[];else throw Error("non exhaustive match")}),e}function LN(t){const e=t.PATTERN;if(Li(e))return!1;if(Zs(e))return!0;if(Re(e,"exec"))return!0;if(ur(e))return!1;throw Error("non exhaustive match")}function TW(t){return ur(t)&&t.length===1?t.charCodeAt(0):!1}const kW={test:function(t){const e=t.length;for(let n=this.lastIndex;n<e;n++){const r=t.charCodeAt(n);if(r===10)return this.lastIndex=n+1,!0;if(r===13)return t.charCodeAt(n+1)===10?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function DN(t,e){if(Re(t,"LINE_BREAKS"))return!1;if(Li(t.PATTERN)){try{ky(e,t.PATTERN)}catch(n){return{issue:Ct.IDENTIFY_TERMINATOR,errMsg:n.message}}return!1}else{if(ur(t.PATTERN))return!1;if(LN(t))return{issue:Ct.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function NW(t,e){if(e.issue===Ct.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${t.name}> Token Type
	 Root cause: ${e.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(e.issue===Ct.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${t.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function PN(t){return Ne(t,n=>ur(n)?n.charCodeAt(0):n)}function dg(t,e,n){t[e]===void 0?t[e]=[n]:t[e].push(n)}const Cu=256;let hh=[];function ss(t){return t<Cu?t:hh[t]}function SW(){if(pt(hh)){hh=new Array(65536);for(let t=0;t<65536;t++)hh[t]=t>255?255+~~(t/255):t}}function Ic(t,e){const n=t.tokenTypeIdx;return n===e.tokenTypeIdx?!0:e.isParent===!0&&e.categoryMatchesMap[n]===!0}function xf(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}let rE=1;const FN={};function Lc(t){const e=CW(t);RW(e),MW(e),OW(e),Le(e,n=>{n.isParent=n.categoryMatches.length>0})}function CW(t){let e=mn(t),n=t,r=!0;for(;r;){n=hc(Fr(Ne(n,s=>s.CATEGORIES)));const i=Hf(n,e);e=e.concat(i),pt(i)?r=!1:n=i}return e}function RW(t){Le(t,e=>{UN(e)||(FN[rE]=e,e.tokenTypeIdx=rE++),iE(e)&&!vr(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),iE(e)||(e.CATEGORIES=[]),IW(e)||(e.categoryMatches=[]),LW(e)||(e.categoryMatchesMap={})})}function OW(t){Le(t,e=>{e.categoryMatches=[],Le(e.categoryMatchesMap,(n,r)=>{e.categoryMatches.push(FN[r].tokenTypeIdx)})})}function MW(t){Le(t,e=>{$N([],e)})}function $N(t,e){Le(t,n=>{e.categoryMatchesMap[n.tokenTypeIdx]=!0}),Le(e.CATEGORIES,n=>{const r=t.concat(e);Gn(r,n)||$N(r,n)})}function UN(t){return Re(t,"tokenTypeIdx")}function iE(t){return Re(t,"CATEGORIES")}function IW(t){return Re(t,"categoryMatches")}function LW(t){return Re(t,"categoryMatchesMap")}function DW(t){return Re(t,"tokenTypeIdx")}const H0={buildUnableToPopLexerModeMessage(t){return`Unable to pop Lexer Mode after encountering Token ->${t.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(t,e,n,r,i){return`unexpected character: ->${t.charAt(e)}<- at offset: ${e}, skipped ${n} characters.`}};var Ct;(function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",t[t.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(Ct||(Ct={}));const Ru={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:H0,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(Ru);class qn{constructor(e,n=Ru){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(i,s)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const a=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${a}--> <${i}>`);const{time:o,value:u}=CN(s),c=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&c(`${a}<-- <${i}> time: ${o}ms`),this.traceInitIndent--,u}else return s()},typeof n=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=or({},Ru,n);const r=this.config.traceInitPerf;r===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof r=="number"&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let i,s=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===Ru.lineTerminatorsPattern)this.config.lineTerminatorsPattern=kW;else if(this.config.lineTerminatorCharacters===Ru.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(n.safeMode&&n.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),vr(e)?i={modes:{defaultMode:mn(e)},defaultMode:Su}:(s=!1,i=mn(e))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(xW(i,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(wW(i,this.trackStartLines,this.config.lineTerminatorCharacters))})),i.modes=i.modes?i.modes:{},Le(i.modes,(o,u)=>{i.modes[u]=zf(o,c=>Di(c))});const a=Gu(i.modes);if(Le(i.modes,(o,u)=>{this.TRACE_INIT(`Mode: <${u}> processing`,()=>{if(this.modes.push(u),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(aW(o,a))}),pt(this.lexerDefinitionErrors)){Lc(o);let c;this.TRACE_INIT("analyzeTokenTypes",()=>{c=sW(o,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:n.positionTracking,ensureOptimizations:n.ensureOptimizations,safeMode:n.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[u]=c.patternIdxToConfig,this.charCodeToPatternIdxToConfig[u]=c.charCodeToPatternIdxToConfig,this.emptyGroups=or({},this.emptyGroups,c.emptyGroups),this.hasCustom=c.hasCustom||this.hasCustom,this.canModeBeOptimized[u]=c.canBeOptimized}})}),this.defaultMode=i.defaultMode,!pt(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const u=Ne(this.lexerDefinitionErrors,c=>c.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+u)}Le(this.lexerDefinitionWarning,o=>{SN(o.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(IN?(this.chopInput=Xy,this.match=this.matchWithTest):(this.updateLastIndex=Kt,this.match=this.matchWithExec),s&&(this.handleModes=Kt),this.trackStartLines===!1&&(this.computeNewColumn=Xy),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=Kt),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const o=cr(this.canModeBeOptimized,(u,c,l)=>(c===!1&&u.push(l),u),[]);if(n.ensureOptimizations&&!pt(o))throw Error(`Lexer Modes: < ${o.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{tW()}),this.TRACE_INIT("toFastProperties",()=>{RN(this)})})}tokenize(e,n=this.defaultMode){if(!pt(this.lexerDefinitionErrors)){const i=Ne(this.lexerDefinitionErrors,s=>s.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+i)}return this.tokenizeInternal(e,n)}tokenizeInternal(e,n){let r,i,s,a,o,u,c,l,h,d,f,p,g,m,b;const v=e,y=v.length;let _=0,w=0;const k=this.hasCustom?0:Math.floor(e.length/10),x=new Array(k),T=[];let O=this.trackStartLines?1:void 0,I=this.trackStartLines?1:void 0;const M=AW(this.emptyGroups),R=this.trackStartLines,L=this.config.lineTerminatorsPattern;let E=0,A=[],N=[];const C=[],S=[];Object.freeze(S);let D;function P(){return A}function U(K){const ae=ss(K),ie=N[ae];return ie===void 0?S:ie}const Y=K=>{if(C.length===1&&K.tokenType.PUSH_MODE===void 0){const ae=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(K);T.push({offset:K.startOffset,line:K.startLine,column:K.startColumn,length:K.image.length,message:ae})}else{C.pop();const ae=Ba(C);A=this.patternIdxToConfig[ae],N=this.charCodeToPatternIdxToConfig[ae],E=A.length;const ie=this.canModeBeOptimized[ae]&&this.config.safeMode===!1;N&&ie?D=U:D=P}};function H(K){C.push(K),N=this.charCodeToPatternIdxToConfig[K],A=this.patternIdxToConfig[K],E=A.length,E=A.length;const ae=this.canModeBeOptimized[K]&&this.config.safeMode===!1;N&&ae?D=U:D=P}H.call(this,n);let ee;const V=this.config.recoveryEnabled;for(;_<y;){u=null;const K=v.charCodeAt(_),ae=D(K),ie=ae.length;for(r=0;r<ie;r++){ee=ae[r];const B=ee.pattern;c=null;const W=ee.short;if(W!==!1?K===W&&(u=B):ee.isCustom===!0?(b=B.exec(v,_,x,M),b!==null?(u=b[0],b.payload!==void 0&&(c=b.payload)):u=null):(this.updateLastIndex(B,_),u=this.match(B,e,_)),u!==null){if(o=ee.longerAlt,o!==void 0){const J=o.length;for(s=0;s<J;s++){const G=A[o[s]],ge=G.pattern;if(l=null,G.isCustom===!0?(b=ge.exec(v,_,x,M),b!==null?(a=b[0],b.payload!==void 0&&(l=b.payload)):a=null):(this.updateLastIndex(ge,_),a=this.match(ge,e,_)),a&&a.length>u.length){u=a,c=l,ee=G;break}}}break}}if(u!==null){if(h=u.length,d=ee.group,d!==void 0&&(f=ee.tokenTypeIdx,p=this.createTokenInstance(u,_,f,ee.tokenType,O,I,h),this.handlePayload(p,c),d===!1?w=this.addToken(x,w,p):M[d].push(p)),e=this.chopInput(e,h),_=_+h,I=this.computeNewColumn(I,h),R===!0&&ee.canLineTerminator===!0){let B=0,W,J;L.lastIndex=0;do W=L.test(u),W===!0&&(J=L.lastIndex-1,B++);while(W===!0);B!==0&&(O=O+B,I=h-J,this.updateTokenEndLineColumnLocation(p,d,J,B,O,I,h))}this.handleModes(ee,Y,H,p)}else{const B=_,W=O,J=I;let G=V===!1;for(;G===!1&&_<y;)for(e=this.chopInput(e,1),_++,i=0;i<E;i++){const ge=A[i],Q=ge.pattern,Ue=ge.short;if(Ue!==!1?v.charCodeAt(_)===Ue&&(G=!0):ge.isCustom===!0?G=Q.exec(v,_,x,M)!==null:(this.updateLastIndex(Q,_),G=Q.exec(e)!==null),G===!0)break}if(g=_-B,I=this.computeNewColumn(I,g),m=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(v,B,g,W,J),T.push({offset:B,line:W,column:J,length:g,message:m}),V===!1)break}}return this.hasCustom||(x.length=w),{tokens:x,groups:M,errors:T}}handleModes(e,n,r,i){if(e.pop===!0){const s=e.push;n(i),s!==void 0&&r.call(this,s)}else e.push!==void 0&&r.call(this,e.push)}chopInput(e,n){return e.substring(n)}updateLastIndex(e,n){e.lastIndex=n}updateTokenEndLineColumnLocation(e,n,r,i,s,a,o){let u,c;n!==void 0&&(u=r===o-1,c=u?-1:0,i===1&&u===!0||(e.endLine=s+c,e.endColumn=a-1+-c))}computeNewColumn(e,n){return e+n}createOffsetOnlyToken(e,n,r,i){return{image:e,startOffset:n,tokenTypeIdx:r,tokenType:i}}createStartOnlyToken(e,n,r,i,s,a){return{image:e,startOffset:n,startLine:s,startColumn:a,tokenTypeIdx:r,tokenType:i}}createFullToken(e,n,r,i,s,a,o){return{image:e,startOffset:n,endOffset:n+o-1,startLine:s,endLine:s,startColumn:a,endColumn:a+o-1,tokenTypeIdx:r,tokenType:i}}addTokenUsingPush(e,n,r){return e.push(r),n}addTokenUsingMemberAccess(e,n,r){return e[n]=r,n++,n}handlePayloadNoCustom(e,n){}handlePayloadWithCustom(e,n){n!==null&&(e.payload=n)}matchWithTest(e,n,r){return e.test(n)===!0?n.substring(r,e.lastIndex):null}matchWithExec(e,n){const r=e.exec(n);return r!==null?r[0]:null}}qn.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";qn.NA=/NOT_APPLICABLE/;function Pa(t){return BN(t)?t.LABEL:t.name}function BN(t){return ur(t.LABEL)&&t.LABEL!==""}const PW="parent",sE="categories",aE="label",oE="group",uE="push_mode",cE="pop_mode",lE="longer_alt",hE="line_breaks",fE="start_chars_hint";function GN(t){return FW(t)}function FW(t){const e=t.pattern,n={};if(n.name=t.name,Di(e)||(n.PATTERN=e),Re(t,PW))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return Re(t,sE)&&(n.CATEGORIES=t[sE]),Lc([n]),Re(t,aE)&&(n.LABEL=t[aE]),Re(t,oE)&&(n.GROUP=t[oE]),Re(t,cE)&&(n.POP_MODE=t[cE]),Re(t,uE)&&(n.PUSH_MODE=t[uE]),Re(t,lE)&&(n.LONGER_ALT=t[lE]),Re(t,hE)&&(n.LINE_BREAKS=t[hE]),Re(t,fE)&&(n.START_CHARS_HINT=t[fE]),n}const as=GN({name:"EOF",pattern:qn.NA});Lc([as]);function Ny(t,e,n,r,i,s,a,o){return{image:e,startOffset:n,endOffset:r,startLine:i,endLine:s,startColumn:a,endColumn:o,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}function zN(t,e){return Ic(t,e)}const Ta={buildMismatchTokenMessage({expected:t,actual:e,previous:n,ruleName:r}){return`Expecting ${BN(t)?`--> ${Pa(t)} <--`:`token of type --> ${t.name} <--`} but found --> '${e.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:t,ruleName:e}){return"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage({expectedPathsPerAlt:t,actual:e,previous:n,customUserDescription:r,ruleName:i}){const s="Expecting: ",o=`
but found: '`+Ur(e).image+"'";if(r)return s+r+o;{const u=cr(t,(d,f)=>d.concat(f),[]),c=Ne(u,d=>`[${Ne(d,f=>Pa(f)).join(", ")}]`),h=`one of these possible Token sequences:
${Ne(c,(d,f)=>`  ${f+1}. ${d}`).join(`
`)}`;return s+h+o}},buildEarlyExitMessage({expectedIterationPaths:t,actual:e,customUserDescription:n,ruleName:r}){const i="Expecting: ",a=`
but found: '`+Ur(e).image+"'";if(n)return i+n+a;{const u=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${Ne(t,c=>`[${Ne(c,l=>Pa(l)).join(",")}]`).join(" ,")}>`;return i+u+a}}};Object.freeze(Ta);const $W={buildRuleNotFoundError(t,e){return"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+`<-
inside top level rule: ->`+t.name+"<-"}},Cs={buildDuplicateFoundError(t,e){function n(l){return l instanceof bt?l.terminalType.name:l instanceof Un?l.nonTerminalName:""}const r=t.name,i=Ur(e),s=i.idx,a=ii(i),o=n(i),u=s>0;let c=`->${a}${u?s:""}<- ${o?`with argument: ->${o}<-`:""}
                  appears more than once (${e.length} times) in the top level rule: ->${r}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return c=c.replace(/[ \t]+/g," "),c=c.replace(/\s\s+/g,`
`),c},buildNamespaceConflictError(t){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${t.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(t){const e=Ne(t.prefixPath,i=>Pa(i)).join(", "),n=t.alternation.idx===0?"":t.alternation.idx;return`Ambiguous alternatives: <${t.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${n}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(t){const e=Ne(t.prefixPath,i=>Pa(i)).join(", "),n=t.alternation.idx===0?"":t.alternation.idx;let r=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(" ,")}> in <OR${n}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return r=r+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,r},buildEmptyRepetitionError(t){let e=ii(t.repetition);return t.repetition.idx!==0&&(e+=t.repetition.idx),`The repetition <${e}> within Rule <${t.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(t){return"deprecated"},buildEmptyAlternationError(t){return`Ambiguous empty alternative: <${t.emptyChoiceIdx+1}> in <OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(t){return`An Alternation cannot have more than 256 alternatives:
<OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
 has ${t.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(t){const e=t.topLevelRule.name,n=Ne(t.leftRecursionPath,s=>s.name),r=`${e} --> ${n.concat([e]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${e}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${r}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(t){return"deprecated"},buildDuplicateRuleNameError(t){let e;return t.topLevelRule instanceof fo?e=t.topLevelRule.name:e=t.topLevelRule,`Duplicate definition, rule: ->${e}<- is already defined in the grammar: ->${t.grammarName}<-`}};function UW(t,e){const n=new BW(t,e);return n.resolveRefs(),n.errors}class BW extends po{constructor(e,n){super(),this.nameToTopRule=e,this.errMsgProvider=n,this.errors=[]}resolveRefs(){Le(Qt(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){const n=this.nameToTopRule[e.nonTerminalName];if(n)e.referencedRule=n;else{const r=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:r,type:Bn.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}class GW extends Ud{constructor(e,n){super(),this.topProd=e,this.path=n,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=mn(this.path.ruleStack).reverse(),this.occurrenceStack=mn(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,n=[]){this.found||super.walk(e,n)}walkProdRef(e,n,r){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){const i=n.concat(r);this.updateExpectedNext(),this.walk(e.referencedRule,i)}}updateExpectedNext(){pt(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class zW extends GW{constructor(e,n){super(e,n),this.path=n,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,n,r){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){const i=n.concat(r),s=new Vn({definition:i});this.possibleTokTypes=Mc(s),this.found=!0}}}class Gd extends Ud{constructor(e,n){super(),this.topRule=e,this.occurrence=n,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class HW extends Gd{walkMany(e,n,r){if(e.idx===this.occurrence){const i=Ur(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof bt&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkMany(e,n,r)}}class dE extends Gd{walkManySep(e,n,r){if(e.idx===this.occurrence){const i=Ur(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof bt&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkManySep(e,n,r)}}class WW extends Gd{walkAtLeastOne(e,n,r){if(e.idx===this.occurrence){const i=Ur(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof bt&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOne(e,n,r)}}class pE extends Gd{walkAtLeastOneSep(e,n,r){if(e.idx===this.occurrence){const i=Ur(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof bt&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOneSep(e,n,r)}}function W0(t,e,n=[]){n=mn(n);let r=[],i=0;function s(o){return o.concat(ln(t,i+1))}function a(o){const u=W0(s(o),e,n);return r.concat(u)}for(;n.length<e&&i<t.length;){const o=t[i];if(o instanceof Vn)return a(o.definition);if(o instanceof Un)return a(o.definition);if(o instanceof gn)r=a(o.definition);else if(o instanceof fr){const u=o.definition.concat([new St({definition:o.definition})]);return a(u)}else if(o instanceof dr){const u=[new Vn({definition:o.definition}),new St({definition:[new bt({terminalType:o.separator})].concat(o.definition)})];return a(u)}else if(o instanceof Kn){const u=o.definition.concat([new St({definition:[new bt({terminalType:o.separator})].concat(o.definition)})]);r=a(u)}else if(o instanceof St){const u=o.definition.concat([new St({definition:o.definition})]);r=a(u)}else{if(o instanceof Zn)return Le(o.definition,u=>{pt(u.definition)===!1&&(r=a(u.definition))}),r;if(o instanceof bt)n.push(o.terminalType);else throw Error("non exhaustive match")}i++}return r.push({partialPath:n,suffixDef:ln(t,i)}),r}function HN(t,e,n,r){const i="EXIT_NONE_TERMINAL",s=[i],a="EXIT_ALTERNATIVE";let o=!1;const u=e.length,c=u-r-1,l=[],h=[];for(h.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!pt(h);){const d=h.pop();if(d===a){o&&Ba(h).idx<=c&&h.pop();continue}const f=d.def,p=d.idx,g=d.ruleStack,m=d.occurrenceStack;if(pt(f))continue;const b=f[0];if(b===i){const v={idx:p,def:ln(f),ruleStack:zu(g),occurrenceStack:zu(m)};h.push(v)}else if(b instanceof bt)if(p<u-1){const v=p+1,y=e[v];if(n(y,b.terminalType)){const _={idx:v,def:ln(f),ruleStack:g,occurrenceStack:m};h.push(_)}}else if(p===u-1)l.push({nextTokenType:b.terminalType,nextTokenOccurrence:b.idx,ruleStack:g,occurrenceStack:m}),o=!0;else throw Error("non exhaustive match");else if(b instanceof Un){const v=mn(g);v.push(b.nonTerminalName);const y=mn(m);y.push(b.idx);const _={idx:p,def:b.definition.concat(s,ln(f)),ruleStack:v,occurrenceStack:y};h.push(_)}else if(b instanceof gn){const v={idx:p,def:ln(f),ruleStack:g,occurrenceStack:m};h.push(v),h.push(a);const y={idx:p,def:b.definition.concat(ln(f)),ruleStack:g,occurrenceStack:m};h.push(y)}else if(b instanceof fr){const v=new St({definition:b.definition,idx:b.idx}),y=b.definition.concat([v],ln(f)),_={idx:p,def:y,ruleStack:g,occurrenceStack:m};h.push(_)}else if(b instanceof dr){const v=new bt({terminalType:b.separator}),y=new St({definition:[v].concat(b.definition),idx:b.idx}),_=b.definition.concat([y],ln(f)),w={idx:p,def:_,ruleStack:g,occurrenceStack:m};h.push(w)}else if(b instanceof Kn){const v={idx:p,def:ln(f),ruleStack:g,occurrenceStack:m};h.push(v),h.push(a);const y=new bt({terminalType:b.separator}),_=new St({definition:[y].concat(b.definition),idx:b.idx}),w=b.definition.concat([_],ln(f)),k={idx:p,def:w,ruleStack:g,occurrenceStack:m};h.push(k)}else if(b instanceof St){const v={idx:p,def:ln(f),ruleStack:g,occurrenceStack:m};h.push(v),h.push(a);const y=new St({definition:b.definition,idx:b.idx}),_=b.definition.concat([y],ln(f)),w={idx:p,def:_,ruleStack:g,occurrenceStack:m};h.push(w)}else if(b instanceof Zn)for(let v=b.definition.length-1;v>=0;v--){const y=b.definition[v],_={idx:p,def:y.definition.concat(ln(f)),ruleStack:g,occurrenceStack:m};h.push(_),h.push(a)}else if(b instanceof Vn)h.push({idx:p,def:b.definition.concat(ln(f)),ruleStack:g,occurrenceStack:m});else if(b instanceof fo)h.push(YW(b,p,g,m));else throw Error("non exhaustive match")}return l}function YW(t,e,n,r){const i=mn(n);i.push(t.name);const s=mn(r);return s.push(1),{idx:e,def:t.definition,ruleStack:i,occurrenceStack:s}}var xt;(function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"})(xt||(xt={}));function Sy(t){if(t instanceof gn||t==="Option")return xt.OPTION;if(t instanceof St||t==="Repetition")return xt.REPETITION;if(t instanceof fr||t==="RepetitionMandatory")return xt.REPETITION_MANDATORY;if(t instanceof dr||t==="RepetitionMandatoryWithSeparator")return xt.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof Kn||t==="RepetitionWithSeparator")return xt.REPETITION_WITH_SEPARATOR;if(t instanceof Zn||t==="Alternation")return xt.ALTERNATION;throw Error("non exhaustive match")}function gE(t){const{occurrence:e,rule:n,prodType:r,maxLookahead:i}=t,s=Sy(r);return s===xt.ALTERNATION?zd(e,n,i):Hd(e,n,s,i)}function qW(t,e,n,r,i,s){const a=zd(t,e,n),o=qN(a)?xf:Ic;return s(a,r,o,i)}function XW(t,e,n,r,i,s){const a=Hd(t,e,i,n),o=qN(a)?xf:Ic;return s(a[0],o,r)}function VW(t,e,n,r){const i=t.length,s=Pr(t,a=>Pr(a,o=>o.length===1));if(e)return function(a){const o=Ne(a,u=>u.GATE);for(let u=0;u<i;u++){const c=t[u],l=c.length,h=o[u];if(!(h!==void 0&&h.call(this)===!1))e:for(let d=0;d<l;d++){const f=c[d],p=f.length;for(let g=0;g<p;g++){const m=this.LA(g+1);if(n(m,f[g])===!1)continue e}return u}}};if(s&&!r){const a=Ne(t,u=>Fr(u)),o=cr(a,(u,c,l)=>(Le(c,h=>{Re(u,h.tokenTypeIdx)||(u[h.tokenTypeIdx]=l),Le(h.categoryMatches,d=>{Re(u,d)||(u[d]=l)})}),u),{});return function(){const u=this.LA(1);return o[u.tokenTypeIdx]}}else return function(){for(let a=0;a<i;a++){const o=t[a],u=o.length;e:for(let c=0;c<u;c++){const l=o[c],h=l.length;for(let d=0;d<h;d++){const f=this.LA(d+1);if(n(f,l[d])===!1)continue e}return a}}}}function KW(t,e,n){const r=Pr(t,s=>s.length===1),i=t.length;if(r&&!n){const s=Fr(t);if(s.length===1&&pt(s[0].categoryMatches)){const o=s[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===o}}else{const a=cr(s,(o,u,c)=>(o[u.tokenTypeIdx]=!0,Le(u.categoryMatches,l=>{o[l]=!0}),o),[]);return function(){const o=this.LA(1);return a[o.tokenTypeIdx]===!0}}}else return function(){e:for(let s=0;s<i;s++){const a=t[s],o=a.length;for(let u=0;u<o;u++){const c=this.LA(u+1);if(e(c,a[u])===!1)continue e}return!0}return!1}}class ZW extends Ud{constructor(e,n,r){super(),this.topProd=e,this.targetOccurrence=n,this.targetProdType=r}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,n,r,i){return e.idx===this.targetOccurrence&&this.targetProdType===n?(this.restDef=r.concat(i),!0):!1}walkOption(e,n,r){this.checkIsTarget(e,xt.OPTION,n,r)||super.walkOption(e,n,r)}walkAtLeastOne(e,n,r){this.checkIsTarget(e,xt.REPETITION_MANDATORY,n,r)||super.walkOption(e,n,r)}walkAtLeastOneSep(e,n,r){this.checkIsTarget(e,xt.REPETITION_MANDATORY_WITH_SEPARATOR,n,r)||super.walkOption(e,n,r)}walkMany(e,n,r){this.checkIsTarget(e,xt.REPETITION,n,r)||super.walkOption(e,n,r)}walkManySep(e,n,r){this.checkIsTarget(e,xt.REPETITION_WITH_SEPARATOR,n,r)||super.walkOption(e,n,r)}}class WN extends po{constructor(e,n,r){super(),this.targetOccurrence=e,this.targetProdType=n,this.targetRef=r,this.result=[]}checkIsTarget(e,n){e.idx===this.targetOccurrence&&this.targetProdType===n&&(this.targetRef===void 0||e===this.targetRef)&&(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,xt.OPTION)}visitRepetition(e){this.checkIsTarget(e,xt.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,xt.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,xt.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,xt.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,xt.ALTERNATION)}}function mE(t){const e=new Array(t);for(let n=0;n<t;n++)e[n]=[];return e}function pg(t){let e=[""];for(let n=0;n<t.length;n++){const r=t[n],i=[];for(let s=0;s<e.length;s++){const a=e[s];i.push(a+"_"+r.tokenTypeIdx);for(let o=0;o<r.categoryMatches.length;o++){const u="_"+r.categoryMatches[o];i.push(a+u)}}e=i}return e}function jW(t,e,n){for(let r=0;r<t.length;r++){if(r===n)continue;const i=t[r];for(let s=0;s<e.length;s++){const a=e[s];if(i[a]===!0)return!1}}return!0}function YN(t,e){const n=Ne(t,a=>W0([a],1)),r=mE(n.length),i=Ne(n,a=>{const o={};return Le(a,u=>{const c=pg(u.partialPath);Le(c,l=>{o[l]=!0})}),o});let s=n;for(let a=1;a<=e;a++){const o=s;s=mE(o.length);for(let u=0;u<o.length;u++){const c=o[u];for(let l=0;l<c.length;l++){const h=c[l].partialPath,d=c[l].suffixDef,f=pg(h);if(jW(i,f,u)||pt(d)||h.length===e){const g=r[u];if(Y0(g,h)===!1){g.push(h);for(let m=0;m<f.length;m++){const b=f[m];i[u][b]=!0}}}else{const g=W0(d,a+1,h);s[u]=s[u].concat(g),Le(g,m=>{const b=pg(m.partialPath);Le(b,v=>{i[u][v]=!0})})}}}}return r}function zd(t,e,n,r){const i=new WN(t,xt.ALTERNATION,r);return e.accept(i),YN(i.result,n)}function Hd(t,e,n,r){const i=new WN(t,n);e.accept(i);const s=i.result,o=new ZW(e,t,n).startWalking(),u=new Vn({definition:s}),c=new Vn({definition:o});return YN([u,c],r)}function Y0(t,e){e:for(let n=0;n<t.length;n++){const r=t[n];if(r.length===e.length){for(let i=0;i<r.length;i++){const s=e[i],a=r[i];if((s===a||a.categoryMatchesMap[s.tokenTypeIdx]!==void 0)===!1)continue e}return!0}}return!1}function QW(t,e){return t.length<e.length&&Pr(t,(n,r)=>{const i=e[r];return n===i||i.categoryMatchesMap[n.tokenTypeIdx]})}function qN(t){return Pr(t,e=>Pr(e,n=>Pr(n,r=>pt(r.categoryMatches))))}function JW(t){const e=t.lookaheadStrategy.validate({rules:t.rules,tokenTypes:t.tokenTypes,grammarName:t.grammarName});return Ne(e,n=>Object.assign({type:Bn.CUSTOM_LOOKAHEAD_VALIDATION},n))}function eY(t,e,n,r){const i=_r(t,u=>tY(u,n)),s=dY(t,e,n),a=_r(t,u=>cY(u,n)),o=_r(t,u=>iY(u,t,r,n));return i.concat(s,a,o)}function tY(t,e){const n=new rY;t.accept(n);const r=n.allProductions,i=sC(r,nY),s=zr(i,o=>o.length>1);return Ne(Qt(s),o=>{const u=Ur(o),c=e.buildDuplicateFoundError(t,o),l=ii(u),h={message:c,type:Bn.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:l,occurrence:u.idx},d=XN(u);return d&&(h.parameter=d),h})}function nY(t){return`${ii(t)}_#_${t.idx}_#_${XN(t)}`}function XN(t){return t instanceof bt?t.terminalType.name:t instanceof Un?t.nonTerminalName:""}class rY extends po{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}}function iY(t,e,n,r){const i=[];if(cr(e,(a,o)=>o.name===t.name?a+1:a,0)>1){const a=r.buildDuplicateRuleNameError({topLevelRule:t,grammarName:n});i.push({message:a,type:Bn.DUPLICATE_RULE_NAME,ruleName:t.name})}return i}function sY(t,e,n){const r=[];let i;return Gn(e,t)||(i=`Invalid rule override, rule: ->${t}<- cannot be overridden in the grammar: ->${n}<-as it is not defined in any of the super grammars `,r.push({message:i,type:Bn.INVALID_RULE_OVERRIDE,ruleName:t})),r}function VN(t,e,n,r=[]){const i=[],s=fh(e.definition);if(pt(s))return[];{const a=t.name;Gn(s,t)&&i.push({message:n.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:r}),type:Bn.LEFT_RECURSION,ruleName:a});const u=Hf(s,r.concat([t])),c=_r(u,l=>{const h=mn(r);return h.push(l),VN(t,l,n,h)});return i.concat(c)}}function fh(t){let e=[];if(pt(t))return e;const n=Ur(t);if(n instanceof Un)e.push(n.referencedRule);else if(n instanceof Vn||n instanceof gn||n instanceof fr||n instanceof dr||n instanceof Kn||n instanceof St)e=e.concat(fh(n.definition));else if(n instanceof Zn)e=Fr(Ne(n.definition,s=>fh(s.definition)));else if(!(n instanceof bt))throw Error("non exhaustive match");const r=_f(n),i=t.length>1;if(r&&i){const s=ln(t);return e.concat(fh(s))}else return e}class Cy extends po{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}}function aY(t,e){const n=new Cy;t.accept(n);const r=n.alternations;return _r(r,s=>{const a=zu(s.definition);return _r(a,(o,u)=>{const c=HN([o],[],Ic,1);return pt(c)?[{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:s,emptyChoiceIdx:u}),type:Bn.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:s.idx,alternative:u+1}]:[]})})}function oY(t,e,n){const r=new Cy;t.accept(r);let i=r.alternations;return i=zf(i,a=>a.ignoreAmbiguities===!0),_r(i,a=>{const o=a.idx,u=a.maxLookahead||e,c=zd(o,t,u,a),l=hY(c,a,t,n),h=fY(c,a,t,n);return l.concat(h)})}class uY extends po{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}}function cY(t,e){const n=new Cy;t.accept(n);const r=n.alternations;return _r(r,s=>s.definition.length>255?[{message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:s}),type:Bn.TOO_MANY_ALTS,ruleName:t.name,occurrence:s.idx}]:[])}function lY(t,e,n){const r=[];return Le(t,i=>{const s=new uY;i.accept(s);const a=s.allProductions;Le(a,o=>{const u=Sy(o),c=o.maxLookahead||e,l=o.idx,d=Hd(l,i,u,c)[0];if(pt(Fr(d))){const f=n.buildEmptyRepetitionError({topLevelRule:i,repetition:o});r.push({message:f,type:Bn.NO_NON_EMPTY_LOOKAHEAD,ruleName:i.name})}})}),r}function hY(t,e,n,r){const i=[],s=cr(t,(o,u,c)=>(e.definition[c].ignoreAmbiguities===!0||Le(u,l=>{const h=[c];Le(t,(d,f)=>{c!==f&&Y0(d,l)&&e.definition[f].ignoreAmbiguities!==!0&&h.push(f)}),h.length>1&&!Y0(i,l)&&(i.push(l),o.push({alts:h,path:l}))}),o),[]);return Ne(s,o=>{const u=Ne(o.alts,l=>l+1);return{message:r.buildAlternationAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:u,prefixPath:o.path}),type:Bn.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:e.idx,alternatives:o.alts}})}function fY(t,e,n,r){const i=cr(t,(a,o,u)=>{const c=Ne(o,l=>({idx:u,path:l}));return a.concat(c)},[]);return hc(_r(i,a=>{if(e.definition[a.idx].ignoreAmbiguities===!0)return[];const u=a.idx,c=a.path,l=Ar(i,d=>e.definition[d.idx].ignoreAmbiguities!==!0&&d.idx<u&&QW(d.path,c));return Ne(l,d=>{const f=[d.idx+1,u+1],p=e.idx===0?"":e.idx;return{message:r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:f,prefixPath:d.path}),type:Bn.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:p,alternatives:f}})}))}function dY(t,e,n){const r=[],i=Ne(e,s=>s.name);return Le(t,s=>{const a=s.name;if(Gn(i,a)){const o=n.buildNamespaceConflictError(s);r.push({message:o,type:Bn.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:a})}}),r}function pY(t){const e=Am(t,{errMsgProvider:$W}),n={};return Le(t.rules,r=>{n[r.name]=r}),UW(n,e.errMsgProvider)}function gY(t){return t=Am(t,{errMsgProvider:Cs}),eY(t.rules,t.tokenTypes,t.errMsgProvider,t.grammarName)}const KN="MismatchedTokenException",ZN="NoViableAltException",jN="EarlyExitException",QN="NotAllInputParsedException",JN=[KN,ZN,jN,QN];Object.freeze(JN);function wf(t){return Gn(JN,t.name)}class Wd extends Error{constructor(e,n){super(e),this.token=n,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class eS extends Wd{constructor(e,n,r){super(e,n),this.previousToken=r,this.name=KN}}class mY extends Wd{constructor(e,n,r){super(e,n),this.previousToken=r,this.name=ZN}}class bY extends Wd{constructor(e,n){super(e,n),this.name=QN}}class yY extends Wd{constructor(e,n,r){super(e,n),this.previousToken=r,this.name=jN}}const gg={},tS="InRuleRecoveryException";class vY extends Error{constructor(e){super(e),this.name=tS}}class _Y{initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Re(e,"recoveryEnabled")?e.recoveryEnabled:Ui.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=EY)}getTokenToInsert(e){const n=Ny(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return n.isInsertedInRecovery=!0,n}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,n,r,i){const s=this.findReSyncTokenType(),a=this.exportLexerState(),o=[];let u=!1;const c=this.LA(1);let l=this.LA(1);const h=()=>{const d=this.LA(0),f=this.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:c,previous:d,ruleName:this.getCurrRuleFullName()}),p=new eS(f,c,this.LA(0));p.resyncedTokens=zu(o),this.SAVE_ERROR(p)};for(;!u;)if(this.tokenMatcher(l,i)){h();return}else if(r.call(this)){h(),e.apply(this,n);return}else this.tokenMatcher(l,s)?u=!0:(l=this.SKIP_TOKEN(),this.addToResyncTokens(l,o));this.importLexerState(a)}shouldInRepetitionRecoveryBeTried(e,n,r){return!(r===!1||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,n)))}getFollowsForInRuleRecovery(e,n){const r=this.getCurrentGrammarPath(e,n);return this.getNextPossibleTokenTypes(r)}tryInRuleRecovery(e,n){if(this.canRecoverWithSingleTokenInsertion(e,n))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){const r=this.SKIP_TOKEN();return this.consumeToken(),r}throw new vY("sad sad panda")}canPerformInRuleRecovery(e,n){return this.canRecoverWithSingleTokenInsertion(e,n)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,n){if(!this.canTokenTypeBeInsertedInRecovery(e)||pt(n))return!1;const r=this.LA(1);return Ua(n,s=>this.tokenMatcher(r,s))!==void 0}canRecoverWithSingleTokenDeletion(e){return this.canTokenTypeBeDeletedInRecovery(e)?this.tokenMatcher(this.LA(2),e):!1}isInCurrentRuleReSyncSet(e){const n=this.getCurrFollowKey(),r=this.getFollowSetFromFollowKey(n);return Gn(r,e)}findReSyncTokenType(){const e=this.flattenFollowSet();let n=this.LA(1),r=2;for(;;){const i=Ua(e,s=>zN(n,s));if(i!==void 0)return i;n=this.LA(r),r++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return gg;const e=this.getLastExplicitRuleShortName(),n=this.getLastExplicitRuleOccurrenceIndex(),r=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:n,inRule:this.shortRuleNameToFullName(r)}}buildFullFollowKeyStack(){const e=this.RULE_STACK,n=this.RULE_OCCURRENCE_STACK;return Ne(e,(r,i)=>i===0?gg:{ruleName:this.shortRuleNameToFullName(r),idxInCallingRule:n[i],inRule:this.shortRuleNameToFullName(e[i-1])})}flattenFollowSet(){const e=Ne(this.buildFullFollowKeyStack(),n=>this.getFollowSetFromFollowKey(n));return Fr(e)}getFollowSetFromFollowKey(e){if(e===gg)return[as];const n=e.ruleName+e.idxInCallingRule+ON+e.inRule;return this.resyncFollows[n]}addToResyncTokens(e,n){return this.tokenMatcher(e,as)||n.push(e),n}reSyncTo(e){const n=[];let r=this.LA(1);for(;this.tokenMatcher(r,e)===!1;)r=this.SKIP_TOKEN(),this.addToResyncTokens(r,n);return zu(n)}attemptInRepetitionRecovery(e,n,r,i,s,a,o){}getCurrentGrammarPath(e,n){const r=this.getHumanReadableRuleStack(),i=mn(this.RULE_OCCURRENCE_STACK);return{ruleStack:r,occurrenceStack:i,lastTok:e,lastTokOccurrence:n}}getHumanReadableRuleStack(){return Ne(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}}function EY(t,e,n,r,i,s,a){const o=this.getKeyForAutomaticLookahead(r,i);let u=this.firstAfterRepMap[o];if(u===void 0){const d=this.getCurrRuleFullName(),f=this.getGAstProductions()[d];u=new s(f,i).startWalking(),this.firstAfterRepMap[o]=u}let c=u.token,l=u.occurrence;const h=u.isEndOfRule;this.RULE_STACK.length===1&&h&&c===void 0&&(c=as,l=1),!(c===void 0||l===void 0)&&this.shouldInRepetitionRecoveryBeTried(c,l,a)&&this.tryInRepetitionRecovery(t,e,n,c)}const xY=4,hs=8,nS=1<<hs,rS=2<<hs,q0=3<<hs,X0=4<<hs,V0=5<<hs,dh=6<<hs;function mg(t,e,n){return n|e|t}class Ry{constructor(e){var n;this.maxLookahead=(n=e==null?void 0:e.maxLookahead)!==null&&n!==void 0?n:Ui.maxLookahead}validate(e){const n=this.validateNoLeftRecursion(e.rules);if(pt(n)){const r=this.validateEmptyOrAlternatives(e.rules),i=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),s=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...n,...r,...i,...s]}return n}validateNoLeftRecursion(e){return _r(e,n=>VN(n,n,Cs))}validateEmptyOrAlternatives(e){return _r(e,n=>aY(n,Cs))}validateAmbiguousAlternationAlternatives(e,n){return _r(e,r=>oY(r,n,Cs))}validateSomeNonEmptyLookaheadPath(e,n){return lY(e,n,Cs)}buildLookaheadForAlternation(e){return qW(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,VW)}buildLookaheadForOptional(e){return XW(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,Sy(e.prodType),KW)}}class wY{initLooksAhead(e){this.dynamicTokensEnabled=Re(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:Ui.dynamicTokensEnabled,this.maxLookahead=Re(e,"maxLookahead")?e.maxLookahead:Ui.maxLookahead,this.lookaheadStrategy=Re(e,"lookaheadStrategy")?e.lookaheadStrategy:new Ry({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){Le(e,n=>{this.TRACE_INIT(`${n.name} Rule Lookahead`,()=>{const{alternation:r,repetition:i,option:s,repetitionMandatory:a,repetitionMandatoryWithSeparator:o,repetitionWithSeparator:u}=TY(n);Le(r,c=>{const l=c.idx===0?"":c.idx;this.TRACE_INIT(`${ii(c)}${l}`,()=>{const h=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:c.idx,rule:n,maxLookahead:c.maxLookahead||this.maxLookahead,hasPredicates:c.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),d=mg(this.fullRuleNameToShort[n.name],nS,c.idx);this.setLaFuncCache(d,h)})}),Le(i,c=>{this.computeLookaheadFunc(n,c.idx,q0,"Repetition",c.maxLookahead,ii(c))}),Le(s,c=>{this.computeLookaheadFunc(n,c.idx,rS,"Option",c.maxLookahead,ii(c))}),Le(a,c=>{this.computeLookaheadFunc(n,c.idx,X0,"RepetitionMandatory",c.maxLookahead,ii(c))}),Le(o,c=>{this.computeLookaheadFunc(n,c.idx,dh,"RepetitionMandatoryWithSeparator",c.maxLookahead,ii(c))}),Le(u,c=>{this.computeLookaheadFunc(n,c.idx,V0,"RepetitionWithSeparator",c.maxLookahead,ii(c))})})})}computeLookaheadFunc(e,n,r,i,s,a){this.TRACE_INIT(`${a}${n===0?"":n}`,()=>{const o=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:n,rule:e,maxLookahead:s||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:i}),u=mg(this.fullRuleNameToShort[e.name],r,n);this.setLaFuncCache(u,o)})}getKeyForAutomaticLookahead(e,n){const r=this.getLastExplicitRuleShortName();return mg(r,e,n)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,n){this.lookAheadFuncsCache.set(e,n)}}class AY extends po{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}}const Ml=new AY;function TY(t){Ml.reset(),t.accept(Ml);const e=Ml.dslMethods;return Ml.reset(),e}function bE(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset)}function yE(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}function kY(t,e,n){t.children[n]===void 0?t.children[n]=[e]:t.children[n].push(e)}function NY(t,e,n){t.children[e]===void 0?t.children[e]=[n]:t.children[e].push(n)}const SY="name";function iS(t,e){Object.defineProperty(t,SY,{enumerable:!1,configurable:!0,writable:!1,value:e})}function CY(t,e){const n=Gu(t),r=n.length;for(let i=0;i<r;i++){const s=n[i],a=t[s],o=a.length;for(let u=0;u<o;u++){const c=a[u];c.tokenTypeIdx===void 0&&this[c.name](c.children,e)}}}function RY(t,e){const n=function(){};iS(n,t+"BaseSemantics");const r={visit:function(i,s){if(vr(i)&&(i=i[0]),!Di(i))return this[i.name](i.children,s)},validateVisitor:function(){const i=MY(this,e);if(!pt(i)){const s=Ne(i,a=>a.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${s.join(`

`).replace(/\n/g,`
	`)}`)}}};return n.prototype=r,n.prototype.constructor=n,n._RULE_NAMES=e,n}function OY(t,e,n){const r=function(){};iS(r,t+"BaseSemanticsWithDefaults");const i=Object.create(n.prototype);return Le(e,s=>{i[s]=CY}),r.prototype=i,r.prototype.constructor=r,r}var K0;(function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"})(K0||(K0={}));function MY(t,e){return IY(t,e)}function IY(t,e){const n=Ar(e,i=>Zs(t[i])===!1),r=Ne(n,i=>({msg:`Missing visitor method: <${i}> on ${t.constructor.name} CST Visitor.`,type:K0.MISSING_METHOD,methodName:i}));return hc(r)}class LY{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=Re(e,"nodeLocationTracking")?e.nodeLocationTracking:Ui.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=Kt,this.cstFinallyStateUpdate=Kt,this.cstPostTerminal=Kt,this.cstPostNonTerminal=Kt,this.cstPostRule=Kt;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=yE,this.setNodeLocationFromNode=yE,this.cstPostRule=Kt,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=Kt,this.setNodeLocationFromNode=Kt,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=bE,this.setNodeLocationFromNode=bE,this.cstPostRule=Kt,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=Kt,this.setNodeLocationFromNode=Kt,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=Kt,this.setNodeLocationFromNode=Kt,this.cstPostRule=Kt,this.setInitialNodeLocation=Kt;else throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){const n=this.LA(1);e.location={startOffset:n.startOffset,startLine:n.startLine,startColumn:n.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){const n={name:e,children:Object.create(null)};this.setInitialNodeLocation(n),this.CST_STACK.push(n)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){const n=this.LA(0),r=e.location;r.startOffset<=n.startOffset?(r.endOffset=n.endOffset,r.endLine=n.endLine,r.endColumn=n.endColumn):(r.startOffset=NaN,r.startLine=NaN,r.startColumn=NaN)}cstPostRuleOnlyOffset(e){const n=this.LA(0),r=e.location;r.startOffset<=n.startOffset?r.endOffset=n.endOffset:r.startOffset=NaN}cstPostTerminal(e,n){const r=this.CST_STACK[this.CST_STACK.length-1];kY(r,n,e),this.setNodeLocationFromToken(r.location,n)}cstPostNonTerminal(e,n){const r=this.CST_STACK[this.CST_STACK.length-1];NY(r,n,e),this.setNodeLocationFromNode(r.location,e.location)}getBaseCstVisitorConstructor(){if(Di(this.baseCstVisitorConstructor)){const e=RY(this.className,Gu(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(Di(this.baseCstVisitorWithDefaultsConstructor)){const e=OY(this.className,Gu(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){const e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}}class DY{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Tf}LA(e){const n=this.currIdx+e;return n<0||this.tokVectorLength<=n?Tf:this.tokVector[n]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}class PY{ACTION(e){return e.call(this)}consume(e,n,r){return this.consumeInternal(n,e,r)}subrule(e,n,r){return this.subruleInternal(n,e,r)}option(e,n){return this.optionInternal(n,e)}or(e,n){return this.orInternal(n,e)}many(e,n){return this.manyInternal(e,n)}atLeastOne(e,n){return this.atLeastOneInternal(e,n)}CONSUME(e,n){return this.consumeInternal(e,0,n)}CONSUME1(e,n){return this.consumeInternal(e,1,n)}CONSUME2(e,n){return this.consumeInternal(e,2,n)}CONSUME3(e,n){return this.consumeInternal(e,3,n)}CONSUME4(e,n){return this.consumeInternal(e,4,n)}CONSUME5(e,n){return this.consumeInternal(e,5,n)}CONSUME6(e,n){return this.consumeInternal(e,6,n)}CONSUME7(e,n){return this.consumeInternal(e,7,n)}CONSUME8(e,n){return this.consumeInternal(e,8,n)}CONSUME9(e,n){return this.consumeInternal(e,9,n)}SUBRULE(e,n){return this.subruleInternal(e,0,n)}SUBRULE1(e,n){return this.subruleInternal(e,1,n)}SUBRULE2(e,n){return this.subruleInternal(e,2,n)}SUBRULE3(e,n){return this.subruleInternal(e,3,n)}SUBRULE4(e,n){return this.subruleInternal(e,4,n)}SUBRULE5(e,n){return this.subruleInternal(e,5,n)}SUBRULE6(e,n){return this.subruleInternal(e,6,n)}SUBRULE7(e,n){return this.subruleInternal(e,7,n)}SUBRULE8(e,n){return this.subruleInternal(e,8,n)}SUBRULE9(e,n){return this.subruleInternal(e,9,n)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,n,r=kf){if(Gn(this.definedRulesNames,e)){const a={message:Cs.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:Bn.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(a)}this.definedRulesNames.push(e);const i=this.defineRule(e,n,r);return this[e]=i,i}OVERRIDE_RULE(e,n,r=kf){const i=sY(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(i);const s=this.defineRule(e,n,r);return this[e]=s,s}BACKTRACK(e,n){return function(){this.isBackTrackingStack.push(1);const r=this.saveRecogState();try{return e.apply(this,n),!0}catch(i){if(wf(i))return!1;throw i}finally{this.reloadRecogState(r),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return YH(Qt(this.gastProductionsCache))}}class FY{initRecognizerEngine(e,n){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=xf,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Re(n,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(vr(e)){if(pt(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(vr(e))this.tokensMap=cr(e,(s,a)=>(s[a.name]=a,s),{});else if(Re(e,"modes")&&Pr(Fr(Qt(e.modes)),DW)){const s=Fr(Qt(e.modes)),a=wm(s);this.tokensMap=cr(a,(o,u)=>(o[u.name]=u,o),{})}else if(aC(e))this.tokensMap=mn(e);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=as;const r=Re(e,"modes")?Fr(Qt(e.modes)):Qt(e),i=Pr(r,s=>pt(s.categoryMatches));this.tokenMatcher=i?xf:Ic,Lc(Qt(this.tokensMap))}defineRule(e,n,r){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const i=Re(r,"resyncEnabled")?r.resyncEnabled:kf.resyncEnabled,s=Re(r,"recoveryValueFunc")?r.recoveryValueFunc:kf.recoveryValueFunc,a=this.ruleShortNameIdx<<xY+hs;this.ruleShortNameIdx++,this.shortRuleNameToFull[a]=e,this.fullRuleNameToShort[e]=a;let o;return this.outputCst===!0?o=function(...l){try{this.ruleInvocationStateUpdate(a,e,this.subruleIdx),n.apply(this,l);const h=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(h),h}catch(h){return this.invokeRuleCatch(h,i,s)}finally{this.ruleFinallyStateUpdate()}}:o=function(...l){try{return this.ruleInvocationStateUpdate(a,e,this.subruleIdx),n.apply(this,l)}catch(h){return this.invokeRuleCatch(h,i,s)}finally{this.ruleFinallyStateUpdate()}},Object.assign(o,{ruleName:e,originalGrammarAction:n})}invokeRuleCatch(e,n,r){const i=this.RULE_STACK.length===1,s=n&&!this.isBackTracking()&&this.recoveryEnabled;if(wf(e)){const a=e;if(s){const o=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(o))if(a.resyncedTokens=this.reSyncTo(o),this.outputCst){const u=this.CST_STACK[this.CST_STACK.length-1];return u.recoveredNode=!0,u}else return r(e);else{if(this.outputCst){const u=this.CST_STACK[this.CST_STACK.length-1];u.recoveredNode=!0,a.partialCstResult=u}throw a}}else{if(i)return this.moveToTerminatedState(),r(e);throw a}}else throw e}optionInternal(e,n){const r=this.getKeyForAutomaticLookahead(rS,n);return this.optionInternalLogic(e,n,r)}optionInternalLogic(e,n,r){let i=this.getLaFuncFromCache(r),s;if(typeof e!="function"){s=e.DEF;const a=e.GATE;if(a!==void 0){const o=i;i=()=>a.call(this)&&o.call(this)}}else s=e;if(i.call(this)===!0)return s.call(this)}atLeastOneInternal(e,n){const r=this.getKeyForAutomaticLookahead(X0,e);return this.atLeastOneInternalLogic(e,n,r)}atLeastOneInternalLogic(e,n,r){let i=this.getLaFuncFromCache(r),s;if(typeof n!="function"){s=n.DEF;const a=n.GATE;if(a!==void 0){const o=i;i=()=>a.call(this)&&o.call(this)}}else s=n;if(i.call(this)===!0){let a=this.doSingleRepetition(s);for(;i.call(this)===!0&&a===!0;)a=this.doSingleRepetition(s)}else throw this.raiseEarlyExitException(e,xt.REPETITION_MANDATORY,n.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,n],i,X0,e,WW)}atLeastOneSepFirstInternal(e,n){const r=this.getKeyForAutomaticLookahead(dh,e);this.atLeastOneSepFirstInternalLogic(e,n,r)}atLeastOneSepFirstInternalLogic(e,n,r){const i=n.DEF,s=n.SEP;if(this.getLaFuncFromCache(r).call(this)===!0){i.call(this);const o=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,o,i,pE],o,dh,e,pE)}else throw this.raiseEarlyExitException(e,xt.REPETITION_MANDATORY_WITH_SEPARATOR,n.ERR_MSG)}manyInternal(e,n){const r=this.getKeyForAutomaticLookahead(q0,e);return this.manyInternalLogic(e,n,r)}manyInternalLogic(e,n,r){let i=this.getLaFuncFromCache(r),s;if(typeof n!="function"){s=n.DEF;const o=n.GATE;if(o!==void 0){const u=i;i=()=>o.call(this)&&u.call(this)}}else s=n;let a=!0;for(;i.call(this)===!0&&a===!0;)a=this.doSingleRepetition(s);this.attemptInRepetitionRecovery(this.manyInternal,[e,n],i,q0,e,HW,a)}manySepFirstInternal(e,n){const r=this.getKeyForAutomaticLookahead(V0,e);this.manySepFirstInternalLogic(e,n,r)}manySepFirstInternalLogic(e,n,r){const i=n.DEF,s=n.SEP;if(this.getLaFuncFromCache(r).call(this)===!0){i.call(this);const o=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,o,i,dE],o,V0,e,dE)}}repetitionSepSecondInternal(e,n,r,i,s){for(;r();)this.CONSUME(n),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,n,r,i,s],r,dh,e,s)}doSingleRepetition(e){const n=this.getLexerPosition();return e.call(this),this.getLexerPosition()>n}orInternal(e,n){const r=this.getKeyForAutomaticLookahead(nS,n),i=vr(e)?e:e.DEF,a=this.getLaFuncFromCache(r).call(this,i);if(a!==void 0)return i[a].ALT.call(this);this.raiseNoAltException(n,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const e=this.LA(1),n=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new bY(n,e))}}subruleInternal(e,n,r){let i;try{const s=r!==void 0?r.ARGS:void 0;return this.subruleIdx=n,i=e.apply(this,s),this.cstPostNonTerminal(i,r!==void 0&&r.LABEL!==void 0?r.LABEL:e.ruleName),i}catch(s){throw this.subruleInternalError(s,r,e.ruleName)}}subruleInternalError(e,n,r){throw wf(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,n!==void 0&&n.LABEL!==void 0?n.LABEL:r),delete e.partialCstResult),e}consumeInternal(e,n,r){let i;try{const s=this.LA(1);this.tokenMatcher(s,e)===!0?(this.consumeToken(),i=s):this.consumeInternalError(e,s,r)}catch(s){i=this.consumeInternalRecovery(e,n,s)}return this.cstPostTerminal(r!==void 0&&r.LABEL!==void 0?r.LABEL:e.name,i),i}consumeInternalError(e,n,r){let i;const s=this.LA(0);throw r!==void 0&&r.ERR_MSG?i=r.ERR_MSG:i=this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:n,previous:s,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new eS(i,n,s))}consumeInternalRecovery(e,n,r){if(this.recoveryEnabled&&r.name==="MismatchedTokenException"&&!this.isBackTracking()){const i=this.getFollowsForInRuleRecovery(e,n);try{return this.tryInRuleRecovery(e,i)}catch(s){throw s.name===tS?r:s}}else throw r}saveRecogState(){const e=this.errors,n=mn(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:n,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,n,r){this.RULE_OCCURRENCE_STACK.push(r),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(n)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),as)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}class $Y{initErrorHandler(e){this._errors=[],this.errorMessageProvider=Re(e,"errorMessageProvider")?e.errorMessageProvider:Ui.errorMessageProvider}SAVE_ERROR(e){if(wf(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:mn(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return mn(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,n,r){const i=this.getCurrRuleFullName(),s=this.getGAstProductions()[i],o=Hd(e,s,n,this.maxLookahead)[0],u=[];for(let l=1;l<=this.maxLookahead;l++)u.push(this.LA(l));const c=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:o,actual:u,previous:this.LA(0),customUserDescription:r,ruleName:i});throw this.SAVE_ERROR(new yY(c,this.LA(1),this.LA(0)))}raiseNoAltException(e,n){const r=this.getCurrRuleFullName(),i=this.getGAstProductions()[r],s=zd(e,i,this.maxLookahead),a=[];for(let c=1;c<=this.maxLookahead;c++)a.push(this.LA(c));const o=this.LA(0),u=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:s,actual:a,previous:o,customUserDescription:n,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new mY(u,this.LA(1),o))}}class UY{initContentAssist(){}computeContentAssist(e,n){const r=this.gastProductionsCache[e];if(Di(r))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return HN([r],n,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){const n=Ur(e.ruleStack),i=this.getGAstProductions()[n];return new zW(i,e).startWalking()}}const Yd={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(Yd);const vE=!0,_E=Math.pow(2,hs)-1,sS=GN({name:"RECORDING_PHASE_TOKEN",pattern:qn.NA});Lc([sS]);const aS=Ny(sS,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(aS);const BY={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}};class GY{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){const n=e>0?e:"";this[`CONSUME${n}`]=function(r,i){return this.consumeInternalRecord(r,e,i)},this[`SUBRULE${n}`]=function(r,i){return this.subruleInternalRecord(r,e,i)},this[`OPTION${n}`]=function(r){return this.optionInternalRecord(r,e)},this[`OR${n}`]=function(r){return this.orInternalRecord(r,e)},this[`MANY${n}`]=function(r){this.manyInternalRecord(e,r)},this[`MANY_SEP${n}`]=function(r){this.manySepFirstInternalRecord(e,r)},this[`AT_LEAST_ONE${n}`]=function(r){this.atLeastOneInternalRecord(e,r)},this[`AT_LEAST_ONE_SEP${n}`]=function(r){this.atLeastOneSepFirstInternalRecord(e,r)}}this.consume=function(e,n,r){return this.consumeInternalRecord(n,e,r)},this.subrule=function(e,n,r){return this.subruleInternalRecord(n,e,r)},this.option=function(e,n){return this.optionInternalRecord(n,e)},this.or=function(e,n){return this.orInternalRecord(n,e)},this.many=function(e,n){this.manyInternalRecord(e,n)},this.atLeastOne=function(e,n){this.atLeastOneInternalRecord(e,n)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const e=this;for(let n=0;n<10;n++){const r=n>0?n:"";delete e[`CONSUME${r}`],delete e[`SUBRULE${r}`],delete e[`OPTION${r}`],delete e[`OR${r}`],delete e[`MANY${r}`],delete e[`MANY_SEP${r}`],delete e[`AT_LEAST_ONE${r}`],delete e[`AT_LEAST_ONE_SEP${r}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,n){return()=>!0}LA_RECORD(e){return Tf}topLevelRuleRecord(e,n){try{const r=new fo({definition:[],name:e});return r.name=e,this.recordingProdStack.push(r),n.call(this),this.recordingProdStack.pop(),r}catch(r){if(r.KNOWN_RECORDER_ERROR!==!0)try{r.message=r.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw r}throw r}}optionInternalRecord(e,n){return $o.call(this,gn,e,n)}atLeastOneInternalRecord(e,n){$o.call(this,fr,n,e)}atLeastOneSepFirstInternalRecord(e,n){$o.call(this,dr,n,e,vE)}manyInternalRecord(e,n){$o.call(this,St,n,e)}manySepFirstInternalRecord(e,n){$o.call(this,Kn,n,e,vE)}orInternalRecord(e,n){return zY.call(this,e,n)}subruleInternalRecord(e,n,r){if(Af(n),!e||Re(e,"ruleName")===!1){const o=new Error(`<SUBRULE${EE(n)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw o.KNOWN_RECORDER_ERROR=!0,o}const i=Ba(this.recordingProdStack),s=e.ruleName,a=new Un({idx:n,nonTerminalName:s,label:r==null?void 0:r.LABEL,referencedRule:void 0});return i.definition.push(a),this.outputCst?BY:Yd}consumeInternalRecord(e,n,r){if(Af(n),!UN(e)){const a=new Error(`<CONSUME${EE(n)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw a.KNOWN_RECORDER_ERROR=!0,a}const i=Ba(this.recordingProdStack),s=new bt({idx:n,terminalType:e,label:r==null?void 0:r.LABEL});return i.definition.push(s),aS}}function $o(t,e,n,r=!1){Af(n);const i=Ba(this.recordingProdStack),s=Zs(e)?e:e.DEF,a=new t({definition:[],idx:n});return r&&(a.separator=e.SEP),Re(e,"MAX_LOOKAHEAD")&&(a.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(a),s.call(this),i.definition.push(a),this.recordingProdStack.pop(),Yd}function zY(t,e){Af(e);const n=Ba(this.recordingProdStack),r=vr(t)===!1,i=r===!1?t:t.DEF,s=new Zn({definition:[],idx:e,ignoreAmbiguities:r&&t.IGNORE_AMBIGUITIES===!0});Re(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD);const a=ew(i,o=>Zs(o.GATE));return s.hasPredicates=a,n.definition.push(s),Le(i,o=>{const u=new Vn({definition:[]});s.definition.push(u),Re(o,"IGNORE_AMBIGUITIES")?u.ignoreAmbiguities=o.IGNORE_AMBIGUITIES:Re(o,"GATE")&&(u.ignoreAmbiguities=!0),this.recordingProdStack.push(u),o.ALT.call(this),this.recordingProdStack.pop()}),Yd}function EE(t){return t===0?"":`${t}`}function Af(t){if(t<0||t>_E){const e=new Error(`Invalid DSL Method idx value: <${t}>
	Idx value must be a none negative value smaller than ${_E+1}`);throw e.KNOWN_RECORDER_ERROR=!0,e}}class HY{initPerformanceTracer(e){if(Re(e,"traceInitPerf")){const n=e.traceInitPerf,r=typeof n=="number";this.traceInitMaxIdent=r?n:1/0,this.traceInitPerf=r?n>0:n}else this.traceInitMaxIdent=0,this.traceInitPerf=Ui.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,n){if(this.traceInitPerf===!0){this.traceInitIndent++;const r=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${r}--> <${e}>`);const{time:i,value:s}=CN(n),a=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(`${r}<-- <${e}> time: ${i}ms`),this.traceInitIndent--,s}else return n()}}function WY(t,e){e.forEach(n=>{const r=n.prototype;Object.getOwnPropertyNames(r).forEach(i=>{if(i==="constructor")return;const s=Object.getOwnPropertyDescriptor(r,i);s&&(s.get||s.set)?Object.defineProperty(t.prototype,i,s):t.prototype[i]=n.prototype[i]})})}const Tf=Ny(as,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(Tf);const Ui=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Ta,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),kf=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var Bn;(function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",t[t.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(Bn||(Bn={}));function xE(t=void 0){return function(){return t}}class Dc{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let e;this.selfAnalysisDone=!0;const n=this.className;this.TRACE_INIT("toFastProps",()=>{RN(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),Le(this.definedRulesNames,i=>{const a=this[i].originalGrammarAction;let o;this.TRACE_INIT(`${i} Rule`,()=>{o=this.topLevelRuleRecord(i,a)}),this.gastProductionsCache[i]=o})}finally{this.disableRecording()}});let r=[];if(this.TRACE_INIT("Grammar Resolving",()=>{r=pY({rules:Qt(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(r)}),this.TRACE_INIT("Grammar Validations",()=>{if(pt(r)&&this.skipValidations===!1){const i=gY({rules:Qt(this.gastProductionsCache),tokenTypes:Qt(this.tokensMap),errMsgProvider:Cs,grammarName:n}),s=JW({lookaheadStrategy:this.lookaheadStrategy,rules:Qt(this.gastProductionsCache),tokenTypes:Qt(this.tokensMap),grammarName:n});this.definitionErrors=this.definitionErrors.concat(i,s)}}),pt(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const i=QH(Qt(this.gastProductionsCache));this.resyncFollows=i}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var i,s;(s=(i=this.lookaheadStrategy).initialize)===null||s===void 0||s.call(i,{rules:Qt(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(Qt(this.gastProductionsCache))})),!Dc.DEFER_DEFINITION_ERRORS_HANDLING&&!pt(this.definitionErrors))throw e=Ne(this.definitionErrors,i=>i.message),new Error(`Parser Definition Errors detected:
 ${e.join(`
-------------------------------
`)}`)})}constructor(e,n){this.definitionErrors=[],this.selfAnalysisDone=!1;const r=this;if(r.initErrorHandler(n),r.initLexerAdapter(),r.initLooksAhead(n),r.initRecognizerEngine(e,n),r.initRecoverable(n),r.initTreeBuilder(n),r.initContentAssist(),r.initGastRecorder(n),r.initPerformanceTracer(n),Re(n,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=Re(n,"skipValidations")?n.skipValidations:Ui.skipValidations}}Dc.DEFER_DEFINITION_ERRORS_HANDLING=!1;WY(Dc,[_Y,wY,LY,DY,FY,PY,$Y,UY,GY,HY]);class YY extends Dc{constructor(e,n=Ui){const r=mn(n);r.outputCst=!1,super(e,r)}}function Qa(t,e,n){return`${t.name}_${e}_${n}`}const os=1,qY=2,oS=4,uS=5,Pc=7,XY=8,VY=9,KY=10,ZY=11,cS=12;class Oy{constructor(e){this.target=e}isEpsilon(){return!1}}class My extends Oy{constructor(e,n){super(e),this.tokenType=n}}class lS extends Oy{constructor(e){super(e)}isEpsilon(){return!0}}class Iy extends Oy{constructor(e,n,r){super(e),this.rule=n,this.followState=r}isEpsilon(){return!0}}function jY(t){const e={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};QY(e,t);const n=t.length;for(let r=0;r<n;r++){const i=t[r],s=ia(e,i,i);s!==void 0&&cq(e,i,s)}return e}function QY(t,e){const n=e.length;for(let r=0;r<n;r++){const i=e[r],s=en(t,i,void 0,{type:qY}),a=en(t,i,void 0,{type:Pc});s.stop=a,t.ruleToStartState.set(i,s),t.ruleToStopState.set(i,a)}}function hS(t,e,n){return n instanceof bt?Ly(t,e,n.terminalType,n):n instanceof Un?uq(t,e,n):n instanceof Zn?rq(t,e,n):n instanceof gn?iq(t,e,n):n instanceof St?JY(t,e,n):n instanceof Kn?eq(t,e,n):n instanceof fr?tq(t,e,n):n instanceof dr?nq(t,e,n):ia(t,e,n)}function JY(t,e,n){const r=en(t,e,n,{type:uS});fs(t,r);const i=go(t,e,r,n,ia(t,e,n));return dS(t,e,n,i)}function eq(t,e,n){const r=en(t,e,n,{type:uS});fs(t,r);const i=go(t,e,r,n,ia(t,e,n)),s=Ly(t,e,n.separator,n);return dS(t,e,n,i,s)}function tq(t,e,n){const r=en(t,e,n,{type:oS});fs(t,r);const i=go(t,e,r,n,ia(t,e,n));return fS(t,e,n,i)}function nq(t,e,n){const r=en(t,e,n,{type:oS});fs(t,r);const i=go(t,e,r,n,ia(t,e,n)),s=Ly(t,e,n.separator,n);return fS(t,e,n,i,s)}function rq(t,e,n){const r=en(t,e,n,{type:os});fs(t,r);const i=ht(n.definition,a=>hS(t,e,a));return go(t,e,r,n,...i)}function iq(t,e,n){const r=en(t,e,n,{type:os});fs(t,r);const i=go(t,e,r,n,ia(t,e,n));return sq(t,e,n,i)}function ia(t,e,n){const r=si(ht(n.definition,i=>hS(t,e,i)),i=>i!==void 0);return r.length===1?r[0]:r.length===0?void 0:oq(t,r)}function fS(t,e,n,r,i){const s=r.left,a=r.right,o=en(t,e,n,{type:ZY});fs(t,o);const u=en(t,e,n,{type:cS});return s.loopback=o,u.loopback=o,t.decisionMap[Qa(e,i?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",n.idx)]=o,Ft(a,o),i===void 0?(Ft(o,s),Ft(o,u)):(Ft(o,u),Ft(o,i.left),Ft(i.right,s)),{left:s,right:u}}function dS(t,e,n,r,i){const s=r.left,a=r.right,o=en(t,e,n,{type:KY});fs(t,o);const u=en(t,e,n,{type:cS}),c=en(t,e,n,{type:VY});return o.loopback=c,u.loopback=c,Ft(o,s),Ft(o,u),Ft(a,c),i!==void 0?(Ft(c,u),Ft(c,i.left),Ft(i.right,s)):Ft(c,o),t.decisionMap[Qa(e,i?"RepetitionWithSeparator":"Repetition",n.idx)]=o,{left:o,right:u}}function sq(t,e,n,r){const i=r.left,s=r.right;return Ft(i,s),t.decisionMap[Qa(e,"Option",n.idx)]=i,r}function fs(t,e){return t.decisionStates.push(e),e.decision=t.decisionStates.length-1,e.decision}function go(t,e,n,r,...i){const s=en(t,e,r,{type:XY,start:n});n.end=s;for(const o of i)o!==void 0?(Ft(n,o.left),Ft(o.right,s)):Ft(n,s);const a={left:n,right:s};return t.decisionMap[Qa(e,aq(r),r.idx)]=n,a}function aq(t){if(t instanceof Zn)return"Alternation";if(t instanceof gn)return"Option";if(t instanceof St)return"Repetition";if(t instanceof Kn)return"RepetitionWithSeparator";if(t instanceof fr)return"RepetitionMandatory";if(t instanceof dr)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}function oq(t,e){const n=e.length;for(let s=0;s<n-1;s++){const a=e[s];let o;a.left.transitions.length===1&&(o=a.left.transitions[0]);const u=o instanceof Iy,c=o,l=e[s+1].left;a.left.type===os&&a.right.type===os&&o!==void 0&&(u&&c.followState===a.right||o.target===a.right)?(u?c.followState=l:o.target=l,lq(t,a.right)):Ft(a.right,l)}const r=e[0],i=e[n-1];return{left:r.left,right:i.right}}function Ly(t,e,n,r){const i=en(t,e,r,{type:os}),s=en(t,e,r,{type:os});return Dy(i,new My(s,n)),{left:i,right:s}}function uq(t,e,n){const r=n.referencedRule,i=t.ruleToStartState.get(r),s=en(t,e,n,{type:os}),a=en(t,e,n,{type:os}),o=new Iy(i,r,a);return Dy(s,o),{left:s,right:a}}function cq(t,e,n){const r=t.ruleToStartState.get(e);Ft(r,n.left);const i=t.ruleToStopState.get(e);return Ft(n.right,i),{left:r,right:i}}function Ft(t,e){const n=new lS(e);Dy(t,n)}function en(t,e,n,r){const i=Object.assign({atn:t,production:n,epsilonOnlyTransitions:!1,rule:e,transitions:[],nextTokenWithinRule:[],stateNumber:t.states.length},r);return t.states.push(i),i}function Dy(t,e){t.transitions.length===0&&(t.epsilonOnlyTransitions=e.isEpsilon()),t.transitions.push(e)}function lq(t,e){t.states.splice(t.states.indexOf(e),1)}const Nf={};class Z0{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(e){const n=pS(e);n in this.map||(this.map[n]=this.configs.length,this.configs.push(e))}get elements(){return this.configs}get alts(){return ht(this.configs,e=>e.alt)}get key(){let e="";for(const n in this.map)e+=n+":";return e}}function pS(t,e=!0){return`${e?`a${t.alt}`:""}s${t.state.stateNumber}:${t.stack.map(n=>n.stateNumber.toString()).join("_")}`}function hq(t,e){const n={};return r=>{const i=r.toString();let s=n[i];return s!==void 0||(s={atnStartState:t,decision:e,states:{}},n[i]=s),s}}class gS{constructor(){this.predicates=[]}is(e){return e>=this.predicates.length||this.predicates[e]}set(e,n){this.predicates[e]=n}toString(){let e="";const n=this.predicates.length;for(let r=0;r<n;r++)e+=this.predicates[r]===!0?"1":"0";return e}}const wE=new gS;class fq extends Ry{constructor(e){var n;super(),this.logging=(n=e==null?void 0:e.logging)!==null&&n!==void 0?n:(r=>console.log(r))}initialize(e){this.atn=jY(e.rules),this.dfas=dq(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(e){const{prodOccurrence:n,rule:r,hasPredicates:i,dynamicTokensEnabled:s}=e,a=this.dfas,o=this.logging,u=Qa(r,"Alternation",n),l=this.atn.decisionMap[u].decision,h=ht(gE({maxLookahead:1,occurrence:n,prodType:"Alternation",rule:r}),d=>ht(d,f=>f[0]));if(AE(h,!1)&&!s){const d=Is(h,(f,p,g)=>(Z(p,m=>{m&&(f[m.tokenTypeIdx]=g,Z(m.categoryMatches,b=>{f[b]=g}))}),f),{});return i?function(f){var p;const g=this.LA(1),m=d[g.tokenTypeIdx];if(f!==void 0&&m!==void 0){const b=(p=f[m])===null||p===void 0?void 0:p.GATE;if(b!==void 0&&b.call(this)===!1)return}return m}:function(){const f=this.LA(1);return d[f.tokenTypeIdx]}}else return i?function(d){const f=new gS,p=d===void 0?0:d.length;for(let m=0;m<p;m++){const b=d==null?void 0:d[m].GATE;f.set(m,b===void 0||b.call(this))}const g=bg.call(this,a,l,f,o);return typeof g=="number"?g:void 0}:function(){const d=bg.call(this,a,l,wE,o);return typeof d=="number"?d:void 0}}buildLookaheadForOptional(e){const{prodOccurrence:n,rule:r,prodType:i,dynamicTokensEnabled:s}=e,a=this.dfas,o=this.logging,u=Qa(r,i,n),l=this.atn.decisionMap[u].decision,h=ht(gE({maxLookahead:1,occurrence:n,prodType:i,rule:r}),d=>ht(d,f=>f[0]));if(AE(h)&&h[0][0]&&!s){const d=h[0],f=no(d);if(f.length===1&&Ng(f[0].categoryMatches)){const g=f[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===g}}else{const p=Is(f,(g,m)=>(m!==void 0&&(g[m.tokenTypeIdx]=!0,Z(m.categoryMatches,b=>{g[b]=!0})),g),{});return function(){const g=this.LA(1);return p[g.tokenTypeIdx]===!0}}}return function(){const d=bg.call(this,a,l,wE,o);return typeof d=="object"?!1:d===0}}}function AE(t,e=!0){const n=new Set;for(const r of t){const i=new Set;for(const s of r){if(s===void 0){if(e)break;return!1}const a=[s.tokenTypeIdx].concat(s.categoryMatches);for(const o of a)if(n.has(o)){if(!i.has(o))return!1}else n.add(o),i.add(o)}}return!0}function dq(t){const e=t.decisionStates.length,n=Array(e);for(let r=0;r<e;r++)n[r]=hq(t.decisionStates[r],r);return n}function bg(t,e,n,r){const i=t[e](n);let s=i.start;if(s===void 0){const o=Aq(i.atnStartState);s=bS(i,mS(o)),i.start=s}return pq.apply(this,[i,s,n,r])}function pq(t,e,n,r){let i=e,s=1;const a=[];let o=this.LA(s++);for(;;){let u=_q(i,o);if(u===void 0&&(u=gq.apply(this,[t,i,o,s,n,r])),u===Nf)return vq(a,i,o);if(u.isAcceptState===!0)return u.prediction;i=u,a.push(o),o=this.LA(s++)}}function gq(t,e,n,r,i,s){const a=Eq(e.configs,n,i);if(a.size===0)return TE(t,e,n,Nf),Nf;let o=mS(a);const u=wq(a,i);if(u!==void 0)o.isAcceptState=!0,o.prediction=u,o.configs.uniqueAlt=u;else if(Sq(a)){const c=$a(a.alts);o.isAcceptState=!0,o.prediction=c,o.configs.uniqueAlt=c,mq.apply(this,[t,r,a.alts,s])}return o=TE(t,e,n,o),o}function mq(t,e,n,r){const i=[];for(let c=1;c<=e;c++)i.push(this.LA(c).tokenType);const s=t.atnStartState,a=s.rule,o=s.production,u=bq({topLevelRule:a,ambiguityIndices:n,production:o,prefixPath:i});r(u)}function bq(t){const e=ht(t.prefixPath,i=>Pa(i)).join(", "),n=t.production.idx===0?"":t.production.idx;let r=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(", ")}> in <${yq(t.production)}${n}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return r=r+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,r}function yq(t){if(t instanceof Un)return"SUBRULE";if(t instanceof gn)return"OPTION";if(t instanceof Zn)return"OR";if(t instanceof fr)return"AT_LEAST_ONE";if(t instanceof dr)return"AT_LEAST_ONE_SEP";if(t instanceof Kn)return"MANY_SEP";if(t instanceof St)return"MANY";if(t instanceof bt)return"CONSUME";throw Error("non exhaustive match")}function vq(t,e,n){const r=oC(e.configs.elements,s=>s.state.transitions),i=uC(r.filter(s=>s instanceof My).map(s=>s.tokenType),s=>s.tokenTypeIdx);return{actualToken:n,possibleTokenTypes:i,tokenPath:t}}function _q(t,e){return t.edges[e.tokenTypeIdx]}function Eq(t,e,n){const r=new Z0,i=[];for(const a of t.elements){if(n.is(a.alt)===!1)continue;if(a.state.type===Pc){i.push(a);continue}const o=a.state.transitions.length;for(let u=0;u<o;u++){const c=a.state.transitions[u],l=xq(c,e);l!==void 0&&r.add({state:l,alt:a.alt,stack:a.stack})}}let s;if(i.length===0&&r.size===1&&(s=r),s===void 0){s=new Z0;for(const a of r.elements)Sf(a,s)}if(i.length>0&&!kq(s))for(const a of i)s.add(a);return s}function xq(t,e){if(t instanceof My&&zN(e,t.tokenType))return t.target}function wq(t,e){let n;for(const r of t.elements)if(e.is(r.alt)===!0){if(n===void 0)n=r.alt;else if(n!==r.alt)return}return n}function mS(t){return{configs:t,edges:{},isAcceptState:!1,prediction:-1}}function TE(t,e,n,r){return r=bS(t,r),e.edges[n.tokenTypeIdx]=r,r}function bS(t,e){if(e===Nf)return e;const n=e.configs.key,r=t.states[n];return r!==void 0?r:(e.configs.finalize(),t.states[n]=e,e)}function Aq(t){const e=new Z0,n=t.transitions.length;for(let r=0;r<n;r++){const s={state:t.transitions[r].target,alt:r,stack:[]};Sf(s,e)}return e}function Sf(t,e){const n=t.state;if(n.type===Pc){if(t.stack.length>0){const i=[...t.stack],a={state:i.pop(),alt:t.alt,stack:i};Sf(a,e)}else e.add(t);return}n.epsilonOnlyTransitions||e.add(t);const r=n.transitions.length;for(let i=0;i<r;i++){const s=n.transitions[i],a=Tq(t,s);a!==void 0&&Sf(a,e)}}function Tq(t,e){if(e instanceof lS)return{state:e.target,alt:t.alt,stack:t.stack};if(e instanceof Iy){const n=[...t.stack,e.followState];return{state:e.target,alt:t.alt,stack:n}}}function kq(t){for(const e of t.elements)if(e.state.type===Pc)return!0;return!1}function Nq(t){for(const e of t.elements)if(e.state.type!==Pc)return!1;return!0}function Sq(t){if(Nq(t))return!0;const e=Cq(t.elements);return Rq(e)&&!Oq(e)}function Cq(t){const e=new Map;for(const n of t){const r=pS(n,!1);let i=e.get(r);i===void 0&&(i={},e.set(r,i)),i[n.alt]=!0}return e}function Rq(t){for(const e of Array.from(t.values()))if(Object.keys(e).length>1)return!0;return!1}function Oq(t){for(const e of Array.from(t.values()))if(Object.keys(e).length===1)return!0;return!1}var kE;(function(t){function e(n){return typeof n=="string"}t.is=e})(kE||(kE={}));var j0;(function(t){function e(n){return typeof n=="string"}t.is=e})(j0||(j0={}));var NE;(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647;function e(n){return typeof n=="number"&&t.MIN_VALUE<=n&&n<=t.MAX_VALUE}t.is=e})(NE||(NE={}));var Cf;(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647;function e(n){return typeof n=="number"&&t.MIN_VALUE<=n&&n<=t.MAX_VALUE}t.is=e})(Cf||(Cf={}));var nt;(function(t){function e(r,i){return r===Number.MAX_VALUE&&(r=Cf.MAX_VALUE),i===Number.MAX_VALUE&&(i=Cf.MAX_VALUE),{line:r,character:i}}t.create=e;function n(r){let i=r;return z.objectLiteral(i)&&z.uinteger(i.line)&&z.uinteger(i.character)}t.is=n})(nt||(nt={}));var Ze;(function(t){function e(r,i,s,a){if(z.uinteger(r)&&z.uinteger(i)&&z.uinteger(s)&&z.uinteger(a))return{start:nt.create(r,i),end:nt.create(s,a)};if(nt.is(r)&&nt.is(i))return{start:r,end:i};throw new Error(`Range#create called with invalid arguments[${r}, ${i}, ${s}, ${a}]`)}t.create=e;function n(r){let i=r;return z.objectLiteral(i)&&nt.is(i.start)&&nt.is(i.end)}t.is=n})(Ze||(Ze={}));var Rf;(function(t){function e(r,i){return{uri:r,range:i}}t.create=e;function n(r){let i=r;return z.objectLiteral(i)&&Ze.is(i.range)&&(z.string(i.uri)||z.undefined(i.uri))}t.is=n})(Rf||(Rf={}));var SE;(function(t){function e(r,i,s,a){return{targetUri:r,targetRange:i,targetSelectionRange:s,originSelectionRange:a}}t.create=e;function n(r){let i=r;return z.objectLiteral(i)&&Ze.is(i.targetRange)&&z.string(i.targetUri)&&Ze.is(i.targetSelectionRange)&&(Ze.is(i.originSelectionRange)||z.undefined(i.originSelectionRange))}t.is=n})(SE||(SE={}));var Q0;(function(t){function e(r,i,s,a){return{red:r,green:i,blue:s,alpha:a}}t.create=e;function n(r){const i=r;return z.objectLiteral(i)&&z.numberRange(i.red,0,1)&&z.numberRange(i.green,0,1)&&z.numberRange(i.blue,0,1)&&z.numberRange(i.alpha,0,1)}t.is=n})(Q0||(Q0={}));var CE;(function(t){function e(r,i){return{range:r,color:i}}t.create=e;function n(r){const i=r;return z.objectLiteral(i)&&Ze.is(i.range)&&Q0.is(i.color)}t.is=n})(CE||(CE={}));var RE;(function(t){function e(r,i,s){return{label:r,textEdit:i,additionalTextEdits:s}}t.create=e;function n(r){const i=r;return z.objectLiteral(i)&&z.string(i.label)&&(z.undefined(i.textEdit)||eo.is(i))&&(z.undefined(i.additionalTextEdits)||z.typedArray(i.additionalTextEdits,eo.is))}t.is=n})(RE||(RE={}));var OE;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(OE||(OE={}));var ME;(function(t){function e(r,i,s,a,o,u){const c={startLine:r,endLine:i};return z.defined(s)&&(c.startCharacter=s),z.defined(a)&&(c.endCharacter=a),z.defined(o)&&(c.kind=o),z.defined(u)&&(c.collapsedText=u),c}t.create=e;function n(r){const i=r;return z.objectLiteral(i)&&z.uinteger(i.startLine)&&z.uinteger(i.startLine)&&(z.undefined(i.startCharacter)||z.uinteger(i.startCharacter))&&(z.undefined(i.endCharacter)||z.uinteger(i.endCharacter))&&(z.undefined(i.kind)||z.string(i.kind))}t.is=n})(ME||(ME={}));var J0;(function(t){function e(r,i){return{location:r,message:i}}t.create=e;function n(r){let i=r;return z.defined(i)&&Rf.is(i.location)&&z.string(i.message)}t.is=n})(J0||(J0={}));var IE;(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})(IE||(IE={}));var LE;(function(t){t.Unnecessary=1,t.Deprecated=2})(LE||(LE={}));var DE;(function(t){function e(n){const r=n;return z.objectLiteral(r)&&z.string(r.href)}t.is=e})(DE||(DE={}));var Of;(function(t){function e(r,i,s,a,o,u){let c={range:r,message:i};return z.defined(s)&&(c.severity=s),z.defined(a)&&(c.code=a),z.defined(o)&&(c.source=o),z.defined(u)&&(c.relatedInformation=u),c}t.create=e;function n(r){var i;let s=r;return z.defined(s)&&Ze.is(s.range)&&z.string(s.message)&&(z.number(s.severity)||z.undefined(s.severity))&&(z.integer(s.code)||z.string(s.code)||z.undefined(s.code))&&(z.undefined(s.codeDescription)||z.string((i=s.codeDescription)===null||i===void 0?void 0:i.href))&&(z.string(s.source)||z.undefined(s.source))&&(z.undefined(s.relatedInformation)||z.typedArray(s.relatedInformation,J0.is))}t.is=n})(Of||(Of={}));var Ja;(function(t){function e(r,i,...s){let a={title:r,command:i};return z.defined(s)&&s.length>0&&(a.arguments=s),a}t.create=e;function n(r){let i=r;return z.defined(i)&&z.string(i.title)&&z.string(i.command)}t.is=n})(Ja||(Ja={}));var eo;(function(t){function e(s,a){return{range:s,newText:a}}t.replace=e;function n(s,a){return{range:{start:s,end:s},newText:a}}t.insert=n;function r(s){return{range:s,newText:""}}t.del=r;function i(s){const a=s;return z.objectLiteral(a)&&z.string(a.newText)&&Ze.is(a.range)}t.is=i})(eo||(eo={}));var em;(function(t){function e(r,i,s){const a={label:r};return i!==void 0&&(a.needsConfirmation=i),s!==void 0&&(a.description=s),a}t.create=e;function n(r){const i=r;return z.objectLiteral(i)&&z.string(i.label)&&(z.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(z.string(i.description)||i.description===void 0)}t.is=n})(em||(em={}));var to;(function(t){function e(n){const r=n;return z.string(r)}t.is=e})(to||(to={}));var PE;(function(t){function e(s,a,o){return{range:s,newText:a,annotationId:o}}t.replace=e;function n(s,a,o){return{range:{start:s,end:s},newText:a,annotationId:o}}t.insert=n;function r(s,a){return{range:s,newText:"",annotationId:a}}t.del=r;function i(s){const a=s;return eo.is(a)&&(em.is(a.annotationId)||to.is(a.annotationId))}t.is=i})(PE||(PE={}));var tm;(function(t){function e(r,i){return{textDocument:r,edits:i}}t.create=e;function n(r){let i=r;return z.defined(i)&&am.is(i.textDocument)&&Array.isArray(i.edits)}t.is=n})(tm||(tm={}));var nm;(function(t){function e(r,i,s){let a={kind:"create",uri:r};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}t.create=e;function n(r){let i=r;return i&&i.kind==="create"&&z.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||z.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||z.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||to.is(i.annotationId))}t.is=n})(nm||(nm={}));var rm;(function(t){function e(r,i,s,a){let o={kind:"rename",oldUri:r,newUri:i};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(o.options=s),a!==void 0&&(o.annotationId=a),o}t.create=e;function n(r){let i=r;return i&&i.kind==="rename"&&z.string(i.oldUri)&&z.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||z.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||z.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||to.is(i.annotationId))}t.is=n})(rm||(rm={}));var im;(function(t){function e(r,i,s){let a={kind:"delete",uri:r};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}t.create=e;function n(r){let i=r;return i&&i.kind==="delete"&&z.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||z.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||z.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||to.is(i.annotationId))}t.is=n})(im||(im={}));var sm;(function(t){function e(n){let r=n;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(i=>z.string(i.kind)?nm.is(i)||rm.is(i)||im.is(i):tm.is(i)))}t.is=e})(sm||(sm={}));var FE;(function(t){function e(r){return{uri:r}}t.create=e;function n(r){let i=r;return z.defined(i)&&z.string(i.uri)}t.is=n})(FE||(FE={}));var $E;(function(t){function e(r,i){return{uri:r,version:i}}t.create=e;function n(r){let i=r;return z.defined(i)&&z.string(i.uri)&&z.integer(i.version)}t.is=n})($E||($E={}));var am;(function(t){function e(r,i){return{uri:r,version:i}}t.create=e;function n(r){let i=r;return z.defined(i)&&z.string(i.uri)&&(i.version===null||z.integer(i.version))}t.is=n})(am||(am={}));var UE;(function(t){function e(r,i,s,a){return{uri:r,languageId:i,version:s,text:a}}t.create=e;function n(r){let i=r;return z.defined(i)&&z.string(i.uri)&&z.string(i.languageId)&&z.integer(i.version)&&z.string(i.text)}t.is=n})(UE||(UE={}));var om;(function(t){t.PlainText="plaintext",t.Markdown="markdown";function e(n){const r=n;return r===t.PlainText||r===t.Markdown}t.is=e})(om||(om={}));var uc;(function(t){function e(n){const r=n;return z.objectLiteral(n)&&om.is(r.kind)&&z.string(r.value)}t.is=e})(uc||(uc={}));var BE;(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(BE||(BE={}));var GE;(function(t){t.PlainText=1,t.Snippet=2})(GE||(GE={}));var zE;(function(t){t.Deprecated=1})(zE||(zE={}));var HE;(function(t){function e(r,i,s){return{newText:r,insert:i,replace:s}}t.create=e;function n(r){const i=r;return i&&z.string(i.newText)&&Ze.is(i.insert)&&Ze.is(i.replace)}t.is=n})(HE||(HE={}));var WE;(function(t){t.asIs=1,t.adjustIndentation=2})(WE||(WE={}));var YE;(function(t){function e(n){const r=n;return r&&(z.string(r.detail)||r.detail===void 0)&&(z.string(r.description)||r.description===void 0)}t.is=e})(YE||(YE={}));var qE;(function(t){function e(n){return{label:n}}t.create=e})(qE||(qE={}));var XE;(function(t){function e(n,r){return{items:n||[],isIncomplete:!!r}}t.create=e})(XE||(XE={}));var Mf;(function(t){function e(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}t.fromPlainText=e;function n(r){const i=r;return z.string(i)||z.objectLiteral(i)&&z.string(i.language)&&z.string(i.value)}t.is=n})(Mf||(Mf={}));var VE;(function(t){function e(n){let r=n;return!!r&&z.objectLiteral(r)&&(uc.is(r.contents)||Mf.is(r.contents)||z.typedArray(r.contents,Mf.is))&&(n.range===void 0||Ze.is(n.range))}t.is=e})(VE||(VE={}));var KE;(function(t){function e(n,r){return r?{label:n,documentation:r}:{label:n}}t.create=e})(KE||(KE={}));var ZE;(function(t){function e(n,r,...i){let s={label:n};return z.defined(r)&&(s.documentation=r),z.defined(i)?s.parameters=i:s.parameters=[],s}t.create=e})(ZE||(ZE={}));var jE;(function(t){t.Text=1,t.Read=2,t.Write=3})(jE||(jE={}));var QE;(function(t){function e(n,r){let i={range:n};return z.number(r)&&(i.kind=r),i}t.create=e})(QE||(QE={}));var JE;(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})(JE||(JE={}));var ex;(function(t){t.Deprecated=1})(ex||(ex={}));var tx;(function(t){function e(n,r,i,s,a){let o={name:n,kind:r,location:{uri:s,range:i}};return a&&(o.containerName=a),o}t.create=e})(tx||(tx={}));var nx;(function(t){function e(n,r,i,s){return s!==void 0?{name:n,kind:r,location:{uri:i,range:s}}:{name:n,kind:r,location:{uri:i}}}t.create=e})(nx||(nx={}));var rx;(function(t){function e(r,i,s,a,o,u){let c={name:r,detail:i,kind:s,range:a,selectionRange:o};return u!==void 0&&(c.children=u),c}t.create=e;function n(r){let i=r;return i&&z.string(i.name)&&z.number(i.kind)&&Ze.is(i.range)&&Ze.is(i.selectionRange)&&(i.detail===void 0||z.string(i.detail))&&(i.deprecated===void 0||z.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}t.is=n})(rx||(rx={}));var ix;(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"})(ix||(ix={}));var If;(function(t){t.Invoked=1,t.Automatic=2})(If||(If={}));var sx;(function(t){function e(r,i,s){let a={diagnostics:r};return i!=null&&(a.only=i),s!=null&&(a.triggerKind=s),a}t.create=e;function n(r){let i=r;return z.defined(i)&&z.typedArray(i.diagnostics,Of.is)&&(i.only===void 0||z.typedArray(i.only,z.string))&&(i.triggerKind===void 0||i.triggerKind===If.Invoked||i.triggerKind===If.Automatic)}t.is=n})(sx||(sx={}));var ax;(function(t){function e(r,i,s){let a={title:r},o=!0;return typeof i=="string"?(o=!1,a.kind=i):Ja.is(i)?a.command=i:a.edit=i,o&&s!==void 0&&(a.kind=s),a}t.create=e;function n(r){let i=r;return i&&z.string(i.title)&&(i.diagnostics===void 0||z.typedArray(i.diagnostics,Of.is))&&(i.kind===void 0||z.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||Ja.is(i.command))&&(i.isPreferred===void 0||z.boolean(i.isPreferred))&&(i.edit===void 0||sm.is(i.edit))}t.is=n})(ax||(ax={}));var ox;(function(t){function e(r,i){let s={range:r};return z.defined(i)&&(s.data=i),s}t.create=e;function n(r){let i=r;return z.defined(i)&&Ze.is(i.range)&&(z.undefined(i.command)||Ja.is(i.command))}t.is=n})(ox||(ox={}));var ux;(function(t){function e(r,i){return{tabSize:r,insertSpaces:i}}t.create=e;function n(r){let i=r;return z.defined(i)&&z.uinteger(i.tabSize)&&z.boolean(i.insertSpaces)}t.is=n})(ux||(ux={}));var cx;(function(t){function e(r,i,s){return{range:r,target:i,data:s}}t.create=e;function n(r){let i=r;return z.defined(i)&&Ze.is(i.range)&&(z.undefined(i.target)||z.string(i.target))}t.is=n})(cx||(cx={}));var lx;(function(t){function e(r,i){return{range:r,parent:i}}t.create=e;function n(r){let i=r;return z.objectLiteral(i)&&Ze.is(i.range)&&(i.parent===void 0||t.is(i.parent))}t.is=n})(lx||(lx={}));var hx;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator",t.decorator="decorator"})(hx||(hx={}));var fx;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(fx||(fx={}));var dx;(function(t){function e(n){const r=n;return z.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(dx||(dx={}));var px;(function(t){function e(r,i){return{range:r,text:i}}t.create=e;function n(r){const i=r;return i!=null&&Ze.is(i.range)&&z.string(i.text)}t.is=n})(px||(px={}));var gx;(function(t){function e(r,i,s){return{range:r,variableName:i,caseSensitiveLookup:s}}t.create=e;function n(r){const i=r;return i!=null&&Ze.is(i.range)&&z.boolean(i.caseSensitiveLookup)&&(z.string(i.variableName)||i.variableName===void 0)}t.is=n})(gx||(gx={}));var mx;(function(t){function e(r,i){return{range:r,expression:i}}t.create=e;function n(r){const i=r;return i!=null&&Ze.is(i.range)&&(z.string(i.expression)||i.expression===void 0)}t.is=n})(mx||(mx={}));var bx;(function(t){function e(r,i){return{frameId:r,stoppedLocation:i}}t.create=e;function n(r){const i=r;return z.defined(i)&&Ze.is(r.stoppedLocation)}t.is=n})(bx||(bx={}));var um;(function(t){t.Type=1,t.Parameter=2;function e(n){return n===1||n===2}t.is=e})(um||(um={}));var cm;(function(t){function e(r){return{value:r}}t.create=e;function n(r){const i=r;return z.objectLiteral(i)&&(i.tooltip===void 0||z.string(i.tooltip)||uc.is(i.tooltip))&&(i.location===void 0||Rf.is(i.location))&&(i.command===void 0||Ja.is(i.command))}t.is=n})(cm||(cm={}));var yx;(function(t){function e(r,i,s){const a={position:r,label:i};return s!==void 0&&(a.kind=s),a}t.create=e;function n(r){const i=r;return z.objectLiteral(i)&&nt.is(i.position)&&(z.string(i.label)||z.typedArray(i.label,cm.is))&&(i.kind===void 0||um.is(i.kind))&&i.textEdits===void 0||z.typedArray(i.textEdits,eo.is)&&(i.tooltip===void 0||z.string(i.tooltip)||uc.is(i.tooltip))&&(i.paddingLeft===void 0||z.boolean(i.paddingLeft))&&(i.paddingRight===void 0||z.boolean(i.paddingRight))}t.is=n})(yx||(yx={}));var vx;(function(t){function e(n){return{kind:"snippet",value:n}}t.createSnippet=e})(vx||(vx={}));var _x;(function(t){function e(n,r,i,s){return{insertText:n,filterText:r,range:i,command:s}}t.create=e})(_x||(_x={}));var Ex;(function(t){function e(n){return{items:n}}t.create=e})(Ex||(Ex={}));var xx;(function(t){t.Invoked=0,t.Automatic=1})(xx||(xx={}));var wx;(function(t){function e(n,r){return{range:n,text:r}}t.create=e})(wx||(wx={}));var Ax;(function(t){function e(n,r){return{triggerKind:n,selectedCompletionInfo:r}}t.create=e})(Ax||(Ax={}));var Tx;(function(t){function e(n){const r=n;return z.objectLiteral(r)&&j0.is(r.uri)&&z.string(r.name)}t.is=e})(Tx||(Tx={}));var kx;(function(t){function e(s,a,o,u){return new Mq(s,a,o,u)}t.create=e;function n(s){let a=s;return!!(z.defined(a)&&z.string(a.uri)&&(z.undefined(a.languageId)||z.string(a.languageId))&&z.uinteger(a.lineCount)&&z.func(a.getText)&&z.func(a.positionAt)&&z.func(a.offsetAt))}t.is=n;function r(s,a){let o=s.getText(),u=i(a,(l,h)=>{let d=l.range.start.line-h.range.start.line;return d===0?l.range.start.character-h.range.start.character:d}),c=o.length;for(let l=u.length-1;l>=0;l--){let h=u[l],d=s.offsetAt(h.range.start),f=s.offsetAt(h.range.end);if(f<=c)o=o.substring(0,d)+h.newText+o.substring(f,o.length);else throw new Error("Overlapping edit");c=d}return o}t.applyEdits=r;function i(s,a){if(s.length<=1)return s;const o=s.length/2|0,u=s.slice(0,o),c=s.slice(o);i(u,a),i(c,a);let l=0,h=0,d=0;for(;l<u.length&&h<c.length;)a(u[l],c[h])<=0?s[d++]=u[l++]:s[d++]=c[h++];for(;l<u.length;)s[d++]=u[l++];for(;h<c.length;)s[d++]=c[h++];return s}})(kx||(kx={}));let Mq=class{constructor(e,n,r,i){this._uri=e,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let n=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(n,r)}return this._content}update(e,n){this._content=e.text,this._version=n,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],n=this._content,r=!0;for(let i=0;i<n.length;i++){r&&(e.push(i),r=!1);let s=n.charAt(i);r=s==="\r"||s===`
`,s==="\r"&&i+1<n.length&&n.charAt(i+1)===`
`&&i++}r&&n.length>0&&e.push(n.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let n=this.getLineOffsets(),r=0,i=n.length;if(i===0)return nt.create(0,e);for(;r<i;){let a=Math.floor((r+i)/2);n[a]>e?i=a:r=a+1}let s=r-1;return nt.create(s,e-n[s])}offsetAt(e){let n=this.getLineOffsets();if(e.line>=n.length)return this._content.length;if(e.line<0)return 0;let r=n[e.line],i=e.line+1<n.length?n[e.line+1]:this._content.length;return Math.max(Math.min(r+e.character,i),r)}get lineCount(){return this.getLineOffsets().length}};var z;(function(t){const e=Object.prototype.toString;function n(f){return typeof f<"u"}t.defined=n;function r(f){return typeof f>"u"}t.undefined=r;function i(f){return f===!0||f===!1}t.boolean=i;function s(f){return e.call(f)==="[object String]"}t.string=s;function a(f){return e.call(f)==="[object Number]"}t.number=a;function o(f,p,g){return e.call(f)==="[object Number]"&&p<=f&&f<=g}t.numberRange=o;function u(f){return e.call(f)==="[object Number]"&&-2147483648<=f&&f<=2147483647}t.integer=u;function c(f){return e.call(f)==="[object Number]"&&0<=f&&f<=2147483647}t.uinteger=c;function l(f){return e.call(f)==="[object Function]"}t.func=l;function h(f){return f!==null&&typeof f=="object"}t.objectLiteral=h;function d(f,p){return Array.isArray(f)&&f.every(p)}t.typedArray=d})(z||(z={}));class Iq{constructor(){this.nodeStack=[]}get current(){var e;return(e=this.nodeStack[this.nodeStack.length-1])!==null&&e!==void 0?e:this.rootNode}buildRootNode(e){return this.rootNode=new vS(e),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(e){const n=new Py;return n.grammarSource=e,n.root=this.rootNode,this.current.content.push(n),this.nodeStack.push(n),n}buildLeafNode(e,n){const r=new lm(e.startOffset,e.image.length,F0(e),e.tokenType,!n);return r.grammarSource=n,r.root=this.rootNode,this.current.content.push(r),r}removeNode(e){const n=e.container;if(n){const r=n.content.indexOf(e);r>=0&&n.content.splice(r,1)}}addHiddenNodes(e){const n=[];for(const s of e){const a=new lm(s.startOffset,s.image.length,F0(s),s.tokenType,!0);a.root=this.rootNode,n.push(a)}let r=this.current,i=!1;if(r.content.length>0){r.content.push(...n);return}for(;r.container;){const s=r.container.content.indexOf(r);if(s>0){r.container.content.splice(s,0,...n),i=!0;break}r=r.container}i||this.rootNode.content.unshift(...n)}construct(e){const n=this.current;typeof e.$type=="string"&&(this.current.astNode=e),e.$cstNode=n;const r=this.nodeStack.pop();(r==null?void 0:r.content.length)===0&&this.removeNode(r)}}class yS{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var e,n;const r=typeof((e=this._astNode)===null||e===void 0?void 0:e.$type)=="string"?this._astNode:(n=this.container)===null||n===void 0?void 0:n.astNode;if(!r)throw new Error("This node has no associated AST element");return r}set astNode(e){this._astNode=e}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}}class lm extends yS{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(e,n,r,i,s=!1){super(),this._hidden=s,this._offset=e,this._tokenType=i,this._length=n,this._range=r}}class Py extends yS{constructor(){super(...arguments),this.content=new Fy(this)}get children(){return this.content}get offset(){var e,n;return(n=(e=this.firstNonHiddenNode)===null||e===void 0?void 0:e.offset)!==null&&n!==void 0?n:0}get length(){return this.end-this.offset}get end(){var e,n;return(n=(e=this.lastNonHiddenNode)===null||e===void 0?void 0:e.end)!==null&&n!==void 0?n:0}get range(){const e=this.firstNonHiddenNode,n=this.lastNonHiddenNode;if(e&&n){if(this._rangeCache===void 0){const{range:r}=e,{range:i}=n;this._rangeCache={start:r.start,end:i.end.line<r.start.line?r.start:i.end}}return this._rangeCache}else return{start:nt.create(0,0),end:nt.create(0,0)}}get firstNonHiddenNode(){for(const e of this.content)if(!e.hidden)return e;return this.content[0]}get lastNonHiddenNode(){for(let e=this.content.length-1;e>=0;e--){const n=this.content[e];if(!n.hidden)return n}return this.content[this.content.length-1]}}class Fy extends Array{constructor(e){super(),this.parent=e,Object.setPrototypeOf(this,Fy.prototype)}push(...e){return this.addParents(e),super.push(...e)}unshift(...e){return this.addParents(e),super.unshift(...e)}splice(e,n,...r){return this.addParents(r),super.splice(e,n,...r)}addParents(e){for(const n of e)n.container=this.parent}}class vS extends Py{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(e){super(),this._text="",this._text=e??""}}const hm=Symbol("Datatype");function yg(t){return t.$type===hm}const Nx="",_S=t=>t.endsWith(Nx)?t:t+Nx;class ES{constructor(e){this._unorderedGroups=new Map,this.allRules=new Map,this.lexer=e.parser.Lexer;const n=this.lexer.definition,r=e.LanguageMetaData.mode==="production";this.wrapper=new $q(n,Object.assign(Object.assign({},e.parser.ParserConfig),{skipValidations:r,errorMessageProvider:e.parser.ParserErrorMessageProvider}))}alternatives(e,n){this.wrapper.wrapOr(e,n)}optional(e,n){this.wrapper.wrapOption(e,n)}many(e,n){this.wrapper.wrapMany(e,n)}atLeastOne(e,n){this.wrapper.wrapAtLeastOne(e,n)}getRule(e){return this.allRules.get(e)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}}class Lq extends ES{get current(){return this.stack[this.stack.length-1]}constructor(e){super(e),this.nodeBuilder=new Iq,this.stack=[],this.assignmentMap=new Map,this.linker=e.references.Linker,this.converter=e.parser.ValueConverter,this.astReflection=e.shared.AstReflection}rule(e,n){const r=this.computeRuleType(e),i=this.wrapper.DEFINE_RULE(_S(e.name),this.startImplementation(r,n).bind(this));return this.allRules.set(e.name,i),e.entry&&(this.mainRule=i),i}computeRuleType(e){if(!e.fragment){if(kN(e))return hm;{const n=xy(e);return n??e.name}}}parse(e,n={}){this.nodeBuilder.buildRootNode(e);const r=this.lexerResult=this.lexer.tokenize(e);this.wrapper.input=r.tokens;const i=n.rule?this.allRules.get(n.rule):this.mainRule;if(!i)throw new Error(n.rule?`No rule found with name '${n.rule}'`:"No main rule available.");const s=i.call(this.wrapper,{});return this.nodeBuilder.addHiddenNodes(r.hidden),this.unorderedGroups.clear(),this.lexerResult=void 0,{value:s,lexerErrors:r.errors,lexerReport:r.report,parserErrors:this.wrapper.errors}}startImplementation(e,n){return r=>{const i=!this.isRecording()&&e!==void 0;if(i){const a={$type:e};this.stack.push(a),e===hm&&(a.value="")}let s;try{s=n(r)}catch{s=void 0}return s===void 0&&i&&(s=this.construct()),s}}extractHiddenTokens(e){const n=this.lexerResult.hidden;if(!n.length)return[];const r=e.startOffset;for(let i=0;i<n.length;i++)if(n[i].startOffset>r)return n.splice(0,i);return n.splice(0,n.length)}consume(e,n,r){const i=this.wrapper.wrapConsume(e,n);if(!this.isRecording()&&this.isValidToken(i)){const s=this.extractHiddenTokens(i);this.nodeBuilder.addHiddenNodes(s);const a=this.nodeBuilder.buildLeafNode(i,r),{assignment:o,isCrossRef:u}=this.getAssignment(r),c=this.current;if(o){const l=Ys(r)?i.image:this.converter.convert(i.image,a);this.assign(o.operator,o.feature,l,a,u)}else if(yg(c)){let l=i.image;Ys(r)||(l=this.converter.convert(l,a).toString()),c.value+=l}}}isValidToken(e){return!e.isInsertedInRecovery&&!isNaN(e.startOffset)&&typeof e.endOffset=="number"&&!isNaN(e.endOffset)}subrule(e,n,r,i,s){let a;!this.isRecording()&&!r&&(a=this.nodeBuilder.buildCompositeNode(i));const o=this.wrapper.wrapSubrule(e,n,s);!this.isRecording()&&a&&a.length>0&&this.performSubruleAssignment(o,i,a)}performSubruleAssignment(e,n,r){const{assignment:i,isCrossRef:s}=this.getAssignment(n);if(i)this.assign(i.operator,i.feature,e,r,s);else if(!i){const a=this.current;if(yg(a))a.value+=e.toString();else if(typeof e=="object"&&e){const u=this.assignWithoutOverride(e,a);this.stack.pop(),this.stack.push(u)}}}action(e,n){if(!this.isRecording()){let r=this.current;if(n.feature&&n.operator){r=this.construct(),this.nodeBuilder.removeNode(r.$cstNode),this.nodeBuilder.buildCompositeNode(n).content.push(r.$cstNode);const s={$type:e};this.stack.push(s),this.assign(n.operator,n.feature,r,r.$cstNode,!1)}else r.$type=e}}construct(){if(this.isRecording())return;const e=this.current;return pH(e),this.nodeBuilder.construct(e),this.stack.pop(),yg(e)?this.converter.convert(e.value,e.$cstNode):(gH(this.astReflection,e),e)}getAssignment(e){if(!this.assignmentMap.has(e)){const n=Pd(e,Ws);this.assignmentMap.set(e,{assignment:n,isCrossRef:n?yy(n.terminal):!1})}return this.assignmentMap.get(e)}assign(e,n,r,i,s){const a=this.current;let o;switch(s&&typeof r=="string"?o=this.linker.buildReference(a,n,i,r):o=r,e){case"=":{a[n]=o;break}case"?=":{a[n]=!0;break}case"+=":Array.isArray(a[n])||(a[n]=[]),a[n].push(o)}}assignWithoutOverride(e,n){for(const[i,s]of Object.entries(n)){const a=e[i];a===void 0?e[i]=s:Array.isArray(a)&&Array.isArray(s)&&(s.push(...a),e[i]=s)}const r=e.$cstNode;return r&&(r.astNode=void 0,e.$cstNode=void 0),e}get definitionErrors(){return this.wrapper.definitionErrors}}class Dq{buildMismatchTokenMessage(e){return Ta.buildMismatchTokenMessage(e)}buildNotAllInputParsedMessage(e){return Ta.buildNotAllInputParsedMessage(e)}buildNoViableAltMessage(e){return Ta.buildNoViableAltMessage(e)}buildEarlyExitMessage(e){return Ta.buildEarlyExitMessage(e)}}class xS extends Dq{buildMismatchTokenMessage({expected:e,actual:n}){return`Expecting ${e.LABEL?"`"+e.LABEL+"`":e.name.endsWith(":KW")?`keyword '${e.name.substring(0,e.name.length-3)}'`:`token of type '${e.name}'`} but found \`${n.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:e}){return`Expecting end of file but found \`${e.image}\`.`}}class Pq extends ES{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(e){this.resetState();const n=this.lexer.tokenize(e,{mode:"partial"});return this.tokens=n.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(e,n){const r=this.wrapper.DEFINE_RULE(_S(e.name),this.startImplementation(n).bind(this));return this.allRules.set(e.name,r),e.entry&&(this.mainRule=r),r}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(e){return n=>{const r=this.keepStackSize();try{e(n)}finally{this.resetStackSize(r)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){const e=this.elementStack.length;return this.stackSize=e,e}resetStackSize(e){this.removeUnexpectedElements(),this.stackSize=e}consume(e,n,r){this.wrapper.wrapConsume(e,n),this.isRecording()||(this.lastElementStack=[...this.elementStack,r],this.nextTokenIndex=this.currIdx+1)}subrule(e,n,r,i,s){this.before(i),this.wrapper.wrapSubrule(e,n,s),this.after(i)}before(e){this.isRecording()||this.elementStack.push(e)}after(e){if(!this.isRecording()){const n=this.elementStack.lastIndexOf(e);n>=0&&this.elementStack.splice(n)}}get currIdx(){return this.wrapper.currIdx}}const Fq={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new xS};class $q extends YY{constructor(e,n){const r=n&&"maxLookahead"in n;super(e,Object.assign(Object.assign(Object.assign({},Fq),{lookaheadStrategy:r?new Ry({maxLookahead:n.maxLookahead}):new fq({logging:n.skipValidations?()=>{}:void 0})}),n))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(e,n){return this.RULE(e,n)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(e,n){return this.consume(e,n)}wrapSubrule(e,n,r){return this.subrule(e,n,{ARGS:[r]})}wrapOr(e,n){this.or(e,n)}wrapOption(e,n){this.option(e,n)}wrapMany(e,n){this.many(e,n)}wrapAtLeastOne(e,n){this.atLeastOne(e,n)}}function wS(t,e,n){return Uq({parser:e,tokens:n,ruleNames:new Map},t),e}function Uq(t,e){const n=EN(e,!1),r=pn(e.rules).filter(wr).filter(i=>n.has(i));for(const i of r){const s=Object.assign(Object.assign({},t),{consume:1,optional:1,subrule:1,many:1,or:1});t.parser.rule(i,Vs(s,i.definition))}}function Vs(t,e,n=!1){let r;if(Ys(e))r=qq(t,e);else if(Dd(e))r=Bq(t,e);else if(Ws(e))r=Vs(t,e.terminal);else if(yy(e))r=AS(t,e);else if(qs(e))r=Gq(t,e);else if(gN(e))r=Hq(t,e);else if(mN(e))r=Wq(t,e);else if(vy(e))r=Yq(t,e);else if(aH(e)){const i=t.consume++;r=()=>t.parser.consume(i,as,e)}else throw new hN(e.$cstNode,`Unexpected element type: ${e.$type}`);return TS(t,n?void 0:Lf(e),r,e.cardinality)}function Bq(t,e){const n=wy(e);return()=>t.parser.action(n,e)}function Gq(t,e){const n=e.rule.ref;if(wr(n)){const r=t.subrule++,i=n.fragment,s=e.arguments.length>0?zq(n,e.arguments):()=>({});return a=>t.parser.subrule(r,kS(t,n),i,e,s(a))}else if(ra(n)){const r=t.consume++,i=fm(t,n.name);return()=>t.parser.consume(r,i,e)}else if(n)Rc();else throw new hN(e.$cstNode,`Undefined rule: ${e.rule.$refText}`)}function zq(t,e){const n=e.map(r=>ki(r.value));return r=>{const i={};for(let s=0;s<n.length;s++){const a=t.parameters[s],o=n[s];i[a.name]=o(r)}return i}}function ki(t){if(eH(t)){const e=ki(t.left),n=ki(t.right);return r=>e(r)||n(r)}else if(Jz(t)){const e=ki(t.left),n=ki(t.right);return r=>e(r)&&n(r)}else if(tH(t)){const e=ki(t.value);return n=>!e(n)}else if(nH(t)){const e=t.parameter.ref.name;return n=>n!==void 0&&n[e]===!0}else if(Qz(t)){const e=!!t.true;return()=>e}Rc()}function Hq(t,e){if(e.elements.length===1)return Vs(t,e.elements[0]);{const n=[];for(const i of e.elements){const s={ALT:Vs(t,i,!0)},a=Lf(i);a&&(s.GATE=ki(a)),n.push(s)}const r=t.or++;return i=>t.parser.alternatives(r,n.map(s=>{const a={ALT:()=>s.ALT(i)},o=s.GATE;return o&&(a.GATE=()=>o(i)),a}))}}function Wq(t,e){if(e.elements.length===1)return Vs(t,e.elements[0]);const n=[];for(const o of e.elements){const u={ALT:Vs(t,o,!0)},c=Lf(o);c&&(u.GATE=ki(c)),n.push(u)}const r=t.or++,i=(o,u)=>{const c=u.getRuleStack().join("-");return`uGroup_${o}_${c}`},s=o=>t.parser.alternatives(r,n.map((u,c)=>{const l={ALT:()=>!0},h=t.parser;l.ALT=()=>{if(u.ALT(o),!h.isRecording()){const f=i(r,h);h.unorderedGroups.get(f)||h.unorderedGroups.set(f,[]);const p=h.unorderedGroups.get(f);typeof(p==null?void 0:p[c])>"u"&&(p[c]=!0)}};const d=u.GATE;return d?l.GATE=()=>d(o):l.GATE=()=>{const f=h.unorderedGroups.get(i(r,h));return!(f!=null&&f[c])},l})),a=TS(t,Lf(e),s,"*");return o=>{a(o),t.parser.isRecording()||t.parser.unorderedGroups.delete(i(r,t.parser))}}function Yq(t,e){const n=e.elements.map(r=>Vs(t,r));return r=>n.forEach(i=>i(r))}function Lf(t){if(vy(t))return t.guardCondition}function AS(t,e,n=e.terminal){if(n)if(qs(n)&&wr(n.rule.ref)){const r=n.rule.ref,i=t.subrule++;return s=>t.parser.subrule(i,kS(t,r),!1,e,s)}else if(qs(n)&&ra(n.rule.ref)){const r=t.consume++,i=fm(t,n.rule.ref.name);return()=>t.parser.consume(r,i,e)}else if(Ys(n)){const r=t.consume++,i=fm(t,n.value);return()=>t.parser.consume(r,i,e)}else throw new Error("Could not build cross reference parser");else{if(!e.type.ref)throw new Error("Could not resolve reference to type: "+e.type.$refText);const r=AN(e.type.ref),i=r==null?void 0:r.terminal;if(!i)throw new Error("Could not find name assignment for type: "+wy(e.type.ref));return AS(t,e,i)}}function qq(t,e){const n=t.consume++,r=t.tokens[e.value];if(!r)throw new Error("Could not find token for keyword: "+e.value);return()=>t.parser.consume(n,r,e)}function TS(t,e,n,r){const i=e&&ki(e);if(!r)if(i){const s=t.or++;return a=>t.parser.alternatives(s,[{ALT:()=>n(a),GATE:()=>i(a)},{ALT:xE(),GATE:()=>!i(a)}])}else return n;if(r==="*"){const s=t.many++;return a=>t.parser.many(s,{DEF:()=>n(a),GATE:i?()=>i(a):void 0})}else if(r==="+"){const s=t.many++;if(i){const a=t.or++;return o=>t.parser.alternatives(a,[{ALT:()=>t.parser.atLeastOne(s,{DEF:()=>n(o)}),GATE:()=>i(o)},{ALT:xE(),GATE:()=>!i(o)}])}else return a=>t.parser.atLeastOne(s,{DEF:()=>n(a)})}else if(r==="?"){const s=t.optional++;return a=>t.parser.optional(s,{DEF:()=>n(a),GATE:i?()=>i(a):void 0})}else Rc()}function kS(t,e){const n=Xq(t,e),r=t.parser.getRule(n);if(!r)throw new Error(`Rule "${n}" not found."`);return r}function Xq(t,e){if(wr(e))return e.name;if(t.ruleNames.has(e))return t.ruleNames.get(e);{let n=e,r=n.$container,i=e.$type;for(;!wr(r);)(vy(r)||gN(r)||mN(r))&&(i=r.elements.indexOf(n).toString()+":"+i),n=r,r=r.$container;return i=r.name+":"+i,t.ruleNames.set(e,i),i}}function fm(t,e){const n=t.tokens[e];if(!n)throw new Error(`Token "${e}" not found."`);return n}function Vq(t){const e=t.Grammar,n=t.parser.Lexer,r=new Pq(t);return wS(e,r,n.definition),r.finalize(),r}function Kq(t){const e=Zq(t);return e.finalize(),e}function Zq(t){const e=t.Grammar,n=t.parser.Lexer,r=new Lq(t);return wS(e,r,n.definition)}class jq{constructor(){this.diagnostics=[]}buildTokens(e,n){const r=pn(EN(e,!1)),i=this.buildTerminalTokens(r),s=this.buildKeywordTokens(r,i,n);return i.forEach(a=>{const o=a.PATTERN;typeof o=="object"&&o&&"test"in o&&U0(o)?s.unshift(a):s.push(a)}),s}flushLexingReport(e){return{diagnostics:this.popDiagnostics()}}popDiagnostics(){const e=[...this.diagnostics];return this.diagnostics=[],e}buildTerminalTokens(e){return e.filter(ra).filter(n=>!n.fragment).map(n=>this.buildTerminalToken(n)).toArray()}buildTerminalToken(e){const n=Ay(e),r=this.requiresCustomPattern(n)?this.regexPatternFunction(n):n,i={name:e.name,PATTERN:r};return typeof r=="function"&&(i.LINE_BREAKS=!0),e.hidden&&(i.GROUP=U0(n)?qn.SKIPPED:"hidden"),i}requiresCustomPattern(e){return e.flags.includes("u")||e.flags.includes("s")?!0:!!(e.source.includes("?<=")||e.source.includes("?<!"))}regexPatternFunction(e){const n=new RegExp(e,e.flags+"y");return(r,i)=>(n.lastIndex=i,n.exec(r))}buildKeywordTokens(e,n,r){return e.filter(wr).flatMap(i=>Oc(i).filter(Ys)).distinct(i=>i.value).toArray().sort((i,s)=>s.value.length-i.value.length).map(i=>this.buildKeywordToken(i,n,!!(r!=null&&r.caseInsensitive)))}buildKeywordToken(e,n,r){const i=this.buildKeywordPattern(e,r),s={name:e.value,PATTERN:i,LONGER_ALT:this.findLongerAlt(e,n)};return typeof i=="function"&&(s.LINE_BREAKS=!0),s}buildKeywordPattern(e,n){return n?new RegExp(AH(e.value)):e.value}findLongerAlt(e,n){return n.reduce((r,i)=>{const s=i==null?void 0:i.PATTERN;return s!=null&&s.source&&TH("^"+s.source+"$",e.value)&&r.push(i),r},[])}}class Qq{convert(e,n){let r=n.grammarSource;if(yy(r)&&(r=CH(r)),qs(r)){const i=r.rule.ref;if(!i)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(i,e,n)}return e}runConverter(e,n,r){var i;switch(e.name.toUpperCase()){case"INT":return Ai.convertInt(n);case"STRING":return Ai.convertString(n);case"ID":return Ai.convertID(n)}switch((i=PH(e))===null||i===void 0?void 0:i.toLowerCase()){case"number":return Ai.convertNumber(n);case"boolean":return Ai.convertBoolean(n);case"bigint":return Ai.convertBigint(n);case"date":return Ai.convertDate(n);default:return n}}}var Ai;(function(t){function e(c){let l="";for(let h=1;h<c.length-1;h++){const d=c.charAt(h);if(d==="\\"){const f=c.charAt(++h);l+=n(f)}else l+=d}return l}t.convertString=e;function n(c){switch(c){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"0":return"\0";default:return c}}function r(c){return c.charAt(0)==="^"?c.substring(1):c}t.convertID=r;function i(c){return parseInt(c)}t.convertInt=i;function s(c){return BigInt(c)}t.convertBigint=s;function a(c){return new Date(c)}t.convertDate=a;function o(c){return Number(c)}t.convertNumber=o;function u(c){return c.toLowerCase()==="true"}t.convertBoolean=u})(Ai||(Ai={}));var bs={},Il={},Sx;function NS(){if(Sx)return Il;Sx=1,Object.defineProperty(Il,"__esModule",{value:!0});let t;function e(){if(t===void 0)throw new Error("No runtime abstraction layer installed");return t}return(function(n){function r(i){if(i===void 0)throw new Error("No runtime abstraction layer provided");t=i}n.install=r})(e||(e={})),Il.default=e,Il}var un={},Cx;function Jq(){if(Cx)return un;Cx=1,Object.defineProperty(un,"__esModule",{value:!0}),un.stringArray=un.array=un.func=un.error=un.number=un.string=un.boolean=void 0;function t(o){return o===!0||o===!1}un.boolean=t;function e(o){return typeof o=="string"||o instanceof String}un.string=e;function n(o){return typeof o=="number"||o instanceof Number}un.number=n;function r(o){return o instanceof Error}un.error=r;function i(o){return typeof o=="function"}un.func=i;function s(o){return Array.isArray(o)}un.array=s;function a(o){return s(o)&&o.every(u=>e(u))}return un.stringArray=a,un}var ys={},Rx;function SS(){if(Rx)return ys;Rx=1,Object.defineProperty(ys,"__esModule",{value:!0}),ys.Emitter=ys.Event=void 0;const t=NS();var e;(function(i){const s={dispose(){}};i.None=function(){return s}})(e||(ys.Event=e={}));class n{add(s,a=null,o){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(s),this._contexts.push(a),Array.isArray(o)&&o.push({dispose:()=>this.remove(s,a)})}remove(s,a=null){if(!this._callbacks)return;let o=!1;for(let u=0,c=this._callbacks.length;u<c;u++)if(this._callbacks[u]===s)if(this._contexts[u]===a){this._callbacks.splice(u,1),this._contexts.splice(u,1);return}else o=!0;if(o)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...s){if(!this._callbacks)return[];const a=[],o=this._callbacks.slice(0),u=this._contexts.slice(0);for(let c=0,l=o.length;c<l;c++)try{a.push(o[c].apply(u[c],s))}catch(h){(0,t.default)().console.error(h)}return a}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}class r{constructor(s){this._options=s}get event(){return this._event||(this._event=(s,a,o)=>{this._callbacks||(this._callbacks=new n),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(s,a);const u={dispose:()=>{this._callbacks&&(this._callbacks.remove(s,a),u.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(o)&&o.push(u),u}),this._event}fire(s){this._callbacks&&this._callbacks.invoke.call(this._callbacks,s)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}return ys.Emitter=r,r._noop=function(){},ys}var Ox;function eX(){if(Ox)return bs;Ox=1,Object.defineProperty(bs,"__esModule",{value:!0}),bs.CancellationTokenSource=bs.CancellationToken=void 0;const t=NS(),e=Jq(),n=SS();var r;(function(o){o.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:n.Event.None}),o.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:n.Event.None});function u(c){const l=c;return l&&(l===o.None||l===o.Cancelled||e.boolean(l.isCancellationRequested)&&!!l.onCancellationRequested)}o.is=u})(r||(bs.CancellationToken=r={}));const i=Object.freeze(function(o,u){const c=(0,t.default)().timer.setTimeout(o.bind(u),0);return{dispose(){c.dispose()}}});class s{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?i:(this._emitter||(this._emitter=new n.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class a{get token(){return this._token||(this._token=new s),this._token}cancel(){this._token?this._token.cancel():this._token=r.Cancelled}dispose(){this._token?this._token instanceof s&&this._token.dispose():this._token=r.None}}return bs.CancellationTokenSource=a,bs}var wt=eX();function tX(){return new Promise(t=>{typeof setImmediate>"u"?setTimeout(t,0):setImmediate(t)})}let ph=0,nX=10;function rX(){return ph=performance.now(),new wt.CancellationTokenSource}const Df=Symbol("OperationCancelled");function qd(t){return t===Df}async function ir(t){if(t===wt.CancellationToken.None)return;const e=performance.now();if(e-ph>=nX&&(ph=e,await tX(),ph=performance.now()),t.isCancellationRequested)throw Df}class $y{constructor(){this.promise=new Promise((e,n)=>{this.resolve=r=>(e(r),this),this.reject=r=>(n(r),this)})}}class cc{constructor(e,n,r,i){this._uri=e,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){const n=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(n,r)}return this._content}update(e,n){for(const r of e)if(cc.isIncremental(r)){const i=RS(r.range),s=this.offsetAt(i.start),a=this.offsetAt(i.end);this._content=this._content.substring(0,s)+r.text+this._content.substring(a,this._content.length);const o=Math.max(i.start.line,0),u=Math.max(i.end.line,0);let c=this._lineOffsets;const l=Mx(r.text,!1,s);if(u-o===l.length)for(let d=0,f=l.length;d<f;d++)c[d+o+1]=l[d];else l.length<1e4?c.splice(o+1,u-o,...l):this._lineOffsets=c=c.slice(0,o+1).concat(l,c.slice(u+1));const h=r.text.length-(a-s);if(h!==0)for(let d=o+1+l.length,f=c.length;d<f;d++)c[d]=c[d]+h}else if(cc.isFull(r))this._content=r.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=n}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=Mx(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);const n=this.getLineOffsets();let r=0,i=n.length;if(i===0)return{line:0,character:e};for(;r<i;){const a=Math.floor((r+i)/2);n[a]>e?i=a:r=a+1}const s=r-1;return e=this.ensureBeforeEOL(e,n[s]),{line:s,character:e-n[s]}}offsetAt(e){const n=this.getLineOffsets();if(e.line>=n.length)return this._content.length;if(e.line<0)return 0;const r=n[e.line];if(e.character<=0)return r;const i=e.line+1<n.length?n[e.line+1]:this._content.length,s=Math.min(r+e.character,i);return this.ensureBeforeEOL(s,r)}ensureBeforeEOL(e,n){for(;e>n&&CS(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){const n=e;return n!=null&&typeof n.text=="string"&&n.range!==void 0&&(n.rangeLength===void 0||typeof n.rangeLength=="number")}static isFull(e){const n=e;return n!=null&&typeof n.text=="string"&&n.range===void 0&&n.rangeLength===void 0}}var dm;(function(t){function e(i,s,a,o){return new cc(i,s,a,o)}t.create=e;function n(i,s,a){if(i instanceof cc)return i.update(s,a),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}t.update=n;function r(i,s){const a=i.getText(),o=pm(s.map(iX),(l,h)=>{const d=l.range.start.line-h.range.start.line;return d===0?l.range.start.character-h.range.start.character:d});let u=0;const c=[];for(const l of o){const h=i.offsetAt(l.range.start);if(h<u)throw new Error("Overlapping edit");h>u&&c.push(a.substring(u,h)),l.newText.length&&c.push(l.newText),u=i.offsetAt(l.range.end)}return c.push(a.substr(u)),c.join("")}t.applyEdits=r})(dm||(dm={}));function pm(t,e){if(t.length<=1)return t;const n=t.length/2|0,r=t.slice(0,n),i=t.slice(n);pm(r,e),pm(i,e);let s=0,a=0,o=0;for(;s<r.length&&a<i.length;)e(r[s],i[a])<=0?t[o++]=r[s++]:t[o++]=i[a++];for(;s<r.length;)t[o++]=r[s++];for(;a<i.length;)t[o++]=i[a++];return t}function Mx(t,e,n=0){const r=e?[n]:[];for(let i=0;i<t.length;i++){const s=t.charCodeAt(i);CS(s)&&(s===13&&i+1<t.length&&t.charCodeAt(i+1)===10&&i++,r.push(n+i+1))}return r}function CS(t){return t===13||t===10}function RS(t){const e=t.start,n=t.end;return e.line>n.line||e.line===n.line&&e.character>n.character?{start:n,end:e}:t}function iX(t){const e=RS(t.range);return e!==t.range?{newText:t.newText,range:e}:t}var OS;(()=>{var t={470:i=>{function s(u){if(typeof u!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(u))}function a(u,c){for(var l,h="",d=0,f=-1,p=0,g=0;g<=u.length;++g){if(g<u.length)l=u.charCodeAt(g);else{if(l===47)break;l=47}if(l===47){if(!(f===g-1||p===1))if(f!==g-1&&p===2){if(h.length<2||d!==2||h.charCodeAt(h.length-1)!==46||h.charCodeAt(h.length-2)!==46){if(h.length>2){var m=h.lastIndexOf("/");if(m!==h.length-1){m===-1?(h="",d=0):d=(h=h.slice(0,m)).length-1-h.lastIndexOf("/"),f=g,p=0;continue}}else if(h.length===2||h.length===1){h="",d=0,f=g,p=0;continue}}c&&(h.length>0?h+="/..":h="..",d=2)}else h.length>0?h+="/"+u.slice(f+1,g):h=u.slice(f+1,g),d=g-f-1;f=g,p=0}else l===46&&p!==-1?++p:p=-1}return h}var o={resolve:function(){for(var u,c="",l=!1,h=arguments.length-1;h>=-1&&!l;h--){var d;h>=0?d=arguments[h]:(u===void 0&&(u=process.cwd()),d=u),s(d),d.length!==0&&(c=d+"/"+c,l=d.charCodeAt(0)===47)}return c=a(c,!l),l?c.length>0?"/"+c:"/":c.length>0?c:"."},normalize:function(u){if(s(u),u.length===0)return".";var c=u.charCodeAt(0)===47,l=u.charCodeAt(u.length-1)===47;return(u=a(u,!c)).length!==0||c||(u="."),u.length>0&&l&&(u+="/"),c?"/"+u:u},isAbsolute:function(u){return s(u),u.length>0&&u.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var u,c=0;c<arguments.length;++c){var l=arguments[c];s(l),l.length>0&&(u===void 0?u=l:u+="/"+l)}return u===void 0?".":o.normalize(u)},relative:function(u,c){if(s(u),s(c),u===c||(u=o.resolve(u))===(c=o.resolve(c)))return"";for(var l=1;l<u.length&&u.charCodeAt(l)===47;++l);for(var h=u.length,d=h-l,f=1;f<c.length&&c.charCodeAt(f)===47;++f);for(var p=c.length-f,g=d<p?d:p,m=-1,b=0;b<=g;++b){if(b===g){if(p>g){if(c.charCodeAt(f+b)===47)return c.slice(f+b+1);if(b===0)return c.slice(f+b)}else d>g&&(u.charCodeAt(l+b)===47?m=b:b===0&&(m=0));break}var v=u.charCodeAt(l+b);if(v!==c.charCodeAt(f+b))break;v===47&&(m=b)}var y="";for(b=l+m+1;b<=h;++b)b!==h&&u.charCodeAt(b)!==47||(y.length===0?y+="..":y+="/..");return y.length>0?y+c.slice(f+m):(f+=m,c.charCodeAt(f)===47&&++f,c.slice(f))},_makeLong:function(u){return u},dirname:function(u){if(s(u),u.length===0)return".";for(var c=u.charCodeAt(0),l=c===47,h=-1,d=!0,f=u.length-1;f>=1;--f)if((c=u.charCodeAt(f))===47){if(!d){h=f;break}}else d=!1;return h===-1?l?"/":".":l&&h===1?"//":u.slice(0,h)},basename:function(u,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');s(u);var l,h=0,d=-1,f=!0;if(c!==void 0&&c.length>0&&c.length<=u.length){if(c.length===u.length&&c===u)return"";var p=c.length-1,g=-1;for(l=u.length-1;l>=0;--l){var m=u.charCodeAt(l);if(m===47){if(!f){h=l+1;break}}else g===-1&&(f=!1,g=l+1),p>=0&&(m===c.charCodeAt(p)?--p==-1&&(d=l):(p=-1,d=g))}return h===d?d=g:d===-1&&(d=u.length),u.slice(h,d)}for(l=u.length-1;l>=0;--l)if(u.charCodeAt(l)===47){if(!f){h=l+1;break}}else d===-1&&(f=!1,d=l+1);return d===-1?"":u.slice(h,d)},extname:function(u){s(u);for(var c=-1,l=0,h=-1,d=!0,f=0,p=u.length-1;p>=0;--p){var g=u.charCodeAt(p);if(g!==47)h===-1&&(d=!1,h=p+1),g===46?c===-1?c=p:f!==1&&(f=1):c!==-1&&(f=-1);else if(!d){l=p+1;break}}return c===-1||h===-1||f===0||f===1&&c===h-1&&c===l+1?"":u.slice(c,h)},format:function(u){if(u===null||typeof u!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof u);return(function(c,l){var h=l.dir||l.root,d=l.base||(l.name||"")+(l.ext||"");return h?h===l.root?h+d:h+"/"+d:d})(0,u)},parse:function(u){s(u);var c={root:"",dir:"",base:"",ext:"",name:""};if(u.length===0)return c;var l,h=u.charCodeAt(0),d=h===47;d?(c.root="/",l=1):l=0;for(var f=-1,p=0,g=-1,m=!0,b=u.length-1,v=0;b>=l;--b)if((h=u.charCodeAt(b))!==47)g===-1&&(m=!1,g=b+1),h===46?f===-1?f=b:v!==1&&(v=1):f!==-1&&(v=-1);else if(!m){p=b+1;break}return f===-1||g===-1||v===0||v===1&&f===g-1&&f===p+1?g!==-1&&(c.base=c.name=p===0&&d?u.slice(1,g):u.slice(p,g)):(p===0&&d?(c.name=u.slice(1,f),c.base=u.slice(1,g)):(c.name=u.slice(p,f),c.base=u.slice(p,g)),c.ext=u.slice(f,g)),p>0?c.dir=u.slice(0,p-1):d&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,i.exports=o}},e={};function n(i){var s=e[i];if(s!==void 0)return s.exports;var a=e[i]={exports:{}};return t[i](a,a.exports,n),a.exports}n.d=(i,s)=>{for(var a in s)n.o(s,a)&&!n.o(i,a)&&Object.defineProperty(i,a,{enumerable:!0,get:s[a]})},n.o=(i,s)=>Object.prototype.hasOwnProperty.call(i,s),n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{let i;n.r(r),n.d(r,{URI:()=>d,Utils:()=>I}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);const s=/^\w[\w\d+.-]*$/,a=/^\//,o=/^\/\//;function u(M,R){if(!M.scheme&&R)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${M.authority}", path: "${M.path}", query: "${M.query}", fragment: "${M.fragment}"}`);if(M.scheme&&!s.test(M.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(M.path){if(M.authority){if(!a.test(M.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(o.test(M.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}const c="",l="/",h=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class d{constructor(R,L,E,A,N,C=!1){_e(this,"scheme");_e(this,"authority");_e(this,"path");_e(this,"query");_e(this,"fragment");typeof R=="object"?(this.scheme=R.scheme||c,this.authority=R.authority||c,this.path=R.path||c,this.query=R.query||c,this.fragment=R.fragment||c):(this.scheme=(function(S,D){return S||D?S:"file"})(R,C),this.authority=L||c,this.path=(function(S,D){switch(S){case"https":case"http":case"file":D?D[0]!==l&&(D=l+D):D=l}return D})(this.scheme,E||c),this.query=A||c,this.fragment=N||c,u(this,C))}static isUri(R){return R instanceof d||!!R&&typeof R.authority=="string"&&typeof R.fragment=="string"&&typeof R.path=="string"&&typeof R.query=="string"&&typeof R.scheme=="string"&&typeof R.fsPath=="string"&&typeof R.with=="function"&&typeof R.toString=="function"}get fsPath(){return v(this)}with(R){if(!R)return this;let{scheme:L,authority:E,path:A,query:N,fragment:C}=R;return L===void 0?L=this.scheme:L===null&&(L=c),E===void 0?E=this.authority:E===null&&(E=c),A===void 0?A=this.path:A===null&&(A=c),N===void 0?N=this.query:N===null&&(N=c),C===void 0?C=this.fragment:C===null&&(C=c),L===this.scheme&&E===this.authority&&A===this.path&&N===this.query&&C===this.fragment?this:new p(L,E,A,N,C)}static parse(R,L=!1){const E=h.exec(R);return E?new p(E[2]||c,k(E[4]||c),k(E[5]||c),k(E[7]||c),k(E[9]||c),L):new p(c,c,c,c,c)}static file(R){let L=c;if(i&&(R=R.replace(/\\/g,l)),R[0]===l&&R[1]===l){const E=R.indexOf(l,2);E===-1?(L=R.substring(2),R=l):(L=R.substring(2,E),R=R.substring(E)||l)}return new p("file",L,R,c,c)}static from(R){const L=new p(R.scheme,R.authority,R.path,R.query,R.fragment);return u(L,!0),L}toString(R=!1){return y(this,R)}toJSON(){return this}static revive(R){if(R){if(R instanceof d)return R;{const L=new p(R);return L._formatted=R.external,L._fsPath=R._sep===f?R.fsPath:null,L}}return R}}const f=i?1:void 0;class p extends d{constructor(){super(...arguments);_e(this,"_formatted",null);_e(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=v(this)),this._fsPath}toString(L=!1){return L?y(this,!0):(this._formatted||(this._formatted=y(this,!1)),this._formatted)}toJSON(){const L={$mid:1};return this._fsPath&&(L.fsPath=this._fsPath,L._sep=f),this._formatted&&(L.external=this._formatted),this.path&&(L.path=this.path),this.scheme&&(L.scheme=this.scheme),this.authority&&(L.authority=this.authority),this.query&&(L.query=this.query),this.fragment&&(L.fragment=this.fragment),L}}const g={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function m(M,R,L){let E,A=-1;for(let N=0;N<M.length;N++){const C=M.charCodeAt(N);if(C>=97&&C<=122||C>=65&&C<=90||C>=48&&C<=57||C===45||C===46||C===95||C===126||R&&C===47||L&&C===91||L&&C===93||L&&C===58)A!==-1&&(E+=encodeURIComponent(M.substring(A,N)),A=-1),E!==void 0&&(E+=M.charAt(N));else{E===void 0&&(E=M.substr(0,N));const S=g[C];S!==void 0?(A!==-1&&(E+=encodeURIComponent(M.substring(A,N)),A=-1),E+=S):A===-1&&(A=N)}}return A!==-1&&(E+=encodeURIComponent(M.substring(A))),E!==void 0?E:M}function b(M){let R;for(let L=0;L<M.length;L++){const E=M.charCodeAt(L);E===35||E===63?(R===void 0&&(R=M.substr(0,L)),R+=g[E]):R!==void 0&&(R+=M[L])}return R!==void 0?R:M}function v(M,R){let L;return L=M.authority&&M.path.length>1&&M.scheme==="file"?`//${M.authority}${M.path}`:M.path.charCodeAt(0)===47&&(M.path.charCodeAt(1)>=65&&M.path.charCodeAt(1)<=90||M.path.charCodeAt(1)>=97&&M.path.charCodeAt(1)<=122)&&M.path.charCodeAt(2)===58?M.path[1].toLowerCase()+M.path.substr(2):M.path,i&&(L=L.replace(/\//g,"\\")),L}function y(M,R){const L=R?b:m;let E="",{scheme:A,authority:N,path:C,query:S,fragment:D}=M;if(A&&(E+=A,E+=":"),(N||A==="file")&&(E+=l,E+=l),N){let P=N.indexOf("@");if(P!==-1){const U=N.substr(0,P);N=N.substr(P+1),P=U.lastIndexOf(":"),P===-1?E+=L(U,!1,!1):(E+=L(U.substr(0,P),!1,!1),E+=":",E+=L(U.substr(P+1),!1,!0)),E+="@"}N=N.toLowerCase(),P=N.lastIndexOf(":"),P===-1?E+=L(N,!1,!0):(E+=L(N.substr(0,P),!1,!0),E+=N.substr(P))}if(C){if(C.length>=3&&C.charCodeAt(0)===47&&C.charCodeAt(2)===58){const P=C.charCodeAt(1);P>=65&&P<=90&&(C=`/${String.fromCharCode(P+32)}:${C.substr(3)}`)}else if(C.length>=2&&C.charCodeAt(1)===58){const P=C.charCodeAt(0);P>=65&&P<=90&&(C=`${String.fromCharCode(P+32)}:${C.substr(2)}`)}E+=L(C,!0,!1)}return S&&(E+="?",E+=L(S,!1,!1)),D&&(E+="#",E+=R?D:m(D,!1,!1)),E}function _(M){try{return decodeURIComponent(M)}catch{return M.length>3?M.substr(0,3)+_(M.substr(3)):M}}const w=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function k(M){return M.match(w)?M.replace(w,(R=>_(R))):M}var x=n(470);const T=x.posix||x,O="/";var I;(function(M){M.joinPath=function(R,...L){return R.with({path:T.join(R.path,...L)})},M.resolvePath=function(R,...L){let E=R.path,A=!1;E[0]!==O&&(E=O+E,A=!0);let N=T.resolve(E,...L);return A&&N[0]===O&&!R.authority&&(N=N.substring(1)),R.with({path:N})},M.dirname=function(R){if(R.path.length===0||R.path===O)return R;let L=T.dirname(R.path);return L.length===1&&L.charCodeAt(0)===46&&(L=""),R.with({path:L})},M.basename=function(R){return T.basename(R.path)},M.extname=function(R){return T.extname(R.path)}})(I||(I={}))})(),OS=r})();const{URI:Ks,Utils:Uo}=OS;var us;(function(t){t.basename=Uo.basename,t.dirname=Uo.dirname,t.extname=Uo.extname,t.joinPath=Uo.joinPath,t.resolvePath=Uo.resolvePath;function e(i,s){return(i==null?void 0:i.toString())===(s==null?void 0:s.toString())}t.equals=e;function n(i,s){const a=typeof i=="string"?i:i.path,o=typeof s=="string"?s:s.path,u=a.split("/").filter(f=>f.length>0),c=o.split("/").filter(f=>f.length>0);let l=0;for(;l<u.length&&u[l]===c[l];l++);const h="../".repeat(u.length-l),d=c.slice(l).join("/");return h+d}t.relative=n;function r(i){return Ks.parse(i.toString()).toString()}t.normalize=r})(us||(us={}));var vt;(function(t){t[t.Changed=0]="Changed",t[t.Parsed=1]="Parsed",t[t.IndexedContent=2]="IndexedContent",t[t.ComputedScopes=3]="ComputedScopes",t[t.Linked=4]="Linked",t[t.IndexedReferences=5]="IndexedReferences",t[t.Validated=6]="Validated"})(vt||(vt={}));class sX{constructor(e){this.serviceRegistry=e.ServiceRegistry,this.textDocuments=e.workspace.TextDocuments,this.fileSystemProvider=e.workspace.FileSystemProvider}async fromUri(e,n=wt.CancellationToken.None){const r=await this.fileSystemProvider.readFile(e);return this.createAsync(e,r,n)}fromTextDocument(e,n,r){return n=n??Ks.parse(e.uri),wt.CancellationToken.is(r)?this.createAsync(n,e,r):this.create(n,e,r)}fromString(e,n,r){return wt.CancellationToken.is(r)?this.createAsync(n,e,r):this.create(n,e,r)}fromModel(e,n){return this.create(n,{$model:e})}create(e,n,r){if(typeof n=="string"){const i=this.parse(e,n,r);return this.createLangiumDocument(i,e,void 0,n)}else if("$model"in n){const i={value:n.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(i,e)}else{const i=this.parse(e,n.getText(),r);return this.createLangiumDocument(i,e,n)}}async createAsync(e,n,r){if(typeof n=="string"){const i=await this.parseAsync(e,n,r);return this.createLangiumDocument(i,e,void 0,n)}else{const i=await this.parseAsync(e,n.getText(),r);return this.createLangiumDocument(i,e,n)}}createLangiumDocument(e,n,r,i){let s;if(r)s={parseResult:e,uri:n,state:vt.Parsed,references:[],textDocument:r};else{const a=this.createTextDocumentGetter(n,i);s={parseResult:e,uri:n,state:vt.Parsed,references:[],get textDocument(){return a()}}}return e.value.$document=s,s}async update(e,n){var r,i;const s=(r=e.parseResult.value.$cstNode)===null||r===void 0?void 0:r.root.fullText,a=(i=this.textDocuments)===null||i===void 0?void 0:i.get(e.uri.toString()),o=a?a.getText():await this.fileSystemProvider.readFile(e.uri);if(a)Object.defineProperty(e,"textDocument",{value:a});else{const u=this.createTextDocumentGetter(e.uri,o);Object.defineProperty(e,"textDocument",{get:u})}return s!==o&&(e.parseResult=await this.parseAsync(e.uri,o,n),e.parseResult.value.$document=e),e.state=vt.Parsed,e}parse(e,n,r){return this.serviceRegistry.getServices(e).parser.LangiumParser.parse(n,r)}parseAsync(e,n,r){return this.serviceRegistry.getServices(e).parser.AsyncParser.parse(n,r)}createTextDocumentGetter(e,n){const r=this.serviceRegistry;let i;return()=>i??(i=dm.create(e.toString(),r.getServices(e).LanguageMetaData.languageId,0,n??""))}}class aX{constructor(e){this.documentMap=new Map,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.serviceRegistry=e.ServiceRegistry}get all(){return pn(this.documentMap.values())}addDocument(e){const n=e.uri.toString();if(this.documentMap.has(n))throw new Error(`A document with the URI '${n}' is already present.`);this.documentMap.set(n,e)}getDocument(e){const n=e.toString();return this.documentMap.get(n)}async getOrCreateDocument(e,n){let r=this.getDocument(e);return r||(r=await this.langiumDocumentFactory.fromUri(e,n),this.addDocument(r),r)}createDocument(e,n,r){if(r)return this.langiumDocumentFactory.fromString(n,e,r).then(i=>(this.addDocument(i),i));{const i=this.langiumDocumentFactory.fromString(n,e);return this.addDocument(i),i}}hasDocument(e){return this.documentMap.has(e.toString())}invalidateDocument(e){const n=e.toString(),r=this.documentMap.get(n);return r&&(this.serviceRegistry.getServices(e).references.Linker.unlink(r),r.state=vt.Changed,r.precomputedScopes=void 0,r.diagnostics=void 0),r}deleteDocument(e){const n=e.toString(),r=this.documentMap.get(n);return r&&(r.state=vt.Changed,this.documentMap.delete(n)),r}}const vg=Symbol("ref_resolving");class oX{constructor(e){this.reflection=e.shared.AstReflection,this.langiumDocuments=()=>e.shared.workspace.LangiumDocuments,this.scopeProvider=e.references.ScopeProvider,this.astNodeLocator=e.workspace.AstNodeLocator}async link(e,n=wt.CancellationToken.None){for(const r of Da(e.parseResult.value))await ir(n),yN(r).forEach(i=>this.doLink(i,e))}doLink(e,n){var r;const i=e.reference;if(i._ref===void 0){i._ref=vg;try{const s=this.getCandidate(e);if(oh(s))i._ref=s;else if(i._nodeDescription=s,this.langiumDocuments().hasDocument(s.documentUri)){const a=this.loadAstNode(s);i._ref=a??this.createLinkingError(e,s)}else i._ref=void 0}catch(s){console.error(`An error occurred while resolving reference to '${i.$refText}':`,s);const a=(r=s.message)!==null&&r!==void 0?r:String(s);i._ref=Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${i.$refText}': ${a}`})}n.references.push(i)}}unlink(e){for(const n of e.references)delete n._ref,delete n._nodeDescription;e.references=[]}getCandidate(e){const r=this.scopeProvider.getScope(e).getElement(e.reference.$refText);return r??this.createLinkingError(e)}buildReference(e,n,r,i){const s=this,a={$refNode:r,$refText:i,get ref(){var o;if(kn(this._ref))return this._ref;if(Gz(this._nodeDescription)){const u=s.loadAstNode(this._nodeDescription);this._ref=u??s.createLinkingError({reference:a,container:e,property:n},this._nodeDescription)}else if(this._ref===void 0){this._ref=vg;const u=$0(e).$document,c=s.getLinkedNode({reference:a,container:e,property:n});if(c.error&&u&&u.state<vt.ComputedScopes)return this._ref=void 0;this._ref=(o=c.node)!==null&&o!==void 0?o:c.error,this._nodeDescription=c.descr,u==null||u.references.push(this)}else if(this._ref===vg)throw new Error(`Cyclic reference resolution detected: ${s.astNodeLocator.getAstNodePath(e)}/${n} (symbol '${i}')`);return kn(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return oh(this._ref)?this._ref:void 0}};return a}getLinkedNode(e){var n;try{const r=this.getCandidate(e);if(oh(r))return{error:r};const i=this.loadAstNode(r);return i?{node:i,descr:r}:{descr:r,error:this.createLinkingError(e,r)}}catch(r){console.error(`An error occurred while resolving reference to '${e.reference.$refText}':`,r);const i=(n=r.message)!==null&&n!==void 0?n:String(r);return{error:Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${e.reference.$refText}': ${i}`})}}}loadAstNode(e){if(e.node)return e.node;const n=this.langiumDocuments().getDocument(e.documentUri);if(n)return this.astNodeLocator.getAstNode(n.parseResult.value,e.path)}createLinkingError(e,n){const r=$0(e.container).$document;r&&r.state<vt.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${r.uri}).`);const i=this.reflection.getReferenceType(e);return Object.assign(Object.assign({},e),{message:`Could not resolve reference to ${i} named '${e.reference.$refText}'.`,targetDescription:n})}}function uX(t){return typeof t.name=="string"}class cX{getName(e){if(uX(e))return e.name}getNameNode(e){return wN(e.$cstNode,"name")}}class lX{constructor(e){this.nameProvider=e.references.NameProvider,this.index=e.shared.workspace.IndexManager,this.nodeLocator=e.workspace.AstNodeLocator}findDeclaration(e){if(e){const n=LH(e),r=e.astNode;if(n&&r){const i=r[n.feature];if(ci(i))return i.ref;if(Array.isArray(i)){for(const s of i)if(ci(s)&&s.$refNode&&s.$refNode.offset<=e.offset&&s.$refNode.end>=e.end)return s.ref}}if(r){const i=this.nameProvider.getNameNode(r);if(i&&(i===e||Yz(e,i)))return r}}}findDeclarationNode(e){const n=this.findDeclaration(e);if(n!=null&&n.$cstNode){const r=this.nameProvider.getNameNode(n);return r??n.$cstNode}}findReferences(e,n){const r=[];if(n.includeDeclaration){const s=this.getReferenceToSelf(e);s&&r.push(s)}let i=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e));return n.documentUri&&(i=i.filter(s=>us.equals(s.sourceUri,n.documentUri))),r.push(...i),pn(r)}getReferenceToSelf(e){const n=this.nameProvider.getNameNode(e);if(n){const r=is(e),i=this.nodeLocator.getAstNodePath(e);return{sourceUri:r.uri,sourcePath:i,targetUri:r.uri,targetPath:i,segment:bf(n),local:!0}}}}class Pf{constructor(e){if(this.map=new Map,e)for(const[n,r]of e)this.add(n,r)}get size(){return D0.sum(pn(this.map.values()).map(e=>e.length))}clear(){this.map.clear()}delete(e,n){if(n===void 0)return this.map.delete(e);{const r=this.map.get(e);if(r){const i=r.indexOf(n);if(i>=0)return r.length===1?this.map.delete(e):r.splice(i,1),!0}return!1}}get(e){var n;return(n=this.map.get(e))!==null&&n!==void 0?n:[]}has(e,n){if(n===void 0)return this.map.has(e);{const r=this.map.get(e);return r?r.indexOf(n)>=0:!1}}add(e,n){return this.map.has(e)?this.map.get(e).push(n):this.map.set(e,[n]),this}addAll(e,n){return this.map.has(e)?this.map.get(e).push(...n):this.map.set(e,Array.from(n)),this}forEach(e){this.map.forEach((n,r)=>n.forEach(i=>e(i,r,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return pn(this.map.entries()).flatMap(([e,n])=>n.map(r=>[e,r]))}keys(){return pn(this.map.keys())}values(){return pn(this.map.values()).flat()}entriesGroupedByKey(){return pn(this.map.entries())}}class Ix{get size(){return this.map.size}constructor(e){if(this.map=new Map,this.inverse=new Map,e)for(const[n,r]of e)this.set(n,r)}clear(){this.map.clear(),this.inverse.clear()}set(e,n){return this.map.set(e,n),this.inverse.set(n,e),this}get(e){return this.map.get(e)}getKey(e){return this.inverse.get(e)}delete(e){const n=this.map.get(e);return n!==void 0?(this.map.delete(e),this.inverse.delete(n),!0):!1}}class hX{constructor(e){this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider}async computeExports(e,n=wt.CancellationToken.None){return this.computeExportsForNode(e.parseResult.value,e,void 0,n)}async computeExportsForNode(e,n,r=_y,i=wt.CancellationToken.None){const s=[];this.exportNode(e,s,n);for(const a of r(e))await ir(i),this.exportNode(a,s,n);return s}exportNode(e,n,r){const i=this.nameProvider.getName(e);i&&n.push(this.descriptions.createDescription(e,i,r))}async computeLocalScopes(e,n=wt.CancellationToken.None){const r=e.parseResult.value,i=new Pf;for(const s of Oc(r))await ir(n),this.processNode(s,e,i);return i}processNode(e,n,r){const i=e.$container;if(i){const s=this.nameProvider.getName(e);s&&r.add(i,this.descriptions.createDescription(e,s,n))}}}class Lx{constructor(e,n,r){var i;this.elements=e,this.outerScope=n,this.caseInsensitive=(i=r==null?void 0:r.caseInsensitive)!==null&&i!==void 0?i:!1}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(e){const n=this.caseInsensitive?this.elements.find(r=>r.name.toLowerCase()===e.toLowerCase()):this.elements.find(r=>r.name===e);if(n)return n;if(this.outerScope)return this.outerScope.getElement(e)}}class fX{constructor(e,n,r){var i;this.elements=new Map,this.caseInsensitive=(i=r==null?void 0:r.caseInsensitive)!==null&&i!==void 0?i:!1;for(const s of e){const a=this.caseInsensitive?s.name.toLowerCase():s.name;this.elements.set(a,s)}this.outerScope=n}getElement(e){const n=this.caseInsensitive?e.toLowerCase():e,r=this.elements.get(n);if(r)return r;if(this.outerScope)return this.outerScope.getElement(e)}getAllElements(){let e=pn(this.elements.values());return this.outerScope&&(e=e.concat(this.outerScope.getAllElements())),e}}class MS{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(e){this.toDispose.push(e)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(e=>e.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}}class dX extends MS{constructor(){super(...arguments),this.cache=new Map}has(e){return this.throwIfDisposed(),this.cache.has(e)}set(e,n){this.throwIfDisposed(),this.cache.set(e,n)}get(e,n){if(this.throwIfDisposed(),this.cache.has(e))return this.cache.get(e);if(n){const r=n();return this.cache.set(e,r),r}else return}delete(e){return this.throwIfDisposed(),this.cache.delete(e)}clear(){this.throwIfDisposed(),this.cache.clear()}}class pX extends MS{constructor(e){super(),this.cache=new Map,this.converter=e??(n=>n)}has(e,n){return this.throwIfDisposed(),this.cacheForContext(e).has(n)}set(e,n,r){this.throwIfDisposed(),this.cacheForContext(e).set(n,r)}get(e,n,r){this.throwIfDisposed();const i=this.cacheForContext(e);if(i.has(n))return i.get(n);if(r){const s=r();return i.set(n,s),s}else return}delete(e,n){return this.throwIfDisposed(),this.cacheForContext(e).delete(n)}clear(e){if(this.throwIfDisposed(),e){const n=this.converter(e);this.cache.delete(n)}else this.cache.clear()}cacheForContext(e){const n=this.converter(e);let r=this.cache.get(n);return r||(r=new Map,this.cache.set(n,r)),r}}class gX extends dX{constructor(e,n){super(),n?(this.toDispose.push(e.workspace.DocumentBuilder.onBuildPhase(n,()=>{this.clear()})),this.toDispose.push(e.workspace.DocumentBuilder.onUpdate((r,i)=>{i.length>0&&this.clear()}))):this.toDispose.push(e.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}class mX{constructor(e){this.reflection=e.shared.AstReflection,this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider,this.indexManager=e.shared.workspace.IndexManager,this.globalScopeCache=new gX(e.shared)}getScope(e){const n=[],r=this.reflection.getReferenceType(e),i=is(e.container).precomputedScopes;if(i){let a=e.container;do{const o=i.get(a);o.length>0&&n.push(pn(o).filter(u=>this.reflection.isSubtype(u.type,r))),a=a.$container}while(a)}let s=this.getGlobalScope(r,e);for(let a=n.length-1;a>=0;a--)s=this.createScope(n[a],s);return s}createScope(e,n,r){return new Lx(pn(e),n,r)}createScopeForNodes(e,n,r){const i=pn(e).map(s=>{const a=this.nameProvider.getName(s);if(a)return this.descriptions.createDescription(s,a)}).nonNullable();return new Lx(i,n,r)}getGlobalScope(e,n){return this.globalScopeCache.get(e,()=>new fX(this.indexManager.allElements(e)))}}function bX(t){return typeof t.$comment=="string"}function Dx(t){return typeof t=="object"&&!!t&&("$ref"in t||"$error"in t)}class yX{constructor(e){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=e.shared.workspace.LangiumDocuments,this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider,this.commentProvider=e.documentation.CommentProvider}serialize(e,n){const r=n??{},i=n==null?void 0:n.replacer,s=(o,u)=>this.replacer(o,u,r),a=i?(o,u)=>i(o,u,s):s;try{return this.currentDocument=is(e),JSON.stringify(e,a,n==null?void 0:n.space)}finally{this.currentDocument=void 0}}deserialize(e,n){const r=n??{},i=JSON.parse(e);return this.linkNode(i,i,r),i}replacer(e,n,{refText:r,sourceText:i,textRegions:s,comments:a,uriConverter:o}){var u,c,l,h;if(!this.ignoreProperties.has(e))if(ci(n)){const d=n.ref,f=r?n.$refText:void 0;if(d){const p=is(d);let g="";this.currentDocument&&this.currentDocument!==p&&(o?g=o(p.uri,n):g=p.uri.toString());const m=this.astNodeLocator.getAstNodePath(d);return{$ref:`${g}#${m}`,$refText:f}}else return{$error:(c=(u=n.error)===null||u===void 0?void 0:u.message)!==null&&c!==void 0?c:"Could not resolve reference",$refText:f}}else if(kn(n)){let d;if(s&&(d=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},n)),(!e||n.$document)&&(d!=null&&d.$textRegion)&&(d.$textRegion.documentURI=(l=this.currentDocument)===null||l===void 0?void 0:l.uri.toString())),i&&!e&&(d??(d=Object.assign({},n)),d.$sourceText=(h=n.$cstNode)===null||h===void 0?void 0:h.text),a){d??(d=Object.assign({},n));const f=this.commentProvider.getComment(n);f&&(d.$comment=f.replace(/\r/g,""))}return d??n}else return n}addAstNodeRegionWithAssignmentsTo(e){const n=r=>({offset:r.offset,end:r.end,length:r.length,range:r.range});if(e.$cstNode){const r=e.$textRegion=n(e.$cstNode),i=r.assignments={};return Object.keys(e).filter(s=>!s.startsWith("$")).forEach(s=>{const a=OH(e.$cstNode,s).map(n);a.length!==0&&(i[s]=a)}),e}}linkNode(e,n,r,i,s,a){for(const[u,c]of Object.entries(e))if(Array.isArray(c))for(let l=0;l<c.length;l++){const h=c[l];Dx(h)?c[l]=this.reviveReference(e,u,n,h,r):kn(h)&&this.linkNode(h,n,r,e,u,l)}else Dx(c)?e[u]=this.reviveReference(e,u,n,c,r):kn(c)&&this.linkNode(c,n,r,e,u);const o=e;o.$container=i,o.$containerProperty=s,o.$containerIndex=a}reviveReference(e,n,r,i,s){let a=i.$refText,o=i.$error;if(i.$ref){const u=this.getRefNode(r,i.$ref,s.uriConverter);if(kn(u))return a||(a=this.nameProvider.getName(u)),{$refText:a??"",ref:u};o=u}if(o){const u={$refText:a??""};return u.error={container:e,property:n,message:o,reference:u},u}else return}getRefNode(e,n,r){try{const i=n.indexOf("#");if(i===0){const u=this.astNodeLocator.getAstNode(e,n.substring(1));return u||"Could not resolve path: "+n}if(i<0){const u=r?r(n):Ks.parse(n),c=this.langiumDocuments.getDocument(u);return c?c.parseResult.value:"Could not find document for URI: "+n}const s=r?r(n.substring(0,i)):Ks.parse(n.substring(0,i)),a=this.langiumDocuments.getDocument(s);if(!a)return"Could not find document for URI: "+n;if(i===n.length-1)return a.parseResult.value;const o=this.astNodeLocator.getAstNode(a.parseResult.value,n.substring(i+1));return o||"Could not resolve URI: "+n}catch(i){return String(i)}}}class vX{get map(){return this.fileExtensionMap}constructor(e){this.languageIdMap=new Map,this.fileExtensionMap=new Map,this.textDocuments=e==null?void 0:e.workspace.TextDocuments}register(e){const n=e.LanguageMetaData;for(const r of n.fileExtensions)this.fileExtensionMap.has(r)&&console.warn(`The file extension ${r} is used by multiple languages. It is now assigned to '${n.languageId}'.`),this.fileExtensionMap.set(r,e);this.languageIdMap.set(n.languageId,e),this.languageIdMap.size===1?this.singleton=e:this.singleton=void 0}getServices(e){var n,r;if(this.singleton!==void 0)return this.singleton;if(this.languageIdMap.size===0)throw new Error("The service registry is empty. Use `register` to register the services of a language.");const i=(r=(n=this.textDocuments)===null||n===void 0?void 0:n.get(e))===null||r===void 0?void 0:r.languageId;if(i!==void 0){const o=this.languageIdMap.get(i);if(o)return o}const s=us.extname(e),a=this.fileExtensionMap.get(s);if(!a)throw i?new Error(`The service registry contains no services for the extension '${s}' for language '${i}'.`):new Error(`The service registry contains no services for the extension '${s}'.`);return a}hasServices(e){try{return this.getServices(e),!0}catch{return!1}}get all(){return Array.from(this.languageIdMap.values())}}function Ou(t){return{code:t}}var Ff;(function(t){t.all=["fast","slow","built-in"]})(Ff||(Ff={}));class _X{constructor(e){this.entries=new Pf,this.entriesBefore=[],this.entriesAfter=[],this.reflection=e.shared.AstReflection}register(e,n=this,r="fast"){if(r==="built-in")throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(const[i,s]of Object.entries(e)){const a=s;if(Array.isArray(a))for(const o of a){const u={check:this.wrapValidationException(o,n),category:r};this.addEntry(i,u)}else if(typeof a=="function"){const o={check:this.wrapValidationException(a,n),category:r};this.addEntry(i,o)}else Rc()}}wrapValidationException(e,n){return async(r,i,s)=>{await this.handleException(()=>e.call(n,r,i,s),"An error occurred during validation",i,r)}}async handleException(e,n,r,i){try{await e()}catch(s){if(qd(s))throw s;console.error(`${n}:`,s),s instanceof Error&&s.stack&&console.error(s.stack);const a=s instanceof Error?s.message:String(s);r("error",`${n}: ${a}`,{node:i})}}addEntry(e,n){if(e==="AstNode"){this.entries.add("AstNode",n);return}for(const r of this.reflection.getAllSubTypes(e))this.entries.add(r,n)}getChecks(e,n){let r=pn(this.entries.get(e)).concat(this.entries.get("AstNode"));return n&&(r=r.filter(i=>n.includes(i.category))),r.map(i=>i.check)}registerBeforeDocument(e,n=this){this.entriesBefore.push(this.wrapPreparationException(e,"An error occurred during set-up of the validation",n))}registerAfterDocument(e,n=this){this.entriesAfter.push(this.wrapPreparationException(e,"An error occurred during tear-down of the validation",n))}wrapPreparationException(e,n,r){return async(i,s,a,o)=>{await this.handleException(()=>e.call(r,i,s,a,o),n,s,i)}}get checksBefore(){return this.entriesBefore}get checksAfter(){return this.entriesAfter}}class EX{constructor(e){this.validationRegistry=e.validation.ValidationRegistry,this.metadata=e.LanguageMetaData}async validateDocument(e,n={},r=wt.CancellationToken.None){const i=e.parseResult,s=[];if(await ir(r),(!n.categories||n.categories.includes("built-in"))&&(this.processLexingErrors(i,s,n),n.stopAfterLexingErrors&&s.some(a=>{var o;return((o=a.data)===null||o===void 0?void 0:o.code)===Lr.LexingError})||(this.processParsingErrors(i,s,n),n.stopAfterParsingErrors&&s.some(a=>{var o;return((o=a.data)===null||o===void 0?void 0:o.code)===Lr.ParsingError}))||(this.processLinkingErrors(e,s,n),n.stopAfterLinkingErrors&&s.some(a=>{var o;return((o=a.data)===null||o===void 0?void 0:o.code)===Lr.LinkingError}))))return s;try{s.push(...await this.validateAst(i.value,n,r))}catch(a){if(qd(a))throw a;console.error("An error occurred during validation:",a)}return await ir(r),s}processLexingErrors(e,n,r){var i,s,a;const o=[...e.lexerErrors,...(s=(i=e.lexerReport)===null||i===void 0?void 0:i.diagnostics)!==null&&s!==void 0?s:[]];for(const u of o){const c=(a=u.severity)!==null&&a!==void 0?a:"error",l={severity:_g(c),range:{start:{line:u.line-1,character:u.column-1},end:{line:u.line-1,character:u.column+u.length-1}},message:u.message,data:wX(c),source:this.getSource()};n.push(l)}}processParsingErrors(e,n,r){for(const i of e.parserErrors){let s;if(isNaN(i.token.startOffset)){if("previousToken"in i){const a=i.previousToken;if(isNaN(a.startOffset)){const o={line:0,character:0};s={start:o,end:o}}else{const o={line:a.endLine-1,character:a.endColumn};s={start:o,end:o}}}}else s=F0(i.token);if(s){const a={severity:_g("error"),range:s,message:i.message,data:Ou(Lr.ParsingError),source:this.getSource()};n.push(a)}}}processLinkingErrors(e,n,r){for(const i of e.references){const s=i.error;if(s){const a={node:s.container,property:s.property,index:s.index,data:{code:Lr.LinkingError,containerType:s.container.$type,property:s.property,refText:s.reference.$refText}};n.push(this.toDiagnostic("error",s.message,a))}}}async validateAst(e,n,r=wt.CancellationToken.None){const i=[],s=(a,o,u)=>{i.push(this.toDiagnostic(a,o,u))};return await this.validateAstBefore(e,n,s,r),await this.validateAstNodes(e,n,s,r),await this.validateAstAfter(e,n,s,r),i}async validateAstBefore(e,n,r,i=wt.CancellationToken.None){var s;const a=this.validationRegistry.checksBefore;for(const o of a)await ir(i),await o(e,r,(s=n.categories)!==null&&s!==void 0?s:[],i)}async validateAstNodes(e,n,r,i=wt.CancellationToken.None){await Promise.all(Da(e).map(async s=>{await ir(i);const a=this.validationRegistry.getChecks(s.$type,n.categories);for(const o of a)await o(s,r,i)}))}async validateAstAfter(e,n,r,i=wt.CancellationToken.None){var s;const a=this.validationRegistry.checksAfter;for(const o of a)await ir(i),await o(e,r,(s=n.categories)!==null&&s!==void 0?s:[],i)}toDiagnostic(e,n,r){return{message:n,range:xX(r),severity:_g(e),code:r.code,codeDescription:r.codeDescription,tags:r.tags,relatedInformation:r.relatedInformation,data:r.data,source:this.getSource()}}getSource(){return this.metadata.languageId}}function xX(t){if(t.range)return t.range;let e;return typeof t.property=="string"?e=wN(t.node.$cstNode,t.property,t.index):typeof t.keyword=="string"&&(e=MH(t.node.$cstNode,t.keyword,t.index)),e??(e=t.node.$cstNode),e?e.range:{start:{line:0,character:0},end:{line:0,character:0}}}function _g(t){switch(t){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+t)}}function wX(t){switch(t){case"error":return Ou(Lr.LexingError);case"warning":return Ou(Lr.LexingWarning);case"info":return Ou(Lr.LexingInfo);case"hint":return Ou(Lr.LexingHint);default:throw new Error("Invalid diagnostic severity: "+t)}}var Lr;(function(t){t.LexingError="lexing-error",t.LexingWarning="lexing-warning",t.LexingInfo="lexing-info",t.LexingHint="lexing-hint",t.ParsingError="parsing-error",t.LinkingError="linking-error"})(Lr||(Lr={}));class AX{constructor(e){this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider}createDescription(e,n,r){const i=r??is(e);n??(n=this.nameProvider.getName(e));const s=this.astNodeLocator.getAstNodePath(e);if(!n)throw new Error(`Node at path ${s} has no name.`);let a;const o=()=>{var u;return a??(a=bf((u=this.nameProvider.getNameNode(e))!==null&&u!==void 0?u:e.$cstNode))};return{node:e,name:n,get nameSegment(){return o()},selectionSegment:bf(e.$cstNode),type:e.$type,documentUri:i.uri,path:s}}}class TX{constructor(e){this.nodeLocator=e.workspace.AstNodeLocator}async createDescriptions(e,n=wt.CancellationToken.None){const r=[],i=e.parseResult.value;for(const s of Da(i))await ir(n),yN(s).filter(a=>!oh(a)).forEach(a=>{const o=this.createDescription(a);o&&r.push(o)});return r}createDescription(e){const n=e.reference.$nodeDescription,r=e.reference.$refNode;if(!n||!r)return;const i=is(e.container).uri;return{sourceUri:i,sourcePath:this.nodeLocator.getAstNodePath(e.container),targetUri:n.documentUri,targetPath:n.path,segment:bf(r),local:us.equals(n.documentUri,i)}}}class kX{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(e){if(e.$container){const n=this.getAstNodePath(e.$container),r=this.getPathSegment(e);return n+this.segmentSeparator+r}return""}getPathSegment({$containerProperty:e,$containerIndex:n}){if(!e)throw new Error("Missing '$containerProperty' in AST node.");return n!==void 0?e+this.indexSeparator+n:e}getAstNode(e,n){return n.split(this.segmentSeparator).reduce((i,s)=>{if(!i||s.length===0)return i;const a=s.indexOf(this.indexSeparator);if(a>0){const o=s.substring(0,a),u=parseInt(s.substring(a+1)),c=i[o];return c==null?void 0:c[u]}return i[s]},e)}}var NX=SS();class SX{constructor(e){this._ready=new $y,this.settings={},this.workspaceConfig=!1,this.onConfigurationSectionUpdateEmitter=new NX.Emitter,this.serviceRegistry=e.ServiceRegistry}get ready(){return this._ready.promise}initialize(e){var n,r;this.workspaceConfig=(r=(n=e.capabilities.workspace)===null||n===void 0?void 0:n.configuration)!==null&&r!==void 0?r:!1}async initialized(e){if(this.workspaceConfig){if(e.register){const n=this.serviceRegistry.all;e.register({section:n.map(r=>this.toSectionName(r.LanguageMetaData.languageId))})}if(e.fetchConfiguration){const n=this.serviceRegistry.all.map(i=>({section:this.toSectionName(i.LanguageMetaData.languageId)})),r=await e.fetchConfiguration(n);n.forEach((i,s)=>{this.updateSectionConfiguration(i.section,r[s])})}}this._ready.resolve()}updateConfiguration(e){e.settings&&Object.keys(e.settings).forEach(n=>{const r=e.settings[n];this.updateSectionConfiguration(n,r),this.onConfigurationSectionUpdateEmitter.fire({section:n,configuration:r})})}updateSectionConfiguration(e,n){this.settings[e]=n}async getConfiguration(e,n){await this.ready;const r=this.toSectionName(e);if(this.settings[r])return this.settings[r][n]}toSectionName(e){return`${e}`}get onConfigurationSectionUpdate(){return this.onConfigurationSectionUpdateEmitter.event}}var Bu;(function(t){function e(n){return{dispose:async()=>await n()}}t.create=e})(Bu||(Bu={}));class CX{constructor(e){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new Pf,this.documentPhaseListeners=new Pf,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=vt.Changed,this.langiumDocuments=e.workspace.LangiumDocuments,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.textDocuments=e.workspace.TextDocuments,this.indexManager=e.workspace.IndexManager,this.serviceRegistry=e.ServiceRegistry}async build(e,n={},r=wt.CancellationToken.None){var i,s;for(const a of e){const o=a.uri.toString();if(a.state===vt.Validated){if(typeof n.validation=="boolean"&&n.validation)a.state=vt.IndexedReferences,a.diagnostics=void 0,this.buildState.delete(o);else if(typeof n.validation=="object"){const u=this.buildState.get(o),c=(i=u==null?void 0:u.result)===null||i===void 0?void 0:i.validationChecks;if(c){const h=((s=n.validation.categories)!==null&&s!==void 0?s:Ff.all).filter(d=>!c.includes(d));h.length>0&&(this.buildState.set(o,{completed:!1,options:{validation:Object.assign(Object.assign({},n.validation),{categories:h})},result:u.result}),a.state=vt.IndexedReferences)}}}else this.buildState.delete(o)}this.currentState=vt.Changed,await this.emitUpdate(e.map(a=>a.uri),[]),await this.buildDocuments(e,n,r)}async update(e,n,r=wt.CancellationToken.None){this.currentState=vt.Changed;for(const a of n)this.langiumDocuments.deleteDocument(a),this.buildState.delete(a.toString()),this.indexManager.remove(a);for(const a of e){if(!this.langiumDocuments.invalidateDocument(a)){const u=this.langiumDocumentFactory.fromModel({$type:"INVALID"},a);u.state=vt.Changed,this.langiumDocuments.addDocument(u)}this.buildState.delete(a.toString())}const i=pn(e).concat(n).map(a=>a.toString()).toSet();this.langiumDocuments.all.filter(a=>!i.has(a.uri.toString())&&this.shouldRelink(a,i)).forEach(a=>{this.serviceRegistry.getServices(a.uri).references.Linker.unlink(a),a.state=Math.min(a.state,vt.ComputedScopes),a.diagnostics=void 0}),await this.emitUpdate(e,n),await ir(r);const s=this.sortDocuments(this.langiumDocuments.all.filter(a=>{var o;return a.state<vt.Linked||!(!((o=this.buildState.get(a.uri.toString()))===null||o===void 0)&&o.completed)}).toArray());await this.buildDocuments(s,this.updateBuildOptions,r)}async emitUpdate(e,n){await Promise.all(this.updateListeners.map(r=>r(e,n)))}sortDocuments(e){let n=0,r=e.length-1;for(;n<r;){for(;n<e.length&&this.hasTextDocument(e[n]);)n++;for(;r>=0&&!this.hasTextDocument(e[r]);)r--;n<r&&([e[n],e[r]]=[e[r],e[n]])}return e}hasTextDocument(e){var n;return!!(!((n=this.textDocuments)===null||n===void 0)&&n.get(e.uri))}shouldRelink(e,n){return e.references.some(r=>r.error!==void 0)?!0:this.indexManager.isAffected(e,n)}onUpdate(e){return this.updateListeners.push(e),Bu.create(()=>{const n=this.updateListeners.indexOf(e);n>=0&&this.updateListeners.splice(n,1)})}async buildDocuments(e,n,r){this.prepareBuild(e,n),await this.runCancelable(e,vt.Parsed,r,s=>this.langiumDocumentFactory.update(s,r)),await this.runCancelable(e,vt.IndexedContent,r,s=>this.indexManager.updateContent(s,r)),await this.runCancelable(e,vt.ComputedScopes,r,async s=>{const a=this.serviceRegistry.getServices(s.uri).references.ScopeComputation;s.precomputedScopes=await a.computeLocalScopes(s,r)}),await this.runCancelable(e,vt.Linked,r,s=>this.serviceRegistry.getServices(s.uri).references.Linker.link(s,r)),await this.runCancelable(e,vt.IndexedReferences,r,s=>this.indexManager.updateReferences(s,r));const i=e.filter(s=>this.shouldValidate(s));await this.runCancelable(i,vt.Validated,r,s=>this.validate(s,r));for(const s of e){const a=this.buildState.get(s.uri.toString());a&&(a.completed=!0)}}prepareBuild(e,n){for(const r of e){const i=r.uri.toString(),s=this.buildState.get(i);(!s||s.completed)&&this.buildState.set(i,{completed:!1,options:n,result:s==null?void 0:s.result})}}async runCancelable(e,n,r,i){const s=e.filter(o=>o.state<n);for(const o of s)await ir(r),await i(o),o.state=n,await this.notifyDocumentPhase(o,n,r);const a=e.filter(o=>o.state===n);await this.notifyBuildPhase(a,n,r),this.currentState=n}onBuildPhase(e,n){return this.buildPhaseListeners.add(e,n),Bu.create(()=>{this.buildPhaseListeners.delete(e,n)})}onDocumentPhase(e,n){return this.documentPhaseListeners.add(e,n),Bu.create(()=>{this.documentPhaseListeners.delete(e,n)})}waitUntil(e,n,r){let i;if(n&&"path"in n?i=n:r=n,r??(r=wt.CancellationToken.None),i){const s=this.langiumDocuments.getDocument(i);if(s&&s.state>e)return Promise.resolve(i)}return this.currentState>=e?Promise.resolve(void 0):r.isCancellationRequested?Promise.reject(Df):new Promise((s,a)=>{const o=this.onBuildPhase(e,()=>{if(o.dispose(),u.dispose(),i){const c=this.langiumDocuments.getDocument(i);s(c==null?void 0:c.uri)}else s(void 0)}),u=r.onCancellationRequested(()=>{o.dispose(),u.dispose(),a(Df)})})}async notifyDocumentPhase(e,n,r){const s=this.documentPhaseListeners.get(n).slice();for(const a of s)try{await a(e,r)}catch(o){if(!qd(o))throw o}}async notifyBuildPhase(e,n,r){if(e.length===0)return;const s=this.buildPhaseListeners.get(n).slice();for(const a of s)await ir(r),await a(e,r)}shouldValidate(e){return!!this.getBuildOptions(e).validation}async validate(e,n){var r,i;const s=this.serviceRegistry.getServices(e.uri).validation.DocumentValidator,a=this.getBuildOptions(e).validation,o=typeof a=="object"?a:void 0,u=await s.validateDocument(e,o,n);e.diagnostics?e.diagnostics.push(...u):e.diagnostics=u;const c=this.buildState.get(e.uri.toString());if(c){(r=c.result)!==null&&r!==void 0||(c.result={});const l=(i=o==null?void 0:o.categories)!==null&&i!==void 0?i:Ff.all;c.result.validationChecks?c.result.validationChecks.push(...l):c.result.validationChecks=[...l]}}getBuildOptions(e){var n,r;return(r=(n=this.buildState.get(e.uri.toString()))===null||n===void 0?void 0:n.options)!==null&&r!==void 0?r:{}}}class RX{constructor(e){this.symbolIndex=new Map,this.symbolByTypeIndex=new pX,this.referenceIndex=new Map,this.documents=e.workspace.LangiumDocuments,this.serviceRegistry=e.ServiceRegistry,this.astReflection=e.AstReflection}findAllReferences(e,n){const r=is(e).uri,i=[];return this.referenceIndex.forEach(s=>{s.forEach(a=>{us.equals(a.targetUri,r)&&a.targetPath===n&&i.push(a)})}),pn(i)}allElements(e,n){let r=pn(this.symbolIndex.keys());return n&&(r=r.filter(i=>!n||n.has(i))),r.map(i=>this.getFileDescriptions(i,e)).flat()}getFileDescriptions(e,n){var r;return n?this.symbolByTypeIndex.get(e,n,()=>{var s;return((s=this.symbolIndex.get(e))!==null&&s!==void 0?s:[]).filter(o=>this.astReflection.isSubtype(o.type,n))}):(r=this.symbolIndex.get(e))!==null&&r!==void 0?r:[]}remove(e){const n=e.toString();this.symbolIndex.delete(n),this.symbolByTypeIndex.clear(n),this.referenceIndex.delete(n)}async updateContent(e,n=wt.CancellationToken.None){const i=await this.serviceRegistry.getServices(e.uri).references.ScopeComputation.computeExports(e,n),s=e.uri.toString();this.symbolIndex.set(s,i),this.symbolByTypeIndex.clear(s)}async updateReferences(e,n=wt.CancellationToken.None){const i=await this.serviceRegistry.getServices(e.uri).workspace.ReferenceDescriptionProvider.createDescriptions(e,n);this.referenceIndex.set(e.uri.toString(),i)}isAffected(e,n){const r=this.referenceIndex.get(e.uri.toString());return r?r.some(i=>!i.local&&n.has(i.targetUri.toString())):!1}}class OX{constructor(e){this.initialBuildOptions={},this._ready=new $y,this.serviceRegistry=e.ServiceRegistry,this.langiumDocuments=e.workspace.LangiumDocuments,this.documentBuilder=e.workspace.DocumentBuilder,this.fileSystemProvider=e.workspace.FileSystemProvider,this.mutex=e.workspace.WorkspaceLock}get ready(){return this._ready.promise}get workspaceFolders(){return this.folders}initialize(e){var n;this.folders=(n=e.workspaceFolders)!==null&&n!==void 0?n:void 0}initialized(e){return this.mutex.write(n=>{var r;return this.initializeWorkspace((r=this.folders)!==null&&r!==void 0?r:[],n)})}async initializeWorkspace(e,n=wt.CancellationToken.None){const r=await this.performStartup(e);await ir(n),await this.documentBuilder.build(r,this.initialBuildOptions,n)}async performStartup(e){const n=this.serviceRegistry.all.flatMap(s=>s.LanguageMetaData.fileExtensions),r=[],i=s=>{r.push(s),this.langiumDocuments.hasDocument(s.uri)||this.langiumDocuments.addDocument(s)};return await this.loadAdditionalDocuments(e,i),await Promise.all(e.map(s=>[s,this.getRootFolder(s)]).map(async s=>this.traverseFolder(...s,n,i))),this._ready.resolve(),r}loadAdditionalDocuments(e,n){return Promise.resolve()}getRootFolder(e){return Ks.parse(e.uri)}async traverseFolder(e,n,r,i){const s=await this.fileSystemProvider.readDirectory(n);await Promise.all(s.map(async a=>{if(this.includeEntry(e,a,r)){if(a.isDirectory)await this.traverseFolder(e,a.uri,r,i);else if(a.isFile){const o=await this.langiumDocuments.getOrCreateDocument(a.uri);i(o)}}}))}includeEntry(e,n,r){const i=us.basename(n.uri);if(i.startsWith("."))return!1;if(n.isDirectory)return i!=="node_modules"&&i!=="out";if(n.isFile){const s=us.extname(n.uri);return r.includes(s)}return!1}}class MX{buildUnexpectedCharactersMessage(e,n,r,i,s){return H0.buildUnexpectedCharactersMessage(e,n,r,i,s)}buildUnableToPopLexerModeMessage(e){return H0.buildUnableToPopLexerModeMessage(e)}}const IX={mode:"full"};class LX{constructor(e){this.errorMessageProvider=e.parser.LexerErrorMessageProvider,this.tokenBuilder=e.parser.TokenBuilder;const n=this.tokenBuilder.buildTokens(e.Grammar,{caseInsensitive:e.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(n);const r=Px(n)?Object.values(n):n,i=e.LanguageMetaData.mode==="production";this.chevrotainLexer=new qn(r,{positionTracking:"full",skipValidations:i,errorMessageProvider:this.errorMessageProvider})}get definition(){return this.tokenTypes}tokenize(e,n=IX){var r,i,s;const a=this.chevrotainLexer.tokenize(e);return{tokens:a.tokens,errors:a.errors,hidden:(r=a.groups.hidden)!==null&&r!==void 0?r:[],report:(s=(i=this.tokenBuilder).flushLexingReport)===null||s===void 0?void 0:s.call(i,e)}}toTokenTypeDictionary(e){if(Px(e))return e;const n=IS(e)?Object.values(e.modes).flat():e,r={};return n.forEach(i=>r[i.name]=i),r}}function DX(t){return Array.isArray(t)&&(t.length===0||"name"in t[0])}function IS(t){return t&&"modes"in t&&"defaultMode"in t}function Px(t){return!DX(t)&&!IS(t)}function PX(t,e,n){let r,i;typeof t=="string"?(i=e,r=n):(i=t.range.start,r=e),i||(i=nt.create(0,0));const s=LS(t),a=Uy(r),o=UX({lines:s,position:i,options:a});return WX({index:0,tokens:o,position:i})}function FX(t,e){const n=Uy(e),r=LS(t);if(r.length===0)return!1;const i=r[0],s=r[r.length-1],a=n.start,o=n.end;return!!(a!=null&&a.exec(i))&&!!(o!=null&&o.exec(s))}function LS(t){let e="";return typeof t=="string"?e=t:e=t.text,e.split(vH)}const Fx=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,$X=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;function UX(t){var e,n,r;const i=[];let s=t.position.line,a=t.position.character;for(let o=0;o<t.lines.length;o++){const u=o===0,c=o===t.lines.length-1;let l=t.lines[o],h=0;if(u&&t.options.start){const f=(e=t.options.start)===null||e===void 0?void 0:e.exec(l);f&&(h=f.index+f[0].length)}else{const f=(n=t.options.line)===null||n===void 0?void 0:n.exec(l);f&&(h=f.index+f[0].length)}if(c){const f=(r=t.options.end)===null||r===void 0?void 0:r.exec(l);f&&(l=l.substring(0,f.index))}if(l=l.substring(0,HX(l)),gm(l,h)>=l.length){if(i.length>0){const f=nt.create(s,a);i.push({type:"break",content:"",range:Ze.create(f,f)})}}else{Fx.lastIndex=h;const f=Fx.exec(l);if(f){const p=f[0],g=f[1],m=nt.create(s,a+h),b=nt.create(s,a+h+p.length);i.push({type:"tag",content:g,range:Ze.create(m,b)}),h+=p.length,h=gm(l,h)}if(h<l.length){const p=l.substring(h),g=Array.from(p.matchAll($X));i.push(...BX(g,p,s,a+h))}}s++,a=0}return i.length>0&&i[i.length-1].type==="break"?i.slice(0,-1):i}function BX(t,e,n,r){const i=[];if(t.length===0){const s=nt.create(n,r),a=nt.create(n,r+e.length);i.push({type:"text",content:e,range:Ze.create(s,a)})}else{let s=0;for(const o of t){const u=o.index,c=e.substring(s,u);c.length>0&&i.push({type:"text",content:e.substring(s,u),range:Ze.create(nt.create(n,s+r),nt.create(n,u+r))});let l=c.length+1;const h=o[1];if(i.push({type:"inline-tag",content:h,range:Ze.create(nt.create(n,s+l+r),nt.create(n,s+l+h.length+r))}),l+=h.length,o.length===4){l+=o[2].length;const d=o[3];i.push({type:"text",content:d,range:Ze.create(nt.create(n,s+l+r),nt.create(n,s+l+d.length+r))})}else i.push({type:"text",content:"",range:Ze.create(nt.create(n,s+l+r),nt.create(n,s+l+r))});s=u+o[0].length}const a=e.substring(s);a.length>0&&i.push({type:"text",content:a,range:Ze.create(nt.create(n,s+r),nt.create(n,s+r+a.length))})}return i}const GX=/\S/,zX=/\s*$/;function gm(t,e){const n=t.substring(e).match(GX);return n?e+n.index:t.length}function HX(t){const e=t.match(zX);if(e&&typeof e.index=="number")return e.index}function WX(t){var e,n,r,i;const s=nt.create(t.position.line,t.position.character);if(t.tokens.length===0)return new $x([],Ze.create(s,s));const a=[];for(;t.index<t.tokens.length;){const c=YX(t,a[a.length-1]);c&&a.push(c)}const o=(n=(e=a[0])===null||e===void 0?void 0:e.range.start)!==null&&n!==void 0?n:s,u=(i=(r=a[a.length-1])===null||r===void 0?void 0:r.range.end)!==null&&i!==void 0?i:s;return new $x(a,Ze.create(o,u))}function YX(t,e){const n=t.tokens[t.index];if(n.type==="tag")return PS(t,!1);if(n.type==="text"||n.type==="inline-tag")return DS(t);qX(n,e),t.index++}function qX(t,e){if(e){const n=new $S("",t.range);"inlines"in e?e.inlines.push(n):e.content.inlines.push(n)}}function DS(t){let e=t.tokens[t.index];const n=e;let r=e;const i=[];for(;e&&e.type!=="break"&&e.type!=="tag";)i.push(XX(t)),r=e,e=t.tokens[t.index];return new mm(i,Ze.create(n.range.start,r.range.end))}function XX(t){return t.tokens[t.index].type==="inline-tag"?PS(t,!0):FS(t)}function PS(t,e){const n=t.tokens[t.index++],r=n.content.substring(1),i=t.tokens[t.index];if((i==null?void 0:i.type)==="text")if(e){const s=FS(t);return new xg(r,new mm([s],s.range),e,Ze.create(n.range.start,s.range.end))}else{const s=DS(t);return new xg(r,s,e,Ze.create(n.range.start,s.range.end))}else{const s=n.range;return new xg(r,new mm([],s),e,s)}}function FS(t){const e=t.tokens[t.index++];return new $S(e.content,e.range)}function Uy(t){if(!t)return Uy({start:"/**",end:"*/",line:"*"});const{start:e,end:n,line:r}=t;return{start:Eg(e,!0),end:Eg(n,!1),line:Eg(r,!0)}}function Eg(t,e){if(typeof t=="string"||typeof t=="object"){const n=typeof t=="string"?$d(t):t.source;return e?new RegExp(`^\\s*${n}`):new RegExp(`\\s*${n}\\s*$`)}else return t}class $x{constructor(e,n){this.elements=e,this.range=n}getTag(e){return this.getAllTags().find(n=>n.name===e)}getTags(e){return this.getAllTags().filter(n=>n.name===e)}getAllTags(){return this.elements.filter(e=>"name"in e)}toString(){let e="";for(const n of this.elements)if(e.length===0)e=n.toString();else{const r=n.toString();e+=Ux(e)+r}return e.trim()}toMarkdown(e){let n="";for(const r of this.elements)if(n.length===0)n=r.toMarkdown(e);else{const i=r.toMarkdown(e);n+=Ux(n)+i}return n.trim()}}class xg{constructor(e,n,r,i){this.name=e,this.content=n,this.inline=r,this.range=i}toString(){let e=`@${this.name}`;const n=this.content.toString();return this.content.inlines.length===1?e=`${e} ${n}`:this.content.inlines.length>1&&(e=`${e}
${n}`),this.inline?`{${e}}`:e}toMarkdown(e){var n,r;return(r=(n=e==null?void 0:e.renderTag)===null||n===void 0?void 0:n.call(e,this))!==null&&r!==void 0?r:this.toMarkdownDefault(e)}toMarkdownDefault(e){const n=this.content.toMarkdown(e);if(this.inline){const s=VX(this.name,n,e??{});if(typeof s=="string")return s}let r="";(e==null?void 0:e.tag)==="italic"||(e==null?void 0:e.tag)===void 0?r="*":(e==null?void 0:e.tag)==="bold"?r="**":(e==null?void 0:e.tag)==="bold-italic"&&(r="***");let i=`${r}@${this.name}${r}`;return this.content.inlines.length===1?i=`${i}  ${n}`:this.content.inlines.length>1&&(i=`${i}
${n}`),this.inline?`{${i}}`:i}}function VX(t,e,n){var r,i;if(t==="linkplain"||t==="linkcode"||t==="link"){const s=e.indexOf(" ");let a=e;if(s>0){const u=gm(e,s);a=e.substring(u),e=e.substring(0,s)}return(t==="linkcode"||t==="link"&&n.link==="code")&&(a=`\`${a}\``),(i=(r=n.renderLink)===null||r===void 0?void 0:r.call(n,e,a))!==null&&i!==void 0?i:KX(e,a)}}function KX(t,e){try{return Ks.parse(t,!0),`[${e}](${t})`}catch{return t}}class mm{constructor(e,n){this.inlines=e,this.range=n}toString(){let e="";for(let n=0;n<this.inlines.length;n++){const r=this.inlines[n],i=this.inlines[n+1];e+=r.toString(),i&&i.range.start.line>r.range.start.line&&(e+=`
`)}return e}toMarkdown(e){let n="";for(let r=0;r<this.inlines.length;r++){const i=this.inlines[r],s=this.inlines[r+1];n+=i.toMarkdown(e),s&&s.range.start.line>i.range.start.line&&(n+=`
`)}return n}}class $S{constructor(e,n){this.text=e,this.range=n}toString(){return this.text}toMarkdown(){return this.text}}function Ux(t){return t.endsWith(`
`)?`
`:`

`}class ZX{constructor(e){this.indexManager=e.shared.workspace.IndexManager,this.commentProvider=e.documentation.CommentProvider}getDocumentation(e){const n=this.commentProvider.getComment(e);if(n&&FX(n))return PX(n).toMarkdown({renderLink:(i,s)=>this.documentationLinkRenderer(e,i,s),renderTag:i=>this.documentationTagRenderer(e,i)})}documentationLinkRenderer(e,n,r){var i;const s=(i=this.findNameInPrecomputedScopes(e,n))!==null&&i!==void 0?i:this.findNameInGlobalScope(e,n);if(s&&s.nameSegment){const a=s.nameSegment.range.start.line+1,o=s.nameSegment.range.start.character+1,u=s.documentUri.with({fragment:`L${a},${o}`});return`[${r}](${u.toString()})`}else return}documentationTagRenderer(e,n){}findNameInPrecomputedScopes(e,n){const i=is(e).precomputedScopes;if(!i)return;let s=e;do{const o=i.get(s).find(u=>u.name===n);if(o)return o;s=s.$container}while(s)}findNameInGlobalScope(e,n){return this.indexManager.allElements().find(i=>i.name===n)}}class jX{constructor(e){this.grammarConfig=()=>e.parser.GrammarConfig}getComment(e){var n;return bX(e)?e.$comment:(n=Kz(e.$cstNode,this.grammarConfig().multilineCommentRules))===null||n===void 0?void 0:n.text}}class QX{constructor(e){this.syncParser=e.parser.LangiumParser}parse(e,n){return Promise.resolve(this.syncParser.parse(e))}}class JX{constructor(){this.previousTokenSource=new wt.CancellationTokenSource,this.writeQueue=[],this.readQueue=[],this.done=!0}write(e){this.cancelWrite();const n=rX();return this.previousTokenSource=n,this.enqueue(this.writeQueue,e,n.token)}read(e){return this.enqueue(this.readQueue,e)}enqueue(e,n,r=wt.CancellationToken.None){const i=new $y,s={action:n,deferred:i,cancellationToken:r};return e.push(s),this.performNextOperation(),i.promise}async performNextOperation(){if(!this.done)return;const e=[];if(this.writeQueue.length>0)e.push(this.writeQueue.shift());else if(this.readQueue.length>0)e.push(...this.readQueue.splice(0,this.readQueue.length));else return;this.done=!1,await Promise.all(e.map(async({action:n,deferred:r,cancellationToken:i})=>{try{const s=await Promise.resolve().then(()=>n(i));r.resolve(s)}catch(s){qd(s)?r.resolve(void 0):r.reject(s)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}}class eV{constructor(e){this.grammarElementIdMap=new Ix,this.tokenTypeIdMap=new Ix,this.grammar=e.Grammar,this.lexer=e.parser.Lexer,this.linker=e.references.Linker}dehydrate(e){return{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport?this.dehydrateLexerReport(e.lexerReport):void 0,parserErrors:e.parserErrors.map(n=>Object.assign(Object.assign({},n),{message:n.message})),value:this.dehydrateAstNode(e.value,this.createDehyrationContext(e.value))}}dehydrateLexerReport(e){return e}createDehyrationContext(e){const n=new Map,r=new Map;for(const i of Da(e))n.set(i,{});if(e.$cstNode)for(const i of P0(e.$cstNode))r.set(i,{});return{astNodes:n,cstNodes:r}}dehydrateAstNode(e,n){const r=n.astNodes.get(e);r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,e.$cstNode!==void 0&&(r.$cstNode=this.dehydrateCstNode(e.$cstNode,n));for(const[i,s]of Object.entries(e))if(!i.startsWith("$"))if(Array.isArray(s)){const a=[];r[i]=a;for(const o of s)kn(o)?a.push(this.dehydrateAstNode(o,n)):ci(o)?a.push(this.dehydrateReference(o,n)):a.push(o)}else kn(s)?r[i]=this.dehydrateAstNode(s,n):ci(s)?r[i]=this.dehydrateReference(s,n):s!==void 0&&(r[i]=s);return r}dehydrateReference(e,n){const r={};return r.$refText=e.$refText,e.$refNode&&(r.$refNode=n.cstNodes.get(e.$refNode)),r}dehydrateCstNode(e,n){const r=n.cstNodes.get(e);return lN(e)?r.fullText=e.fullText:r.grammarSource=this.getGrammarElementId(e.grammarSource),r.hidden=e.hidden,r.astNode=n.astNodes.get(e.astNode),oc(e)?r.content=e.content.map(i=>this.dehydrateCstNode(i,n)):cN(e)&&(r.tokenType=e.tokenType.name,r.offset=e.offset,r.length=e.length,r.startLine=e.range.start.line,r.startColumn=e.range.start.character,r.endLine=e.range.end.line,r.endColumn=e.range.end.character),r}hydrate(e){const n=e.value,r=this.createHydrationContext(n);return"$cstNode"in n&&this.hydrateCstNode(n.$cstNode,r),{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport,parserErrors:e.parserErrors,value:this.hydrateAstNode(n,r)}}createHydrationContext(e){const n=new Map,r=new Map;for(const s of Da(e))n.set(s,{});let i;if(e.$cstNode)for(const s of P0(e.$cstNode)){let a;"fullText"in s?(a=new vS(s.fullText),i=a):"content"in s?a=new Py:"tokenType"in s&&(a=this.hydrateCstLeafNode(s)),a&&(r.set(s,a),a.root=i)}return{astNodes:n,cstNodes:r}}hydrateAstNode(e,n){const r=n.astNodes.get(e);r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,e.$cstNode&&(r.$cstNode=n.cstNodes.get(e.$cstNode));for(const[i,s]of Object.entries(e))if(!i.startsWith("$"))if(Array.isArray(s)){const a=[];r[i]=a;for(const o of s)kn(o)?a.push(this.setParent(this.hydrateAstNode(o,n),r)):ci(o)?a.push(this.hydrateReference(o,r,i,n)):a.push(o)}else kn(s)?r[i]=this.setParent(this.hydrateAstNode(s,n),r):ci(s)?r[i]=this.hydrateReference(s,r,i,n):s!==void 0&&(r[i]=s);return r}setParent(e,n){return e.$container=n,e}hydrateReference(e,n,r,i){return this.linker.buildReference(n,r,i.cstNodes.get(e.$refNode),e.$refText)}hydrateCstNode(e,n,r=0){const i=n.cstNodes.get(e);if(typeof e.grammarSource=="number"&&(i.grammarSource=this.getGrammarElement(e.grammarSource)),i.astNode=n.astNodes.get(e.astNode),oc(i))for(const s of e.content){const a=this.hydrateCstNode(s,n,r++);i.content.push(a)}return i}hydrateCstLeafNode(e){const n=this.getTokenType(e.tokenType),r=e.offset,i=e.length,s=e.startLine,a=e.startColumn,o=e.endLine,u=e.endColumn,c=e.hidden;return new lm(r,i,{start:{line:s,character:a},end:{line:o,character:u}},n,c)}getTokenType(e){return this.lexer.definition[e]}getGrammarElementId(e){if(e)return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(e)}getGrammarElement(e){return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.getKey(e)}createGrammarElementIdMap(){let e=0;for(const n of Da(this.grammar))jz(n)&&this.grammarElementIdMap.set(n,e++)}}function tV(t){return{documentation:{CommentProvider:e=>new jX(e),DocumentationProvider:e=>new ZX(e)},parser:{AsyncParser:e=>new QX(e),GrammarConfig:e=>zH(e),LangiumParser:e=>Kq(e),CompletionParser:e=>Vq(e),ValueConverter:()=>new Qq,TokenBuilder:()=>new jq,Lexer:e=>new LX(e),ParserErrorMessageProvider:()=>new xS,LexerErrorMessageProvider:()=>new MX},workspace:{AstNodeLocator:()=>new kX,AstNodeDescriptionProvider:e=>new AX(e),ReferenceDescriptionProvider:e=>new TX(e)},references:{Linker:e=>new oX(e),NameProvider:()=>new cX,ScopeProvider:e=>new mX(e),ScopeComputation:e=>new hX(e),References:e=>new lX(e)},serializer:{Hydrator:e=>new eV(e),JsonSerializer:e=>new yX(e)},validation:{DocumentValidator:e=>new EX(e),ValidationRegistry:e=>new _X(e)},shared:()=>t.shared}}function nV(t){return{ServiceRegistry:e=>new vX(e),workspace:{LangiumDocuments:e=>new aX(e),LangiumDocumentFactory:e=>new sX(e),DocumentBuilder:e=>new CX(e),IndexManager:e=>new RX(e),WorkspaceManager:e=>new OX(e),FileSystemProvider:e=>t.fileSystemProvider(e),WorkspaceLock:()=>new JX,ConfigurationProvider:e=>new SX(e)}}}var Bx;(function(t){t.merge=(e,n)=>$f($f({},e),n)})(Bx||(Bx={}));function Gx(t,e,n,r,i,s,a,o,u){const c=[t,e,n,r,i,s,a,o,u].reduce($f,{});return US(c)}const rV=Symbol("isProxy");function US(t,e){const n=new Proxy({},{deleteProperty:()=>!1,set:()=>{throw new Error("Cannot set property on injected service container")},get:(r,i)=>i===rV?!0:Hx(r,i,t,e||n),getOwnPropertyDescriptor:(r,i)=>(Hx(r,i,t,e||n),Object.getOwnPropertyDescriptor(r,i)),has:(r,i)=>i in t,ownKeys:()=>[...Object.getOwnPropertyNames(t)]});return n}const zx=Symbol();function Hx(t,e,n,r){if(e in t){if(t[e]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:t[e]});if(t[e]===zx)throw new Error('Cycle detected. Please make "'+String(e)+'" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');return t[e]}else if(e in n){const i=n[e];t[e]=zx;try{t[e]=typeof i=="function"?i(r):US(i,r)}catch(s){throw t[e]=s instanceof Error?s:void 0,s}return t[e]}else return}function $f(t,e){if(e){for(const[n,r]of Object.entries(e))if(r!==void 0){const i=t[n];i!==null&&r!==null&&typeof i=="object"&&typeof r=="object"?t[n]=$f(i,r):t[n]=r}}return t}class iV{readFile(){throw new Error("No file system is available.")}async readDirectory(){return[]}}const sV={fileSystemProvider:()=>new iV},aV={Grammar:()=>{},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},oV={AstReflection:()=>new bN};function uV(){const t=Gx(nV(sV),oV),e=Gx(tV({shared:t}),aV);return t.ServiceRegistry.register(e),e}function jZ(t){var e;const n=uV(),r=n.serializer.JsonSerializer.deserialize(t);return n.shared.workspace.LangiumDocumentFactory.fromModel(r,Ks.parse(`memory://${(e=r.name)!==null&&e!==void 0?e:"grammar"}.langium`)),r}const cn=[];for(let t=0;t<256;++t)cn.push((t+256).toString(16).slice(1));function cV(t,e=0){return(cn[t[e+0]]+cn[t[e+1]]+cn[t[e+2]]+cn[t[e+3]]+"-"+cn[t[e+4]]+cn[t[e+5]]+"-"+cn[t[e+6]]+cn[t[e+7]]+"-"+cn[t[e+8]]+cn[t[e+9]]+"-"+cn[t[e+10]]+cn[t[e+11]]+cn[t[e+12]]+cn[t[e+13]]+cn[t[e+14]]+cn[t[e+15]]).toLowerCase()}let wg;const lV=new Uint8Array(16);function hV(){if(!wg){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");wg=crypto.getRandomValues.bind(crypto)}return wg(lV)}const fV=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Wx={randomUUID:fV};function QZ(t,e,n){var i;if(Wx.randomUUID&&!t)return Wx.randomUUID();t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??hV();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,cV(r)}function Yx(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function BS(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Ag(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function dV(t){return t.target.depth}function JZ(t){return t.depth}function ej(t,e){return e-1-t.height}function pV(t,e){return t.sourceLinks.length?t.depth:e-1}function tj(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?BS(t.sourceLinks,dV)-1:0}function Ll(t){return function(){return t}}function qx(t,e){return Uf(t.source,e.source)||t.index-e.index}function Xx(t,e){return Uf(t.target,e.target)||t.index-e.index}function Uf(t,e){return t.y0-e.y0}function Tg(t){return t.value}function gV(t){return t.index}function mV(t){return t.nodes}function bV(t){return t.links}function Vx(t,e){const n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function Kx({nodes:t}){for(const e of t){let n=e.y0,r=n;for(const i of e.sourceLinks)i.y0=n+i.width/2,n+=i.width;for(const i of e.targetLinks)i.y1=r+i.width/2,r+=i.width}}function nj(){let t=0,e=0,n=1,r=1,i=24,s=8,a,o=gV,u=pV,c,l,h=mV,d=bV,f=6;function p(){const A={nodes:h.apply(null,arguments),links:d.apply(null,arguments)};return g(A),m(A),b(A),v(A),w(A),Kx(A),A}p.update=function(A){return Kx(A),A},p.nodeId=function(A){return arguments.length?(o=typeof A=="function"?A:Ll(A),p):o},p.nodeAlign=function(A){return arguments.length?(u=typeof A=="function"?A:Ll(A),p):u},p.nodeSort=function(A){return arguments.length?(c=A,p):c},p.nodeWidth=function(A){return arguments.length?(i=+A,p):i},p.nodePadding=function(A){return arguments.length?(s=a=+A,p):s},p.nodes=function(A){return arguments.length?(h=typeof A=="function"?A:Ll(A),p):h},p.links=function(A){return arguments.length?(d=typeof A=="function"?A:Ll(A),p):d},p.linkSort=function(A){return arguments.length?(l=A,p):l},p.size=function(A){return arguments.length?(t=e=0,n=+A[0],r=+A[1],p):[n-t,r-e]},p.extent=function(A){return arguments.length?(t=+A[0][0],n=+A[1][0],e=+A[0][1],r=+A[1][1],p):[[t,e],[n,r]]},p.iterations=function(A){return arguments.length?(f=+A,p):f};function g({nodes:A,links:N}){for(const[S,D]of A.entries())D.index=S,D.sourceLinks=[],D.targetLinks=[];const C=new Map(A.map((S,D)=>[o(S,D,A),S]));for(const[S,D]of N.entries()){D.index=S;let{source:P,target:U}=D;typeof P!="object"&&(P=D.source=Vx(C,P)),typeof U!="object"&&(U=D.target=Vx(C,U)),P.sourceLinks.push(D),U.targetLinks.push(D)}if(l!=null)for(const{sourceLinks:S,targetLinks:D}of A)S.sort(l),D.sort(l)}function m({nodes:A}){for(const N of A)N.value=N.fixedValue===void 0?Math.max(Ag(N.sourceLinks,Tg),Ag(N.targetLinks,Tg)):N.fixedValue}function b({nodes:A}){const N=A.length;let C=new Set(A),S=new Set,D=0;for(;C.size;){for(const P of C){P.depth=D;for(const{target:U}of P.sourceLinks)S.add(U)}if(++D>N)throw new Error("circular link");C=S,S=new Set}}function v({nodes:A}){const N=A.length;let C=new Set(A),S=new Set,D=0;for(;C.size;){for(const P of C){P.height=D;for(const{source:U}of P.targetLinks)S.add(U)}if(++D>N)throw new Error("circular link");C=S,S=new Set}}function y({nodes:A}){const N=Yx(A,D=>D.depth)+1,C=(n-t-i)/(N-1),S=new Array(N);for(const D of A){const P=Math.max(0,Math.min(N-1,Math.floor(u.call(null,D,N))));D.layer=P,D.x0=t+P*C,D.x1=D.x0+i,S[P]?S[P].push(D):S[P]=[D]}if(c)for(const D of S)D.sort(c);return S}function _(A){const N=BS(A,C=>(r-e-(C.length-1)*a)/Ag(C,Tg));for(const C of A){let S=e;for(const D of C){D.y0=S,D.y1=S+D.value*N,S=D.y1+a;for(const P of D.sourceLinks)P.width=P.value*N}S=(r-S+a)/(C.length+1);for(let D=0;D<C.length;++D){const P=C[D];P.y0+=S*(D+1),P.y1+=S*(D+1)}R(C)}}function w(A){const N=y(A);a=Math.min(s,(r-e)/(Yx(N,C=>C.length)-1)),_(N);for(let C=0;C<f;++C){const S=Math.pow(.99,C),D=Math.max(1-S,(C+1)/f);x(N,S,D),k(N,S,D)}}function k(A,N,C){for(let S=1,D=A.length;S<D;++S){const P=A[S];for(const U of P){let Y=0,H=0;for(const{source:V,value:K}of U.targetLinks){let ae=K*(U.layer-V.layer);Y+=L(V,U)*ae,H+=ae}if(!(H>0))continue;let ee=(Y/H-U.y0)*N;U.y0+=ee,U.y1+=ee,M(U)}c===void 0&&P.sort(Uf),T(P,C)}}function x(A,N,C){for(let S=A.length,D=S-2;D>=0;--D){const P=A[D];for(const U of P){let Y=0,H=0;for(const{target:V,value:K}of U.sourceLinks){let ae=K*(V.layer-U.layer);Y+=E(U,V)*ae,H+=ae}if(!(H>0))continue;let ee=(Y/H-U.y0)*N;U.y0+=ee,U.y1+=ee,M(U)}c===void 0&&P.sort(Uf),T(P,C)}}function T(A,N){const C=A.length>>1,S=A[C];I(A,S.y0-a,C-1,N),O(A,S.y1+a,C+1,N),I(A,r,A.length-1,N),O(A,e,0,N)}function O(A,N,C,S){for(;C<A.length;++C){const D=A[C],P=(N-D.y0)*S;P>1e-6&&(D.y0+=P,D.y1+=P),N=D.y1+a}}function I(A,N,C,S){for(;C>=0;--C){const D=A[C],P=(D.y1-N)*S;P>1e-6&&(D.y0-=P,D.y1-=P),N=D.y0-a}}function M({sourceLinks:A,targetLinks:N}){if(l===void 0){for(const{source:{sourceLinks:C}}of N)C.sort(Xx);for(const{target:{targetLinks:C}}of A)C.sort(qx)}}function R(A){if(l===void 0)for(const{sourceLinks:N,targetLinks:C}of A)N.sort(Xx),C.sort(qx)}function L(A,N){let C=A.y0-(A.sourceLinks.length-1)*a/2;for(const{target:S,width:D}of A.sourceLinks){if(S===N)break;C+=D+a}for(const{source:S,width:D}of N.targetLinks){if(S===A)break;C-=D}return C}function E(A,N){let C=N.y0-(N.targetLinks.length-1)*a/2;for(const{source:S,width:D}of N.targetLinks){if(S===A)break;C+=D+a}for(const{target:S,width:D}of A.sourceLinks){if(S===N)break;C-=D}return C}return p}var bm=Math.PI,ym=2*bm,Es=1e-6,yV=ym-Es;function vm(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function GS(){return new vm}vm.prototype=GS.prototype={constructor:vm,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,s){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+s)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var s=this._x1,a=this._y1,o=n-t,u=r-e,c=s-t,l=a-e,h=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>Es)if(!(Math.abs(l*o-u*c)>Es)||!i)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var d=n-s,f=r-a,p=o*o+u*u,g=d*d+f*f,m=Math.sqrt(p),b=Math.sqrt(h),v=i*Math.tan((bm-Math.acos((p+h-g)/(2*m*b)))/2),y=v/b,_=v/m;Math.abs(y-1)>Es&&(this._+="L"+(t+y*c)+","+(e+y*l)),this._+="A"+i+","+i+",0,0,"+ +(l*d>c*f)+","+(this._x1=t+_*o)+","+(this._y1=e+_*u)}},arc:function(t,e,n,r,i,s){t=+t,e=+e,n=+n,s=!!s;var a=n*Math.cos(r),o=n*Math.sin(r),u=t+a,c=e+o,l=1^s,h=s?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+u+","+c:(Math.abs(this._x1-u)>Es||Math.abs(this._y1-c)>Es)&&(this._+="L"+u+","+c),n&&(h<0&&(h=h%ym+ym),h>yV?this._+="A"+n+","+n+",0,1,"+l+","+(t-a)+","+(e-o)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):h>Es&&(this._+="A"+n+","+n+",0,"+ +(h>=bm)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function Zx(t){return function(){return t}}function vV(t){return t[0]}function _V(t){return t[1]}var EV=Array.prototype.slice;function xV(t){return t.source}function wV(t){return t.target}function AV(t){var e=xV,n=wV,r=vV,i=_V,s=null;function a(){var o,u=EV.call(arguments),c=e.apply(this,u),l=n.apply(this,u);if(s||(s=o=GS()),t(s,+r.apply(this,(u[0]=c,u)),+i.apply(this,u),+r.apply(this,(u[0]=l,u)),+i.apply(this,u)),o)return s=null,o+""||null}return a.source=function(o){return arguments.length?(e=o,a):e},a.target=function(o){return arguments.length?(n=o,a):n},a.x=function(o){return arguments.length?(r=typeof o=="function"?o:Zx(+o),a):r},a.y=function(o){return arguments.length?(i=typeof o=="function"?o:Zx(+o),a):i},a.context=function(o){return arguments.length?(s=o??null,a):s},a}function TV(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function kV(){return AV(TV)}function NV(t){return[t.source.x1,t.y0]}function SV(t){return[t.target.x0,t.y1]}function rj(){return kV().source(NV).target(SV)}var gh={exports:{}},mh={exports:{}},CV=mh.exports,jx;function RV(){return jx||(jx=1,(function(t,e){(function(r,i){t.exports=i()})(CV,function(){return(function(n){var r={};function i(s){if(r[s])return r[s].exports;var a=r[s]={i:s,l:!1,exports:{}};return n[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=n,i.c=r,i.i=function(s){return s},i.d=function(s,a,o){i.o(s,a)||Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:o})},i.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(a,"a",a),a},i.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},i.p="",i(i.s=28)})([(function(n,r,i){function s(){}s.QUALITY=1,s.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,s.DEFAULT_INCREMENTAL=!1,s.DEFAULT_ANIMATION_ON_LAYOUT=!0,s.DEFAULT_ANIMATION_DURING_LAYOUT=!1,s.DEFAULT_ANIMATION_PERIOD=50,s.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,s.DEFAULT_GRAPH_MARGIN=15,s.NODE_DIMENSIONS_INCLUDE_LABELS=!1,s.SIMPLE_NODE_SIZE=40,s.SIMPLE_NODE_HALF_SIZE=s.SIMPLE_NODE_SIZE/2,s.EMPTY_COMPOUND_NODE_SIZE=40,s.MIN_EDGE_LENGTH=1,s.WORLD_BOUNDARY=1e6,s.INITIAL_WORLD_BOUNDARY=s.WORLD_BOUNDARY/1e3,s.WORLD_CENTER_X=1200,s.WORLD_CENTER_Y=900,n.exports=s}),(function(n,r,i){var s=i(2),a=i(8),o=i(9);function u(l,h,d){s.call(this,d),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=d,this.bendpoints=[],this.source=l,this.target=h}u.prototype=Object.create(s.prototype);for(var c in s)u[c]=s[c];u.prototype.getSource=function(){return this.source},u.prototype.getTarget=function(){return this.target},u.prototype.isInterGraph=function(){return this.isInterGraph},u.prototype.getLength=function(){return this.length},u.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},u.prototype.getBendpoints=function(){return this.bendpoints},u.prototype.getLca=function(){return this.lca},u.prototype.getSourceInLca=function(){return this.sourceInLca},u.prototype.getTargetInLca=function(){return this.targetInLca},u.prototype.getOtherEnd=function(l){if(this.source===l)return this.target;if(this.target===l)return this.source;throw"Node is not incident with this edge"},u.prototype.getOtherEndInGraph=function(l,h){for(var d=this.getOtherEnd(l),f=h.getGraphManager().getRoot();;){if(d.getOwner()==h)return d;if(d.getOwner()==f)break;d=d.getOwner().getParent()}return null},u.prototype.updateLength=function(){var l=new Array(4);this.isOverlapingSourceAndTarget=a.getIntersection(this.target.getRect(),this.source.getRect(),l),this.isOverlapingSourceAndTarget||(this.lengthX=l[0]-l[2],this.lengthY=l[1]-l[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},u.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},n.exports=u}),(function(n,r,i){function s(a){this.vGraphObject=a}n.exports=s}),(function(n,r,i){var s=i(2),a=i(10),o=i(13),u=i(0),c=i(16),l=i(5);function h(f,p,g,m){g==null&&m==null&&(m=p),s.call(this,m),f.graphManager!=null&&(f=f.graphManager),this.estimatedSize=a.MIN_VALUE,this.inclusionTreeDepth=a.MAX_VALUE,this.vGraphObject=m,this.edges=[],this.graphManager=f,g!=null&&p!=null?this.rect=new o(p.x,p.y,g.width,g.height):this.rect=new o}h.prototype=Object.create(s.prototype);for(var d in s)h[d]=s[d];h.prototype.getEdges=function(){return this.edges},h.prototype.getChild=function(){return this.child},h.prototype.getOwner=function(){return this.owner},h.prototype.getWidth=function(){return this.rect.width},h.prototype.setWidth=function(f){this.rect.width=f},h.prototype.getHeight=function(){return this.rect.height},h.prototype.setHeight=function(f){this.rect.height=f},h.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},h.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},h.prototype.getCenter=function(){return new l(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},h.prototype.getLocation=function(){return new l(this.rect.x,this.rect.y)},h.prototype.getRect=function(){return this.rect},h.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},h.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},h.prototype.setRect=function(f,p){this.rect.x=f.x,this.rect.y=f.y,this.rect.width=p.width,this.rect.height=p.height},h.prototype.setCenter=function(f,p){this.rect.x=f-this.rect.width/2,this.rect.y=p-this.rect.height/2},h.prototype.setLocation=function(f,p){this.rect.x=f,this.rect.y=p},h.prototype.moveBy=function(f,p){this.rect.x+=f,this.rect.y+=p},h.prototype.getEdgeListToNode=function(f){var p=[],g=this;return g.edges.forEach(function(m){if(m.target==f){if(m.source!=g)throw"Incorrect edge source!";p.push(m)}}),p},h.prototype.getEdgesBetween=function(f){var p=[],g=this;return g.edges.forEach(function(m){if(!(m.source==g||m.target==g))throw"Incorrect edge source and/or target";(m.target==f||m.source==f)&&p.push(m)}),p},h.prototype.getNeighborsList=function(){var f=new Set,p=this;return p.edges.forEach(function(g){if(g.source==p)f.add(g.target);else{if(g.target!=p)throw"Incorrect incidency!";f.add(g.source)}}),f},h.prototype.withChildren=function(){var f=new Set,p,g;if(f.add(this),this.child!=null)for(var m=this.child.getNodes(),b=0;b<m.length;b++)p=m[b],g=p.withChildren(),g.forEach(function(v){f.add(v)});return f},h.prototype.getNoOfChildren=function(){var f=0,p;if(this.child==null)f=1;else for(var g=this.child.getNodes(),m=0;m<g.length;m++)p=g[m],f+=p.getNoOfChildren();return f==0&&(f=1),f},h.prototype.getEstimatedSize=function(){if(this.estimatedSize==a.MIN_VALUE)throw"assert failed";return this.estimatedSize},h.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},h.prototype.scatter=function(){var f,p,g=-u.INITIAL_WORLD_BOUNDARY,m=u.INITIAL_WORLD_BOUNDARY;f=u.WORLD_CENTER_X+c.nextDouble()*(m-g)+g;var b=-u.INITIAL_WORLD_BOUNDARY,v=u.INITIAL_WORLD_BOUNDARY;p=u.WORLD_CENTER_Y+c.nextDouble()*(v-b)+b,this.rect.x=f,this.rect.y=p},h.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var f=this.getChild();if(f.updateBounds(!0),this.rect.x=f.getLeft(),this.rect.y=f.getTop(),this.setWidth(f.getRight()-f.getLeft()),this.setHeight(f.getBottom()-f.getTop()),u.NODE_DIMENSIONS_INCLUDE_LABELS){var p=f.getRight()-f.getLeft(),g=f.getBottom()-f.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(p+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>p?(this.rect.x-=(this.labelWidth-p)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(p+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(g+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>g?(this.rect.y-=(this.labelHeight-g)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(g+this.labelHeight))}}},h.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==a.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},h.prototype.transform=function(f){var p=this.rect.x;p>u.WORLD_BOUNDARY?p=u.WORLD_BOUNDARY:p<-u.WORLD_BOUNDARY&&(p=-u.WORLD_BOUNDARY);var g=this.rect.y;g>u.WORLD_BOUNDARY?g=u.WORLD_BOUNDARY:g<-u.WORLD_BOUNDARY&&(g=-u.WORLD_BOUNDARY);var m=new l(p,g),b=f.inverseTransformPoint(m);this.setLocation(b.x,b.y)},h.prototype.getLeft=function(){return this.rect.x},h.prototype.getRight=function(){return this.rect.x+this.rect.width},h.prototype.getTop=function(){return this.rect.y},h.prototype.getBottom=function(){return this.rect.y+this.rect.height},h.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},n.exports=h}),(function(n,r,i){var s=i(0);function a(){}for(var o in s)a[o]=s[o];a.MAX_ITERATIONS=2500,a.DEFAULT_EDGE_LENGTH=50,a.DEFAULT_SPRING_STRENGTH=.45,a.DEFAULT_REPULSION_STRENGTH=4500,a.DEFAULT_GRAVITY_STRENGTH=.4,a.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,a.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,a.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,a.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,a.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,a.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,a.COOLING_ADAPTATION_FACTOR=.33,a.ADAPTATION_LOWER_NODE_LIMIT=1e3,a.ADAPTATION_UPPER_NODE_LIMIT=5e3,a.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,a.MAX_NODE_DISPLACEMENT=a.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,a.MIN_REPULSION_DIST=a.DEFAULT_EDGE_LENGTH/10,a.CONVERGENCE_CHECK_PERIOD=100,a.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,a.MIN_EDGE_LENGTH=1,a.GRID_CALCULATION_CHECK_PERIOD=10,n.exports=a}),(function(n,r,i){function s(a,o){a==null&&o==null?(this.x=0,this.y=0):(this.x=a,this.y=o)}s.prototype.getX=function(){return this.x},s.prototype.getY=function(){return this.y},s.prototype.setX=function(a){this.x=a},s.prototype.setY=function(a){this.y=a},s.prototype.getDifference=function(a){return new DimensionD(this.x-a.x,this.y-a.y)},s.prototype.getCopy=function(){return new s(this.x,this.y)},s.prototype.translate=function(a){return this.x+=a.width,this.y+=a.height,this},n.exports=s}),(function(n,r,i){var s=i(2),a=i(10),o=i(0),u=i(7),c=i(3),l=i(1),h=i(13),d=i(12),f=i(11);function p(m,b,v){s.call(this,v),this.estimatedSize=a.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=m,b!=null&&b instanceof u?this.graphManager=b:b!=null&&b instanceof Layout&&(this.graphManager=b.graphManager)}p.prototype=Object.create(s.prototype);for(var g in s)p[g]=s[g];p.prototype.getNodes=function(){return this.nodes},p.prototype.getEdges=function(){return this.edges},p.prototype.getGraphManager=function(){return this.graphManager},p.prototype.getParent=function(){return this.parent},p.prototype.getLeft=function(){return this.left},p.prototype.getRight=function(){return this.right},p.prototype.getTop=function(){return this.top},p.prototype.getBottom=function(){return this.bottom},p.prototype.isConnected=function(){return this.isConnected},p.prototype.add=function(m,b,v){if(b==null&&v==null){var y=m;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(y)>-1)throw"Node already in graph!";return y.owner=this,this.getNodes().push(y),y}else{var _=m;if(!(this.getNodes().indexOf(b)>-1&&this.getNodes().indexOf(v)>-1))throw"Source or target not in graph!";if(!(b.owner==v.owner&&b.owner==this))throw"Both owners must be this graph!";return b.owner!=v.owner?null:(_.source=b,_.target=v,_.isInterGraph=!1,this.getEdges().push(_),b.edges.push(_),v!=b&&v.edges.push(_),_)}},p.prototype.remove=function(m){var b=m;if(m instanceof c){if(b==null)throw"Node is null!";if(!(b.owner!=null&&b.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var v=b.edges.slice(),y,_=v.length,w=0;w<_;w++)y=v[w],y.isInterGraph?this.graphManager.remove(y):y.source.owner.remove(y);var k=this.nodes.indexOf(b);if(k==-1)throw"Node not in owner node list!";this.nodes.splice(k,1)}else if(m instanceof l){var y=m;if(y==null)throw"Edge is null!";if(!(y.source!=null&&y.target!=null))throw"Source and/or target is null!";if(!(y.source.owner!=null&&y.target.owner!=null&&y.source.owner==this&&y.target.owner==this))throw"Source and/or target owner is invalid!";var x=y.source.edges.indexOf(y),T=y.target.edges.indexOf(y);if(!(x>-1&&T>-1))throw"Source and/or target doesn't know this edge!";y.source.edges.splice(x,1),y.target!=y.source&&y.target.edges.splice(T,1);var k=y.source.owner.getEdges().indexOf(y);if(k==-1)throw"Not in owner's edge list!";y.source.owner.getEdges().splice(k,1)}},p.prototype.updateLeftTop=function(){for(var m=a.MAX_VALUE,b=a.MAX_VALUE,v,y,_,w=this.getNodes(),k=w.length,x=0;x<k;x++){var T=w[x];v=T.getTop(),y=T.getLeft(),m>v&&(m=v),b>y&&(b=y)}return m==a.MAX_VALUE?null:(w[0].getParent().paddingLeft!=null?_=w[0].getParent().paddingLeft:_=this.margin,this.left=b-_,this.top=m-_,new d(this.left,this.top))},p.prototype.updateBounds=function(m){for(var b=a.MAX_VALUE,v=-a.MAX_VALUE,y=a.MAX_VALUE,_=-a.MAX_VALUE,w,k,x,T,O,I=this.nodes,M=I.length,R=0;R<M;R++){var L=I[R];m&&L.child!=null&&L.updateBounds(),w=L.getLeft(),k=L.getRight(),x=L.getTop(),T=L.getBottom(),b>w&&(b=w),v<k&&(v=k),y>x&&(y=x),_<T&&(_=T)}var E=new h(b,y,v-b,_-y);b==a.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),I[0].getParent().paddingLeft!=null?O=I[0].getParent().paddingLeft:O=this.margin,this.left=E.x-O,this.right=E.x+E.width+O,this.top=E.y-O,this.bottom=E.y+E.height+O},p.calculateBounds=function(m){for(var b=a.MAX_VALUE,v=-a.MAX_VALUE,y=a.MAX_VALUE,_=-a.MAX_VALUE,w,k,x,T,O=m.length,I=0;I<O;I++){var M=m[I];w=M.getLeft(),k=M.getRight(),x=M.getTop(),T=M.getBottom(),b>w&&(b=w),v<k&&(v=k),y>x&&(y=x),_<T&&(_=T)}var R=new h(b,y,v-b,_-y);return R},p.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==a.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){for(var m=0,b=this.nodes,v=b.length,y=0;y<v;y++){var _=b[y];m+=_.calcEstimatedSize()}return m==0?this.estimatedSize=o.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=m/Math.sqrt(this.nodes.length),this.estimatedSize},p.prototype.updateConnected=function(){var m=this;if(this.nodes.length==0){this.isConnected=!0;return}var b=new f,v=new Set,y=this.nodes[0],_,w,k=y.withChildren();for(k.forEach(function(R){b.push(R),v.add(R)});b.length!==0;){y=b.shift(),_=y.getEdges();for(var x=_.length,T=0;T<x;T++){var O=_[T];if(w=O.getOtherEndInGraph(y,this),w!=null&&!v.has(w)){var I=w.withChildren();I.forEach(function(R){b.push(R),v.add(R)})}}}if(this.isConnected=!1,v.size>=this.nodes.length){var M=0;v.forEach(function(R){R.owner==m&&M++}),M==this.nodes.length&&(this.isConnected=!0)}},n.exports=p}),(function(n,r,i){var s,a=i(1);function o(u){s=i(6),this.layout=u,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var u=this.layout.newGraph(),c=this.layout.newNode(null),l=this.add(u,c);return this.setRootGraph(l),this.rootGraph},o.prototype.add=function(u,c,l,h,d){if(l==null&&h==null&&d==null){if(u==null)throw"Graph is null!";if(c==null)throw"Parent node is null!";if(this.graphs.indexOf(u)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(u),u.parent!=null)throw"Already has a parent!";if(c.child!=null)throw"Already has a child!";return u.parent=c,c.child=u,u}else{d=l,h=c,l=u;var f=h.getOwner(),p=d.getOwner();if(!(f!=null&&f.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(p!=null&&p.getGraphManager()==this))throw"Target not in this graph mgr!";if(f==p)return l.isInterGraph=!1,f.add(l,h,d);if(l.isInterGraph=!0,l.source=h,l.target=d,this.edges.indexOf(l)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(l),!(l.source!=null&&l.target!=null))throw"Edge source and/or target is null!";if(!(l.source.edges.indexOf(l)==-1&&l.target.edges.indexOf(l)==-1))throw"Edge already in source and/or target incidency list!";return l.source.edges.push(l),l.target.edges.push(l),l}},o.prototype.remove=function(u){if(u instanceof s){var c=u;if(c.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(c==this.rootGraph||c.parent!=null&&c.parent.graphManager==this))throw"Invalid parent node!";var l=[];l=l.concat(c.getEdges());for(var h,d=l.length,f=0;f<d;f++)h=l[f],c.remove(h);var p=[];p=p.concat(c.getNodes());var g;d=p.length;for(var f=0;f<d;f++)g=p[f],c.remove(g);c==this.rootGraph&&this.setRootGraph(null);var m=this.graphs.indexOf(c);this.graphs.splice(m,1),c.parent=null}else if(u instanceof a){if(h=u,h==null)throw"Edge is null!";if(!h.isInterGraph)throw"Not an inter-graph edge!";if(!(h.source!=null&&h.target!=null))throw"Source and/or target is null!";if(!(h.source.edges.indexOf(h)!=-1&&h.target.edges.indexOf(h)!=-1))throw"Source and/or target doesn't know this edge!";var m=h.source.edges.indexOf(h);if(h.source.edges.splice(m,1),m=h.target.edges.indexOf(h),h.target.edges.splice(m,1),!(h.source.owner!=null&&h.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(h.source.owner.getGraphManager().edges.indexOf(h)==-1)throw"Not in owner graph manager's edge list!";var m=h.source.owner.getGraphManager().edges.indexOf(h);h.source.owner.getGraphManager().edges.splice(m,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var u=[],c=this.getGraphs(),l=c.length,h=0;h<l;h++)u=u.concat(c[h].getNodes());this.allNodes=u}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){var u=[],c=this.getGraphs();c.length;for(var l=0;l<c.length;l++)u=u.concat(c[l].getEdges());u=u.concat(this.edges),this.allEdges=u}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(u){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=u},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(u){if(u.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=u,u.parent==null&&(u.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(u,c){if(!(u!=null&&c!=null))throw"assert failed";if(u==c)return!0;var l=u.getOwner(),h;do{if(h=l.getParent(),h==null)break;if(h==c)return!0;if(l=h.getOwner(),l==null)break}while(!0);l=c.getOwner();do{if(h=l.getParent(),h==null)break;if(h==u)return!0;if(l=h.getOwner(),l==null)break}while(!0);return!1},o.prototype.calcLowestCommonAncestors=function(){for(var u,c,l,h,d,f=this.getAllEdges(),p=f.length,g=0;g<p;g++){if(u=f[g],c=u.source,l=u.target,u.lca=null,u.sourceInLca=c,u.targetInLca=l,c==l){u.lca=c.getOwner();continue}for(h=c.getOwner();u.lca==null;){for(u.targetInLca=l,d=l.getOwner();u.lca==null;){if(d==h){u.lca=d;break}if(d==this.rootGraph)break;if(u.lca!=null)throw"assert failed";u.targetInLca=d.getParent(),d=u.targetInLca.getOwner()}if(h==this.rootGraph)break;u.lca==null&&(u.sourceInLca=h.getParent(),h=u.sourceInLca.getOwner())}if(u.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(u,c){if(u==c)return u.getOwner();var l=u.getOwner();do{if(l==null)break;var h=c.getOwner();do{if(h==null)break;if(h==l)return h;h=h.getParent().getOwner()}while(!0);l=l.getParent().getOwner()}while(!0);return l},o.prototype.calcInclusionTreeDepths=function(u,c){u==null&&c==null&&(u=this.rootGraph,c=1);for(var l,h=u.getNodes(),d=h.length,f=0;f<d;f++)l=h[f],l.inclusionTreeDepth=c,l.child!=null&&this.calcInclusionTreeDepths(l.child,c+1)},o.prototype.includesInvalidEdge=function(){for(var u,c=[],l=this.edges.length,h=0;h<l;h++)u=this.edges[h],this.isOneAncestorOfOther(u.source,u.target)&&c.push(u);for(var h=0;h<c.length;h++)this.remove(c[h]);return!1},n.exports=o}),(function(n,r,i){var s=i(12);function a(){}a.calcSeparationAmount=function(o,u,c,l){if(!o.intersects(u))throw"assert failed";var h=new Array(2);this.decideDirectionsForOverlappingNodes(o,u,h),c[0]=Math.min(o.getRight(),u.getRight())-Math.max(o.x,u.x),c[1]=Math.min(o.getBottom(),u.getBottom())-Math.max(o.y,u.y),o.getX()<=u.getX()&&o.getRight()>=u.getRight()?c[0]+=Math.min(u.getX()-o.getX(),o.getRight()-u.getRight()):u.getX()<=o.getX()&&u.getRight()>=o.getRight()&&(c[0]+=Math.min(o.getX()-u.getX(),u.getRight()-o.getRight())),o.getY()<=u.getY()&&o.getBottom()>=u.getBottom()?c[1]+=Math.min(u.getY()-o.getY(),o.getBottom()-u.getBottom()):u.getY()<=o.getY()&&u.getBottom()>=o.getBottom()&&(c[1]+=Math.min(o.getY()-u.getY(),u.getBottom()-o.getBottom()));var d=Math.abs((u.getCenterY()-o.getCenterY())/(u.getCenterX()-o.getCenterX()));u.getCenterY()===o.getCenterY()&&u.getCenterX()===o.getCenterX()&&(d=1);var f=d*c[0],p=c[1]/d;c[0]<p?p=c[0]:f=c[1],c[0]=-1*h[0]*(p/2+l),c[1]=-1*h[1]*(f/2+l)},a.decideDirectionsForOverlappingNodes=function(o,u,c){o.getCenterX()<u.getCenterX()?c[0]=-1:c[0]=1,o.getCenterY()<u.getCenterY()?c[1]=-1:c[1]=1},a.getIntersection2=function(o,u,c){var l=o.getCenterX(),h=o.getCenterY(),d=u.getCenterX(),f=u.getCenterY();if(o.intersects(u))return c[0]=l,c[1]=h,c[2]=d,c[3]=f,!0;var p=o.getX(),g=o.getY(),m=o.getRight(),b=o.getX(),v=o.getBottom(),y=o.getRight(),_=o.getWidthHalf(),w=o.getHeightHalf(),k=u.getX(),x=u.getY(),T=u.getRight(),O=u.getX(),I=u.getBottom(),M=u.getRight(),R=u.getWidthHalf(),L=u.getHeightHalf(),E=!1,A=!1;if(l===d){if(h>f)return c[0]=l,c[1]=g,c[2]=d,c[3]=I,!1;if(h<f)return c[0]=l,c[1]=v,c[2]=d,c[3]=x,!1}else if(h===f){if(l>d)return c[0]=p,c[1]=h,c[2]=T,c[3]=f,!1;if(l<d)return c[0]=m,c[1]=h,c[2]=k,c[3]=f,!1}else{var N=o.height/o.width,C=u.height/u.width,S=(f-h)/(d-l),D=void 0,P=void 0,U=void 0,Y=void 0,H=void 0,ee=void 0;if(-N===S?l>d?(c[0]=b,c[1]=v,E=!0):(c[0]=m,c[1]=g,E=!0):N===S&&(l>d?(c[0]=p,c[1]=g,E=!0):(c[0]=y,c[1]=v,E=!0)),-C===S?d>l?(c[2]=O,c[3]=I,A=!0):(c[2]=T,c[3]=x,A=!0):C===S&&(d>l?(c[2]=k,c[3]=x,A=!0):(c[2]=M,c[3]=I,A=!0)),E&&A)return!1;if(l>d?h>f?(D=this.getCardinalDirection(N,S,4),P=this.getCardinalDirection(C,S,2)):(D=this.getCardinalDirection(-N,S,3),P=this.getCardinalDirection(-C,S,1)):h>f?(D=this.getCardinalDirection(-N,S,1),P=this.getCardinalDirection(-C,S,3)):(D=this.getCardinalDirection(N,S,2),P=this.getCardinalDirection(C,S,4)),!E)switch(D){case 1:Y=g,U=l+-w/S,c[0]=U,c[1]=Y;break;case 2:U=y,Y=h+_*S,c[0]=U,c[1]=Y;break;case 3:Y=v,U=l+w/S,c[0]=U,c[1]=Y;break;case 4:U=b,Y=h+-_*S,c[0]=U,c[1]=Y;break}if(!A)switch(P){case 1:ee=x,H=d+-L/S,c[2]=H,c[3]=ee;break;case 2:H=M,ee=f+R*S,c[2]=H,c[3]=ee;break;case 3:ee=I,H=d+L/S,c[2]=H,c[3]=ee;break;case 4:H=O,ee=f+-R*S,c[2]=H,c[3]=ee;break}}return!1},a.getCardinalDirection=function(o,u,c){return o>u?c:1+c%4},a.getIntersection=function(o,u,c,l){if(l==null)return this.getIntersection2(o,u,c);var h=o.x,d=o.y,f=u.x,p=u.y,g=c.x,m=c.y,b=l.x,v=l.y,y=void 0,_=void 0,w=void 0,k=void 0,x=void 0,T=void 0,O=void 0,I=void 0,M=void 0;return w=p-d,x=h-f,O=f*d-h*p,k=v-m,T=g-b,I=b*m-g*v,M=w*T-k*x,M===0?null:(y=(x*I-T*O)/M,_=(k*O-w*I)/M,new s(y,_))},a.angleOfVector=function(o,u,c,l){var h=void 0;return o!==c?(h=Math.atan((l-u)/(c-o)),c<o?h+=Math.PI:l<u&&(h+=this.TWO_PI)):l<u?h=this.ONE_AND_HALF_PI:h=this.HALF_PI,h},a.doIntersect=function(o,u,c,l){var h=o.x,d=o.y,f=u.x,p=u.y,g=c.x,m=c.y,b=l.x,v=l.y,y=(f-h)*(v-m)-(b-g)*(p-d);if(y===0)return!1;var _=((v-m)*(b-h)+(g-b)*(v-d))/y,w=((d-p)*(b-h)+(f-h)*(v-d))/y;return 0<_&&_<1&&0<w&&w<1},a.findCircleLineIntersections=function(o,u,c,l,h,d,f){var p=(c-o)*(c-o)+(l-u)*(l-u),g=2*((o-h)*(c-o)+(u-d)*(l-u)),m=(o-h)*(o-h)+(u-d)*(u-d)-f*f,b=g*g-4*p*m;if(b>=0){var v=(-g+Math.sqrt(g*g-4*p*m))/(2*p),y=(-g-Math.sqrt(g*g-4*p*m))/(2*p),_=null;return v>=0&&v<=1?[v]:y>=0&&y<=1?[y]:_}else return null},a.HALF_PI=.5*Math.PI,a.ONE_AND_HALF_PI=1.5*Math.PI,a.TWO_PI=2*Math.PI,a.THREE_PI=3*Math.PI,n.exports=a}),(function(n,r,i){function s(){}s.sign=function(a){return a>0?1:a<0?-1:0},s.floor=function(a){return a<0?Math.ceil(a):Math.floor(a)},s.ceil=function(a){return a<0?Math.floor(a):Math.ceil(a)},n.exports=s}),(function(n,r,i){function s(){}s.MAX_VALUE=2147483647,s.MIN_VALUE=-2147483648,n.exports=s}),(function(n,r,i){var s=(function(){function h(d,f){for(var p=0;p<f.length;p++){var g=f[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return function(d,f,p){return f&&h(d.prototype,f),p&&h(d,p),d}})();function a(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function(d){return{value:d,next:null,prev:null}},u=function(d,f,p,g){return d!==null?d.next=f:g.head=f,p!==null?p.prev=f:g.tail=f,f.prev=d,f.next=p,g.length++,f},c=function(d,f){var p=d.prev,g=d.next;return p!==null?p.next=g:f.head=g,g!==null?g.prev=p:f.tail=p,d.prev=d.next=null,f.length--,d},l=(function(){function h(d){var f=this;a(this,h),this.length=0,this.head=null,this.tail=null,d!=null&&d.forEach(function(p){return f.push(p)})}return s(h,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(f,p){return u(p.prev,o(f),p,this)}},{key:"insertAfter",value:function(f,p){return u(p,o(f),p.next,this)}},{key:"insertNodeBefore",value:function(f,p){return u(p.prev,f,p,this)}},{key:"insertNodeAfter",value:function(f,p){return u(p,f,p.next,this)}},{key:"push",value:function(f){return u(this.tail,o(f),null,this)}},{key:"unshift",value:function(f){return u(null,o(f),this.head,this)}},{key:"remove",value:function(f){return c(f,this)}},{key:"pop",value:function(){return c(this.tail,this).value}},{key:"popNode",value:function(){return c(this.tail,this)}},{key:"shift",value:function(){return c(this.head,this).value}},{key:"shiftNode",value:function(){return c(this.head,this)}},{key:"get_object_at",value:function(f){if(f<=this.length()){for(var p=1,g=this.head;p<f;)g=g.next,p++;return g.value}}},{key:"set_object_at",value:function(f,p){if(f<=this.length()){for(var g=1,m=this.head;g<f;)m=m.next,g++;m.value=p}}}]),h})();n.exports=l}),(function(n,r,i){function s(a,o,u){this.x=null,this.y=null,a==null&&o==null&&u==null?(this.x=0,this.y=0):typeof a=="number"&&typeof o=="number"&&u==null?(this.x=a,this.y=o):a.constructor.name=="Point"&&o==null&&u==null&&(u=a,this.x=u.x,this.y=u.y)}s.prototype.getX=function(){return this.x},s.prototype.getY=function(){return this.y},s.prototype.getLocation=function(){return new s(this.x,this.y)},s.prototype.setLocation=function(a,o,u){a.constructor.name=="Point"&&o==null&&u==null?(u=a,this.setLocation(u.x,u.y)):typeof a=="number"&&typeof o=="number"&&u==null&&(parseInt(a)==a&&parseInt(o)==o?this.move(a,o):(this.x=Math.floor(a+.5),this.y=Math.floor(o+.5)))},s.prototype.move=function(a,o){this.x=a,this.y=o},s.prototype.translate=function(a,o){this.x+=a,this.y+=o},s.prototype.equals=function(a){if(a.constructor.name=="Point"){var o=a;return this.x==o.x&&this.y==o.y}return this==a},s.prototype.toString=function(){return new s().constructor.name+"[x="+this.x+",y="+this.y+"]"},n.exports=s}),(function(n,r,i){function s(a,o,u,c){this.x=0,this.y=0,this.width=0,this.height=0,a!=null&&o!=null&&u!=null&&c!=null&&(this.x=a,this.y=o,this.width=u,this.height=c)}s.prototype.getX=function(){return this.x},s.prototype.setX=function(a){this.x=a},s.prototype.getY=function(){return this.y},s.prototype.setY=function(a){this.y=a},s.prototype.getWidth=function(){return this.width},s.prototype.setWidth=function(a){this.width=a},s.prototype.getHeight=function(){return this.height},s.prototype.setHeight=function(a){this.height=a},s.prototype.getRight=function(){return this.x+this.width},s.prototype.getBottom=function(){return this.y+this.height},s.prototype.intersects=function(a){return!(this.getRight()<a.x||this.getBottom()<a.y||a.getRight()<this.x||a.getBottom()<this.y)},s.prototype.getCenterX=function(){return this.x+this.width/2},s.prototype.getMinX=function(){return this.getX()},s.prototype.getMaxX=function(){return this.getX()+this.width},s.prototype.getCenterY=function(){return this.y+this.height/2},s.prototype.getMinY=function(){return this.getY()},s.prototype.getMaxY=function(){return this.getY()+this.height},s.prototype.getWidthHalf=function(){return this.width/2},s.prototype.getHeightHalf=function(){return this.height/2},n.exports=s}),(function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function a(){}a.lastID=0,a.createID=function(o){return a.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=a.getString(),a.lastID++),o.uniqueID)},a.getString=function(o){return o==null&&(o=a.lastID),"Object#"+o},a.isPrimitive=function(o){var u=typeof o>"u"?"undefined":s(o);return o==null||u!="object"&&u!="function"},n.exports=a}),(function(n,r,i){function s(g){if(Array.isArray(g)){for(var m=0,b=Array(g.length);m<g.length;m++)b[m]=g[m];return b}else return Array.from(g)}var a=i(0),o=i(7),u=i(3),c=i(1),l=i(6),h=i(5),d=i(17),f=i(29);function p(g){f.call(this),this.layoutQuality=a.QUALITY,this.createBendsAsNeeded=a.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=a.DEFAULT_INCREMENTAL,this.animationOnLayout=a.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=a.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=a.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=a.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,g!=null&&(this.isRemoteUse=g)}p.RANDOM_SEED=1,p.prototype=Object.create(f.prototype),p.prototype.getGraphManager=function(){return this.graphManager},p.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},p.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},p.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},p.prototype.newGraphManager=function(){var g=new o(this);return this.graphManager=g,g},p.prototype.newGraph=function(g){return new l(null,this.graphManager,g)},p.prototype.newNode=function(g){return new u(this.graphManager,g)},p.prototype.newEdge=function(g){return new c(null,null,g)},p.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},p.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var g;return this.checkLayoutSuccess()?g=!1:g=this.layout(),a.ANIMATE==="during"?!1:(g&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,g)},p.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},p.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var g=this.graphManager.getAllEdges(),m=0;m<g.length;m++)g[m];for(var b=this.graphManager.getRoot().getNodes(),m=0;m<b.length;m++)b[m];this.update(this.graphManager.getRoot())}},p.prototype.update=function(g){if(g==null)this.update2();else if(g instanceof u){var m=g;if(m.getChild()!=null)for(var b=m.getChild().getNodes(),v=0;v<b.length;v++)update(b[v]);if(m.vGraphObject!=null){var y=m.vGraphObject;y.update(m)}}else if(g instanceof c){var _=g;if(_.vGraphObject!=null){var w=_.vGraphObject;w.update(_)}}else if(g instanceof l){var k=g;if(k.vGraphObject!=null){var x=k.vGraphObject;x.update(k)}}},p.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=a.QUALITY,this.animationDuringLayout=a.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=a.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=a.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=a.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=a.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=a.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},p.prototype.transform=function(g){if(g==null)this.transform(new h(0,0));else{var m=new d,b=this.graphManager.getRoot().updateLeftTop();if(b!=null){m.setWorldOrgX(g.x),m.setWorldOrgY(g.y),m.setDeviceOrgX(b.x),m.setDeviceOrgY(b.y);for(var v=this.getAllNodes(),y,_=0;_<v.length;_++)y=v[_],y.transform(m)}}},p.prototype.positionNodesRandomly=function(g){if(g==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var m,b,v=g.getNodes(),y=0;y<v.length;y++)m=v[y],b=m.getChild(),b==null||b.getNodes().length==0?m.scatter():(this.positionNodesRandomly(b),m.updateBounds())},p.prototype.getFlatForest=function(){for(var g=[],m=!0,b=this.graphManager.getRoot().getNodes(),v=!0,y=0;y<b.length;y++)b[y].getChild()!=null&&(v=!1);if(!v)return g;var _=new Set,w=[],k=new Map,x=[];for(x=x.concat(b);x.length>0&&m;){for(w.push(x[0]);w.length>0&&m;){var T=w[0];w.splice(0,1),_.add(T);for(var O=T.getEdges(),y=0;y<O.length;y++){var I=O[y].getOtherEnd(T);if(k.get(T)!=I)if(!_.has(I))w.push(I),k.set(I,T);else{m=!1;break}}}if(!m)g=[];else{var M=[].concat(s(_));g.push(M);for(var y=0;y<M.length;y++){var R=M[y],L=x.indexOf(R);L>-1&&x.splice(L,1)}_=new Set,k=new Map}}return g},p.prototype.createDummyNodesForBendpoints=function(g){for(var m=[],b=g.source,v=this.graphManager.calcLowestCommonAncestor(g.source,g.target),y=0;y<g.bendpoints.length;y++){var _=this.newNode(null);_.setRect(new Point(0,0),new Dimension(1,1)),v.add(_);var w=this.newEdge(null);this.graphManager.add(w,b,_),m.add(_),b=_}var w=this.newEdge(null);return this.graphManager.add(w,b,g.target),this.edgeToDummyNodes.set(g,m),g.isInterGraph()?this.graphManager.remove(g):v.remove(g),m},p.prototype.createBendpointsFromDummyNodes=function(){var g=[];g=g.concat(this.graphManager.getAllEdges()),g=[].concat(s(this.edgeToDummyNodes.keys())).concat(g);for(var m=0;m<g.length;m++){var b=g[m];if(b.bendpoints.length>0){for(var v=this.edgeToDummyNodes.get(b),y=0;y<v.length;y++){var _=v[y],w=new h(_.getCenterX(),_.getCenterY()),k=b.bendpoints.get(y);k.x=w.x,k.y=w.y,_.getOwner().remove(_)}this.graphManager.add(b,b.source,b.target)}}},p.transform=function(g,m,b,v){if(b!=null&&v!=null){var y=m;if(g<=50){var _=m/b;y-=(m-_)/50*(50-g)}else{var w=m*v;y+=(w-m)/50*(g-50)}return y}else{var k,x;return g<=50?(k=9*m/500,x=m/10):(k=9*m/50,x=-8*m),k*g+x}},p.findCenterOfTree=function(g){var m=[];m=m.concat(g);var b=[],v=new Map,y=!1,_=null;(m.length==1||m.length==2)&&(y=!0,_=m[0]);for(var w=0;w<m.length;w++){var k=m[w],x=k.getNeighborsList().size;v.set(k,k.getNeighborsList().size),x==1&&b.push(k)}var T=[];for(T=T.concat(b);!y;){var O=[];O=O.concat(T),T=[];for(var w=0;w<m.length;w++){var k=m[w],I=m.indexOf(k);I>=0&&m.splice(I,1);var M=k.getNeighborsList();M.forEach(function(E){if(b.indexOf(E)<0){var A=v.get(E),N=A-1;N==1&&T.push(E),v.set(E,N)}})}b=b.concat(T),(m.length==1||m.length==2)&&(y=!0,_=m[0])}return _},p.prototype.setGraphManager=function(g){this.graphManager=g},n.exports=p}),(function(n,r,i){function s(){}s.seed=1,s.x=0,s.nextDouble=function(){return s.x=Math.sin(s.seed++)*1e4,s.x-Math.floor(s.x)},n.exports=s}),(function(n,r,i){var s=i(5);function a(o,u){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}a.prototype.getWorldOrgX=function(){return this.lworldOrgX},a.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},a.prototype.getWorldOrgY=function(){return this.lworldOrgY},a.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},a.prototype.getWorldExtX=function(){return this.lworldExtX},a.prototype.setWorldExtX=function(o){this.lworldExtX=o},a.prototype.getWorldExtY=function(){return this.lworldExtY},a.prototype.setWorldExtY=function(o){this.lworldExtY=o},a.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},a.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},a.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},a.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},a.prototype.getDeviceExtX=function(){return this.ldeviceExtX},a.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},a.prototype.getDeviceExtY=function(){return this.ldeviceExtY},a.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},a.prototype.transformX=function(o){var u=0,c=this.lworldExtX;return c!=0&&(u=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/c),u},a.prototype.transformY=function(o){var u=0,c=this.lworldExtY;return c!=0&&(u=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/c),u},a.prototype.inverseTransformX=function(o){var u=0,c=this.ldeviceExtX;return c!=0&&(u=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/c),u},a.prototype.inverseTransformY=function(o){var u=0,c=this.ldeviceExtY;return c!=0&&(u=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/c),u},a.prototype.inverseTransformPoint=function(o){var u=new s(this.inverseTransformX(o.x),this.inverseTransformY(o.y));return u},n.exports=a}),(function(n,r,i){function s(f){if(Array.isArray(f)){for(var p=0,g=Array(f.length);p<f.length;p++)g[p]=f[p];return g}else return Array.from(f)}var a=i(15),o=i(4),u=i(0),c=i(8),l=i(9);function h(){a.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}h.prototype=Object.create(a.prototype);for(var d in a)h[d]=a[d];h.prototype.initParameters=function(){a.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},h.prototype.calcIdealEdgeLengths=function(){for(var f,p,g,m,b,v,y,_=this.getGraphManager().getAllEdges(),w=0;w<_.length;w++)f=_[w],p=f.idealLength,f.isInterGraph&&(m=f.getSource(),b=f.getTarget(),v=f.getSourceInLca().getEstimatedSize(),y=f.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(f.idealLength+=v+y-2*u.SIMPLE_NODE_SIZE),g=f.getLca().getInclusionTreeDepth(),f.idealLength+=p*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(m.getInclusionTreeDepth()+b.getInclusionTreeDepth()-2*g))},h.prototype.initSpringEmbedder=function(){var f=this.getAllNodes().length;this.incremental?(f>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(f>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},h.prototype.calcSpringForces=function(){for(var f=this.getAllEdges(),p,g=0;g<f.length;g++)p=f[g],this.calcSpringForce(p,p.idealLength)},h.prototype.calcRepulsionForces=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g,m,b,v,y=this.getAllNodes(),_;if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&f&&this.updateGrid(),_=new Set,g=0;g<y.length;g++)b=y[g],this.calculateRepulsionForceOfANode(b,_,f,p),_.add(b);else for(g=0;g<y.length;g++)for(b=y[g],m=g+1;m<y.length;m++)v=y[m],b.getOwner()==v.getOwner()&&this.calcRepulsionForce(b,v)},h.prototype.calcGravitationalForces=function(){for(var f,p=this.getAllNodesToApplyGravitation(),g=0;g<p.length;g++)f=p[g],this.calcGravitationalForce(f)},h.prototype.moveNodes=function(){for(var f=this.getAllNodes(),p,g=0;g<f.length;g++)p=f[g],p.move()},h.prototype.calcSpringForce=function(f,p){var g=f.getSource(),m=f.getTarget(),b,v,y,_;if(this.uniformLeafNodeSizes&&g.getChild()==null&&m.getChild()==null)f.updateLengthSimple();else if(f.updateLength(),f.isOverlapingSourceAndTarget)return;b=f.getLength(),b!=0&&(v=f.edgeElasticity*(b-p),y=v*(f.lengthX/b),_=v*(f.lengthY/b),g.springForceX+=y,g.springForceY+=_,m.springForceX-=y,m.springForceY-=_)},h.prototype.calcRepulsionForce=function(f,p){var g=f.getRect(),m=p.getRect(),b=new Array(2),v=new Array(4),y,_,w,k,x,T,O;if(g.intersects(m)){c.calcSeparationAmount(g,m,b,o.DEFAULT_EDGE_LENGTH/2),T=2*b[0],O=2*b[1];var I=f.noOfChildren*p.noOfChildren/(f.noOfChildren+p.noOfChildren);f.repulsionForceX-=I*T,f.repulsionForceY-=I*O,p.repulsionForceX+=I*T,p.repulsionForceY+=I*O}else this.uniformLeafNodeSizes&&f.getChild()==null&&p.getChild()==null?(y=m.getCenterX()-g.getCenterX(),_=m.getCenterY()-g.getCenterY()):(c.getIntersection(g,m,v),y=v[2]-v[0],_=v[3]-v[1]),Math.abs(y)<o.MIN_REPULSION_DIST&&(y=l.sign(y)*o.MIN_REPULSION_DIST),Math.abs(_)<o.MIN_REPULSION_DIST&&(_=l.sign(_)*o.MIN_REPULSION_DIST),w=y*y+_*_,k=Math.sqrt(w),x=(f.nodeRepulsion/2+p.nodeRepulsion/2)*f.noOfChildren*p.noOfChildren/w,T=x*y/k,O=x*_/k,f.repulsionForceX-=T,f.repulsionForceY-=O,p.repulsionForceX+=T,p.repulsionForceY+=O},h.prototype.calcGravitationalForce=function(f){var p,g,m,b,v,y,_,w;p=f.getOwner(),g=(p.getRight()+p.getLeft())/2,m=(p.getTop()+p.getBottom())/2,b=f.getCenterX()-g,v=f.getCenterY()-m,y=Math.abs(b)+f.getWidth()/2,_=Math.abs(v)+f.getHeight()/2,f.getOwner()==this.graphManager.getRoot()?(w=p.getEstimatedSize()*this.gravityRangeFactor,(y>w||_>w)&&(f.gravitationForceX=-this.gravityConstant*b,f.gravitationForceY=-this.gravityConstant*v)):(w=p.getEstimatedSize()*this.compoundGravityRangeFactor,(y>w||_>w)&&(f.gravitationForceX=-this.gravityConstant*b*this.compoundGravityConstant,f.gravitationForceY=-this.gravityConstant*v*this.compoundGravityConstant))},h.prototype.isConverged=function(){var f,p=!1;return this.totalIterations>this.maxIterations/3&&(p=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),f=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,f||p},h.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},h.prototype.calcNoOfChildrenForAllNodes=function(){for(var f,p=this.graphManager.getAllNodes(),g=0;g<p.length;g++)f=p[g],f.noOfChildren=f.getNoOfChildren()},h.prototype.calcGrid=function(f){var p=0,g=0;p=parseInt(Math.ceil((f.getRight()-f.getLeft())/this.repulsionRange)),g=parseInt(Math.ceil((f.getBottom()-f.getTop())/this.repulsionRange));for(var m=new Array(p),b=0;b<p;b++)m[b]=new Array(g);for(var b=0;b<p;b++)for(var v=0;v<g;v++)m[b][v]=new Array;return m},h.prototype.addNodeToGrid=function(f,p,g){var m=0,b=0,v=0,y=0;m=parseInt(Math.floor((f.getRect().x-p)/this.repulsionRange)),b=parseInt(Math.floor((f.getRect().width+f.getRect().x-p)/this.repulsionRange)),v=parseInt(Math.floor((f.getRect().y-g)/this.repulsionRange)),y=parseInt(Math.floor((f.getRect().height+f.getRect().y-g)/this.repulsionRange));for(var _=m;_<=b;_++)for(var w=v;w<=y;w++)this.grid[_][w].push(f),f.setGridCoordinates(m,b,v,y)},h.prototype.updateGrid=function(){var f,p,g=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),f=0;f<g.length;f++)p=g[f],this.addNodeToGrid(p,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},h.prototype.calculateRepulsionForceOfANode=function(f,p,g,m){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&g||m){var b=new Set;f.surrounding=new Array;for(var v,y=this.grid,_=f.startX-1;_<f.finishX+2;_++)for(var w=f.startY-1;w<f.finishY+2;w++)if(!(_<0||w<0||_>=y.length||w>=y[0].length)){for(var k=0;k<y[_][w].length;k++)if(v=y[_][w][k],!(f.getOwner()!=v.getOwner()||f==v)&&!p.has(v)&&!b.has(v)){var x=Math.abs(f.getCenterX()-v.getCenterX())-(f.getWidth()/2+v.getWidth()/2),T=Math.abs(f.getCenterY()-v.getCenterY())-(f.getHeight()/2+v.getHeight()/2);x<=this.repulsionRange&&T<=this.repulsionRange&&b.add(v)}}f.surrounding=[].concat(s(b))}for(_=0;_<f.surrounding.length;_++)this.calcRepulsionForce(f,f.surrounding[_])},h.prototype.calcRepulsionRange=function(){return 0},n.exports=h}),(function(n,r,i){var s=i(1),a=i(4);function o(c,l,h){s.call(this,c,l,h),this.idealLength=a.DEFAULT_EDGE_LENGTH,this.edgeElasticity=a.DEFAULT_SPRING_STRENGTH}o.prototype=Object.create(s.prototype);for(var u in s)o[u]=s[u];n.exports=o}),(function(n,r,i){var s=i(3),a=i(4);function o(c,l,h,d){s.call(this,c,l,h,d),this.nodeRepulsion=a.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}o.prototype=Object.create(s.prototype);for(var u in s)o[u]=s[u];o.prototype.setGridCoordinates=function(c,l,h,d){this.startX=c,this.finishX=l,this.startY=h,this.finishY=d},n.exports=o}),(function(n,r,i){function s(a,o){this.width=0,this.height=0,a!==null&&o!==null&&(this.height=o,this.width=a)}s.prototype.getWidth=function(){return this.width},s.prototype.setWidth=function(a){this.width=a},s.prototype.getHeight=function(){return this.height},s.prototype.setHeight=function(a){this.height=a},n.exports=s}),(function(n,r,i){var s=i(14);function a(){this.map={},this.keys=[]}a.prototype.put=function(o,u){var c=s.createID(o);this.contains(c)||(this.map[c]=u,this.keys.push(o))},a.prototype.contains=function(o){return s.createID(o),this.map[o]!=null},a.prototype.get=function(o){var u=s.createID(o);return this.map[u]},a.prototype.keySet=function(){return this.keys},n.exports=a}),(function(n,r,i){var s=i(14);function a(){this.set={}}a.prototype.add=function(o){var u=s.createID(o);this.contains(u)||(this.set[u]=o)},a.prototype.remove=function(o){delete this.set[s.createID(o)]},a.prototype.clear=function(){this.set={}},a.prototype.contains=function(o){return this.set[s.createID(o)]==o},a.prototype.isEmpty=function(){return this.size()===0},a.prototype.size=function(){return Object.keys(this.set).length},a.prototype.addAllTo=function(o){for(var u=Object.keys(this.set),c=u.length,l=0;l<c;l++)o.push(this.set[u[l]])},a.prototype.size=function(){return Object.keys(this.set).length},a.prototype.addAll=function(o){for(var u=o.length,c=0;c<u;c++){var l=o[c];this.add(l)}},n.exports=a}),(function(n,r,i){function s(){}s.multMat=function(a,o){for(var u=[],c=0;c<a.length;c++){u[c]=[];for(var l=0;l<o[0].length;l++){u[c][l]=0;for(var h=0;h<a[0].length;h++)u[c][l]+=a[c][h]*o[h][l]}}return u},s.transpose=function(a){for(var o=[],u=0;u<a[0].length;u++){o[u]=[];for(var c=0;c<a.length;c++)o[u][c]=a[c][u]}return o},s.multCons=function(a,o){for(var u=[],c=0;c<a.length;c++)u[c]=a[c]*o;return u},s.minusOp=function(a,o){for(var u=[],c=0;c<a.length;c++)u[c]=a[c]-o[c];return u},s.dotProduct=function(a,o){for(var u=0,c=0;c<a.length;c++)u+=a[c]*o[c];return u},s.mag=function(a){return Math.sqrt(this.dotProduct(a,a))},s.normalize=function(a){for(var o=[],u=this.mag(a),c=0;c<a.length;c++)o[c]=a[c]/u;return o},s.multGamma=function(a){for(var o=[],u=0,c=0;c<a.length;c++)u+=a[c];u*=-1/a.length;for(var l=0;l<a.length;l++)o[l]=u+a[l];return o},s.multL=function(a,o,u){for(var c=[],l=[],h=[],d=0;d<o[0].length;d++){for(var f=0,p=0;p<o.length;p++)f+=-.5*o[p][d]*a[p];l[d]=f}for(var g=0;g<u.length;g++){for(var m=0,b=0;b<u.length;b++)m+=u[g][b]*l[b];h[g]=m}for(var v=0;v<o.length;v++){for(var y=0,_=0;_<o[0].length;_++)y+=o[v][_]*h[_];c[v]=y}return c},n.exports=s}),(function(n,r,i){var s=(function(){function c(l,h){for(var d=0;d<h.length;d++){var f=h[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,h,d){return h&&c(l.prototype,h),d&&c(l,d),l}})();function a(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}var o=i(11),u=(function(){function c(l,h){a(this,c),(h!==null||h!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var d=void 0;l instanceof o?d=l.size():d=l.length,this._quicksort(l,0,d-1)}return s(c,[{key:"_quicksort",value:function(h,d,f){if(d<f){var p=this._partition(h,d,f);this._quicksort(h,d,p),this._quicksort(h,p+1,f)}}},{key:"_partition",value:function(h,d,f){for(var p=this._get(h,d),g=d,m=f;;){for(;this.compareFunction(p,this._get(h,m));)m--;for(;this.compareFunction(this._get(h,g),p);)g++;if(g<m)this._swap(h,g,m),g++,m--;else return m}}},{key:"_get",value:function(h,d){return h instanceof o?h.get_object_at(d):h[d]}},{key:"_set",value:function(h,d,f){h instanceof o?h.set_object_at(d,f):h[d]=f}},{key:"_swap",value:function(h,d,f){var p=this._get(h,d);this._set(h,d,this._get(h,f)),this._set(h,f,p)}},{key:"_defaultCompareFunction",value:function(h,d){return d>h}}]),c})();n.exports=u}),(function(n,r,i){function s(){}s.svd=function(a){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=a.length,this.n=a[0].length;var o=Math.min(this.m,this.n);this.s=(function(oe){for(var Se=[];oe-- >0;)Se.push(0);return Se})(Math.min(this.m+1,this.n)),this.U=(function(oe){var Se=function Be(Qe){if(Qe.length==0)return 0;for(var Lt=[],at=0;at<Qe[0];at++)Lt.push(Be(Qe.slice(1)));return Lt};return Se(oe)})([this.m,o]),this.V=(function(oe){var Se=function Be(Qe){if(Qe.length==0)return 0;for(var Lt=[],at=0;at<Qe[0];at++)Lt.push(Be(Qe.slice(1)));return Lt};return Se(oe)})([this.n,this.n]);for(var u=(function(oe){for(var Se=[];oe-- >0;)Se.push(0);return Se})(this.n),c=(function(oe){for(var Se=[];oe-- >0;)Se.push(0);return Se})(this.m),l=!0,h=Math.min(this.m-1,this.n),d=Math.max(0,Math.min(this.n-2,this.m)),f=0;f<Math.max(h,d);f++){if(f<h){this.s[f]=0;for(var p=f;p<this.m;p++)this.s[f]=s.hypot(this.s[f],a[p][f]);if(this.s[f]!==0){a[f][f]<0&&(this.s[f]=-this.s[f]);for(var g=f;g<this.m;g++)a[g][f]/=this.s[f];a[f][f]+=1}this.s[f]=-this.s[f]}for(var m=f+1;m<this.n;m++){if((function(oe,Se){return oe&&Se})(f<h,this.s[f]!==0)){for(var b=0,v=f;v<this.m;v++)b+=a[v][f]*a[v][m];b=-b/a[f][f];for(var y=f;y<this.m;y++)a[y][m]+=b*a[y][f]}u[m]=a[f][m]}if((function(oe,Se){return Se})(l,f<h))for(var _=f;_<this.m;_++)this.U[_][f]=a[_][f];if(f<d){u[f]=0;for(var w=f+1;w<this.n;w++)u[f]=s.hypot(u[f],u[w]);if(u[f]!==0){u[f+1]<0&&(u[f]=-u[f]);for(var k=f+1;k<this.n;k++)u[k]/=u[f];u[f+1]+=1}if(u[f]=-u[f],(function(oe,Se){return oe&&Se})(f+1<this.m,u[f]!==0)){for(var x=f+1;x<this.m;x++)c[x]=0;for(var T=f+1;T<this.n;T++)for(var O=f+1;O<this.m;O++)c[O]+=u[T]*a[O][T];for(var I=f+1;I<this.n;I++)for(var M=-u[I]/u[f+1],R=f+1;R<this.m;R++)a[R][I]+=M*c[R]}for(var L=f+1;L<this.n;L++)this.V[L][f]=u[L]}}var E=Math.min(this.n,this.m+1);h<this.n&&(this.s[h]=a[h][h]),this.m<E&&(this.s[E-1]=0),d+1<E&&(u[d]=a[d][E-1]),u[E-1]=0;{for(var A=h;A<o;A++){for(var N=0;N<this.m;N++)this.U[N][A]=0;this.U[A][A]=1}for(var C=h-1;C>=0;C--)if(this.s[C]!==0){for(var S=C+1;S<o;S++){for(var D=0,P=C;P<this.m;P++)D+=this.U[P][C]*this.U[P][S];D=-D/this.U[C][C];for(var U=C;U<this.m;U++)this.U[U][S]+=D*this.U[U][C]}for(var Y=C;Y<this.m;Y++)this.U[Y][C]=-this.U[Y][C];this.U[C][C]=1+this.U[C][C];for(var H=0;H<C-1;H++)this.U[H][C]=0}else{for(var ee=0;ee<this.m;ee++)this.U[ee][C]=0;this.U[C][C]=1}}for(var V=this.n-1;V>=0;V--){if((function(oe,Se){return oe&&Se})(V<d,u[V]!==0))for(var K=V+1;K<o;K++){for(var ae=0,ie=V+1;ie<this.n;ie++)ae+=this.V[ie][V]*this.V[ie][K];ae=-ae/this.V[V+1][V];for(var B=V+1;B<this.n;B++)this.V[B][K]+=ae*this.V[B][V]}for(var W=0;W<this.n;W++)this.V[W][V]=0;this.V[V][V]=1}for(var J=E-1,G=Math.pow(2,-52),ge=Math.pow(2,-966);E>0;){var Q=void 0,Ue=void 0;for(Q=E-2;Q>=-1&&Q!==-1;Q--)if(Math.abs(u[Q])<=ge+G*(Math.abs(this.s[Q])+Math.abs(this.s[Q+1]))){u[Q]=0;break}if(Q===E-2)Ue=4;else{var ce=void 0;for(ce=E-1;ce>=Q&&ce!==Q;ce--){var mt=(ce!==E?Math.abs(u[ce]):0)+(ce!==Q+1?Math.abs(u[ce-1]):0);if(Math.abs(this.s[ce])<=ge+G*mt){this.s[ce]=0;break}}ce===Q?Ue=3:ce===E-1?Ue=1:(Ue=2,Q=ce)}switch(Q++,Ue){case 1:{var ft=u[E-2];u[E-2]=0;for(var Ve=E-2;Ve>=Q;Ve--){var qt=s.hypot(this.s[Ve],ft),Cn=this.s[Ve]/qt,Yr=ft/qt;this.s[Ve]=qt,Ve!==Q&&(ft=-Yr*u[Ve-1],u[Ve-1]=Cn*u[Ve-1]);for(var It=0;It<this.n;It++)qt=Cn*this.V[It][Ve]+Yr*this.V[It][E-1],this.V[It][E-1]=-Yr*this.V[It][Ve]+Cn*this.V[It][E-1],this.V[It][Ve]=qt}}break;case 2:{var Xt=u[Q-1];u[Q-1]=0;for(var Tt=Q;Tt<E;Tt++){var _t=s.hypot(this.s[Tt],Xt),kt=this.s[Tt]/_t,pr=Xt/_t;this.s[Tt]=_t,Xt=-pr*u[Tt],u[Tt]=kt*u[Tt];for(var rn=0;rn<this.m;rn++)_t=kt*this.U[rn][Tt]+pr*this.U[rn][Q-1],this.U[rn][Q-1]=-pr*this.U[rn][Tt]+kt*this.U[rn][Q-1],this.U[rn][Tt]=_t}}break;case 3:{var zn=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[E-1]),Math.abs(this.s[E-2])),Math.abs(u[E-2])),Math.abs(this.s[Q])),Math.abs(u[Q])),sn=this.s[E-1]/zn,re=this.s[E-2]/zn,le=u[E-2]/zn,Ee=this.s[Q]/zn,xe=u[Q]/zn,ye=((re+sn)*(re-sn)+le*le)/2,De=sn*le*(sn*le),je=0;(function(oe,Se){return oe||Se})(ye!==0,De!==0)&&(je=Math.sqrt(ye*ye+De),ye<0&&(je=-je),je=De/(ye+je));for(var Ke=(Ee+sn)*(Ee-sn)+je,we=Ee*xe,be=Q;be<E-1;be++){var qe=s.hypot(Ke,we),We=Ke/qe,F=we/qe;be!==Q&&(u[be-1]=qe),Ke=We*this.s[be]+F*u[be],u[be]=We*u[be]-F*this.s[be],we=F*this.s[be+1],this.s[be+1]=We*this.s[be+1];for(var X=0;X<this.n;X++)qe=We*this.V[X][be]+F*this.V[X][be+1],this.V[X][be+1]=-F*this.V[X][be]+We*this.V[X][be+1],this.V[X][be]=qe;if(qe=s.hypot(Ke,we),We=Ke/qe,F=we/qe,this.s[be]=qe,Ke=We*u[be]+F*this.s[be+1],this.s[be+1]=-F*u[be]+We*this.s[be+1],we=F*u[be+1],u[be+1]=We*u[be+1],be<this.m-1)for(var q=0;q<this.m;q++)qe=We*this.U[q][be]+F*this.U[q][be+1],this.U[q][be+1]=-F*this.U[q][be]+We*this.U[q][be+1],this.U[q][be]=qe}u[E-2]=Ke}break;case 4:{if(this.s[Q]<=0){this.s[Q]=this.s[Q]<0?-this.s[Q]:0;for(var ne=0;ne<=J;ne++)this.V[ne][Q]=-this.V[ne][Q]}for(;Q<J&&!(this.s[Q]>=this.s[Q+1]);){var Ce=this.s[Q];if(this.s[Q]=this.s[Q+1],this.s[Q+1]=Ce,Q<this.n-1)for(var fe=0;fe<this.n;fe++)Ce=this.V[fe][Q+1],this.V[fe][Q+1]=this.V[fe][Q],this.V[fe][Q]=Ce;if(Q<this.m-1)for(var j=0;j<this.m;j++)Ce=this.U[j][Q+1],this.U[j][Q+1]=this.U[j][Q],this.U[j][Q]=Ce;Q++}E--}break}}var ue={U:this.U,V:this.V,S:this.s};return ue},s.hypot=function(a,o){var u=void 0;return Math.abs(a)>Math.abs(o)?(u=o/a,u=Math.abs(a)*Math.sqrt(1+u*u)):o!=0?(u=a/o,u=Math.abs(o)*Math.sqrt(1+u*u)):u=0,u},n.exports=s}),(function(n,r,i){var s=(function(){function u(c,l){for(var h=0;h<l.length;h++){var d=l[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}return function(c,l,h){return l&&u(c.prototype,l),h&&u(c,h),c}})();function a(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}var o=(function(){function u(c,l){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;a(this,u),this.sequence1=c,this.sequence2=l,this.match_score=h,this.mismatch_penalty=d,this.gap_penalty=f,this.iMax=c.length+1,this.jMax=l.length+1,this.grid=new Array(this.iMax);for(var p=0;p<this.iMax;p++){this.grid[p]=new Array(this.jMax);for(var g=0;g<this.jMax;g++)this.grid[p][g]=0}this.tracebackGrid=new Array(this.iMax);for(var m=0;m<this.iMax;m++){this.tracebackGrid[m]=new Array(this.jMax);for(var b=0;b<this.jMax;b++)this.tracebackGrid[m][b]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return s(u,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var l=1;l<this.jMax;l++)this.grid[0][l]=this.grid[0][l-1]+this.gap_penalty,this.tracebackGrid[0][l]=[!1,!1,!0];for(var h=1;h<this.iMax;h++)this.grid[h][0]=this.grid[h-1][0]+this.gap_penalty,this.tracebackGrid[h][0]=[!1,!0,!1];for(var d=1;d<this.iMax;d++)for(var f=1;f<this.jMax;f++){var p=void 0;this.sequence1[d-1]===this.sequence2[f-1]?p=this.grid[d-1][f-1]+this.match_score:p=this.grid[d-1][f-1]+this.mismatch_penalty;var g=this.grid[d-1][f]+this.gap_penalty,m=this.grid[d][f-1]+this.gap_penalty,b=[p,g,m],v=this.arrayAllMaxIndexes(b);this.grid[d][f]=b[v[0]],this.tracebackGrid[d][f]=[v.includes(0),v.includes(1),v.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var l=[];for(l.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});l[0];){var h=l[0],d=this.tracebackGrid[h.pos[0]][h.pos[1]];d[0]&&l.push({pos:[h.pos[0]-1,h.pos[1]-1],seq1:this.sequence1[h.pos[0]-1]+h.seq1,seq2:this.sequence2[h.pos[1]-1]+h.seq2}),d[1]&&l.push({pos:[h.pos[0]-1,h.pos[1]],seq1:this.sequence1[h.pos[0]-1]+h.seq1,seq2:"-"+h.seq2}),d[2]&&l.push({pos:[h.pos[0],h.pos[1]-1],seq1:"-"+h.seq1,seq2:this.sequence2[h.pos[1]-1]+h.seq2}),h.pos[0]===0&&h.pos[1]===0&&this.alignments.push({sequence1:h.seq1,sequence2:h.seq2}),l.shift()}return this.alignments}},{key:"getAllIndexes",value:function(l,h){for(var d=[],f=-1;(f=l.indexOf(h,f+1))!==-1;)d.push(f);return d}},{key:"arrayAllMaxIndexes",value:function(l){return this.getAllIndexes(l,Math.max.apply(null,l))}}]),u})();n.exports=o}),(function(n,r,i){var s=function(){};s.FDLayout=i(18),s.FDLayoutConstants=i(4),s.FDLayoutEdge=i(19),s.FDLayoutNode=i(20),s.DimensionD=i(21),s.HashMap=i(22),s.HashSet=i(23),s.IGeometry=i(8),s.IMath=i(9),s.Integer=i(10),s.Point=i(12),s.PointD=i(5),s.RandomSeed=i(16),s.RectangleD=i(13),s.Transform=i(17),s.UniqueIDGeneretor=i(14),s.Quicksort=i(25),s.LinkedList=i(11),s.LGraphObject=i(2),s.LGraph=i(6),s.LEdge=i(1),s.LGraphManager=i(7),s.LNode=i(3),s.Layout=i(15),s.LayoutConstants=i(0),s.NeedlemanWunsch=i(27),s.Matrix=i(24),s.SVD=i(26),n.exports=s}),(function(n,r,i){function s(){this.listeners=[]}var a=s.prototype;a.addListener=function(o,u){this.listeners.push({event:o,callback:u})},a.removeListener=function(o,u){for(var c=this.listeners.length;c>=0;c--){var l=this.listeners[c];l.event===o&&l.callback===u&&this.listeners.splice(c,1)}},a.emit=function(o,u){for(var c=0;c<this.listeners.length;c++){var l=this.listeners[c];o===l.event&&l.callback(u)}},n.exports=s})])})})(mh)),mh.exports}var OV=gh.exports,Qx;function ij(){return Qx||(Qx=1,(function(t,e){(function(r,i){t.exports=i(RV())})(OV,function(n){return(()=>{var r={45:((o,u,c)=>{var l={};l.layoutBase=c(551),l.CoSEConstants=c(806),l.CoSEEdge=c(767),l.CoSEGraph=c(880),l.CoSEGraphManager=c(578),l.CoSELayout=c(765),l.CoSENode=c(991),l.ConstraintHandler=c(902),o.exports=l}),806:((o,u,c)=>{var l=c(551).FDLayoutConstants;function h(){}for(var d in l)h[d]=l[d];h.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,h.DEFAULT_RADIAL_SEPARATION=l.DEFAULT_EDGE_LENGTH,h.DEFAULT_COMPONENT_SEPERATION=60,h.TILE=!0,h.TILING_PADDING_VERTICAL=10,h.TILING_PADDING_HORIZONTAL=10,h.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,h.ENFORCE_CONSTRAINTS=!0,h.APPLY_LAYOUT=!0,h.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,h.TREE_REDUCTION_ON_INCREMENTAL=!0,h.PURE_INCREMENTAL=h.DEFAULT_INCREMENTAL,o.exports=h}),767:((o,u,c)=>{var l=c(551).FDLayoutEdge;function h(f,p,g){l.call(this,f,p,g)}h.prototype=Object.create(l.prototype);for(var d in l)h[d]=l[d];o.exports=h}),880:((o,u,c)=>{var l=c(551).LGraph;function h(f,p,g){l.call(this,f,p,g)}h.prototype=Object.create(l.prototype);for(var d in l)h[d]=l[d];o.exports=h}),578:((o,u,c)=>{var l=c(551).LGraphManager;function h(f){l.call(this,f)}h.prototype=Object.create(l.prototype);for(var d in l)h[d]=l[d];o.exports=h}),765:((o,u,c)=>{var l=c(551).FDLayout,h=c(578),d=c(880),f=c(991),p=c(767),g=c(806),m=c(902),b=c(551).FDLayoutConstants,v=c(551).LayoutConstants,y=c(551).Point,_=c(551).PointD,w=c(551).DimensionD,k=c(551).Layout,x=c(551).Integer,T=c(551).IGeometry,O=c(551).LGraph,I=c(551).Transform,M=c(551).LinkedList;function R(){l.call(this),this.toBeTiled={},this.constraints={}}R.prototype=Object.create(l.prototype);for(var L in l)R[L]=l[L];R.prototype.newGraphManager=function(){var E=new h(this);return this.graphManager=E,E},R.prototype.newGraph=function(E){return new d(null,this.graphManager,E)},R.prototype.newNode=function(E){return new f(this.graphManager,E)},R.prototype.newEdge=function(E){return new p(null,null,E)},R.prototype.initParameters=function(){l.prototype.initParameters.call(this,arguments),this.isSubLayout||(g.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=g.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=g.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=b.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=b.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=b.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=b.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},R.prototype.initSpringEmbedder=function(){l.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/b.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},R.prototype.layout=function(){var E=v.DEFAULT_CREATE_BENDS_AS_NEEDED;return E&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},R.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(g.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var A=new Set(this.getAllNodes()),N=this.nodesWithGravity.filter(function(D){return A.has(D)});this.graphManager.setAllNodesToApplyGravitation(N)}}else{var E=this.getFlatForest();if(E.length>0)this.positionNodesRadially(E);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var A=new Set(this.getAllNodes()),N=this.nodesWithGravity.filter(function(C){return A.has(C)});this.graphManager.setAllNodesToApplyGravitation(N),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(m.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),g.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},R.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%b.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var E=new Set(this.getAllNodes()),A=this.nodesWithGravity.filter(function(S){return E.has(S)});this.graphManager.setAllNodesToApplyGravitation(A),this.graphManager.updateBounds(),this.updateGrid(),g.PURE_INCREMENTAL?this.coolingFactor=b.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=b.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),g.PURE_INCREMENTAL?this.coolingFactor=b.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=b.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var N=!this.isTreeGrowing&&!this.isGrowthFinished,C=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(N,C),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},R.prototype.getPositionsData=function(){for(var E=this.graphManager.getAllNodes(),A={},N=0;N<E.length;N++){var C=E[N].rect,S=E[N].id;A[S]={id:S,x:C.getCenterX(),y:C.getCenterY(),w:C.width,h:C.height}}return A},R.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var E=!1;if(b.ANIMATE==="during")this.emit("layoutstarted");else{for(;!E;)E=this.tick();this.graphManager.updateBounds()}},R.prototype.moveNodes=function(){for(var E=this.getAllNodes(),A,N=0;N<E.length;N++)A=E[N],A.calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(var N=0;N<E.length;N++)A=E[N],A.move()},R.prototype.initConstraintVariables=function(){var E=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var A=this.graphManager.getAllNodes(),N=0;N<A.length;N++){var C=A[N];this.idToNodeMap.set(C.id,C)}var S=function B(W){for(var J=W.getChild().getNodes(),G,ge=0,Q=0;Q<J.length;Q++)G=J[Q],G.getChild()==null?E.fixedNodeSet.has(G.id)&&(ge+=100):ge+=B(G);return ge};if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(J){E.fixedNodeSet.add(J.nodeId)});for(var A=this.graphManager.getAllNodes(),C,N=0;N<A.length;N++)if(C=A[N],C.getChild()!=null){var D=S(C);D>0&&(C.fixedNodeWeight=D)}}if(this.constraints.relativePlacementConstraint){var P=new Map,U=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(B){E.fixedNodesOnHorizontal.add(B),E.fixedNodesOnVertical.add(B)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var Y=this.constraints.alignmentConstraint.vertical,N=0;N<Y.length;N++)this.dummyToNodeForVerticalAlignment.set("dummy"+N,[]),Y[N].forEach(function(W){P.set(W,"dummy"+N),E.dummyToNodeForVerticalAlignment.get("dummy"+N).push(W),E.fixedNodeSet.has(W)&&E.fixedNodesOnHorizontal.add("dummy"+N)});if(this.constraints.alignmentConstraint.horizontal)for(var H=this.constraints.alignmentConstraint.horizontal,N=0;N<H.length;N++)this.dummyToNodeForHorizontalAlignment.set("dummy"+N,[]),H[N].forEach(function(W){U.set(W,"dummy"+N),E.dummyToNodeForHorizontalAlignment.get("dummy"+N).push(W),E.fixedNodeSet.has(W)&&E.fixedNodesOnVertical.add("dummy"+N)})}if(g.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(B){var W,J,G;for(G=B.length-1;G>=2*B.length/3;G--)W=Math.floor(Math.random()*(G+1)),J=B[G],B[G]=B[W],B[W]=J;return B},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(B){if(B.left){var W=P.has(B.left)?P.get(B.left):B.left,J=P.has(B.right)?P.get(B.right):B.right;E.nodesInRelativeHorizontal.includes(W)||(E.nodesInRelativeHorizontal.push(W),E.nodeToRelativeConstraintMapHorizontal.set(W,[]),E.dummyToNodeForVerticalAlignment.has(W)?E.nodeToTempPositionMapHorizontal.set(W,E.idToNodeMap.get(E.dummyToNodeForVerticalAlignment.get(W)[0]).getCenterX()):E.nodeToTempPositionMapHorizontal.set(W,E.idToNodeMap.get(W).getCenterX())),E.nodesInRelativeHorizontal.includes(J)||(E.nodesInRelativeHorizontal.push(J),E.nodeToRelativeConstraintMapHorizontal.set(J,[]),E.dummyToNodeForVerticalAlignment.has(J)?E.nodeToTempPositionMapHorizontal.set(J,E.idToNodeMap.get(E.dummyToNodeForVerticalAlignment.get(J)[0]).getCenterX()):E.nodeToTempPositionMapHorizontal.set(J,E.idToNodeMap.get(J).getCenterX())),E.nodeToRelativeConstraintMapHorizontal.get(W).push({right:J,gap:B.gap}),E.nodeToRelativeConstraintMapHorizontal.get(J).push({left:W,gap:B.gap})}else{var G=U.has(B.top)?U.get(B.top):B.top,ge=U.has(B.bottom)?U.get(B.bottom):B.bottom;E.nodesInRelativeVertical.includes(G)||(E.nodesInRelativeVertical.push(G),E.nodeToRelativeConstraintMapVertical.set(G,[]),E.dummyToNodeForHorizontalAlignment.has(G)?E.nodeToTempPositionMapVertical.set(G,E.idToNodeMap.get(E.dummyToNodeForHorizontalAlignment.get(G)[0]).getCenterY()):E.nodeToTempPositionMapVertical.set(G,E.idToNodeMap.get(G).getCenterY())),E.nodesInRelativeVertical.includes(ge)||(E.nodesInRelativeVertical.push(ge),E.nodeToRelativeConstraintMapVertical.set(ge,[]),E.dummyToNodeForHorizontalAlignment.has(ge)?E.nodeToTempPositionMapVertical.set(ge,E.idToNodeMap.get(E.dummyToNodeForHorizontalAlignment.get(ge)[0]).getCenterY()):E.nodeToTempPositionMapVertical.set(ge,E.idToNodeMap.get(ge).getCenterY())),E.nodeToRelativeConstraintMapVertical.get(G).push({bottom:ge,gap:B.gap}),E.nodeToRelativeConstraintMapVertical.get(ge).push({top:G,gap:B.gap})}});else{var ee=new Map,V=new Map;this.constraints.relativePlacementConstraint.forEach(function(B){if(B.left){var W=P.has(B.left)?P.get(B.left):B.left,J=P.has(B.right)?P.get(B.right):B.right;ee.has(W)?ee.get(W).push(J):ee.set(W,[J]),ee.has(J)?ee.get(J).push(W):ee.set(J,[W])}else{var G=U.has(B.top)?U.get(B.top):B.top,ge=U.has(B.bottom)?U.get(B.bottom):B.bottom;V.has(G)?V.get(G).push(ge):V.set(G,[ge]),V.has(ge)?V.get(ge).push(G):V.set(ge,[G])}});var K=function(W,J){var G=[],ge=[],Q=new M,Ue=new Set,ce=0;return W.forEach(function(mt,ft){if(!Ue.has(ft)){G[ce]=[],ge[ce]=!1;var Ve=ft;for(Q.push(Ve),Ue.add(Ve),G[ce].push(Ve);Q.length!=0;){Ve=Q.shift(),J.has(Ve)&&(ge[ce]=!0);var qt=W.get(Ve);qt.forEach(function(Cn){Ue.has(Cn)||(Q.push(Cn),Ue.add(Cn),G[ce].push(Cn))})}ce++}}),{components:G,isFixed:ge}},ae=K(ee,E.fixedNodesOnHorizontal);this.componentsOnHorizontal=ae.components,this.fixedComponentsOnHorizontal=ae.isFixed;var ie=K(V,E.fixedNodesOnVertical);this.componentsOnVertical=ie.components,this.fixedComponentsOnVertical=ie.isFixed}}},R.prototype.updateDisplacements=function(){var E=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(ie){var B=E.idToNodeMap.get(ie.nodeId);B.displacementX=0,B.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var A=this.constraints.alignmentConstraint.vertical,N=0;N<A.length;N++){for(var C=0,S=0;S<A[N].length;S++){if(this.fixedNodeSet.has(A[N][S])){C=0;break}C+=this.idToNodeMap.get(A[N][S]).displacementX}for(var D=C/A[N].length,S=0;S<A[N].length;S++)this.idToNodeMap.get(A[N][S]).displacementX=D}if(this.constraints.alignmentConstraint.horizontal)for(var P=this.constraints.alignmentConstraint.horizontal,N=0;N<P.length;N++){for(var U=0,S=0;S<P[N].length;S++){if(this.fixedNodeSet.has(P[N][S])){U=0;break}U+=this.idToNodeMap.get(P[N][S]).displacementY}for(var Y=U/P[N].length,S=0;S<P[N].length;S++)this.idToNodeMap.get(P[N][S]).displacementY=Y}}if(this.constraints.relativePlacementConstraint)if(g.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(ie){if(!E.fixedNodesOnHorizontal.has(ie)){var B=0;E.dummyToNodeForVerticalAlignment.has(ie)?B=E.idToNodeMap.get(E.dummyToNodeForVerticalAlignment.get(ie)[0]).displacementX:B=E.idToNodeMap.get(ie).displacementX,E.nodeToRelativeConstraintMapHorizontal.get(ie).forEach(function(W){if(W.right){var J=E.nodeToTempPositionMapHorizontal.get(W.right)-E.nodeToTempPositionMapHorizontal.get(ie)-B;J<W.gap&&(B-=W.gap-J)}else{var J=E.nodeToTempPositionMapHorizontal.get(ie)-E.nodeToTempPositionMapHorizontal.get(W.left)+B;J<W.gap&&(B+=W.gap-J)}}),E.nodeToTempPositionMapHorizontal.set(ie,E.nodeToTempPositionMapHorizontal.get(ie)+B),E.dummyToNodeForVerticalAlignment.has(ie)?E.dummyToNodeForVerticalAlignment.get(ie).forEach(function(W){E.idToNodeMap.get(W).displacementX=B}):E.idToNodeMap.get(ie).displacementX=B}}),this.nodesInRelativeVertical.forEach(function(ie){if(!E.fixedNodesOnHorizontal.has(ie)){var B=0;E.dummyToNodeForHorizontalAlignment.has(ie)?B=E.idToNodeMap.get(E.dummyToNodeForHorizontalAlignment.get(ie)[0]).displacementY:B=E.idToNodeMap.get(ie).displacementY,E.nodeToRelativeConstraintMapVertical.get(ie).forEach(function(W){if(W.bottom){var J=E.nodeToTempPositionMapVertical.get(W.bottom)-E.nodeToTempPositionMapVertical.get(ie)-B;J<W.gap&&(B-=W.gap-J)}else{var J=E.nodeToTempPositionMapVertical.get(ie)-E.nodeToTempPositionMapVertical.get(W.top)+B;J<W.gap&&(B+=W.gap-J)}}),E.nodeToTempPositionMapVertical.set(ie,E.nodeToTempPositionMapVertical.get(ie)+B),E.dummyToNodeForHorizontalAlignment.has(ie)?E.dummyToNodeForHorizontalAlignment.get(ie).forEach(function(W){E.idToNodeMap.get(W).displacementY=B}):E.idToNodeMap.get(ie).displacementY=B}});else{for(var N=0;N<this.componentsOnHorizontal.length;N++){var H=this.componentsOnHorizontal[N];if(this.fixedComponentsOnHorizontal[N])for(var S=0;S<H.length;S++)this.dummyToNodeForVerticalAlignment.has(H[S])?this.dummyToNodeForVerticalAlignment.get(H[S]).forEach(function(W){E.idToNodeMap.get(W).displacementX=0}):this.idToNodeMap.get(H[S]).displacementX=0;else{for(var ee=0,V=0,S=0;S<H.length;S++)if(this.dummyToNodeForVerticalAlignment.has(H[S])){var K=this.dummyToNodeForVerticalAlignment.get(H[S]);ee+=K.length*this.idToNodeMap.get(K[0]).displacementX,V+=K.length}else ee+=this.idToNodeMap.get(H[S]).displacementX,V++;for(var ae=ee/V,S=0;S<H.length;S++)this.dummyToNodeForVerticalAlignment.has(H[S])?this.dummyToNodeForVerticalAlignment.get(H[S]).forEach(function(W){E.idToNodeMap.get(W).displacementX=ae}):this.idToNodeMap.get(H[S]).displacementX=ae}}for(var N=0;N<this.componentsOnVertical.length;N++){var H=this.componentsOnVertical[N];if(this.fixedComponentsOnVertical[N])for(var S=0;S<H.length;S++)this.dummyToNodeForHorizontalAlignment.has(H[S])?this.dummyToNodeForHorizontalAlignment.get(H[S]).forEach(function(J){E.idToNodeMap.get(J).displacementY=0}):this.idToNodeMap.get(H[S]).displacementY=0;else{for(var ee=0,V=0,S=0;S<H.length;S++)if(this.dummyToNodeForHorizontalAlignment.has(H[S])){var K=this.dummyToNodeForHorizontalAlignment.get(H[S]);ee+=K.length*this.idToNodeMap.get(K[0]).displacementY,V+=K.length}else ee+=this.idToNodeMap.get(H[S]).displacementY,V++;for(var ae=ee/V,S=0;S<H.length;S++)this.dummyToNodeForHorizontalAlignment.has(H[S])?this.dummyToNodeForHorizontalAlignment.get(H[S]).forEach(function(Q){E.idToNodeMap.get(Q).displacementY=ae}):this.idToNodeMap.get(H[S]).displacementY=ae}}}},R.prototype.calculateNodesToApplyGravitationTo=function(){var E=[],A,N=this.graphManager.getGraphs(),C=N.length,S;for(S=0;S<C;S++)A=N[S],A.updateConnected(),A.isConnected||(E=E.concat(A.getNodes()));return E},R.prototype.createBendpoints=function(){var E=[];E=E.concat(this.graphManager.getAllEdges());var A=new Set,N;for(N=0;N<E.length;N++){var C=E[N];if(!A.has(C)){var S=C.getSource(),D=C.getTarget();if(S==D)C.getBendpoints().push(new _),C.getBendpoints().push(new _),this.createDummyNodesForBendpoints(C),A.add(C);else{var P=[];if(P=P.concat(S.getEdgeListToNode(D)),P=P.concat(D.getEdgeListToNode(S)),!A.has(P[0])){if(P.length>1){var U;for(U=0;U<P.length;U++){var Y=P[U];Y.getBendpoints().push(new _),this.createDummyNodesForBendpoints(Y)}}P.forEach(function(H){A.add(H)})}}}if(A.size==E.length)break}},R.prototype.positionNodesRadially=function(E){for(var A=new y(0,0),N=Math.ceil(Math.sqrt(E.length)),C=0,S=0,D=0,P=new _(0,0),U=0;U<E.length;U++){U%N==0&&(D=0,S=C,U!=0&&(S+=g.DEFAULT_COMPONENT_SEPERATION),C=0);var Y=E[U],H=k.findCenterOfTree(Y);A.x=D,A.y=S,P=R.radialLayout(Y,H,A),P.y>C&&(C=Math.floor(P.y)),D=Math.floor(P.x+g.DEFAULT_COMPONENT_SEPERATION)}this.transform(new _(v.WORLD_CENTER_X-P.x/2,v.WORLD_CENTER_Y-P.y/2))},R.radialLayout=function(E,A,N){var C=Math.max(this.maxDiagonalInTree(E),g.DEFAULT_RADIAL_SEPARATION);R.branchRadialLayout(A,null,0,359,0,C);var S=O.calculateBounds(E),D=new I;D.setDeviceOrgX(S.getMinX()),D.setDeviceOrgY(S.getMinY()),D.setWorldOrgX(N.x),D.setWorldOrgY(N.y);for(var P=0;P<E.length;P++){var U=E[P];U.transform(D)}var Y=new _(S.getMaxX(),S.getMaxY());return D.inverseTransformPoint(Y)},R.branchRadialLayout=function(E,A,N,C,S,D){var P=(C-N+1)/2;P<0&&(P+=180);var U=(P+N)%360,Y=U*T.TWO_PI/360,H=S*Math.cos(Y),ee=S*Math.sin(Y);E.setCenter(H,ee);var V=[];V=V.concat(E.getEdges());var K=V.length;A!=null&&K--;for(var ae=0,ie=V.length,B,W=E.getEdgesBetween(A);W.length>1;){var J=W[0];W.splice(0,1);var G=V.indexOf(J);G>=0&&V.splice(G,1),ie--,K--}A!=null?B=(V.indexOf(W[0])+1)%ie:B=0;for(var ge=Math.abs(C-N)/K,Q=B;ae!=K;Q=++Q%ie){var Ue=V[Q].getOtherEnd(E);if(Ue!=A){var ce=(N+ae*ge)%360,mt=(ce+ge)%360;R.branchRadialLayout(Ue,E,ce,mt,S+D,D),ae++}}},R.maxDiagonalInTree=function(E){for(var A=x.MIN_VALUE,N=0;N<E.length;N++){var C=E[N],S=C.getDiagonal();S>A&&(A=S)}return A},R.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},R.prototype.groupZeroDegreeMembers=function(){var E=this,A={};this.memberGroups={},this.idToDummyNode={};for(var N=[],C=this.graphManager.getAllNodes(),S=0;S<C.length;S++){var D=C[S],P=D.getParent();this.getNodeDegreeWithChildren(D)===0&&(P.id==null||!this.getToBeTiled(P))&&N.push(D)}for(var S=0;S<N.length;S++){var D=N[S],U=D.getParent().id;typeof A[U]>"u"&&(A[U]=[]),A[U]=A[U].concat(D)}Object.keys(A).forEach(function(Y){if(A[Y].length>1){var H="DummyCompound_"+Y;E.memberGroups[H]=A[Y];var ee=A[Y][0].getParent(),V=new f(E.graphManager);V.id=H,V.paddingLeft=ee.paddingLeft||0,V.paddingRight=ee.paddingRight||0,V.paddingBottom=ee.paddingBottom||0,V.paddingTop=ee.paddingTop||0,E.idToDummyNode[H]=V;var K=E.getGraphManager().add(E.newGraph(),V),ae=ee.getChild();ae.add(V);for(var ie=0;ie<A[Y].length;ie++){var B=A[Y][ie];ae.remove(B),K.add(B)}}})},R.prototype.clearCompounds=function(){var E={},A={};this.performDFSOnCompounds();for(var N=0;N<this.compoundOrder.length;N++)A[this.compoundOrder[N].id]=this.compoundOrder[N],E[this.compoundOrder[N].id]=[].concat(this.compoundOrder[N].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[N].getChild()),this.compoundOrder[N].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(E,A)},R.prototype.clearZeroDegreeMembers=function(){var E=this,A=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(N){var C=E.idToDummyNode[N];if(A[N]=E.tileNodes(E.memberGroups[N],C.paddingLeft+C.paddingRight),C.rect.width=A[N].width,C.rect.height=A[N].height,C.setCenter(A[N].centerX,A[N].centerY),C.labelMarginLeft=0,C.labelMarginTop=0,g.NODE_DIMENSIONS_INCLUDE_LABELS){var S=C.rect.width,D=C.rect.height;C.labelWidth&&(C.labelPosHorizontal=="left"?(C.rect.x-=C.labelWidth,C.setWidth(S+C.labelWidth),C.labelMarginLeft=C.labelWidth):C.labelPosHorizontal=="center"&&C.labelWidth>S?(C.rect.x-=(C.labelWidth-S)/2,C.setWidth(C.labelWidth),C.labelMarginLeft=(C.labelWidth-S)/2):C.labelPosHorizontal=="right"&&C.setWidth(S+C.labelWidth)),C.labelHeight&&(C.labelPosVertical=="top"?(C.rect.y-=C.labelHeight,C.setHeight(D+C.labelHeight),C.labelMarginTop=C.labelHeight):C.labelPosVertical=="center"&&C.labelHeight>D?(C.rect.y-=(C.labelHeight-D)/2,C.setHeight(C.labelHeight),C.labelMarginTop=(C.labelHeight-D)/2):C.labelPosVertical=="bottom"&&C.setHeight(D+C.labelHeight))}})},R.prototype.repopulateCompounds=function(){for(var E=this.compoundOrder.length-1;E>=0;E--){var A=this.compoundOrder[E],N=A.id,C=A.paddingLeft,S=A.paddingTop,D=A.labelMarginLeft,P=A.labelMarginTop;this.adjustLocations(this.tiledMemberPack[N],A.rect.x,A.rect.y,C,S,D,P)}},R.prototype.repopulateZeroDegreeMembers=function(){var E=this,A=this.tiledZeroDegreePack;Object.keys(A).forEach(function(N){var C=E.idToDummyNode[N],S=C.paddingLeft,D=C.paddingTop,P=C.labelMarginLeft,U=C.labelMarginTop;E.adjustLocations(A[N],C.rect.x,C.rect.y,S,D,P,U)})},R.prototype.getToBeTiled=function(E){var A=E.id;if(this.toBeTiled[A]!=null)return this.toBeTiled[A];var N=E.getChild();if(N==null)return this.toBeTiled[A]=!1,!1;for(var C=N.getNodes(),S=0;S<C.length;S++){var D=C[S];if(this.getNodeDegree(D)>0)return this.toBeTiled[A]=!1,!1;if(D.getChild()==null){this.toBeTiled[D.id]=!1;continue}if(!this.getToBeTiled(D))return this.toBeTiled[A]=!1,!1}return this.toBeTiled[A]=!0,!0},R.prototype.getNodeDegree=function(E){E.id;for(var A=E.getEdges(),N=0,C=0;C<A.length;C++){var S=A[C];S.getSource().id!==S.getTarget().id&&(N=N+1)}return N},R.prototype.getNodeDegreeWithChildren=function(E){var A=this.getNodeDegree(E);if(E.getChild()==null)return A;for(var N=E.getChild().getNodes(),C=0;C<N.length;C++){var S=N[C];A+=this.getNodeDegreeWithChildren(S)}return A},R.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},R.prototype.fillCompexOrderByDFS=function(E){for(var A=0;A<E.length;A++){var N=E[A];N.getChild()!=null&&this.fillCompexOrderByDFS(N.getChild().getNodes()),this.getToBeTiled(N)&&this.compoundOrder.push(N)}},R.prototype.adjustLocations=function(E,A,N,C,S,D,P){A+=C+D,N+=S+P;for(var U=A,Y=0;Y<E.rows.length;Y++){var H=E.rows[Y];A=U;for(var ee=0,V=0;V<H.length;V++){var K=H[V];K.rect.x=A,K.rect.y=N,A+=K.rect.width+E.horizontalPadding,K.rect.height>ee&&(ee=K.rect.height)}N+=ee+E.verticalPadding}},R.prototype.tileCompoundMembers=function(E,A){var N=this;this.tiledMemberPack=[],Object.keys(E).forEach(function(C){var S=A[C];if(N.tiledMemberPack[C]=N.tileNodes(E[C],S.paddingLeft+S.paddingRight),S.rect.width=N.tiledMemberPack[C].width,S.rect.height=N.tiledMemberPack[C].height,S.setCenter(N.tiledMemberPack[C].centerX,N.tiledMemberPack[C].centerY),S.labelMarginLeft=0,S.labelMarginTop=0,g.NODE_DIMENSIONS_INCLUDE_LABELS){var D=S.rect.width,P=S.rect.height;S.labelWidth&&(S.labelPosHorizontal=="left"?(S.rect.x-=S.labelWidth,S.setWidth(D+S.labelWidth),S.labelMarginLeft=S.labelWidth):S.labelPosHorizontal=="center"&&S.labelWidth>D?(S.rect.x-=(S.labelWidth-D)/2,S.setWidth(S.labelWidth),S.labelMarginLeft=(S.labelWidth-D)/2):S.labelPosHorizontal=="right"&&S.setWidth(D+S.labelWidth)),S.labelHeight&&(S.labelPosVertical=="top"?(S.rect.y-=S.labelHeight,S.setHeight(P+S.labelHeight),S.labelMarginTop=S.labelHeight):S.labelPosVertical=="center"&&S.labelHeight>P?(S.rect.y-=(S.labelHeight-P)/2,S.setHeight(S.labelHeight),S.labelMarginTop=(S.labelHeight-P)/2):S.labelPosVertical=="bottom"&&S.setHeight(P+S.labelHeight))}})},R.prototype.tileNodes=function(E,A){var N=this.tileNodesByFavoringDim(E,A,!0),C=this.tileNodesByFavoringDim(E,A,!1),S=this.getOrgRatio(N),D=this.getOrgRatio(C),P;return D<S?P=C:P=N,P},R.prototype.getOrgRatio=function(E){var A=E.width,N=E.height,C=A/N;return C<1&&(C=1/C),C},R.prototype.calcIdealRowWidth=function(E,A){var N=g.TILING_PADDING_VERTICAL,C=g.TILING_PADDING_HORIZONTAL,S=E.length,D=0,P=0,U=0;E.forEach(function(ie){D+=ie.getWidth(),P+=ie.getHeight(),ie.getWidth()>U&&(U=ie.getWidth())});var Y=D/S,H=P/S,ee=Math.pow(N-C,2)+4*(Y+C)*(H+N)*S,V=(C-N+Math.sqrt(ee))/(2*(Y+C)),K;A?(K=Math.ceil(V),K==V&&K++):K=Math.floor(V);var ae=K*(Y+C)-C;return U>ae&&(ae=U),ae+=C*2,ae},R.prototype.tileNodesByFavoringDim=function(E,A,N){var C=g.TILING_PADDING_VERTICAL,S=g.TILING_PADDING_HORIZONTAL,D=g.TILING_COMPARE_BY,P={rows:[],rowWidth:[],rowHeight:[],width:0,height:A,verticalPadding:C,horizontalPadding:S,centerX:0,centerY:0};D&&(P.idealRowWidth=this.calcIdealRowWidth(E,N));var U=function(B){return B.rect.width*B.rect.height},Y=function(B,W){return U(W)-U(B)};E.sort(function(ie,B){var W=Y;return P.idealRowWidth?(W=D,W(ie.id,B.id)):W(ie,B)});for(var H=0,ee=0,V=0;V<E.length;V++){var K=E[V];H+=K.getCenterX(),ee+=K.getCenterY()}P.centerX=H/E.length,P.centerY=ee/E.length;for(var V=0;V<E.length;V++){var K=E[V];if(P.rows.length==0)this.insertNodeToRow(P,K,0,A);else if(this.canAddHorizontal(P,K.rect.width,K.rect.height)){var ae=P.rows.length-1;P.idealRowWidth||(ae=this.getShortestRowIndex(P)),this.insertNodeToRow(P,K,ae,A)}else this.insertNodeToRow(P,K,P.rows.length,A);this.shiftToLastRow(P)}return P},R.prototype.insertNodeToRow=function(E,A,N,C){var S=C;if(N==E.rows.length){var D=[];E.rows.push(D),E.rowWidth.push(S),E.rowHeight.push(0)}var P=E.rowWidth[N]+A.rect.width;E.rows[N].length>0&&(P+=E.horizontalPadding),E.rowWidth[N]=P,E.width<P&&(E.width=P);var U=A.rect.height;N>0&&(U+=E.verticalPadding);var Y=0;U>E.rowHeight[N]&&(Y=E.rowHeight[N],E.rowHeight[N]=U,Y=E.rowHeight[N]-Y),E.height+=Y,E.rows[N].push(A)},R.prototype.getShortestRowIndex=function(E){for(var A=-1,N=Number.MAX_VALUE,C=0;C<E.rows.length;C++)E.rowWidth[C]<N&&(A=C,N=E.rowWidth[C]);return A},R.prototype.getLongestRowIndex=function(E){for(var A=-1,N=Number.MIN_VALUE,C=0;C<E.rows.length;C++)E.rowWidth[C]>N&&(A=C,N=E.rowWidth[C]);return A},R.prototype.canAddHorizontal=function(E,A,N){if(E.idealRowWidth){var C=E.rows.length-1,S=E.rowWidth[C];return S+A+E.horizontalPadding<=E.idealRowWidth}var D=this.getShortestRowIndex(E);if(D<0)return!0;var P=E.rowWidth[D];if(P+E.horizontalPadding+A<=E.width)return!0;var U=0;E.rowHeight[D]<N&&D>0&&(U=N+E.verticalPadding-E.rowHeight[D]);var Y;E.width-P>=A+E.horizontalPadding?Y=(E.height+U)/(P+A+E.horizontalPadding):Y=(E.height+U)/E.width,U=N+E.verticalPadding;var H;return E.width<A?H=(E.height+U)/A:H=(E.height+U)/E.width,H<1&&(H=1/H),Y<1&&(Y=1/Y),Y<H},R.prototype.shiftToLastRow=function(E){var A=this.getLongestRowIndex(E),N=E.rowWidth.length-1,C=E.rows[A],S=C[C.length-1],D=S.width+E.horizontalPadding;if(E.width-E.rowWidth[N]>D&&A!=N){C.splice(-1,1),E.rows[N].push(S),E.rowWidth[A]=E.rowWidth[A]-D,E.rowWidth[N]=E.rowWidth[N]+D,E.width=E.rowWidth[instance.getLongestRowIndex(E)];for(var P=Number.MIN_VALUE,U=0;U<C.length;U++)C[U].height>P&&(P=C[U].height);A>0&&(P+=E.verticalPadding);var Y=E.rowHeight[A]+E.rowHeight[N];E.rowHeight[A]=P,E.rowHeight[N]<S.height+E.verticalPadding&&(E.rowHeight[N]=S.height+E.verticalPadding);var H=E.rowHeight[A]+E.rowHeight[N];E.height+=H-Y,this.shiftToLastRow(E)}},R.prototype.tilingPreLayout=function(){g.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},R.prototype.tilingPostLayout=function(){g.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},R.prototype.reduceTrees=function(){for(var E=[],A=!0,N;A;){var C=this.graphManager.getAllNodes(),S=[];A=!1;for(var D=0;D<C.length;D++)if(N=C[D],N.getEdges().length==1&&!N.getEdges()[0].isInterGraph&&N.getChild()==null){if(g.PURE_INCREMENTAL){var P=N.getEdges()[0].getOtherEnd(N),U=new w(N.getCenterX()-P.getCenterX(),N.getCenterY()-P.getCenterY());S.push([N,N.getEdges()[0],N.getOwner(),U])}else S.push([N,N.getEdges()[0],N.getOwner()]);A=!0}if(A==!0){for(var Y=[],H=0;H<S.length;H++)S[H][0].getEdges().length==1&&(Y.push(S[H]),S[H][0].getOwner().remove(S[H][0]));E.push(Y),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=E},R.prototype.growTree=function(E){for(var A=E.length,N=E[A-1],C,S=0;S<N.length;S++)C=N[S],this.findPlaceforPrunedNode(C),C[2].add(C[0]),C[2].add(C[1],C[1].source,C[1].target);E.splice(E.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},R.prototype.findPlaceforPrunedNode=function(E){var A,N,C=E[0];if(C==E[1].source?N=E[1].target:N=E[1].source,g.PURE_INCREMENTAL)C.setCenter(N.getCenterX()+E[3].getWidth(),N.getCenterY()+E[3].getHeight());else{var S=N.startX,D=N.finishX,P=N.startY,U=N.finishY,Y=0,H=0,ee=0,V=0,K=[Y,ee,H,V];if(P>0)for(var ae=S;ae<=D;ae++)K[0]+=this.grid[ae][P-1].length+this.grid[ae][P].length-1;if(D<this.grid.length-1)for(var ae=P;ae<=U;ae++)K[1]+=this.grid[D+1][ae].length+this.grid[D][ae].length-1;if(U<this.grid[0].length-1)for(var ae=S;ae<=D;ae++)K[2]+=this.grid[ae][U+1].length+this.grid[ae][U].length-1;if(S>0)for(var ae=P;ae<=U;ae++)K[3]+=this.grid[S-1][ae].length+this.grid[S][ae].length-1;for(var ie=x.MAX_VALUE,B,W,J=0;J<K.length;J++)K[J]<ie?(ie=K[J],B=1,W=J):K[J]==ie&&B++;if(B==3&&ie==0)K[0]==0&&K[1]==0&&K[2]==0?A=1:K[0]==0&&K[1]==0&&K[3]==0?A=0:K[0]==0&&K[2]==0&&K[3]==0?A=3:K[1]==0&&K[2]==0&&K[3]==0&&(A=2);else if(B==2&&ie==0){var G=Math.floor(Math.random()*2);K[0]==0&&K[1]==0?G==0?A=0:A=1:K[0]==0&&K[2]==0?G==0?A=0:A=2:K[0]==0&&K[3]==0?G==0?A=0:A=3:K[1]==0&&K[2]==0?G==0?A=1:A=2:K[1]==0&&K[3]==0?G==0?A=1:A=3:G==0?A=2:A=3}else if(B==4&&ie==0){var G=Math.floor(Math.random()*4);A=G}else A=W;A==0?C.setCenter(N.getCenterX(),N.getCenterY()-N.getHeight()/2-b.DEFAULT_EDGE_LENGTH-C.getHeight()/2):A==1?C.setCenter(N.getCenterX()+N.getWidth()/2+b.DEFAULT_EDGE_LENGTH+C.getWidth()/2,N.getCenterY()):A==2?C.setCenter(N.getCenterX(),N.getCenterY()+N.getHeight()/2+b.DEFAULT_EDGE_LENGTH+C.getHeight()/2):C.setCenter(N.getCenterX()-N.getWidth()/2-b.DEFAULT_EDGE_LENGTH-C.getWidth()/2,N.getCenterY())}},o.exports=R}),991:((o,u,c)=>{var l=c(551).FDLayoutNode,h=c(551).IMath;function d(p,g,m,b){l.call(this,p,g,m,b)}d.prototype=Object.create(l.prototype);for(var f in l)d[f]=l[f];d.prototype.calculateDisplacement=function(){var p=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=p.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=p.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=p.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=p.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>p.coolingFactor*p.maxNodeDisplacement&&(this.displacementX=p.coolingFactor*p.maxNodeDisplacement*h.sign(this.displacementX)),Math.abs(this.displacementY)>p.coolingFactor*p.maxNodeDisplacement&&(this.displacementY=p.coolingFactor*p.maxNodeDisplacement*h.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},d.prototype.propogateDisplacementToChildren=function(p,g){for(var m=this.getChild().getNodes(),b,v=0;v<m.length;v++)b=m[v],b.getChild()==null?(b.displacementX+=p,b.displacementY+=g):b.propogateDisplacementToChildren(p,g)},d.prototype.move=function(){var p=this.graphManager.getLayout();(this.child==null||this.child.getNodes().length==0)&&(this.moveBy(this.displacementX,this.displacementY),p.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},d.prototype.setPred1=function(p){this.pred1=p},d.prototype.getPred1=function(){return pred1},d.prototype.getPred2=function(){return pred2},d.prototype.setNext=function(p){this.next=p},d.prototype.getNext=function(){return next},d.prototype.setProcessed=function(p){this.processed=p},d.prototype.isProcessed=function(){return processed},o.exports=d}),902:((o,u,c)=>{function l(m){if(Array.isArray(m)){for(var b=0,v=Array(m.length);b<m.length;b++)v[b]=m[b];return v}else return Array.from(m)}var h=c(806),d=c(551).LinkedList,f=c(551).Matrix,p=c(551).SVD;function g(){}g.handleConstraints=function(m){var b={};b.fixedNodeConstraint=m.constraints.fixedNodeConstraint,b.alignmentConstraint=m.constraints.alignmentConstraint,b.relativePlacementConstraint=m.constraints.relativePlacementConstraint;for(var v=new Map,y=new Map,_=[],w=[],k=m.getAllNodes(),x=0,T=0;T<k.length;T++){var O=k[T];O.getChild()==null&&(y.set(O.id,x++),_.push(O.getCenterX()),w.push(O.getCenterY()),v.set(O.id,O))}b.relativePlacementConstraint&&b.relativePlacementConstraint.forEach(function(re){!re.gap&&re.gap!=0&&(re.left?re.gap=h.DEFAULT_EDGE_LENGTH+v.get(re.left).getWidth()/2+v.get(re.right).getWidth()/2:re.gap=h.DEFAULT_EDGE_LENGTH+v.get(re.top).getHeight()/2+v.get(re.bottom).getHeight()/2)});var I=function(le,Ee){return{x:le.x-Ee.x,y:le.y-Ee.y}},M=function(le){var Ee=0,xe=0;return le.forEach(function(ye){Ee+=_[y.get(ye)],xe+=w[y.get(ye)]}),{x:Ee/le.size,y:xe/le.size}},R=function(le,Ee,xe,ye,De){function je(q,ne){var Ce=new Set(q),fe=!0,j=!1,ue=void 0;try{for(var oe=ne[Symbol.iterator](),Se;!(fe=(Se=oe.next()).done);fe=!0){var Be=Se.value;Ce.add(Be)}}catch(Qe){j=!0,ue=Qe}finally{try{!fe&&oe.return&&oe.return()}finally{if(j)throw ue}}return Ce}var Ke=new Map;le.forEach(function(q,ne){Ke.set(ne,0)}),le.forEach(function(q,ne){q.forEach(function(Ce){Ke.set(Ce.id,Ke.get(Ce.id)+1)})});var we=new Map,be=new Map,qe=new d;Ke.forEach(function(q,ne){q==0?(qe.push(ne),xe||(Ee=="horizontal"?we.set(ne,y.has(ne)?_[y.get(ne)]:ye.get(ne)):we.set(ne,y.has(ne)?w[y.get(ne)]:ye.get(ne)))):we.set(ne,Number.NEGATIVE_INFINITY),xe&&be.set(ne,new Set([ne]))}),xe&&De.forEach(function(q){var ne=[];if(q.forEach(function(j){xe.has(j)&&ne.push(j)}),ne.length>0){var Ce=0;ne.forEach(function(j){Ee=="horizontal"?(we.set(j,y.has(j)?_[y.get(j)]:ye.get(j)),Ce+=we.get(j)):(we.set(j,y.has(j)?w[y.get(j)]:ye.get(j)),Ce+=we.get(j))}),Ce=Ce/ne.length,q.forEach(function(j){xe.has(j)||we.set(j,Ce)})}else{var fe=0;q.forEach(function(j){Ee=="horizontal"?fe+=y.has(j)?_[y.get(j)]:ye.get(j):fe+=y.has(j)?w[y.get(j)]:ye.get(j)}),fe=fe/q.length,q.forEach(function(j){we.set(j,fe)})}});for(var We=function(){var ne=qe.shift(),Ce=le.get(ne);Ce.forEach(function(fe){if(we.get(fe.id)<we.get(ne)+fe.gap)if(xe&&xe.has(fe.id)){var j=void 0;if(Ee=="horizontal"?j=y.has(fe.id)?_[y.get(fe.id)]:ye.get(fe.id):j=y.has(fe.id)?w[y.get(fe.id)]:ye.get(fe.id),we.set(fe.id,j),j<we.get(ne)+fe.gap){var ue=we.get(ne)+fe.gap-j;be.get(ne).forEach(function(oe){we.set(oe,we.get(oe)-ue)})}}else we.set(fe.id,we.get(ne)+fe.gap);Ke.set(fe.id,Ke.get(fe.id)-1),Ke.get(fe.id)==0&&qe.push(fe.id),xe&&be.set(fe.id,je(be.get(ne),be.get(fe.id)))})};qe.length!=0;)We();if(xe){var F=new Set;le.forEach(function(q,ne){q.length==0&&F.add(ne)});var X=[];be.forEach(function(q,ne){if(F.has(ne)){var Ce=!1,fe=!0,j=!1,ue=void 0;try{for(var oe=q[Symbol.iterator](),Se;!(fe=(Se=oe.next()).done);fe=!0){var Be=Se.value;xe.has(Be)&&(Ce=!0)}}catch(at){j=!0,ue=at}finally{try{!fe&&oe.return&&oe.return()}finally{if(j)throw ue}}if(!Ce){var Qe=!1,Lt=void 0;X.forEach(function(at,yn){at.has([].concat(l(q))[0])&&(Qe=!0,Lt=yn)}),Qe?q.forEach(function(at){X[Lt].add(at)}):X.push(new Set(q))}}}),X.forEach(function(q,ne){var Ce=Number.POSITIVE_INFINITY,fe=Number.POSITIVE_INFINITY,j=Number.NEGATIVE_INFINITY,ue=Number.NEGATIVE_INFINITY,oe=!0,Se=!1,Be=void 0;try{for(var Qe=q[Symbol.iterator](),Lt;!(oe=(Lt=Qe.next()).done);oe=!0){var at=Lt.value,yn=void 0;Ee=="horizontal"?yn=y.has(at)?_[y.get(at)]:ye.get(at):yn=y.has(at)?w[y.get(at)]:ye.get(at);var jn=we.get(at);yn<Ce&&(Ce=yn),yn>j&&(j=yn),jn<fe&&(fe=jn),jn>ue&&(ue=jn)}}catch($){Se=!0,Be=$}finally{try{!oe&&Qe.return&&Qe.return()}finally{if(Se)throw Be}}var Rn=(Ce+j)/2-(fe+ue)/2,gr=!0,Tr=!1,mr=void 0;try{for(var On=q[Symbol.iterator](),Gi;!(gr=(Gi=On.next()).done);gr=!0){var ve=Gi.value;we.set(ve,we.get(ve)+Rn)}}catch($){Tr=!0,mr=$}finally{try{!gr&&On.return&&On.return()}finally{if(Tr)throw mr}}})}return we},L=function(le){var Ee=0,xe=0,ye=0,De=0;if(le.forEach(function(be){be.left?_[y.get(be.left)]-_[y.get(be.right)]>=0?Ee++:xe++:w[y.get(be.top)]-w[y.get(be.bottom)]>=0?ye++:De++}),Ee>xe&&ye>De)for(var je=0;je<y.size;je++)_[je]=-1*_[je],w[je]=-1*w[je];else if(Ee>xe)for(var Ke=0;Ke<y.size;Ke++)_[Ke]=-1*_[Ke];else if(ye>De)for(var we=0;we<y.size;we++)w[we]=-1*w[we]},E=function(le){var Ee=[],xe=new d,ye=new Set,De=0;return le.forEach(function(je,Ke){if(!ye.has(Ke)){Ee[De]=[];var we=Ke;for(xe.push(we),ye.add(we),Ee[De].push(we);xe.length!=0;){we=xe.shift();var be=le.get(we);be.forEach(function(qe){ye.has(qe.id)||(xe.push(qe.id),ye.add(qe.id),Ee[De].push(qe.id))})}De++}}),Ee},A=function(le){var Ee=new Map;return le.forEach(function(xe,ye){Ee.set(ye,[])}),le.forEach(function(xe,ye){xe.forEach(function(De){Ee.get(ye).push(De),Ee.get(De.id).push({id:ye,gap:De.gap,direction:De.direction})})}),Ee},N=function(le){var Ee=new Map;return le.forEach(function(xe,ye){Ee.set(ye,[])}),le.forEach(function(xe,ye){xe.forEach(function(De){Ee.get(De.id).push({id:ye,gap:De.gap,direction:De.direction})})}),Ee},C=[],S=[],D=!1,P=!1,U=new Set,Y=new Map,H=new Map,ee=[];if(b.fixedNodeConstraint&&b.fixedNodeConstraint.forEach(function(re){U.add(re.nodeId)}),b.relativePlacementConstraint&&(b.relativePlacementConstraint.forEach(function(re){re.left?(Y.has(re.left)?Y.get(re.left).push({id:re.right,gap:re.gap,direction:"horizontal"}):Y.set(re.left,[{id:re.right,gap:re.gap,direction:"horizontal"}]),Y.has(re.right)||Y.set(re.right,[])):(Y.has(re.top)?Y.get(re.top).push({id:re.bottom,gap:re.gap,direction:"vertical"}):Y.set(re.top,[{id:re.bottom,gap:re.gap,direction:"vertical"}]),Y.has(re.bottom)||Y.set(re.bottom,[]))}),H=A(Y),ee=E(H)),h.TRANSFORM_ON_CONSTRAINT_HANDLING){if(b.fixedNodeConstraint&&b.fixedNodeConstraint.length>1)b.fixedNodeConstraint.forEach(function(re,le){C[le]=[re.position.x,re.position.y],S[le]=[_[y.get(re.nodeId)],w[y.get(re.nodeId)]]}),D=!0;else if(b.alignmentConstraint)(function(){var re=0;if(b.alignmentConstraint.vertical){for(var le=b.alignmentConstraint.vertical,Ee=function(we){var be=new Set;le[we].forEach(function(F){be.add(F)});var qe=new Set([].concat(l(be)).filter(function(F){return U.has(F)})),We=void 0;qe.size>0?We=_[y.get(qe.values().next().value)]:We=M(be).x,le[we].forEach(function(F){C[re]=[We,w[y.get(F)]],S[re]=[_[y.get(F)],w[y.get(F)]],re++})},xe=0;xe<le.length;xe++)Ee(xe);D=!0}if(b.alignmentConstraint.horizontal){for(var ye=b.alignmentConstraint.horizontal,De=function(we){var be=new Set;ye[we].forEach(function(F){be.add(F)});var qe=new Set([].concat(l(be)).filter(function(F){return U.has(F)})),We=void 0;qe.size>0?We=_[y.get(qe.values().next().value)]:We=M(be).y,ye[we].forEach(function(F){C[re]=[_[y.get(F)],We],S[re]=[_[y.get(F)],w[y.get(F)]],re++})},je=0;je<ye.length;je++)De(je);D=!0}b.relativePlacementConstraint&&(P=!0)})();else if(b.relativePlacementConstraint){for(var V=0,K=0,ae=0;ae<ee.length;ae++)ee[ae].length>V&&(V=ee[ae].length,K=ae);if(V<H.size/2)L(b.relativePlacementConstraint),D=!1,P=!1;else{var ie=new Map,B=new Map,W=[];ee[K].forEach(function(re){Y.get(re).forEach(function(le){le.direction=="horizontal"?(ie.has(re)?ie.get(re).push(le):ie.set(re,[le]),ie.has(le.id)||ie.set(le.id,[]),W.push({left:re,right:le.id})):(B.has(re)?B.get(re).push(le):B.set(re,[le]),B.has(le.id)||B.set(le.id,[]),W.push({top:re,bottom:le.id}))})}),L(W),P=!1;var J=R(ie,"horizontal"),G=R(B,"vertical");ee[K].forEach(function(re,le){S[le]=[_[y.get(re)],w[y.get(re)]],C[le]=[],J.has(re)?C[le][0]=J.get(re):C[le][0]=_[y.get(re)],G.has(re)?C[le][1]=G.get(re):C[le][1]=w[y.get(re)]}),D=!0}}if(D){for(var ge=void 0,Q=f.transpose(C),Ue=f.transpose(S),ce=0;ce<Q.length;ce++)Q[ce]=f.multGamma(Q[ce]),Ue[ce]=f.multGamma(Ue[ce]);var mt=f.multMat(Q,f.transpose(Ue)),ft=p.svd(mt);ge=f.multMat(ft.V,f.transpose(ft.U));for(var Ve=0;Ve<y.size;Ve++){var qt=[_[Ve],w[Ve]],Cn=[ge[0][0],ge[1][0]],Yr=[ge[0][1],ge[1][1]];_[Ve]=f.dotProduct(qt,Cn),w[Ve]=f.dotProduct(qt,Yr)}P&&L(b.relativePlacementConstraint)}}if(h.ENFORCE_CONSTRAINTS){if(b.fixedNodeConstraint&&b.fixedNodeConstraint.length>0){var It={x:0,y:0};b.fixedNodeConstraint.forEach(function(re,le){var Ee={x:_[y.get(re.nodeId)],y:w[y.get(re.nodeId)]},xe=re.position,ye=I(xe,Ee);It.x+=ye.x,It.y+=ye.y}),It.x/=b.fixedNodeConstraint.length,It.y/=b.fixedNodeConstraint.length,_.forEach(function(re,le){_[le]+=It.x}),w.forEach(function(re,le){w[le]+=It.y}),b.fixedNodeConstraint.forEach(function(re){_[y.get(re.nodeId)]=re.position.x,w[y.get(re.nodeId)]=re.position.y})}if(b.alignmentConstraint){if(b.alignmentConstraint.vertical)for(var Xt=b.alignmentConstraint.vertical,Tt=function(le){var Ee=new Set;Xt[le].forEach(function(De){Ee.add(De)});var xe=new Set([].concat(l(Ee)).filter(function(De){return U.has(De)})),ye=void 0;xe.size>0?ye=_[y.get(xe.values().next().value)]:ye=M(Ee).x,Ee.forEach(function(De){U.has(De)||(_[y.get(De)]=ye)})},_t=0;_t<Xt.length;_t++)Tt(_t);if(b.alignmentConstraint.horizontal)for(var kt=b.alignmentConstraint.horizontal,pr=function(le){var Ee=new Set;kt[le].forEach(function(De){Ee.add(De)});var xe=new Set([].concat(l(Ee)).filter(function(De){return U.has(De)})),ye=void 0;xe.size>0?ye=w[y.get(xe.values().next().value)]:ye=M(Ee).y,Ee.forEach(function(De){U.has(De)||(w[y.get(De)]=ye)})},rn=0;rn<kt.length;rn++)pr(rn)}b.relativePlacementConstraint&&(function(){var re=new Map,le=new Map,Ee=new Map,xe=new Map,ye=new Map,De=new Map,je=new Set,Ke=new Set;if(U.forEach(function(Te){je.add(Te),Ke.add(Te)}),b.alignmentConstraint){if(b.alignmentConstraint.vertical)for(var we=b.alignmentConstraint.vertical,be=function(pe){Ee.set("dummy"+pe,[]),we[pe].forEach(function(Oe){re.set(Oe,"dummy"+pe),Ee.get("dummy"+pe).push(Oe),U.has(Oe)&&je.add("dummy"+pe)}),ye.set("dummy"+pe,_[y.get(we[pe][0])])},qe=0;qe<we.length;qe++)be(qe);if(b.alignmentConstraint.horizontal)for(var We=b.alignmentConstraint.horizontal,F=function(pe){xe.set("dummy"+pe,[]),We[pe].forEach(function(Oe){le.set(Oe,"dummy"+pe),xe.get("dummy"+pe).push(Oe),U.has(Oe)&&Ke.add("dummy"+pe)}),De.set("dummy"+pe,w[y.get(We[pe][0])])},X=0;X<We.length;X++)F(X)}var q=new Map,ne=new Map,Ce=function(pe){Y.get(pe).forEach(function(Oe){var Pt=void 0,Rt=void 0;Oe.direction=="horizontal"?(Pt=re.get(pe)?re.get(pe):pe,re.get(Oe.id)?Rt={id:re.get(Oe.id),gap:Oe.gap,direction:Oe.direction}:Rt=Oe,q.has(Pt)?q.get(Pt).push(Rt):q.set(Pt,[Rt]),q.has(Rt.id)||q.set(Rt.id,[])):(Pt=le.get(pe)?le.get(pe):pe,le.get(Oe.id)?Rt={id:le.get(Oe.id),gap:Oe.gap,direction:Oe.direction}:Rt=Oe,ne.has(Pt)?ne.get(Pt).push(Rt):ne.set(Pt,[Rt]),ne.has(Rt.id)||ne.set(Rt.id,[]))})},fe=!0,j=!1,ue=void 0;try{for(var oe=Y.keys()[Symbol.iterator](),Se;!(fe=(Se=oe.next()).done);fe=!0){var Be=Se.value;Ce(Be)}}catch(Te){j=!0,ue=Te}finally{try{!fe&&oe.return&&oe.return()}finally{if(j)throw ue}}var Qe=A(q),Lt=A(ne),at=E(Qe),yn=E(Lt),jn=N(q),Rn=N(ne),gr=[],Tr=[];at.forEach(function(Te,pe){gr[pe]=[],Te.forEach(function(Oe){jn.get(Oe).length==0&&gr[pe].push(Oe)})}),yn.forEach(function(Te,pe){Tr[pe]=[],Te.forEach(function(Oe){Rn.get(Oe).length==0&&Tr[pe].push(Oe)})});var mr=R(q,"horizontal",je,ye,gr),On=R(ne,"vertical",Ke,De,Tr),Gi=function(pe){Ee.get(pe)?Ee.get(pe).forEach(function(Oe){_[y.get(Oe)]=mr.get(pe)}):_[y.get(pe)]=mr.get(pe)},ve=!0,$=!1,te=void 0;try{for(var me=mr.keys()[Symbol.iterator](),tt;!(ve=(tt=me.next()).done);ve=!0){var Nt=tt.value;Gi(Nt)}}catch(Te){$=!0,te=Te}finally{try{!ve&&me.return&&me.return()}finally{if($)throw te}}var yt=function(pe){xe.get(pe)?xe.get(pe).forEach(function(Oe){w[y.get(Oe)]=On.get(pe)}):w[y.get(pe)]=On.get(pe)},Dt=!0,an=!1,kr=void 0;try{for(var se=On.keys()[Symbol.iterator](),he;!(Dt=(he=se.next()).done);Dt=!0){var Nt=he.value;yt(Nt)}}catch(Te){an=!0,kr=Te}finally{try{!Dt&&se.return&&se.return()}finally{if(an)throw kr}}})()}for(var zn=0;zn<k.length;zn++){var sn=k[zn];sn.getChild()==null&&sn.setCenter(_[y.get(sn.id)],w[y.get(sn.id)])}},o.exports=g}),551:(o=>{o.exports=n})},i={};function s(o){var u=i[o];if(u!==void 0)return u.exports;var c=i[o]={exports:{}};return r[o](c,c.exports,s),c.exports}var a=s(45);return a})()})})(gh)),gh.exports}export{Us as $,fK as A,OK as B,LV as C,CK as D,r3 as E,S3 as F,gK as G,bK as H,pK as I,mK as J,vT as K,vK as L,Ha as M,mT as N,In as O,yK as P,IK as Q,Nn as R,Yf as S,$s as T,pT as U,U3 as V,GK as W,oo as X,fT as Y,LK as Z,MK as _,YC as a,vZ as a$,NK as a0,xT as a1,F3 as a2,kK as a3,s0 as a4,SK as a5,rv as a6,TK as a7,V3 as a8,$K as a9,PP as aA,HT as aB,PK as aC,dT as aD,d6 as aE,qZ as aF,ZK as aG,jK as aH,KK as aI,VK as aJ,XK as aK,w6 as aL,QK as aM,rZ as aN,CZ as aO,RZ as aP,SZ as aQ,NZ as aR,kZ as aS,TZ as aT,AZ as aU,cB as aV,EZ as aW,wZ as aX,xZ as aY,yZ as aZ,_Z as a_,BK as aa,cK as ab,hK as ac,DK as ad,ts as ae,wK as af,N3 as ag,xK as ah,EK as ai,AK as aj,yT as ak,Nb as al,bT as am,ev as an,a3 as ao,lK as ap,i0 as aq,s3 as ar,X3 as as,Qi as at,_K as au,u0 as av,a0 as aw,FK as ax,GP as ay,FP as az,PV as b,rj as b$,bZ as b0,dZ as b1,fZ as b2,mZ as b3,gZ as b4,pZ as b5,OZ as b6,zZ as b7,lt as b8,LZ as b9,nZ as bA,u2 as bB,Zb as bC,kd as bD,z9 as bE,G9 as bF,Va as bG,B9 as bH,U9 as bI,ef as bJ,Nc as bK,Vb as bL,Xb as bM,wa as bN,Jh as bO,tZ as bP,cZ as bQ,e2 as bR,hZ as bS,T9 as bT,QZ as bU,nj as bV,pV as bW,tj as bX,ej as bY,JZ as bZ,uZ as b_,PZ as ba,DZ as bb,MZ as bc,IZ as bd,HZ as be,lZ as bf,M_ as bg,WZ as bh,YZ as bi,bi as bj,VZ as bk,XZ as bl,qK as bm,zz as bn,Qq as bo,jq as bp,jZ as bq,sV as br,Gx as bs,nV as bt,tV as bu,oZ as bv,eZ as bw,JK as bx,L9 as by,iZ as bz,YV as c,jk as c0,Jk as c1,aZ as c2,KZ as c3,ij as c4,HK as c5,Br as c6,WK as c7,zK as c8,ze as c9,UV as d,GV as e,qV as f,$V as g,DV as h,zV as i,FV as j,XV as k,HV as l,vC as m,VV as n,WC as o,BV as p,uK as q,Hu as r,WV as s,Ps as t,ct as u,dK as v,hd as w,UK as x,RK as y,t3 as z};
